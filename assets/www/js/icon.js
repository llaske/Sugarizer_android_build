/*! Sugarizer 2018-05-08 */
var iconColorCache={names:[],values:[]};enyo.kind({name:"Sugar.Icon",kind:enyo.Control,published:{icon:null,size:constant.iconSizeStandard,x:-1,y:-1,colorized:!1,colorizedColor:null,disabled:!1,disabledBackground:"white",popupShow:null,popupHide:null,isNative:!1,data:null},classes:"web-activity",components:[{name:"icon",classes:"web-activity-icon",onmouseover:"popupShowTimer",onmouseout:"popupHideTimer"},{name:"disable",classes:"web-activity-disable",showing:!1}],create:function(){this.inherited(arguments),this.iconChanged(),this.sizeChanged(),this.colorizedColorChanged(),this.colorizedChanged(),this.isNativeChanged(),this.disabledBackgroundChanged(),this.disabledChanged(),this.xChanged(),this.yChanged(),this.timer=null,this.emulateMouseOver=!1},popupShowTimer:function(){null!=this.popupShow&&(null!=this.timer&&window.clearInterval(this.timer),this.timer=window.setInterval(enyo.bind(this,"showPopup"),constant.timerPopupDuration))},showPopup:function(a,b){this.popupShow(this),window.clearInterval(this.timer),this.timer=null},popupHideTimer:function(a,b){null!=this.popupHide&&(null!=this.timer&&window.clearInterval(this.timer),this.timer=window.setInterval(enyo.bind(this,"hidePopup"),constant.timerPopupDuration))},hidePopup:function(){this.popupHide(this)&&(window.clearInterval(this.timer),this.timer=null)},rendered:function(){this.inherited(arguments);var a=this.$.icon.hasNode();if(a&&enyo.platform.touch){var b=this;(enyo.platform.ios||enyo.platform.androidChrome)&&(enyo.dispatcher.listen(a,"touchstart",function(a){mouse.position={x:a.touches[0].clientX,y:a.touches[0].clientY},b.popupShowTimer()}),enyo.dispatcher.listen(a,"touchend",function(a){b.popupHideTimer()}))}if(this.colorized&&!this.icon.isNative){var c,d=this.colorizedColor,e=this.icon.directory+"/"+this.icon.icon;if(a.style.backgroundImage="url('"+e+"')",null==d){d=preferences.getColor(),c=e+"_"+d.stroke+"_"+d.fill;for(var f=0;f<iconColorCache.names.length;f++)if(iconColorCache.names[f]==c)return void(a.style.backgroundImage=iconColorCache.values[f])}else c=e+"_"+d.stroke+"_"+d.fill;iconLib.colorize(a,d,function(){iconColorCache.names.push(c),iconColorCache.values.push(a.style.backgroundImage)})}},cursorIsInside:function(){return util.cursorIsInside(this)},xChanged:function(){this.x!=-1&&this.applyStyle("margin-left",this.x+"px")},yChanged:function(){this.y!=-1&&(this.applyStyle("margin-top",this.y+"px"),this.$.disable.applyStyle("margin-top",-this.size+"px"))},sizeChanged:function(){this.$.icon.applyStyle("width",this.size+"px"),this.$.icon.applyStyle("height",this.size+"px"),this.$.icon.applyStyle("background-size",this.size+"px "+this.size+"px"),this.$.disable.applyStyle("width",this.size+"px"),this.$.disable.applyStyle("height",this.size+"px"),this.$.disable.applyStyle("background-size",this.size+"px "+this.size+"px")},iconChanged:function(){null!=this.icon?null!=this.icon.isNative?this.$.icon.applyStyle("background-image","url('"+this.icon.icon+"');"):this.$.icon.applyStyle("background-image","url('"+this.icon.directory+"/"+this.icon.icon+"')"):this.$.icon.applyStyle("background-image",null)},colorizedColorChanged:function(){this.render()},colorizedChanged:function(){this.render()},isNativeChanged:function(){this.render()},disabledBackgroundChanged:function(){this.$.disable.applyStyle("background-color",this.disabledBackground)},disabledChanged:function(){this.$.disable.setShowing(this.disabled),this.$.disable.applyStyle("margin-top",-this.size+"px")},colorize:function(a){var b=this.hasNode();b&&b.style.backgroundImage&&iconLib.colorize(b,a,function(){})}});