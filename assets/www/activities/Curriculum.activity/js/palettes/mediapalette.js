define(["sugar-web/graphics/palette","text!activity/palettes/mediapalette.html"],(function(e,t){var n={MediaPalette:function(n,a){e.Palette.call(this,n,a);var i=document.createElement("div");i.innerHTML=t,this.setContent([i]),this.uploadItemEvent=document.createEvent("CustomEvent"),this.uploadItemEvent.initCustomEvent("upload-item",!0,!0,{mediaType:""});var d=this;function onClick(e){d.uploadItemEvent.mediaType=e.currentTarget.getAttribute("media-type"),d.getPalette().dispatchEvent(d.uploadItemEvent),d.popDown()}document.getElementById("image-upload").addEventListener("click",onClick),document.getElementById("audio-upload").addEventListener("click",onClick),document.getElementById("video-upload").addEventListener("click",onClick)}};return n.MediaPalette.prototype=Object.create(e.Palette.prototype,{addEventListener:{value:function(e,t,n){return this.getPalette().addEventListener(e,t,n)},enumerable:!0,configurable:!0,writable:!0}}),n}));