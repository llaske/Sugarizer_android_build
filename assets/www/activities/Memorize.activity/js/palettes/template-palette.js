define(["sugar-web/graphics/palette"],(function(t){"use strict";var e={TemplatePalette:function(e,n,a){t.Palette.call(this,e,n),this.sharedEvent=document.createEvent("CustomEvent"),this.sharedEvent.initCustomEvent("template",!0,!0,{}),this.buttons=[];for(var i=document.createElement("div"),o=0;o<a.length;o++){var s=a[o];(l=document.createElement("div")).value=s,l.onmouseover=function(){this.style.background="#ccc"},l.onmouseout=function(){this.style.background="#000"},l.style.borderRadius="0",l.style.width="100%",0!=o&&(l.style.marginTop="3px"),l.innerHTML="<img style='vertical-align: middle; margin-right:3px;' src='icons/"+s.icon+"'>"+s.name,i.appendChild(l),this.buttons.push(l)}this.setContent([i]);var r=this;function popDownOnButtonClick(t){console.log(t),r.popDown()}r.getPalette().firstChild.style.backgroundColor="transparent",r.getPalette().firstChild.style.backgroundImage="";for(o=0;o<this.buttons.length;o++){var l;!function(t,e){t.addEventListener("click",(function(){r.sharedEvent.detail.value=e,r.getPalette().dispatchEvent(r.sharedEvent),r.popDown()}))}(l=this.buttons[o],s=a[o]),l.addEventListener("template",popDownOnButtonClick)}}};return e.TemplatePalette.prototype=Object.create(t.Palette.prototype,{addEventListener:{value:function(t,e,n){return this.getPalette().addEventListener(t,e,n)},enumerable:!0,configurable:!0,writable:!0}}),e}));