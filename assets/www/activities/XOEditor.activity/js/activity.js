function runactivity(e,t,n,i,o,c,a){var d,u,r;!function init(){(d=document.getElementById("actualcanvas")).width=window.innerWidth,d.height=window.innerHeight-55,(u=new createjs.Stage(d)).update(),u.mouseEventsEnabled=!0,createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",(function handleTick(){u.update()})),window.addEventListener("resize",(function resizeCanvas(){d.width=window.innerWidth,d.height=window.innerHeight-55,u.update(),location.reload()}),!1),r=new Editor(u,t,n,i,e,o,c),setTimeout((function(){r.init()}),500),n.getElementById("save-button").addEventListener("click",(function(e){r.saveColours()})),n.getElementById("reset-button").addEventListener("click",(function(a){u.removeAllChildren(),(r=new Editor(u,t,n,i,e,o,c,!0)).init()})),document.getElementById("stop-button").addEventListener("click",(function(e){r.stop()})),document.getElementById("fullscreen-button").addEventListener("click",(function(){document.getElementById("main-toolbar").style.opacity=0,document.getElementById("canvas").style.top="0px",d.height=window.innerHeight,(u=new createjs.Stage(d)).update(),r.stop(),(r=new Editor(u,t,n,i,e,o,c)).init(),document.getElementById("unfullscreen-button").style.visibility="visible"})),document.getElementById("unfullscreen-button").addEventListener("click",(function(){document.getElementById("main-toolbar").style.opacity=1,document.getElementById("canvas").style.top="55px",d.height=window.innerHeight,(u=new createjs.Stage(d)).update(),(r=new Editor(u,t,n,i,e,o,c)).init(),document.getElementById("unfullscreen-button").style.visibility="hidden"})),document.getElementById("help-button").addEventListener("click",(function(e){a.start()}))}()}define(["sugar-web/activity/activity","easeljs","tweenjs","activity/editor","activity/colourcircle","activity/xoman"],(function(e){requirejs(["domReady!"],(function(t){requirejs(["sugar-web/graphics/xocolor","sugar-web/env","sugar-web/datastore","tutorial","webL10n"],(function(n,i,o,c,a){e.setup(),i.getEnvironment((function(e,t){currentenv=t;var n="undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime?chrome.i18n.getUILanguage():navigator.language,i=t.user?t.user.language:n;a.language.code=i})),e.getXOColor((function(a,d){runactivity(e,n,t,d,i,o,c)}))}))}))}));