/*! Sugarizer 2020-03-14 */
function runactivity(a,b,c,d,e,f,g){function h(){function h(){j.update()}function l(){i.width=window.innerWidth,i.height=window.innerHeight-55,j.update(),location.reload()}i=document.getElementById("actualcanvas"),i.width=window.innerWidth,i.height=window.innerHeight-55,j=new createjs.Stage(i),j.update(),j.mouseEventsEnabled=!0,createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",h),window.addEventListener("resize",l,!1),k=new Editor(j,b,c,d,a,e,f),setTimeout(function(){k.init()},500),c.getElementById("save-button").addEventListener("click",function(a){k.saveColours()}),c.getElementById("reset-button").addEventListener("click",function(g){j.removeAllChildren(),k=new Editor(j,b,c,d,a,e,f,!0),k.init()}),document.getElementById("stop-button").addEventListener("click",function(a){k.stop()}),document.getElementById("fullscreen-button").addEventListener("click",function(){document.getElementById("main-toolbar").style.opacity=0,document.getElementById("canvas").style.top="0px",i.height=window.innerHeight,j=new createjs.Stage(i),j.update(),k.stop(),k=new Editor(j,b,c,d,a,e,f),k.init(),document.getElementById("unfullscreen-button").style.visibility="visible"}),document.getElementById("unfullscreen-button").addEventListener("click",function(){document.getElementById("main-toolbar").style.opacity=1,document.getElementById("canvas").style.top="55px",i.height=window.innerHeight,j=new createjs.Stage(i),j.update(),k=new Editor(j,b,c,d,a,e,f),k.init(),document.getElementById("unfullscreen-button").style.visibility="hidden"}),document.getElementById("help-button").addEventListener("click",function(a){g.start()})}var i,j,k;h()}define(["sugar-web/activity/activity","easeljs","tweenjs","activity/editor","activity/colourcircle","activity/xoman"],function(a){requirejs(["domReady!"],function(b){requirejs(["sugar-web/graphics/xocolor","sugar-web/env","sugar-web/datastore","tutorial","webL10n"],function(c,d,e,f,g){a.setup(),d.getEnvironment(function(a,b){currentenv=b;var c="undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime?chrome.i18n.getUILanguage():navigator.language,d=b.user?b.user.language:c;g.language.code=d}),a.getXOColor(function(g,h){runactivity(a,c,b,h,d,e,f)})})})});