define(["sugar-web/graphics/palette","mustache"],(function(t,e){var o={zoomPalette:function(o,n){t.Palette.call(this,o,n),this.getPalette().id="zoompalette",this.zoomEvent=document.createEvent("CustomEvent"),this.zoomEvent.initCustomEvent("zoom",!0,!0,{zoom:3}),this.popEvent=document.createEvent("CustomEvent"),this.popEvent.initCustomEvent("pop",!0,!0,{}),this.template='{{#rows}}{{#.}}<button class="toolbutton zoombuttons" style="height:55px; width:55px; background-image: url({{ icon }}); "></button></td>{{/.}}{{/rows}}';var i=document.createElement("div");i.innerHTML=e.render(this.template,{rows:[[{icon:"icons/zoom-out.svg"},{icon:"icons/zoom-in.svg"},{icon:"icons/zoom-to-width.svg"},{icon:"icons/zoom-original.svg"}]]}),this.setContent([i]);var s=i.querySelectorAll("button"),a=this;o.addEventListener("click",(function(t){a.getPalette().dispatchEvent(a.popEvent)}));for(var c=0;c<s.length;c++)s[c].addEventListener("click",(function(t){for(var e=0;e<s.length&&this!=s[e];e++);a.zoomEvent.detail.zoom=e,a.getPalette().dispatchEvent(a.zoomEvent),a.popDown()}));!function popDownOnButtonClick(t){a.popDown()}(s[0])}};return o.zoomPalette.prototype=Object.create(t.Palette.prototype,{addEventListener:{value:function(t,e,o){return this.getPalette().addEventListener(t,e,o)},enumerable:!0,configurable:!0,writable:!0}}),o}));