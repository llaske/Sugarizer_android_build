/*! Sugarizer 2020-03-14 */
define(["sugar-web/graphics/palette"],function(a){"use strict";var b={};b.PresencePalette=function(b,c,d){function e(a){k.popDown()}a.Palette.call(this,b,c),this.sharedEvent=document.createEvent("CustomEvent"),this.sharedEvent.initCustomEvent("shared",!0,!0,{});var f=document.createElement("div"),g=document.createElement("span");g.innerHTML="Private",g.className="network-text";var h=document.createElement("hr"),i=document.createElement("button");i.className="toolbutton",i.setAttribute("id","private-button"),i.onclick=function(){k.setShared(!1)};var j=document.createElement("button");j.className="toolbutton",j.setAttribute("id","shared-button"),j.onclick=function(){k.setShared(!0)},this.setShared=function(a){a?(g.innerHTML="My neighborhood",i.disabled=!0,j.disabled=!0,b.style.backgroundImage="url(lib/sugar-web/graphics/icons/actions/zoom-neighborhood.svg)",k.getPalette().childNodes[0].style.backgroundImage="url(lib/sugar-web/graphics/icons/actions/zoom-neighborhood.svg)",k.getPalette().dispatchEvent(k.sharedEvent)):(g.innerHTML="Private",i.disabled=!1,j.disabled=!1)},f.appendChild(g),f.appendChild(h),f.appendChild(i),f.appendChild(j),this.setContent([f]),this.buttons=f.querySelectorAll("button");for(var k=this,l=0;l<this.buttons.length;l++)"shared-button"==this.buttons[l].id&&this.buttons[l].addEventListener("shared",e)};var c=function(a,b,c){return this.getPalette().addEventListener(a,b,c)};return b.PresencePalette.prototype=Object.create(a.Palette.prototype,{addEventListener:{value:c,enumerable:!0,configurable:!0,writable:!0}}),b.PresencePalette.prototype.setShared=function(a){this.setShared(a)},b});