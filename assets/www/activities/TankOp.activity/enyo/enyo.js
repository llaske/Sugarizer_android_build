/*! Sugarizer 2020-03-14 */
!function(){var a="enyo.js";enyo=window.enyo||{options:{}},enyo.locateScript=function(a){for(var b,c,d=document.getElementsByTagName("script"),e=d.length-1,f=a.length;e>=0&&(b=d[e]);e--)if(!b.located&&(c=b.getAttribute("src")||"",c.slice(-f)==a))return b.located=!0,{path:c.slice(0,Math.max(0,c.lastIndexOf("/"))),node:b}},enyo.args=enyo.args||{};var b=enyo.locateScript(a);if(b){enyo.args.root=(enyo.args.root||b.path).replace("/source","");for(var c,d=0,e=b.node.attributes.length;e>d&&(c=b.node.attributes.item(d));d++)enyo.args[c.nodeName]=c.value}}(),enyo.version={enyo:"2.4.0"},function(a,b){var c,d,e,f,g,h=a.document,i=[],j="complete"===h.readyState,k=!1;b.ready=function(a,b){i.push([a,b]),j&&!k&&(setTimeout(g,0),k=!0)},c=function(a,c){a.call(c||b.global)},d=function(a){(j="interactive"===h.readyState)&&"DOMContentLoaded"!==a.type&&"readystatechange"!==a.type&&(e(a.type,d),g()),(j="complete"===h.readyState||"loaded"===h.readyState)&&(e(a.type,d),g())},f=function(a,b){var c=h.addEventListener?"addEventListener":"attachEvent",d="attachEvent"===c?"on":"";h[c](d+a,b,!1)},e=function(a,b){var c=h.addEventListener?"removeEventListener":"detachEvent",d="detachEvent"===c?"on":"";h[c](d+a,b,!1)},g=function(){if(j&&i.length)for(;i.length;)c.apply(a,i.shift());k=!1},f("DOMContentLoaded",d),f("readystatechange",d)}(window,enyo),function(a){var b=[],c=function(c){for(var d,e=0;d=b[e];e++)d[0].apply(d[1]||a.global,[c])};a.rendered=function(a,c){b.push([a,c])},a.addToRoots=function(b){a.exists(a.roots)?a.roots.push(b):a.roots=[b];var d=b.rendered;b.rendered=function(){d.apply(b,[]),c(b)},b._isRoot=!0}}(enyo),function(){enyo=window.enyo||{options:{}},enyo.pathResolverFactory=function(){this.paths={},this.pathNames=[]},enyo.pathResolverFactory.prototype={addPath:function(a,b){return this.paths[a]=b,this.pathNames.push(a),this.pathNames.sort(function(a,b){return b.length-a.length}),b},addPaths:function(a){if(a)for(var b in a)this.addPath(b,a[b])},includeTrailingSlash:function(a){return a&&"/"!==a.slice(-1)?a+"/":a},rewrite:function(a){var b,c=this.includeTrailingSlash,d=this.paths,e=function(a,e){return b=!0,c(d[e])||""},f=a;do{b=!1;for(var g=0;this.pathNames.length>g;g++){var h=RegExp("\\$("+this.pathNames[g]+")(\\/)?","g");f=f.replace(h,e)}}while(b);return f}},enyo.path=new enyo.pathResolverFactory,enyo.loaderFactory=function(a,b){this.machine=a,this.packages=[],this.modules=[],this.sheets=[],this.designs=[],this.stack=[],this.pathResolver=b||enyo.path,this.packageName="",this.packageFolder="",this.finishCallbacks={}},enyo.loaderFactory.prototype={verbose:!1,loadScript:function(a,b,c){this.machine.script(a,b,c)},loadSheet:function(a){this.machine.sheet(a)},loadPackage:function(a){this.machine.script(a)},report:function(){},load:function(){this.more({index:0,depends:arguments||[]})},more:function(a){if(!a||!this.continueBlock(a)){var b=this.stack.pop();b?(enyo.runtimeLoading&&a.failed&&(b.failed=b.failed||[],b.failed.push.apply(b.failed,a.failed)),this.verbose&&window.console.groupEnd("* finish package ("+(b.packageName||"anon")+")"),this.packageFolder=b.folder,this.packageName="",this.more(b)):this.finish(a)}},finish:function(a){this.packageFolder="",this.verbose&&window.console.log("-------------- fini");for(var b in this.finishCallbacks)if(this.finishCallbacks[b]){var c=this.finishCallbacks[b];this.finishCallbacks[b]=null,c(a)}},continueBlock:function(a){for(;a.index<a.depends.length;){var b=a.depends[a.index++];if(b)if("string"==typeof b){if(this.require(b,a))return!0}else this.pathResolver.addPaths(b)}},require:function(a,b){var c=this.pathResolver.rewrite(a),d=this.getPathPrefix(a);if(c=d+c,".css"==c.slice(-4).toLowerCase()||".less"==c.slice(-5).toLowerCase())this.verbose&&window.console.log("+ stylesheet: ["+d+"]["+a+"]"),this.requireStylesheet(c);else{if(".js"==c.slice(-3).toLowerCase()&&"package.js"!=c.slice(-10).toLowerCase())return this.verbose&&window.console.log("+ module: ["+d+"]["+a+"]"),this.requireScript(a,c,b);if(".design"!=c.slice(-7).toLowerCase())return this.requirePackage(c,b),!0;this.verbose&&window.console.log("+ design metadata: ["+d+"]["+a+"]"),this.requireDesign(c)}},getPathPrefix:function(a){var b=a.slice(0,1);return"/"==b||"\\"==b||"$"==b||/^https?:/i.test(a)?"":this.packageFolder},requireStylesheet:function(a){this.sheets.push(a),this.loadSheet(a)},requireScript:function(a,b,c){if(this.modules.push({packageName:this.packageName,rawPath:a,path:b}),enyo.runtimeLoading){var d=this,e=function(){d.more(c)},f=function(){c.failed=c.failed||[],c.failed.push(b),d.more(c)};this.loadScript(b,e,f)}else this.loadScript(b);return enyo.runtimeLoading},requireDesign:function(a){this.designs.push({packageName:this.packageName,path:a})},decodePackagePath:function(a){var b="",c="package.js";/^\/\//.test(a)&&(a=document.location.protocol+a);var d=a.replace(/\\/g,"/").replace(/\/\//g,"/").replace(/:\//,"://").split("/");if(d.length){var e=d.pop()||d.pop()||"";e.slice(-c.length)!==c?d.push(e):c=e,b=d.join("/"),b=b?b+"/":"",c=b+c}return{folder:b,manifest:c}},aliasPackage:function(a){var b=this.decodePackagePath(a);this.manifest=b.manifest},requirePackage:function(a,b){b.folder=this.packageFolder;var c=this.decodePackagePath(a);this.manifest=c.manifest,this.packageFolder=c.folder,b.packageName=this.packageName,this.stack.push(b),this.report("loading package",this.packageName),this.verbose&&window.console.group("* start package ["+this.packageName+"]"),this.loadPackage(this.manifest)}}}(),enyo.machine={sheet:function(a){var b="text/css",c="stylesheet",d=".less"==a.slice(-5);d&&(window.less?(b="text/less",c="stylesheet/less"):a=a.slice(0,a.length-4)+"css");var e;enyo.runtimeLoading||d?(e=document.createElement("link"),e.href=a,e.media="screen",e.rel=c,e.type=b,document.getElementsByTagName("head")[0].appendChild(e)):document.write('<link href="'+a+'" media="screen" rel="'+c+'" type="'+b+'" />'),d&&window.less&&(window.less.sheets.push(e),enyo.loader.finishCallbacks.lessRefresh||(enyo.loader.finishCallbacks.lessRefresh=function(){window.less.refresh(!0)}))},script:function(a,b,c){if(enyo.runtimeLoading){var d=document.createElement("script");d.src=a,d.onload=b,d.onerror=c,d.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(d)}else document.write('<script src="'+a+'"'+(b?' onload="'+b+'"':"")+(c?' onerror="'+c+'"':"")+"><\/script>")},inject:function(a){document.write('<script type="text/javascript">'+a+"<\/script>")}},enyo.loader=new enyo.loaderFactory(enyo.machine),enyo.depends=function(){var a=enyo.loader;if(!a.packageFolder){var b=enyo.locateScript("package.js");b&&b.path&&(a.aliasPackage(b.path),a.packageFolder=b.path+"/")}a.load.apply(a,arguments)},function(){function a(d){if(d&&d(),c.length){var e=c.shift(),f=e[0],g=b.isArray(f)?f:[f],h=e[1];b.loader.finishCallbacks.runtimeLoader=function(b){a(function(){h&&h(b)})},b.loader.packageFolder="./",b.depends.apply(this,g)}else b.runtimeLoading=!1,b.loader.packageFolder=""}var b=window.enyo,c=[],d=!1;b.ready(function(){d=!0}),b.load=function(e){if(d)c.push(arguments),b.runtimeLoading||(b.runtimeLoading=!0,a());else if(b.isArray(e))for(var f=0;e.length>f;++f)b.loader.require(e[f]);else b.loader.require(e)}}(),enyo.path.addPaths({enyo:enyo.args.root,lib:"$enyo/../lib"}),enyo.logging={level:99,levels:{log:20,warn:10,error:0},shouldLog:function(a){var b=parseInt(this.levels[a],0);return this.level>=b},validateArgs:function(a){for(var b,c=0,d=a.length;(b=a[c])||d>c;c++)try{"object"==typeof b&&(a[c]=enyo.json.stringify(b))}catch(b){a[c]="Error: "+b.message}},_log:function(a,b){var c=window.console;if(void 0!==c){var d=enyo.isArray(b)?b:enyo.cloneArray(b);enyo.platform.androidFirefox&&enyo.logging.validateArgs(d),enyo.dumbConsole&&(d=[d.join(" ")]);var e=c[a];e&&e.apply?e.apply(c,d):c.log.apply?c.log.apply(c,d):c.log(d.join(" "))}},log:function(a,b){void 0!==window.console&&this.shouldLog(a)&&this._log(a,b)}},enyo.setLogLevel=function(a){var b=parseInt(a,0);isFinite(b)&&(enyo.logging.level=b)},enyo.log=function(){enyo.logging.log("log",arguments)},enyo.warn=function(){enyo.logging.log("warn",arguments)},enyo.error=function(){enyo.logging.log("error",arguments)},function(){enyo.global=this;var a=0;enyo.exists=function(a){return void 0!==a};var b=enyo.exists;enyo.lastIndexOf=function(a,b,c){if(b.lastIndexOf)return b.lastIndexOf(a,c||b.length);var d,e="string"==typeof b,f=(e?b.split(""):b).reverse(),g=f.length-1,h=b.length;return e&&(f=f.join("")),d=enyo.indexOf(a,f,h-(c||h)),e||f.reverse(),-1===d?d:g-d};var c=enyo.lastIndexOf,d=function(a){return a&&"function"==typeof a&&(a._FinalCtor||a._finishKindCreation)};enyo.getPath=function(a){if(void 0===a||null===a)return a;var b=this===enyo?enyo.global:this,c="."==a[0]?a.replace(/^\.+/,""):a;if(!c)return b;for(var d,e,f,g=c.split("."),h=g.pop(),i=0;(f=g[i])&&(b&&(b._isObject?b=b._getters&&(e=b._getters[f])?b[e]():b.computed&&b.get&&null!=b.computed[f]?b[f]():b[f]:("function"==typeof b&&(b=enyo.checkConstructor(b)),b=b[f])),b);++i);return i==g.length?"function"==typeof(d=b[h])&&enyo.checkConstructor(d)||d:void 0},enyo.getPath.fast=function(a){var b,c,d=this;return"function"==typeof(c=d._getters&&(b=d._getters[a])?d[b]():d.get&&d.computed&&null!=d.computed[a]?d[a]():d[a])&&enyo.checkConstructor(c)||c},enyo.setPath=function(a,b,c){var e=this===enyo?enyo.global:this,f=e;if(!a)return e;var g="."==a[0]?a.replace(/^\.+/,""):a;if(!g)return e;for(var h,i,j,k,l=g.split("."),m=l.pop(),n=0;k=l[n];++n)("enyo"!=k||enyo!==e)&&((h=e[k])?"object"==typeof h?e=h:"function"==typeof h&&(e=e._isObject&&e.computed&&null!=e.computed[k]?e.get(k):d(h)?enyo.checkConstructor(h):h):e=e[k]={});return i=e&&e._isObject&&e._getters&&(j=e._getters[m])?e[j]():e[m],e[m]=b,(e.notifyObservers&&i!==b||c)&&e.notifyObservers(m,i,b),f},enyo.setPath.fast=function(a,b){var c,d,e=this;return e.computed&&null!=e.computed[a]?e:(c=e._getters&&(d=e._getters[a])?e[d]():e[a],e[a]=b,c!==b&&e.notifyObservers(a,c,b),e)},enyo.uid=function(b){return(b||"")+a+++""},enyo.irand=function(a){return Math.floor(Math.random()*a)},enyo.toUpperCase=function(a){return null!=a?(""+a).toUpperCase():a},enyo.toLowerCase=function(a){return null!=a?(""+a).toLowerCase():a},enyo.cap=function(a){return a.slice(0,1).toUpperCase()+a.slice(1)},enyo.uncap=function(a){return a.slice(0,1).toLowerCase()+a.slice(1)},enyo.format=function(a){var b=/\%./g,c=0,d=a,e=arguments,f=function(){return e[++c]};return d.replace(b,f)};var e=Object.prototype.toString;enyo.isString=function(a){return"[object String]"===e.call(a)},enyo.isFunction=function(a){return"[object Function]"===e.call(a)},enyo.isArray=Array.isArray||function(a){return"[object Array]"===e.call(a)},enyo.isObject=Object.isObject||function(a){return null!=a&&"[object Object]"===e.call(a)},enyo.isTrue=function(a){return!("false"===a||!1===a||0===a||null===a||void 0===a)},enyo.find=function(a,b,c){var d,e,f=enyo.isArray(a)&&a,g=c||enyo.global,h=b,i=0;if(f&&h&&enyo.isFunction(h))for(e=enyo.clone(f),d=f.length;d>i;++i)if(h.call(g,f[i],i,e))return i;return!1},enyo.indexOf=function(a,b,c){if(b.indexOf)return b.indexOf(a,c);if(c&&(0>c&&(c=0),c>b.length))return-1;for(var d,e=c||0,f=b.length;(d=b[e])||f>e;e++)if(d==a)return e;return-1},enyo.remove=function(a,b){var c=enyo.indexOf(a,b);c>=0&&b.splice(c,1)},enyo.forEach=function(a,b,c){if(a){var d=c||this;if(enyo.isArray(a)&&a.forEach)a.forEach(b,d);else for(var e=Object(a),f=e.length>>>0,g=0;f>g;g++)g in e&&b.call(d,e[g],g,e)}},enyo.map=function(a,b,c){var d=c||this;if(enyo.isArray(a)&&a.map)return a.map(b,d);var e=[],f=function(a,c,f){e.push(b.call(d,a,c,f))};return enyo.forEach(a,f,d),e},enyo.merge=function(){for(var a,b=Array.prototype.concat.apply([],arguments),c=[],d=0;a=b[d];++d)~enyo.indexOf(a,c)||c.push(a);return c};var f=enyo.merge;enyo.values=function(a){if(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}},enyo.union=function(){for(var a,b=Array.prototype.concat.apply([],arguments),d=[],e=[],f=0,g=b.length;g>f;++f)a=b[f],~enyo.indexOf(a,d)||(d.push(a),f===c(a,b)&&e.push(a));return e};var g=enyo.union;enyo.unique=g;var h=enyo.unique;enyo.reduce=f,enyo.only=function(a,c,d){var e,f,g={},i=0;if(!(b(a)&&a instanceof Array))return g;if(!b(c)||"object"!=typeof c)return g;for(a=h(a),e=a.length;e>i;++i)if((f=a[i])in c){if(!0===d&&!c[f])continue;g[f]=c[f]}return g},enyo.remap=function(a,b,c){var d,e,f=c?enyo.clone(b):{};for(d in a)e=a[d],d in b&&(f[e]=b.get?b.get(d):b[d]);return f},enyo.except=function(a,c){var d,e,f,h={},j=0;if(!(b(a)&&a instanceof Array))return h;if(!b(c)||"object"!=typeof c)return h;for(d=g(a,i(c)),e=d.length;e>j;++j)(f=d[j])in c&&(h[f]=c[f]);return h},enyo.indexBy=function(a,c,d){var e,f,g={},h=0;if(!(b(c)&&c instanceof Array))return g;if(!b(a)||"string"!=typeof a)return g;var i=enyo.clone(c);for(d=b(d)&&"function"==typeof d?d:void 0,f=c.length;f>h;++h)e=c[h],b(e)&&b(e[a])&&(d?d(a,e,g,i):g[e[a]]=e);return g},enyo.pluck=function(a,c){var d,e=[],f=0;if(!b(a)||!b(c))return e;if(!(c instanceof Array))return e;if("string"!=typeof a)return e;for(d=c.length;d>f;++f)b(c[f])&&b(c[f][a])&&e.push(c[f][a]);return e},enyo.filter=function(a,b,c){var d=c||this;if(enyo.isArray(a)&&a.filter)return a.filter(b,d);var e=[],f=function(a,c,f){var g=a;b.call(d,a,c,f)&&e.push(g)};return enyo.forEach(a,f,d),e},enyo.keys=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);if(!{toString:null}.propertyIsEnumerable("toString"))for(var e,f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],g=0;e=f[g];g++)c.call(a,e)&&b.push(e);return b};var i=enyo.keys;enyo.cloneArray=function(a,b,c){for(var d=c||[],e=b||0,f=a.length;f>e;e++)d.push(a[e]);return d},enyo.toArray=enyo.cloneArray,enyo.clone=function(a){return enyo.isArray(a)?enyo.cloneArray(a):enyo.mixin({},a)};var j={};enyo.mixin=function(a,b,c){var d,e,f,g,h,i;if(enyo.isArray(a)?(d={},e=a,b&&enyo.isObject(b)&&(f=b)):(d=a||{},e=b,f=c),enyo.isObject(f)||(f={}),!0===c&&(f.ignore=!0,f.exists=!0),enyo.isArray(e))for(g=0;i=e[g];++g)enyo.mixin(d,i,f);else for(h in e)i=e[h],j[h]!==i&&(f.exists&&!i||f.ignore&&d[h]||(f.filter&&enyo.isFunction(f.filter)?!f.filter(h,i,e,d,f):0)||(d[h]=i));return d},enyo.bind=function(a,b){if(b||(b=a,a=null),a=a||enyo.global,enyo.isString(b)){if(!a[b])throw'enyo.bind: scope["'+b+'"] is null (scope="'+a+'")';b=a[b]}if(enyo.isFunction(b)){var c=enyo.cloneArray(arguments,2);return b.bind?b.bind.apply(b,[a].concat(c)):function(){var d=enyo.cloneArray(arguments);return b.apply(a,c.concat(d))}}throw'enyo.bind: scope["'+b+'"] is not a function (scope="'+a+'")'},enyo.bindSafely=function(a,b){if(enyo.isString(b)){if(!a[b])throw'enyo.bindSafely: scope["'+b+'"] is null (this="'+this+'")';b=a[b]}if(enyo.isFunction(b)){var c=enyo.cloneArray(arguments,2);return function(){if(!a.destroyed){var d=enyo.cloneArray(arguments);return b.apply(a,c.concat(d))}}}throw'enyo.bindSafely: scope["'+b+'"] is not a function (this="'+this+'")'},enyo.asyncMethod=function(a,b){return b?setTimeout(enyo.bind.apply(enyo,arguments),1):setTimeout(a,1)},enyo.call=function(a,b,c){var d=a||this;if(b){var e=d[b]||b;if(e&&e.apply)return e.apply(d,c||[])}},enyo.now=Date.now||function(){return(new Date).getTime()},enyo.perfNow=function(){var a=window.performance||{};return a.now=a.now||a.mozNow||a.msNow||a.oNow||a.webkitNow||enyo.now,function(){return a.now()}}(),enyo.nop=function(){},enyo.nob={},enyo.nar=[],enyo.instance=function(){},enyo.setPrototype||(enyo.setPrototype=function(a,b){a.prototype=b}),enyo.delegate=function(a){return enyo.setPrototype(enyo.instance,a),new enyo.instance},enyo.trim=function(a){return a&&a.replace?a.replace(/^\s+|\s+$/g,""):a},String.prototype.trim&&(enyo.trim=function(a){return a&&a.trim?a.trim():a}),enyo.uuid=function(){var a;return Math.random().toString(16).substr(2,8)+"-"+(a=Math.random().toString(16).substr(2,8)).substr(0,4)+"-"+a.substr(4,4)+(a=Math.random().toString(16).substr(2,8)).substr(0,4)+"-"+a.substr(4,4)+Math.random().toString(16).substr(2,8)};var k=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFE\u0590-\u05FF\uFB1D-\uFB4F]/;enyo.isRtl=function(a){return k.test(a)}}(),function(){"use strict";function a(a){enyo.mixin(this,a),b[this.name]=this,!0!==this.average||c[this.name]||(c[this.name]=[]),c[this.name]&&!1!==this.average&&(this._averaging=!0),!0===this.autoStart&&this.start()}enyo.bench=enyo.perfNow;var b={},c={},d=function(a){var b=0,c=1/0,d=-1/0,e=a.length,f={total:null,average:null,number:e,min:null,max:null};return enyo.forEach(a,function(a){b+=a,c=Math.min(a,c),d=Math.max(a,d)}),f.total=b,f.min=c,f.max=d,f.average=Math.abs(b/(e||1)),f};enyo.dev={enabled:!0,bench:function(b){return!0===this.enabled&&new a(b||{name:enyo.uid("bench")})},report:function(a){var e=c[a]||b[a];if(!e)return!1;if(e.report&&"function"==typeof e.report)return e.report();var f=d(e);enyo.log(enyo.format("- - - - - - - - - - - - - - - - -\nBENCHMARK REPORT (%.): %.\nTOTAL TIME (ms): %.\nAVERAGE TIME (ms): %.\nMINIMUM TIME (ms): %.\nMAXIMUM TIME (ms): %.\nNUMBER OF ENTRIES: %.\n- - - - - - - - - - - - - - - - -\n","averages",a,f.total,f.average,f.min,f.max,f.number))},clear:function(a){var d=b[a]?b:c[a]?c:null;return!!d&&(d.complete&&d.complete(),d[a]instanceof Array?d[a]=[]:delete d[a],!0)}},a.prototype={logging:!0,autoStart:!0,_started:!1,_averaging:!1,_begin:null,_end:null,_time:null,start:function(){return!0!==this._started&&(this._log("starting benchmark"),this._begin=enyo.bench(),this._started=!0,!0)},stop:function(){return!!this._started&&(this._end=enyo.bench(),this._time=this._end-this._begin,this._log("benchmark complete: "+this._time),!0===this._averaging&&c[this.name].push(this._time),this._started=!1,!0)},_log:function(a){return!!this.logging&&void enyo.log("bench ("+this.name+"): "+a)}}}(),enyo.job=function(a,b,c){enyo.job.stop(a),enyo.job._jobs[a]=setTimeout(function(){enyo.job.stop(a),b()},c)},enyo.job.stop=function(a){enyo.job._jobs[a]&&(clearTimeout(enyo.job._jobs[a]),delete enyo.job._jobs[a])},enyo.job.throttle=function(a,b,c){enyo.job._jobs[a]||(b(),enyo.job._jobs[a]=setTimeout(function(){enyo.job.stop(a)},c))},enyo.job._jobs={},enyo.kind=function(a){var b=a.name||"";if(enyo.options.noDefer||!b||a.noDefer)return enyo.kind.finish(a);var c=function(){var a;if(c._FinalCtor)a=c._FinalCtor;else{if(!(this instanceof c))throw"enyo.kind: constructor called directly, not using 'new'";a=c._finishKindCreation()}var b=enyo.delegate(a.prototype),d=a.apply(b,arguments);return d||b};return c._finishKindCreation=function(){c._finishKindCreation=void 0,enyo.setPath(b,void 0);var d=enyo.kind.finish(a);return c._FinalCtor=d,a=null,d},a.statics&&enyo.mixin(c,a.statics),c.extend=enyo.kind.statics.extend,c._deferred=!0,b&&!enyo.getPath(b)||enyo.kind.allowOverride?enyo.setPath(b,c):b&&enyo.error("enyo.kind: "+b+" is already in use by another kind, all kind definitions must have unique names."),c},enyo.kind.finish=function(a){enyo._kindCtors={};var b=a.name||"";delete a.name;var c="kind"in a,d=a.kind;delete a.kind;var e=enyo.constructorForKind(d),f=e&&e.prototype||null;if(c&&void 0===d||void 0===e){throw"enyo.kind: Attempt to subclass an "+(void 0===d?"undefined kind":"unknown kind ("+d+")")+". Check dependencies for ["+(b||"<unnamed>")+"]."}var g=enyo.kind.makeCtor();return a.hasOwnProperty("constructor")&&(a._constructor=a.constructor,delete a.constructor),enyo.setPrototype(g,f?enyo.delegate(f):{}),enyo.concatHandler(g,a),enyo.mixin(g.prototype,a),g.prototype.kindName=b||(e&&e.prototype?e.prototype.kindName:""),g.prototype.base=e,g.prototype.ctor=g,enyo.forEach(enyo.kind.features,function(b){b(g,a)}),b&&!enyo.getPath(b)||enyo.kind.allowOverride?enyo.setPath(b,g):b&&enyo.error("enyo.kind: "+b+" is already in use by another kind, all kind definitions must have unique names."),g},enyo.singleton=function(a,b){var c=a.name;delete a.name;var d,e=enyo.kind(a);return enyo.setPath.call(b||enyo.global,c,d=new e),d},enyo.kind.makeCtor=function(){var a=function(){if(!(this instanceof a))throw"enyo.kind: constructor called directly, not using 'new'";var b;return this._constructor&&(b=this._constructor.apply(this,arguments)),this.constructed&&this.constructed.apply(this,arguments),b||void 0};return a},enyo.kind.defaultNamespace="enyo",enyo.kind.features=[],enyo.kind.extendMethods=function(a,b,c){var d=a.prototype||a,e=d.base;!d.inherited&&e&&(d.inherited=enyo.kind.inherited),b.hasOwnProperty("constructor")&&(b._constructor=b.constructor,delete b.constructor);for(var f in b){var g=b[f];enyo.isInherited(g)&&(g=d[f]=c?g.fn(d[f]||enyo.nop):g.fn(e?e.prototype[f]||enyo.nop:enyo.nop)),enyo.isFunction(g)&&(c?(d[f]=g,g.displayName=f+"()"):(g._inherited=e?e.prototype[f]:null,g.displayName=d.kindName+"."+f+"()"))}},enyo.kind.features.push(enyo.kind.extendMethods),enyo.kind.inherited=function(a,b){var c=a.callee,d=c._inherited;if("function"==typeof d){var e=a;if(b){e=[];for(var f=0,g=b.length;g>f;++f)e[f]=b[f];for(g=a.length;g>f;++f)e[f]=a[f]}return d.apply(this,e)}enyo.warn("enyo.kind.inherited: unable to find requested super-method from -> "+a.callee.displayName+" in "+this.kindName)},function(a){var b=function(a){this.fn=a};a.inherit=function(a){return new b(a)},a.isInherited=function(a){return a&&a instanceof b}}(enyo),enyo.kind.features.push(function(a,b){a.subclass||(a.subclass=enyo.kind.statics.subclass),a.extend||(a.extend=enyo.kind.statics.extend),b.statics&&(enyo.mixin(a,b.statics),delete a.prototype.statics),b.protectedStatics&&(enyo.mixin(a,b.protectedStatics),delete a.prototype.protectedStatics);for(var c=a.prototype.base;c;)c.subclass(a,b),c=c.prototype.base}),enyo.kind.statics={subclass:function(){},extend:function(a,b){var c,d,e=this,f=enyo.isArray(a)?a:[a];d=function(a,b){return!(enyo.isFunction(b)||enyo.isInherited(b))},!b&&e._deferred&&(e=enyo.checkConstructor(e)),c=b||e.prototype;for(var g,h=0;g=f[h];++h)enyo.concatHandler(c,g),enyo.kind.extendMethods(c,g,!0),enyo.mixin(c,g,{filter:d});return b||e}},enyo.concatHandler=function(a,b){for(var c=a.prototype||a,d=c.ctor,e=c===a;d;)d.concat&&d.concat(a,b,e),d=d.prototype.base},enyo.checkConstructor=function(a){if(enyo.isFunction(a)){if(a._FinalCtor)return a._FinalCtor;if(a._finishKindCreation)return a._finishKindCreation()}return a},enyo._kindCtors={},enyo.constructorForKind=function(a){if(null===a)return a;if(void 0===a)return enyo.defaultCtor;if(enyo.isFunction(a))return enyo.checkConstructor(a);var b=enyo._kindCtors[a];if(b)return b;if(b=enyo.Theme[a]||enyo[a]||enyo.getPath("enyo."+a)||window[a]||enyo.getPath(a),b&&b._finishKindCreation&&(b=b._finishKindCreation()),!enyo.isFunction(b))throw"["+a+"] is not the name of a valid kind.";return enyo._kindCtors[a]=b,b},enyo.Theme={},enyo.registerTheme=function(a){enyo.mixin(enyo.Theme,a)},function(a){var b={},c=/(string|number|boolean)/;a.BindingCount=0,a.kind({name:"enyo.Binding",kind:null,noDefer:!0,from:"",to:"",source:null,allowUndefined:!0,target:null,transform:"",connected:!1,id:"",oneWay:!0,autoConnect:!0,autoSync:!0,owner:null,destroyed:!1,statics:{find:function(a){return b[a]}},sourceObserver:null,targetObserver:null,sourceConnected:!1,targetConnected:!1,sourceRegistered:!1,targetRegistered:!1,registeredSource:null,registeredTarget:null,sourcePath:"",targetPath:"",sourceProp:"",targetProp:"",building:!0,originals:null,constructor:function(c){c&&a.mixin(this,c),this.id=a.uid("binding"),b[this.id]=this,this.originals=this.originals||{},this.originals.from=this.from,this.originals.to=this.to,this.originals.source=this.source,this.originals.target=this.target,this.initTransform(),this.refresh(),a.BindingCount++},isConnected:function(){return this.connected=this.sourceConnected&&this.targetConnected,this.connected},registered:function(a,b){"source"==a?(this.sourceRegistered=!0,this.registeredSource=b):"target"==a&&(this.targetRegistered=!0,this.registeredTarget=b),this.autoSync&&this.isRegistered()&&!this.synchronizing&&this.sync()},isRegistered:function(){return!(!this.sourceRegistered||!this.targetRegistered)},syncFromSource:function(){if(!this.synchronizing){if(this.synchronizing=!0,this.isConnected()&&this.isRegistered()){var a=this.getSourceValue(),b=this.transform;b&&"function"==typeof b&&(a=b.call(this.owner||this,a,"source",this)),(this.allowUndefined||void 0!==a)&&this.setTargetValue(a)}this.synchronizing=!1}},syncFromTarget:function(){if(!this.oneWay&&!this.synchronizing){if(this.synchronizing=!0,this.isConnected()&&this.isRegistered()){var a=this.getTargetValue(),b=this.transform;b&&"function"==typeof b&&(a=b.call(this.owner||this,a,"target",this)),(this.allowUndefined||void 0!==a)&&this.setSourceValue(a)}this.synchronizing=!1}},resolve:function(){var b,c,d=this.source,e=this.target,f=this.from,g=this.to;if(f&&g){if(this.building){if("."!=f[0]&&"^"!=f[0])throw"enyo.Binding: from path must begin with `.` or `^`";if("."!=g[0]&&"^"!=g[0])throw"enyo.Binding: to path must beging with `.` or `^`";if("string"==typeof d){if("."!=d[0]&&"^"!=d[0])throw"enyo.Binding: if source is a string it must begin with `.` or `^`";f=("."==d?"":d)+f,d=null}if("string"==typeof e){if("."!=e[0]&&"^"!=e[0])throw"enyo.Binding: if target is a string it must begin with `.` or `^`";g=("."==e?"":e)+g,e=null}d||(this.source=d="."==f[0]?this.owner:a.global),e||(this.target=e="."==g[0]?this.owner:a.global),c=f.slice(1).split("."),b=g.slice(1).split(".");var h=a.lastIndexOf(".",f),i=a.lastIndexOf(".",g);this.sourcePath=("^"==f[0]?c.slice(0,-1):c).join("."),this.targetPath=("^"==g[0]?b.slice(0,-1):b).join("."),this.sourceProp=h>-1&&"$"==f[h-1]?c.slice(-2).join("."):c.pop(),this.targetProp=i>-1&&"$"==f[i-1]?b.slice(-2).join("."):b.pop(),this.building=!1}return d===a.global&&(this.source=a.getPath(this.sourcePath),this.sourceGlobal=!0),e===a.global&&(b=this.targetPath.split("."),this.targetGlobalPath=b.slice(0,-1).join("."),this.targetPath=b.pop(),this.target=a.getPath(this.targetGlobalPath),this.targetGlobal=!0),this}},connectSource:function(){var b=this.source,c=this.sourceGlobal?this.sourceProp:this.sourcePath,d=this.sourceObserver,e=this.sourceObserverId||(this.sourceObserverId=a.uid("__bindingObserver__"));b===a.global&&(b=this.resolve().source),b&&b.addObserver&&!this.sourceConnected?(d||(d=this.sourceObserver=a.bindSafely(this,this.syncFromSource),d.binding=this,d.bindingProp="source"),this.sourceConnected=!0,this.sourceObserver=b.addObserver(c,d,null,e)):this.sourceConnected=!1},connectTarget:function(){var b=this.target,c=this.targetGlobal?this.targetProp:this.targetPath,d=this.targetObserver,e=this.targetObserverId||(this.targetObserverId=a.uid("__bindingObserver__"));b===a.global&&(b=this.resolve().target),b&&b.addObserver&&!this.targetConnected?(!d&&c&&(d=this.targetObserver=a.bindSafely(this,this.syncFromTarget),d.binding=this,d.bindingProp="target"),this.targetConnected=!0,c?this.targetObserver=b.addObserver(c,d,null,e):this.registered("target",this.target)):this.targetConnected=!1},disconnectSource:function(){if(this.source&&this.sourceConnected){var b=this.source,c=this.sourceObserver,d=this.sourceObserverId,e=a._observerMap[b.objectObserverId],f=e&&e[d];f&&b&&b.addObserver&&this.sourceConnected&&c&&b.removeObserver(f.observerProp,c)}this.sourceObserver=null,this.sourceConnected=!1},disconnectTarget:function(){if(this.target&&this.targetConnected){var b=this.target,c=this.targetObserver,d=this.targetObserverId,e=a._observerMap[b.objectObserverId],f=e&&e[d];f&&b&&b.addObserver&&this.targetConnected&&c&&b.removeObserver(f.observerProp,c)}this.targetObserver=null,this.targetConnected=!1},getSourceValue:function(){var a=this.registeredSource;return a?a.get(this.sourceProp):void 0},getTargetValue:function(){var a=this.registeredTarget;return a?a.get(this.targetProp):void 0},setSourceValue:function(a){var b=this.registeredSource;if(b){if(b.destroyed)return void this.destroy();this.stop?this.stop=!1:b.set(this.sourceProp,a,!c.test(typeof a))}},setTargetValue:function(a){var b=this.registeredTarget;if(b){if(b.destroyed)return void this.destroy();this.stop?this.stop=!1:b.set(this.targetProp,a,!c.test(typeof a))}},connect:function(){var a=this.isConnected();return a||(this.connecting=!0,this.sourceConnected||this.connectSource(),this.targetConnected||this.connectTarget(),this.connecting=!1,this.isConnected()),this.connected&&!a&&this.autoSync&&this.sync(),this},sync:function(){return this.connecting||this.syncFromSource(),this},disconnect:function(){return this.disconnectSource(),this.disconnectTarget(),this.isConnected(),this},refresh:function(){return this.stop=!1,this.resolve(),this.autoConnect&&this.connect(),this},reset:function(){return this.disconnect(),a.mixin(this,this.originals),this.building=!0,this.stop=!1,this.sourceRegistered=!1,this.targetRegistered=!1,this.registeredSource=null,this.registeredTarget=null,this},stop:function(){this.stop=!0},rebuild:function(){return this.reset().refresh()},destroy:function(){this.disconnect(),this.destroyed=!0,this.source=null,this.target=null,this.registeredSource=null,this.registeredTarget=null,this.sourceObserver=null,this.targetObserver=null,this.transform=null,this.originals=null,this.owner&&(this.owner.removeBinding(this),this.owner=null),delete b[this.id],a.BindingCount--},initTransform:function(){var b=this.transform,c=this.owner,d=c?c.bindingTransformOwner:null;b&&a.isString(b)&&((d||c)&&!(b=a.getPath.call(d||c,this.transform))&&d&&c&&(b=a.getPath.call(c,this.transform)),b||(b=a.getPath(this.transform))),this.transform=a.isFunction(b)?b:null}}),a.defaultBindingKind=a.Binding}(enyo),function(a){var b=function(b,c){var d,e=b._appliedMixins,f=c;if(a.isString(f)&&!(f=a.getPath(f)))return void a.warn("could not find the requested mixin "+c);if(f.name){if(~a.indexOf(f.name,e))return void a.warn("attempt to add the same mixin more than once, "+f.name+" onto -> "+b.kindName);e.push(f.name),d=f.name,delete f.name}else d=null;var g=a.clone(f);f.hasOwnProperty("constructor")&&(g._constructor=f.constructor,delete g.constructor),a.kind.statics.extend(g,b),d&&(f.name=d)},c=function(c,d){if(d.mixins){var e=c.prototype||c,f=d.mixins;e._appliedMixins=e._appliedMixins?a.cloneArray(e._appliedMixins):[],delete d.mixins;for(var g,h=0;g=f[h];++h)b(e,g)}};a.kind.features.push(c);var d=a.concatHandler;a.concatHandler=function(a,b){if(b.mixins){var c=a.prototype||a;c.mixins=c.mixins?c.mixins.concat(b.mixins):b.mixins.slice()}d.apply(this,arguments)},a.kind.extendMethods(a.kind.statics,{extend:a.inherit(function(b){return function(d,e){var f=e||this.prototype;return d.mixins&&(f.mixins=a.merge(f.mixins,d.mixins),c(f,d)),b.apply(this,arguments)}})},!0),a.MixinSupport={name:"MixinSupport",extend:function(a){b(this,a)},importProps:a.inherit(function(a){return function(b){b&&c(this,b),a.apply(this,arguments)}})}}(enyo),function(a){var b=function(b){return b.hasOwnProperty("observerMap")||(b.observerMap=a.clone(b.observerMap)),b.observerMap},c=a._observerMap={};a.ObserverSupport={name:"ObserverSupport",addObserver:function(d,e,f){var g,h,i=("."==d[0]?d.slice(1):d).split("."),j=i.shift(),k=e,l=arguments[3],m=arguments[4],n=l||e.observerId||a.uid("__observer__"),o=b(this),p=this.objectObserverId||(this.objectObserverId=a.uid("__objectObserverId__")),q=c[p]||(c[p]={}),r=q[n]||(q[n]={});return m&&m.chain&&(r.chain=m.chain),"$"==j&&(j=j+"."+i.shift()),i.length&&(r.chain=r.chain||[],d=i.join("."),e=a.bindSafely(this,"updateObserver",d,k,f,n,r),h=this.get(j)),(g=o[j])?("string"==typeof g&&(g=o[j]=a.trim(g).split(" ")),g.push(n)):o[j]=[n],e=this[n]=f?a.bindSafely(f,e):e,e.observer=!0,r.observerId=n,r.observerProp=j,r.observerOwner=this,r.objectObserverId=p,r.observer=e,r.chain&&r.chain.push(r),h&&h.addObserver&&h.addObserver(d,k,f,n,r),e},updateObserver:function(a,b,c,d,e,f,g){this.removeChainedObservers(d),g&&g!==f&&g.addObserver(a,b,c,d,e)},removeChainedObservers:function(b){for(var d,e=c[this.objectObserverId],f=e[b],g=a.find(f.chain,function(a){return a===f}),h=f.chain.splice(g+1,f.chain.length),i=0;d=h[i];++i)d.chain=null,d.observerOwner.removeObserver(d.observerProp,d.observer),c[d.objectObserverId][d.observerId]=void 0},removeObserver:function(d,e){var f,g,h=b(this),i=c[this.objectObserverId];if(g=h[d]){"string"==typeof g&&(g=h[d]=a.trim(g).split(" "));for(var j,k,l=0;j=g[l];++l)((k=this[j])&&e&&k===e||!e)&&(g.splice(l,1),f=i&&i[j],f&&f.chain&&this.removeChainedObservers(j),k.observer&&(i[j]=void 0,delete this[j]));0!==g.length&&e||delete h[d]}},removeAllObservers:function(){var a=b(this);for(var c in a)this.removeObserver(c);return this},notifyObservers:function(c,d,e){var f=b(this);if(f){var g=f[c];if(!this.observerNotificationsEnabled)return this._addObserverToQueue(c,[d,e,c]),this;if("string"==typeof g&&(g=f[c]=a.trim(g).split(" ")),f["*"]&&("string"==typeof f["*"]&&(f["*"]=a.trim(f["*"]).split(" ")),g=g?g.concat(f["*"]):f["*"]),g&&g.length){g=g.slice();for(var h,i,j=0;h=g[j];++j)(i=this[h])&&i.call(this,d,this.get(c),c)}}return this},stopNotifications:function(a){return this.observerNotificationsEnabled=!1,this.observerStopCount+=1,a&&this.disableNotificationQueue(),this},startNotifications:function(a){return 0!==this.observerStopCount&&(this.observerStopCount-=1),0===this.observerStopCount&&(this.observerNotificationsEnabled=!0,this._flushObserverQueue()),a&&this.enableNotificationQueue(),this},enableNotificationQueue:function(){return this.observerNotificationQueueEnabled=!0,this},disableNotificationQueue:function(){return this.observerNotificationQueueEnabled=!1,this.observerNotificationQueue={},this},_addObserverToQueue:function(a,b){if(this.observerNotificationQueueEnabled){var c=this.observerNotificationQueue||(this.observerNotificationQueue={});b||(b=[]),c[a]=b}},_flushObserverQueue:function(){if(0===this.observerStopCount&&this.observerNotificationQueueEnabled){if(!this.observerNotificationQueue)return;var a,b,c=this.observerNotificationQueue;this.observerNotificationQueue={};for(a in c)b=c[a],b.unshift(a),this.notifyObservers.apply(this,b)}},observerStopCount:0,observerNotificationsEnabled:!0,observerNotificationQueueEnabled:!0};var d=function(a,b,c,d){var e=d.observers||(d.observers={});(e[b]=e[b]||[]).push(a)},e=a.concatHandler;a.concatHandler=function(b,c){e.apply(this,arguments);var f=b.prototype||b;for(var g in c)"Changed"==g.slice(-7)&&d(g.slice(0,-7),g,f,c);if(c.observers){f.observers?(f.observers=a.clone(f.observers),f.observerMap=a.clone(f.observerMap)):(f.observers={},f.observerMap={});for(var h in c.observers){f.observers[h]=f.observers[h]||"";for(var i,j="string"==typeof c.observers[h]?a.trim(c.observers[h]).split(" "):c.observers[h],k=0;i=j[k];++k)~f.observers[h].indexOf(i)||(f.observers[h]+=" "+i,f.observerMap[i]=a.trim((f.observerMap[i]||"")+" "+h).replace(/\s+/g," "));f.observers[h]=a.trim(f.observers[h]).replace(/\s+/g," ")}delete c.observers}}}(enyo),function(a){var b=function(b,c){return b.hasOwnProperty(c)||(b[c]=b[c]?a.clone(b[c]):{}),b[c]};a.ComputedSupport={name:"ComputedSupport",get:a.inherit(function(a){return function(b){return this._isComputed(b)?this._getComputed(b):a.apply(this,arguments)}}),set:a.inherit(function(a){return function(b){return this._isComputed(b)?this:a.apply(this,arguments)}}),notifyObservers:a.inherit(function(c){return function(d){var e,f=b(this,"computedMap");if(f&&(e=f[d])){"string"==typeof e&&(e=f[d]=a.trim(e).split(" "));for(var g,h=0;g=e[h];++h)this._markComputed(g);c.apply(this,arguments),this._flushComputedQueue()}else c.apply(this,arguments)}}),_getComputed:function(a){var c,d=b(this,"computedCached"),e=b(this,"computedConfig"),f=e?b(e,a):null;if(c=d[a])return"object"!=typeof c&&(c=d[a]={},f&&f.hasOwnProperty("defaultValue")?(c.dirty=!1,c.value=f.defaultValue):c.dirty=!0),c.dirty&&(c.value=this[a](),c.dirty=!1),c.value;if(f&&f.hasOwnProperty("defaultValue")){var g=f.defaultValue;return delete f.defaultValue,g}return this[a]()},_markComputed:function(a){var c,d=b(this,"computedCached"),e=this.computedQueue||(this.computedQueue={}),f=null;(c=d[a])&&("object"!=typeof c&&(c=d[a]={}),f=c.value,c.dirty=!0),e[a]=f},_isComputed:function(a){var c=b(this,"computed");return c&&void 0!==c[a]&&null!==c[a]},_flushComputedQueue:function(){if(this.computedQueue&&this.observerNotificationsEnabled){var a=this.computedQueue;this.computedQueue={};for(var b in a)this.notifyObservers(b,a[b],this._getComputed(b))}}};var c=a.concatHandler;a.concatHandler=function(b,d){if(c.apply(this,arguments),d.computed){var e=b.prototype||b;e.computed?(e.computed=a.clone(e.computed),e.computedCached=a.clone(e.computedCached),e.computedMap=a.clone(e.computedMap),e.computedConfig=a.clone(e.computedConfig)):(e.computed={},e.computedCached={},e.computedMap={},e.computedConfig={});for(var f in d.computed){e.computed[f]=e.computed[f]||"";for(var g,h="string"==typeof d.computed[f]?a.trim(d.computed[f]).split(" "):d.computed[f],i=0;g=h[i];++i)"object"==typeof g?(!0===g.cached&&(e.computedCached[f]=!0),e.computedConfig[f]=e.computedConfig[f]?a.mixin(a.clone(e.computedConfig[f]),g):g):~e.computed[f].indexOf(g)||(e.computed[f]+=" "+g,e.computedMap[g]=a.trim((e.computedMap[g]||"")+" "+f).replace(/\s+/g," "));e.computed[f]=a.trim(e.computed[f]).replace(/\s+/g," ")}delete d.computed}}}(enyo),enyo.BindingSupport={name:"BindingSupport",binding:function(){var a,b=enyo.toArray(arguments),c=enyo.mixin(b),d=this.bindings||(this.bindings=[]);return c.owner=c.owner||this,c.kind=c.kind||this.defaultBindingKind||enyo.defaultBindingKind,!1===this.bindingSupportInitialized?d.push(c):(enyo.isFunction(c.kind)||(c.kind=enyo.getPath(c.kind)),d.push(a=new c.kind(c))),a},clearBindings:function(a){var b=a||this.bindings;if(b)for(var c,d=0;c=b[d];++d)c.destroy()},refreshBindings:function(a){var b=a||this.bindings;if(b)for(var c,d=0;c=b[d];++d)c.refresh()},rebuildBindings:function(a){var b=a||this.bindings;if(b)for(var c,d=0;c=b[d];++d)c.rebuild()},removeBinding:function(a){var b=this.bindings;if(a&&b&&b.length){var c=enyo.indexOf(a,b);c>-1&&b.splice(c,1)}},initBindings:function(){var a,b;if(!1===this.bindingSupportInitialized){this.bindingSupportInitialized=void 0;var c=this.bindings;if(!c)return;for(this.bindings=[],a=0;b=c[a];++a)this.binding(b)}},constructed:enyo.inherit(function(a){return function(){this.bindings?this.initBindings():this.bindingSupportInitialized=void 0,a.apply(this,arguments)}}),destroy:enyo.inherit(function(a){return function(){var b=this.bindings;if(b)for(var c,d=b.length-1;c=b[d];--d)c.destroy();a.apply(this,arguments)}}),addObserver:enyo.inherit(function(a){return function(b,c){var d,e=a.apply(this,arguments),f=this;return c.binding&&((-1===(d=enyo.lastIndexOf(".",b))||1===d&&"$"==b[0]&&("source"==c.bindingProp||(f=this.get(b))))&&c.binding.registered(c.bindingProp,f),e.binding=c.binding),e}}),bindingSupportInitialized:!1,bindingSyncAllowed:!0},function(a){var b=a.concatHandler;a.concatHandler=function(c,d){if(b.apply(this,arguments),d.bindings){for(var e,f=c.prototype||c,g=d.defaultBindingKind||a.defaultBindingKind,h=d.bindingDefaults,i=0;e=d.bindings[i];++i)h&&a.mixin(e,h,{ignore:!0}),e.kind=e.kind||g;f.bindings=f.bindings?f.bindings.concat(d.bindings):d.bindings,delete d.bindings}}}(enyo),enyo.ComponentBindingSupport={name:"ComponentBindingSupport",adjustComponentProps:enyo.inherit(function(a){return function(b){a.apply(this,arguments),b.bindingTransformOwner=b.bindingTransformOwner||this.getInstanceOwner()}})},enyo.ApplicationSupport={name:"ApplicationSupport",adjustComponentProps:enyo.inherit(function(a){return function(b){b.app=b.app||this.app||this instanceof enyo.Application&&this,a.apply(this,arguments)}}),destroy:enyo.inherit(function(a){return function(){this.app=null,a.apply(this,arguments)}})},enyo.MultipleDispatchSupport={name:"MultipleDispatchSupport",addDispatchTarget:function(a){var b=this._dispatchTargets;a&&!~enyo.indexOf(a,b)&&b.push(a)},removeDispatchTarget:function(a){var b,c=this._dispatchTargets;(b=enyo.indexOf(a,c))>-1&&c.splice(b,1)},bubbleUp:enyo.inherit(function(a){return function(b,c,d){this._dispatchDefaultPath&&a.apply(this,arguments);for(var e,f=this._dispatchTargets,g=0;e=f[g];++g)e&&!e.destroyed&&e.dispatchBubble(b,c,d)}}),ownerChanged:enyo.inherit(function(a){return function(){a.apply(this,arguments);var b=this.owner;this._dispatchDefaultPath=!!b}}),constructor:enyo.inherit(function(a){return function(){return this._dispatchTargets=[],a.apply(this,arguments)}}),destroy:enyo.inherit(function(a){return function(){this._dispatchTargets=null,a.apply(this,arguments)}}),_dispatchDefaultPath:!1},function(a){var b={};a.RegisteredEventSupport={name:"RegisteredEventSupport",silence:function(){this._silenced=!0,this._silenceCount+=1},unsilence:function(){0!==this._silenceCount&&--this._silenceCount,0===this._silenceCount&&(this._silenced=!1)},isSilenced:function(){return this._silenced},addListener:function(c,d,e){var f=this.eventId||(this.eventId=a.uid("__eventId__")),g=b[f]||(b[f]={}),h=g[c]||(g[c]=[]);if("function"!=typeof(d=d&&e?a.bindSafely(e,d):d))throw"enyo.RegisteredEventSupport.addListener: must supply a valid function or if a string must supply a context";return h.length&&~a.indexOf(d,h)||h.push(d),d},removeListener:function(b,c){var d=this.listeners(b);if(d.length){var e=a.indexOf(c,d);~e&&d.splice(e,1)}return this},removeAllListeners:function(a){var c,d=this.eventId;return b[d]&&(a?(c=this.listeners(a),c.splice(0,c.length)):b[d]={}),this},triggerEvent:function(a,b){if(!this.isSilenced()){var c=this.listeners(a);if(c.length){c=c.slice();for(var d=0;c.length>d;++d)(0,c[d])(this,a,b)}}return this},listeners:function(a){var c=this.eventId,d=b[c];return d&&d[a]||[]},_silenced:!1,_silenceCount:0}}(enyo),enyo.kind({name:"enyo.Object",kind:null,noDefer:!0,mixins:[enyo.MixinSupport,enyo.ObserverSupport,enyo.ComputedSupport,enyo.BindingSupport],constructor:function(a){enyo._objectCount++,this.importProps(a)},importProps:function(a){if(a){var b;if(enyo.concatHandler(this,a),a.kindName)for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);else for(b in a)this[b]=a[b]}},destroyObject:function(a){this[a]&&this[a].destroy&&this[a].destroy(),this[a]=null},log:function(){var a=arguments.callee.caller,b=((a?a.displayName:"")||"(instance method)")+":";enyo.logging.log("log",[b].concat(enyo.cloneArray(arguments)))},warn:function(){this._log("warn",arguments)},error:function(){this._log("error",arguments)},_log:function(a,b){if(enyo.logging.shouldLog(a))try{throw Error()}catch(c){enyo.logging._log(a,[b.callee.caller.displayName+": "].concat(enyo.cloneArray(b))),enyo.log(c.stack)}},get:function(){return enyo.getPath.apply(this,arguments)},set:function(){return enyo.setPath.apply(this,arguments)},bindSafely:function(){var a=Array.prototype.concat.apply([this],arguments);return enyo.bindSafely.apply(enyo,a)},destroy:function(){this.set("destroyed",!0)},_isObject:!0}),enyo._objectCount=0,enyo.Object.concat=function(a,b){var c=b.published;if(c){var d=a.prototype||a;for(var e in c)b[e]&&enyo.isFunction(b[e])||enyo.Object.addGetterSetter(e,c[e],d)}},enyo.Object.addGetterSetter=function(a,b,c){var d,e=enyo.cap(a),f=enyo.getPath.fast,g=enyo.setPath.fast,h="set"+e,i="get"+e,j=c._getters||(c._getters={}),k=c._setters||(c._setters={});c[a]=b,(d=c[i])&&enyo.isFunction(d)?d&&"function"==typeof d&&!d.generated&&(j[a]=i):(d=c[i]=function(){return f.call(this,a)},d.generated=!0),(d=c[h])&&enyo.isFunction(d)?d&&"function"==typeof d&&!d.generated&&(k[a]=h):(d=c[h]=function(b){return g.call(this,a,b)},d.generated=!0)},enyo.kind({name:"enyo.Component",kind:"enyo.Object",published:{name:"",id:"",owner:null,componentOverrides:null},protectedStatics:{_kindPrefixi:{},_unnamedKindNumber:0},defaultKind:"Component",noDefer:!0,handlers:{},mixins:[enyo.ApplicationSupport,enyo.ComponentBindingSupport],toString:function(){return this.id+" ["+this.kindName+"]"},constructor:enyo.inherit(function(a){return function(){this._componentNameMap={},this.$={},a.apply(this,arguments)}}),constructed:enyo.inherit(function(a){return function(b){this.create(b),a.apply(this,arguments)}}),create:function(){this.stopNotifications(),this.ownerChanged(),this.initComponents(),this.startNotifications()},initComponents:function(){this.createChrome(this.kindComponents),this.createClientComponents(this.components)},createChrome:function(a){this.createComponents(a,{isChrome:!0})},createClientComponents:function(a){this.createComponents(a,{owner:this.getInstanceOwner()})},getInstanceOwner:function(){return!this.owner||this.owner.notInstanceOwner?this:this.owner},destroy:enyo.inherit(function(a){return function(){this.destroyComponents(),this.setOwner(null),a.apply(this,arguments),this.stopAllJobs()}}),destroyComponents:function(){enyo.forEach(this.getComponents(),function(a){a.destroyed||a instanceof enyo.Controller&&a.global||a.destroy()})},makeId:function(){var a=this.owner&&this.owner.getId(),b=this.name||"@@"+ ++enyo.Component._unnamedKindNumber;return(a?a+"_":"")+b},ownerChanged:function(a){a&&a.removeComponent&&a.removeComponent(this),this.owner&&this.owner.addComponent&&this.owner.addComponent(this),this.id||(this.id=this.makeId())},nameComponent:function(a){var b,c=enyo.Component.prefixFromKindName(a.kindName),d=this._componentNameMap[c]||0;do{b=c+(++d>1?d+"":"")}while(this.$[b]);return this._componentNameMap[c]=Number(d),a.name=b,a.name},addComponent:function(a){var b=a.getName();b||(b=this.nameComponent(a)),this.$[b]&&this.warn('Duplicate component name "'+b+'" in owner "'+this.id+'" violates unique-name-under-owner rule, replacing existing component in the hash and continuing, but this is an error condition and should be fixed.'),this.$[b]=a,this.notifyObservers("$."+b,null,a)},removeComponent:function(a){delete this.$[a.getName()]},getComponents:function(){var a=[];for(var b in this.$)a.push(this.$[b]);return a},adjustComponentProps:function(a){this.defaultProps&&enyo.mixin(a,this.defaultProps,{ignore:!0}),a.kind=a.kind||a.isa||this.defaultKind,a.owner=a.owner||this},_createComponent:function(a,b){if(!a.kind&&"kind"in a)throw"enyo.create: Attempt to create a null kind. Check dependencies for ["+a.name+"].";var c=enyo.mixin(enyo.clone(b),a);return this.adjustComponentProps(c),enyo.Component.create(c)},createComponent:function(a,b){return this._createComponent(a,b)},createComponents:function(a,b){if(a){for(var c,d=[],e=0;c=a[e];e++)d.push(this._createComponent(c,b));return d}},getBubbleTarget:function(){return this.bubbleTarget||this.owner},bubble:function(a,b,c){if(!this._silenced){var d=b||{};return enyo.exists(d.originator)||(d.originator=c||this),this.dispatchBubble(a,d,c||this)}},bubbleUp:function(a,b){if(!this._silenced){var c=b||{},d=this.getBubbleTarget();return!!d&&d.dispatchBubble(a,c,c.delegate||this)}},dispatchEvent:function(a,b,c){if(!this._silenced){var d,e=(b||(b={})).delegate;if(this.decorateEvent!==enyo.Component.prototype.decorateEvent&&this.decorateEvent(a,b,c),e&&e.owner===this){if(this[a]&&"function"==typeof this[a])return this.dispatch(a,b,c)}else if(!e){if(this.handlers&&this.handlers[a]&&this.dispatch(this.handlers[a],b,c))return!0;if(this[a]&&enyo.isString(this[a]))return b.delegate=this,d=this.bubbleUp(this[a],b,c),delete b.delegate,d}}},dispatchBubble:function(a,b,c){return this._silenced?void 0:!!this.dispatchEvent(a,b,c)||this.bubbleUp(a,b,c)},decorateEvent:function(){},stopAllJobs:function(){if(this.__jobs)for(var a in this.__jobs)this.stopJob(a)},dispatch:function(a,b,c){if(!this._silenced){var d=a&&this[a];return d&&"function"==typeof d?d.call(this,c||this,b):void 0}},triggerHandler:function(){return this.dispatchEvent.apply(this,arguments)},waterfall:function(a,b,c){return this._silenced?void 0:(b=b||{},!!this.dispatchEvent(a,b,c)||void this.waterfallDown(a,b,c||this))},waterfallDown:function(a,b,c){if(!this._silenced)for(var d in this.$)this.$[d].waterfall(a,b,c)},_silenced:!1,_silenceCount:0,silence:function(){this._silenced=!0,this._silenceCount+=1},isSilenced:function(){return this._silenced},unsilence:function(){0!==this._silenceCount&&--this._silenceCount,0===this._silenceCount&&(this._silenced=!1)},startJob:function(a,b,c,d){d=d||5;var e=this.__jobs=this.__jobs||{};enyo.isString(b)&&(b=this[b]),this.stopJob(a),e[a]=setTimeout(this.bindSafely(function(){enyo.jobs.add(this.bindSafely(b),d,a)}),c)},stopJob:function(a){var b=this.__jobs=this.__jobs||{};b[a]&&(clearTimeout(b[a]),delete b[a]),enyo.jobs.remove(a)},throttleJob:function(a,b,c){var d=this.__jobs=this.__jobs||{};d[a]||(enyo.isString(b)&&(b=this[b]),b.call(this),d[a]=setTimeout(this.bindSafely(function(){this.stopJob(a)}),c))}}),enyo.defaultCtor=enyo.Component,enyo.create=enyo.Component.create=function(a){if(!a.kind&&"kind"in a)throw"enyo.create: Attempt to create a null kind. Check dependencies for ["+(a.name||"")+"].";var b=a.kind||a.isa||enyo.defaultCtor,c=enyo.constructorForKind(b);return c||(enyo.error('no constructor found for kind "'+b+'"'),c=enyo.Component),new c(a)},enyo.Component.subclass=function(a,b){var c=a.prototype;b.components?(c.kindComponents=b.components,delete c.components):b.componentOverrides&&(c.kindComponents=enyo.Component.overrideComponents(c.kindComponents,b.componentOverrides,c.defaultKind))},enyo.Component.concat=function(a,b){var c=a.prototype||a;if(b.handlers){var d=c.handlers?enyo.clone(c.handlers):{};c.handlers=enyo.mixin(d,b.handlers),delete b.handlers}b.events&&enyo.Component.publishEvents(c,b)},enyo.Component.overrideComponents=function(a,b,c){var d=function(a,b){return!(enyo.isFunction(b)||enyo.isInherited(b))};a=enyo.clone(a);for(var e=0;a.length>e;e++){var f=enyo.clone(a[e]),g=b[f.name],h=enyo.constructorForKind(f.kind||c);if(g){enyo.concatHandler(f,g);for(var i=f.kind&&("string"==typeof f.kind&&enyo.getPath(f.kind)||"function"==typeof f.kind&&f.kind)||enyo.defaultCtor;i;)i.concat&&i.concat(f,g,!0),i=i.prototype.base;enyo.mixin(f,g,{filter:d})}f.components&&(f.components=enyo.Component.overrideComponents(f.components,b,h.prototype.defaultKind)),a[e]=f}return a},enyo.Component.publishEvents=function(a,b){var c=b.events;if(c){var d=a.prototype||a;for(var e in c)enyo.Component.addEvent(e,c[e],d)}},enyo.Component.addEvent=function(a,b,c){var d,e;enyo.isString(b)?("on"!=a.slice(0,2)&&(enyo.warn("enyo.Component.addEvent: event names must start with 'on'. "+c.kindName+" event '"+a+"' was auto-corrected to 'on"+a+"'."),a="on"+a),d=b,e="do"+enyo.cap(a.slice(2))):(d=b.value,e=b.caller),c[a]=d,c[e]||(c[e]=function(b){var c=b;c||(c={});var d=c.delegate;c.delegate=void 0,enyo.exists(c.type)||(c.type=a),this.bubble(a,c),d&&(c.delegate=d)})},enyo.Component.prefixFromKindName=function(a){var b=enyo.Component._kindPrefixi[a];if(!b){var c=a.lastIndexOf(".");b=c>=0?a.slice(c+1):a,b=b.charAt(0).toLowerCase()+b.slice(1),enyo.Component._kindPrefixi[a]=b}return b},enyo.kind({name:"enyo.UiComponent",kind:"enyo.Component",published:{container:null,parent:null,controlParentName:"client",layoutKind:""},handlers:{onresize:"resizeHandler"},addBefore:void 0,protectedStatics:{_resizeFlags:{showingOnly:!0}},create:enyo.inherit(function(a){return function(){this.controls=this.controls||[],this.children=this.children||[],this.containerChanged(),a.apply(this,arguments),this.layoutKindChanged()}}),destroy:enyo.inherit(function(a){return function(){this.destroyClientControls(),this.setContainer(null),a.apply(this,arguments)}}),importProps:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.owner||(this.owner=enyo.master)}}),createComponents:enyo.inherit(function(a){return function(){var b=a.apply(this,arguments);return this.discoverControlParent(),b}}),discoverControlParent:function(){this.controlParent=this.$[this.controlParentName]||this.controlParent},adjustComponentProps:enyo.inherit(function(a){return function(b){b.container=b.container||this,a.apply(this,arguments)}}),containerChanged:function(a){a&&a.removeControl(this),this.container&&this.container.addControl(this,this.addBefore)},parentChanged:function(a){a&&a!=this.parent&&a.removeChild(this)},isDescendantOf:function(a){for(var b=this;b&&b!=a;)b=b.parent;return a&&b==a},getControls:function(){return this.controls},getClientControls:function(){for(var a,b=[],c=0,d=this.controls;a=d[c];c++)a.isChrome||b.push(a);return b},destroyClientControls:function(){for(var a,b=this.getClientControls(),c=0;a=b[c];c++)a.destroy()},addControl:function(a,b){if(void 0!==b){var c=null===b?0:this.indexOfControl(b);this.controls.splice(c,0,a)}else this.controls.push(a);this.addChild(a,b)},removeControl:function(a){return a.setParent(null),enyo.remove(a,this.controls)},indexOfControl:function(a){return enyo.indexOf(a,this.controls)},indexOfClientControl:function(a){return enyo.indexOf(a,this.getClientControls())},indexInContainer:function(){return this.container.indexOfControl(this)},clientIndexInContainer:function(){return this.container.indexOfClientControl(this)},controlAtIndex:function(a){return this.controls[a]},addChild:function(a,b){if(this.controlParent)this.controlParent.addChild(a,b);else if(a.setParent(this),void 0!==b){var c=null===b?0:this.indexOfChild(b);this.children.splice(c,0,a)}else this.children.push(a)},removeChild:function(a){return enyo.remove(a,this.children)},indexOfChild:function(a){return enyo.indexOf(a,this.children)},layoutKindChanged:function(){this.layout&&this.layout.destroy(),this.layout=enyo.createFromKind(this.layoutKind,this),this.generated&&this.render()},flow:function(){this.layout&&this.layout.flow()},reflow:function(){this.layout&&this.layout.reflow()},resized:function(){this.waterfall("onresize",enyo.UiComponent._resizeFlags),this.waterfall("onpostresize",enyo.UiComponent._resizeFlags)},resizeHandler:function(){this.reflow()},waterfallDown:function(a,b,c){b=b||{};for(var d in this.$)this.$[d]instanceof enyo.UiComponent||this.$[d].waterfall(a,b,c);for(var e,f=0,g=this.children;e=g[f];f++)!e.showing&&b&&b.showingOnly||e.waterfall(a,b,c)},getBubbleTarget:function(){return this.bubbleTarget||this.parent||this.owner}}),enyo.createFromKind=function(a,b){var c=a&&enyo.constructorForKind(a);return c?new c(b):void 0},enyo.master=new enyo.Component({name:"master",notInstanceOwner:!0,eventFlags:{showingOnly:!0},getId:function(){return""},isDescendantOf:enyo.nop,bubble:function(a,b){"onresize"==a?(enyo.master.waterfallDown("onresize",this.eventFlags),enyo.master.waterfallDown("onpostresize",this.eventFlags)):enyo.Signals.send(a,b)}}),enyo.kind({name:"enyo.Layout",kind:null,layoutClass:"",constructor:function(a){this.container=a,a&&a.addClass(this.layoutClass)},destroy:function(){this.container&&this.container.removeClass(this.layoutClass)},flow:function(){},reflow:function(){}}),enyo.kind({name:"enyo.Signals",kind:"enyo.Component",noDefer:!0,create:enyo.inherit(function(a){return function(){a.apply(this,arguments),enyo.Signals.addListener(this)}}),destroy:enyo.inherit(function(a){return function(){enyo.Signals.removeListener(this),a.apply(this,arguments)}}),notify:function(a,b){this.dispatchEvent(a,b)},protectedStatics:{listeners:[],addListener:function(a){this.listeners.push(a)},removeListener:function(a){enyo.remove(a,this.listeners)}},statics:{send:function(a,b){enyo.forEach(this.listeners,function(c){c.notify(a,b)})}}}),enyo.kind({name:"enyo.MultipleDispatchComponent",kind:"enyo.Component",mixins:[enyo.MultipleDispatchSupport]}),enyo.kind({name:"enyo.Controller",kind:"enyo.MultipleDispatchComponent",global:!1,data:null,constructor:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.global&&enyo.setPath(this.name,this)}}),_isController:!0}),function(a){var b=[],c=function(a){for(var c=b,d=c.length,e=0;d>e;++e)c[e]._hashChanged(a)},d=/\:[a-zA-Z0-9]*/g,e=function(a){return"#"===a[0]?a.slice(1):a};a.ready(function(){a.dispatcher.listen(window,"hashchange",c)}),a.kind({name:"enyo.Router",listening:!0,internalOnly:!1,defaultPathOnStart:!1,defaultRoute:null,triggerOnStart:!0,useHistory:!1,routes:null,kind:"enyo.Controller",_staticRoutes:null,_dynamicRoutes:null,_current:"",_history:null,computed:{location:["_current",{cached:!0}],defaultPath:[]},location:function(b){return b?(b=e(b),void(this.internalOnly?this.set("_current",b):a.asyncMethod(this,"trigger",{location:b,change:!0}))):e(this.get("_current"))},defaultPath:function(){return this.defaultRoute?this.defaultRoute.path:""},trigger:function(a){a?"string"==typeof a&&(a={location:a}):a={location:this.get("_current")};var b=a.location,d=a.global,e=a.change,f=this.get("location");e?f!==b?window.location.hash=b:this._hashChanged(b):d?c(b):this._hashChanged(b)},handle:function(a){this._handleStatic(a)||this._handleDynamic(a)||this._handleDefault(a)},back:function(){this.useHistory&&this._history.length>=2&&(this._history.shift(),this.set("location",this._history.shift()))},addHistory:function(a,b){if(this.useHistory)switch(typeof b){case"undefined":this._history.unshift(a);break;case"number":b>=0&&this._history.length>b&&this._history.splice(b,0,a);break;case"boolean":this._history.push(a)}return this},clearHistory:function(){return this._history=[],this},addRoute:function(a){var b,c=this._staticRoutes,e=this._dynamicRoutes;return!0===a.default?this.defaultRoute=a:d.test(a.path)?(d.lastIndex=0,b=RegExp(a.path.replace(d,"([a-zA-Z0-9-]*)")),a.regex=b,e.push(a)):c[a.path]=a,this},constructor:a.inherit(function(a){return function(){this._staticRoutes={},this._dynamicRoutes=[],this.routes=this.routes||[],this._history=this._history||[],a.apply(this,arguments)}}),create:a.inherit(function(a){return function(){a.apply(this,arguments),this._setupRoutes(),this.set("_current",e(window.location.hash)),b.push(this),this.triggerOnStart&&(this.defaultPathOnStart?this.trigger({change:!0,location:this.get("defaultPath")}):this.trigger())}}),destroy:a.inherit(function(c){return function(){var d=a.indexOf(this,b);~d||b.splice(d,1),c.apply(this,arguments)}}),_hashChanged:function(b){var c=function(b){return a.isString(b)||(b=b.newUrl||window.location.hash),e(b)}(b);this.listening&&(this.set("_current",c),this.handle(c))},_execHandler:function(b,c,d,e){var f=c,g="string"==typeof b?a.getPath.call(this,b):b||this;return"string"==typeof c&&"function"==typeof(f=this[c]||g[c])&&(e.handler=f,e.context=g),!(!f||"function"!=typeof f)&&(f.apply(g,d),!0)},_handleStatic:function(a){var b,c,d;return!!(b=this._staticRoutes[a])&&(c=b.handler,d=b.context,this._execHandler(d,c,[a],b))},_handleDynamic:function(a){for(var b,c,d,e,f,g=this._dynamicRoutes,h=0,i=g.length;i>h;++h)if(c=g[h],b=c.regex,f=b.exec(a))return f=f.slice(1),d=c.handler,e=c.context,this._execHandler(e,d,f,c);return!1},_handleDefault:function(a){var b=this.defaultRoute||{},c=b.context,d=b.handler;return this._execHandler(c,d,[a],b)},_setupRoutes:function(){for(var a,b=this.routes,c=0,d=b.length;d>c;++c)(a=b[c])&&this.addRoute(a)},_currentChanged:function(){this.useHistory&&this._history.unshift(this.get("location"))}})}(enyo),enyo.kind({name:"enyo.ViewController",kind:"enyo.Controller",view:null,viewKind:null,renderTarget:"document.body",resetView:!1,render:function(a){var b=this.view,c=a||this.renderTarget;if(b){if(b.hasNode()&&b.generated)return;this.container?b.render():b.renderInto(enyo.dom.byId(c)||enyo.getPath(c))}},renderInto:function(a){this.render(this.renderTarget=a)},viewChanged:function(a){if(!a||(a.set("bubbleTarget",null),a.owner!==this||a.destroyed||a.destroy(),!a.destroyed||this.resetView)){var b=this.view;if("string"==typeof b&&(b=enyo.getPath(b)),"function"==typeof b&&(this.viewKind=b,b=null),"string"==typeof this.viewKind&&(this.viewKind=enyo.getPath(this.viewKind)),!b&&this.viewKind||b&&"object"==typeof b&&!(b instanceof enyo.UiComponent)){var c="object"==typeof b&&null!==b&&!b.destroyed&&b||{kind:this.viewKind},d=this;c.kind=c.kind||this.viewKind||enyo.defaultCtor,b=this.createComponent(c,{owner:this,container:this.container||null,bubbleTarget:this}),b.extend({destroy:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.bubbleTarget===d&&this.bubbleTarget.set("view",null)}})})}else b&&b instanceof enyo.UiComponent&&(this.viewKind||(this.viewKind=b.ctor),b.set("bubbleTarget",this));this.view=b}},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.viewChanged()}}),destroy:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.view=null,this.viewKind=null}}),notInstanceOwner:!0}),enyo.applications={},enyo.kind({name:"enyo.Application",kind:"enyo.ViewController",autoStart:!0,renderOnStart:!0,defaultKind:"enyo.Controller",controllers:null,viewReady:!1,start:function(){this.renderOnStart&&this.render()},render:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.view&&this.view.generated&&this.set("viewReady",!0)}}),constructor:enyo.inherit(function(a){return function(b){b&&"string"==typeof b.name&&(enyo.setPath(b.name,this),this.id=b&&b.name),a.apply(this,arguments),this.controllers=this.$,enyo.applications[this.id||this.makeId()]=this}}),create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.autoStart&&this.start()}}),adjustComponentProps:enyo.inherit(function(a){return function(b){b.app=this,a.apply(this,arguments)}}),destroy:enyo.inherit(function(a){return function(){delete enyo.applications[this.id],a.apply(this,arguments)}}),owner:enyo.master}),enyo.singleton({name:"enyo.jobs",published:{priorityLevel:0},_jobs:[[],[],[],[],[],[],[],[],[],[]],_priorities:{},_namedJobs:{},_magicWords:{low:3,normal:5,high:7},add:function(a,b,c){b=b||5,b=enyo.isString(b)?this._magicWords[b]:b,c&&(this.remove(c),this._namedJobs[c]=b),b>=this.priorityLevel?a():this._jobs[b-1].push({fkt:a,name:c})},remove:function(a){var b=this._jobs[this._namedJobs[a]-1];if(b)for(var c=b.length-1;c>=0;c--)if(b[c].name===a)return b.splice(c,1)},registerPriority:function(a,b){this._priorities[b]=a,this.setPriorityLevel(Math.max(a,this.priorityLevel))},unregisterPriority:function(a){var b=0;delete this._priorities[a];for(var c in this._priorities)b=Math.max(b,this._priorities[c]);this.setPriorityLevel(b)},priorityLevelChanged:function(a){a>this.priorityLevel&&this._doJob()},_doJob:function(){for(var a,b=9;b>=this.priorityLevel;b--)if(this._jobs[b].length){a=this._jobs[b].shift();break}a&&(a.fkt(),delete this._namedJobs[a.name],setTimeout(enyo.bind(this,"_doJob"),10))}}),enyo.macroize=function(a,b,c){var d,e,f=a,g=c||enyo.macroize.pattern,h=function(a,c){return d=enyo.getPath.call(b,c),void 0===d||null===d?"{$"+c+"}":(e=!0,d)},i=0;do{if(e=!1,f=f.replace(g,h),++i>=20)throw"enyo.macroize: recursion too deep"}while(e);return f},enyo.quickReplace=function(a,b,c){c=c||enyo.macroize.pattern;var d=function(a){return b[a]||a};return a.replace(c,d)},enyo.quickMacroize=function(a,b,c){var d,e=a,f=c||enyo.macroize.pattern,g=function(a,c){return d=c in b?b[c]:enyo.getPath.call(b,c),void 0===d||null===d?"{$"+c+"}":d};return e=e.replace(f,g)},enyo.macroize.pattern=/\{\$([^{}]*)\}/g,function(){window.$L=function(a){return a},enyo.updateLocale=function(){enyo.Signals.send("onlocalechange")},document.addEventListener&&document.addEventListener("localechange",function(){enyo.updateLocale()},!1)}(),enyo.kind({name:"enyo.InputBinding",kind:enyo.Binding,placeholderDirection:"source",oneWay:!1,transform:function(a,b,c){return a||(c[c.placeholderDirection].placeholder||"")}}),enyo.kind({name:"enyo.BooleanBinding",kind:enyo.Binding,transform:function(a){return!!a}}),enyo.kind({name:"enyo.EmptyBinding",kind:enyo.Binding,transform:function(a){return""!==a&&null!=a}}),enyo.kind({name:"enyo.BooleanOnlyBinding",kind:enyo.Binding,transform:function(a){return!0!==a&&!1!==a?void 0:a}}),enyo.kind({name:"enyo.StringBinding",kind:enyo.Binding,transform:function(a){return enyo.isString(a)?a:""}}),enyo.kind({name:"enyo.InvertBooleanBinding",kind:enyo.Binding,transform:function(a){return!a}}),enyo.kind({name:"enyo.Async",kind:"enyo.Object",published:{timeout:0},failed:!1,context:null,constructor:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.responders=[],this.errorHandlers=[],this.progressHandlers=[]}}),destroy:enyo.inherit(function(a){return function(){this.timeoutJob&&this.clearTimeout(),a.apply(this,arguments)}}),accumulate:function(a,b){var c=2>b.length?b[0]:enyo.bind(b[0],b[1]);a.push(c)},response:function(){return this.accumulate(this.responders,arguments),this},error:function(){return this.accumulate(this.errorHandlers,arguments),this},route:function(a,b){var c=this.bindSafely("respond");a.response(function(a,b){c(b)});var d=this.bindSafely("fail");a.error(function(a,b){d(b)}),a.go(b)},handle:function(a,b){var c=b.shift();if(c)if(c instanceof enyo.Async)this.route(c,a);else{var d=enyo.call(this.context||this,c,[this,a]);d=void 0!==d?d:a,(this.failed?this.fail:this.respond).call(this,d)}},startTimer:function(){this.startTime=enyo.perfNow(),this.timeout&&(this.timeoutJob=setTimeout(this.bindSafely("timeoutComplete"),this.timeout))},endTimer:function(){this.timeoutJob&&(this.endTime=enyo.perfNow(),clearTimeout(this.timeoutJob),this.timeoutJob=null,this.latency=this.endTime-this.startTime)},timeoutComplete:function(){this.timedout=!0,this.fail("timeout")},respond:function(a){this.failed=!1,this.endTimer(),this.handle(a,this.responders)},fail:function(a){this.failed=!0,this.endTimer(),this.handle(a,this.errorHandlers)},recover:function(){this.failed=!1},progress:function(){return this.accumulate(this.progressHandlers,arguments),this},sendProgress:function(a,b,c,d){var e=enyo.mixin({},d);e.type="progress",e.current=a,e.min=b,e.max=c;for(var f=0;this.progressHandlers.length>f;f++)enyo.call(this.context||this,this.progressHandlers[f],[this,e])},go:function(a){return this.sendProgress(0,0,1),enyo.asyncMethod(this,function(){this.sendProgress(1,0,1),this.respond(a)}),this}}),enyo.json={stringify:function(a,b,c){return JSON.stringify(a,b,c)},parse:function(a,b){return a?JSON.parse(a,b):null}},enyo.getCookie=function(a){var b=document.cookie.match(RegExp("(?:^|; )"+a+"=([^;]*)"));return b?decodeURIComponent(b[1]):void 0},enyo.setCookie=function(a,b,c){var d=a+"="+encodeURIComponent(b),e=c||{},f=e.expires;if("number"==typeof f){var g=new Date;g.setTime(g.getTime()+864e5*f),f=g}f&&f.toUTCString&&(e.expires=f.toUTCString());var h,i;for(h in e)d+="; "+h,!0!==(i=e[h])&&(d+="="+i);document.cookie=d},enyo.xhr={request:function(a){var b=this.getXMLHttpRequest(a),c=this.simplifyFileURL(enyo.path.rewrite(a.url)),d=a.method||"GET",e=!a.sync;if(a.username?b.open(d,c,e,a.username,a.password):b.open(d,c,e),enyo.mixin(b,a.xhrFields),a.callback&&this.makeReadyStateHandler(b,a.callback),a.headers=a.headers||{},"GET"!==d&&enyo.platform.ios&&6==enyo.platform.ios&&null!==a.headers["cache-control"]&&(a.headers["cache-control"]=a.headers["cache-control"]||"no-cache"),b.setRequestHeader)for(var f in a.headers)a.headers[f]&&b.setRequestHeader(f,a.headers[f]);return"function"==typeof b.overrideMimeType&&a.mimeType&&b.overrideMimeType(a.mimeType),b.send(a.body||null),!e&&a.callback&&b.onreadystatechange(b),b},cancel:function(a){a.onload&&(a.onload=null),a.onreadystatechange&&(a.onreadystatechange=null),a.abort&&a.abort()},makeReadyStateHandler:function(a,b){window.XDomainRequest&&a instanceof window.XDomainRequest?a.onload=function(){var c;"arraybuffer"===a.responseType?c=a.response:"string"==typeof a.responseText&&(c=a.responseText),b.apply(null,[c,a]),a=null}:a.onreadystatechange=function(){if(a&&4==a.readyState){var c;"arraybuffer"===a.responseType?c=a.response:"string"==typeof a.responseText&&(c=a.responseText),b.apply(null,[c,a]),a=null}}},inOrigin:function(a){var b=document.createElement("a"),c=!1;return b.href=a,(":"===b.protocol||b.protocol===window.location.protocol&&b.hostname===window.location.hostname&&b.port===(window.location.port||("https:"===window.location.protocol?"443":"80")))&&(c=!0),c},simplifyFileURL:function(a){var b=document.createElement("a");if(b.href=a,"file:"===b.protocol||":"===b.protocol&&"file:"===window.location.protocol){var c=4>enyo.platform.webos?"":b.host;return b.protocol+"//"+c+b.pathname}return":"===b.protocol&&"x-wmapp0:"===window.location.protocol?window.location.protocol+"//"+window.location.pathname.split("/")[0]+"/"+b.host+b.pathname:a},getXMLHttpRequest:function(a){try{if(10>enyo.platform.ie&&window.XDomainRequest&&!a.headers&&!this.inOrigin(a.url)&&!/^file:\/\//.test(window.location.href))return new window.XDomainRequest}catch(a){}try{if(enyo.platform.firefoxOS){var b=!1,c={};if(a.mozSystem&&(c.mozSystem=!0,b=!0),a.mozAnon&&(c.mozAnon=!0,b=!0),b)return new XMLHttpRequest(c)}return new XMLHttpRequest}catch(a){}return null}},function(a){function b(){this.fake=!0,this._fields=[],this.boundary="--------------------------";for(var a=0;24>a;a++)this.boundary+=Math.floor(10*Math.random()).toString(16)}function c(a,b){if(this.name=b.name,this.type=b.type||"application/octet-stream",!enyo.isArray(a))throw Error("enyo.Blob only handles Arrays of Strings");if(a.length>0&&"string"!=typeof a[0])throw Error("enyo.Blob only handles Arrays of Strings");this._bufs=a}if(a.FormData)try{return new a.FormData,new a.Blob,enyo.FormData=a.FormData,void(enyo.Blob=a.Blob)}catch(a){}b.prototype.getContentType=function(){return"multipart/form-data; boundary="+this.boundary},b.prototype.append=function(a,b,c){this._fields.push([a,b,c])},b.prototype.toString=function(){var a=this.boundary,b="";return enyo.forEach(this._fields,function(c){if(b+="--"+a+"\r\n",c[2]||c[1].name){var d=c[1],e=c[2]||d.name;b+='Content-Disposition: form-data; name="'+c[0]+'"; filename="'+e+'"\r\n',b+="Content-Type: "+d.type+"\r\n\r\n",b+=d.getAsBinary()+"\r\n"}else b+='Content-Disposition: form-data; name="'+c[0]+'";\r\n\r\n',b+=c[1]+"\r\n"}),b+="--"+a+"--"},enyo.FormData=b,c.prototype.getAsBinary=function(){var a="";return a.concat.apply(a,this._bufs)},enyo.Blob=c}(window),enyo.AjaxProperties={cacheBust:!0,url:"",method:"GET",handleAs:"json",contentType:"application/x-www-form-urlencoded",sync:!1,headers:null,postBody:"",username:"",password:"",xhrFields:null,mimeType:null},enyo.kind({name:"enyo.Ajax",kind:"enyo.Async",published:enyo.AjaxProperties,constructor:enyo.inherit(function(a){return function(b){enyo.mixin(this,b),a.apply(this,arguments)}}),destroy:enyo.inherit(function(a){return function(){this.xhr=null,a.apply(this,arguments)}}),go:function(a){return this.failed=!1,this.startTimer(),this.request(a),this},request:function(a){var b=this.url.split("?"),c=b.shift()||"",d=b.length?b.join("?").split("&"):[],e=null;enyo.isString(a)?e=a:a&&(e=enyo.Ajax.objectToQuery(a)),e&&(d.push(e),e=null),this.cacheBust&&d.push(Math.random());var f,g=d.length?[c,d.join("&")].join("?"):c,h={};"GET"!=this.method&&(f=this.postBody,"POST"===this.method&&f instanceof enyo.FormData?f.fake&&(h["Content-Type"]=f.getContentType(),f=""+f):(h["Content-Type"]=this.contentType,f instanceof Object&&(f=null!==this.contentType.match(/^application\/json(;.*)?$/)?JSON.stringify(f):"application/x-www-form-urlencoded"===this.contentType?enyo.Ajax.objectToQuery(f):""+f))),enyo.mixin(h,this.headers),0===enyo.keys(h).length&&(h=void 0);try{this.xhr=enyo.xhr.request({url:g,method:this.method,callback:this.bindSafely("receive"),body:f,headers:h,sync:this.sync,username:this.username,password:this.password,xhrFields:enyo.mixin({onprogress:this.bindSafely(this.updateProgress)},this.xhrFields),mimeType:this.mimeType})}catch(a){this.fail(a)}},receive:function(a,b){if(!this.failed&&!this.destroyed){var c;c="string"==typeof b.responseText?b.responseText:b.responseBody,this.xhrResponse={status:b.status,headers:enyo.Ajax.parseResponseHeaders(b),body:c},this.isFailure(b)?this.fail(b.status):this.respond(this.xhrToResponse(b))}},fail:enyo.inherit(function(a){return function(){this.xhr&&(enyo.xhr.cancel(this.xhr),this.xhr=null),a.apply(this,arguments)}}),xhrToResponse:function(a){return a?this[(this.handleAs||"text")+"Handler"](a):void 0},isFailure:function(a){try{var b="";return"string"==typeof a.responseText&&(b=a.responseText),0===a.status&&""===b||0!==a.status&&(200>a.status||a.status>=300)}catch(a){return!0}},xmlHandler:function(a){return a.responseXML},textHandler:function(a){return a.responseText},jsonHandler:function(a){var b=a.responseText;try{return b&&enyo.json.parse(b)}catch(a){return enyo.warn("Ajax request set to handleAs JSON but data was not in JSON format"),b}},updateProgress:function(a){var b={};for(var c in a)"input"!==c&&(b[c]=a[c]);this.sendProgress(a.loaded,0,a.total,b)},statics:{objectToQuery:function(a){var b=encodeURIComponent,c=[],d={};for(var e in a){var f=a[e];if(f!=d[e]){var g=b(e)+"=";if(enyo.isArray(f))for(var h=0;f.length>h;h++)c.push(g+b(f[h]));else c.push(g+b(f))}}return c.join("&")}},protectedStatics:{parseResponseHeaders:function(a){var b={},c=[];a.getAllResponseHeaders&&(c=a.getAllResponseHeaders().split(/\r?\n/));for(var d=0;c.length>d;d++){var e=c[d],f=e.indexOf(": ");if(f>0){var g=e.substring(0,f).toLowerCase(),h=e.substring(f+2);b[g]=h}}return b}}}),enyo.kind({name:"enyo.JsonpRequest",kind:"enyo.Async",published:{url:"",charset:null,callbackName:"callback",cacheBust:!0,overrideCallback:null},protectedStatics:{nextCallbackID:0},addScriptElement:function(){var a=document.createElement("script");a.src=this.src,a.async="async",this.charset&&(a.charset=this.charset),a.onerror=this.bindSafely(function(){this.fail(400)});var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b),this.scriptTag=a},removeScriptElement:function(){var a=this.scriptTag;this.scriptTag=null,a.onerror=null,a.parentNode&&a.parentNode.removeChild(a)},constructor:enyo.inherit(function(a){return function(b){enyo.mixin(this,b),a.apply(this,arguments)}}),go:function(a){return this.startTimer(),this.jsonp(a),this},jsonp:function(a){var b=this.overrideCallback||"enyo_jsonp_callback_"+enyo.JsonpRequest.nextCallbackID++;this.src=this.buildUrl(a,b),this.addScriptElement(),window[b]=this.bindSafely(this.respond);var c=this.bindSafely(function(){this.removeScriptElement(),window[b]=null});this.response(c),this.error(c)},buildUrl:function(a,b){var c=this.url.split("?"),d=c.shift()||"",e=c.length?c.join("?").split("&"):[],f=this.bodyArgsFromParams(a,b);return e.push(f),this.cacheBust&&e.push(Math.random()),[d,e.join("&")].join("?")},bodyArgsFromParams:function(a,b){if(enyo.isString(a))return a.replace("=?","="+b);var c=enyo.mixin({},a);return this.callbackName&&(c[this.callbackName]=b),enyo.Ajax.objectToQuery(c)}}),enyo.kind({name:"enyo._AjaxComponent",kind:"enyo.Component",published:enyo.AjaxProperties}),enyo.kind({name:"enyo.WebService",kind:"enyo._AjaxComponent",published:{jsonp:!1,callbackName:"callback",charset:null,timeout:0},events:{onResponse:"",onError:"",onProgress:""},send:function(a,b){return this.jsonp?this.sendJsonp(a,b):this.sendAjax(a,b)},sendJsonp:function(a,b){var c=new enyo.JsonpRequest;for(var d in{url:1,callbackName:1,charset:1,timeout:1})c[d]=this[d];return enyo.mixin(c,b),this.sendAsync(c,a)},sendAjax:function(a,b){var c=new enyo.Ajax(b);for(var d in enyo.AjaxProperties)c[d]=this[d];return c.timeout=this.timeout,enyo.mixin(c,b),this.sendAsync(c,a)},sendAsync:function(a,b){return a.go(b).response(this,"response").error(this,"error").progress(this,"progress")},response:function(a,b){this.doResponse({ajax:a,data:b})},error:function(a,b){this.doError({ajax:a,data:b})},progress:function(a,b){this.doProgress(b)}}),enyo.kind({name:"enyo.Source",kind:null,store:null,fetch:function(){},commit:function(){},destroy:function(){},find:function(){},get:function(){return enyo.getPath.apply(this,arguments)},set:function(){return enyo.setPath.apply(this,arguments)}}),enyo.kind({name:"enyo.LocalStorageSource",kind:enyo.Source}),function(a){var b=function(a){return a.replace(/([^:]\/)(\/+)/g,"$1")},c=/^http/,d=function(){var a=location.protocol,b=location.pathname.split("/");return a+="//"+location.host,b.length>1&&b[b.length-1].match(/\./)&&b.pop(),a+="/"+b.join("/")};a.kind({name:"enyo.XHRSource",kind:a.Source,requestKind:null,urlRoot:"",buildUrl:function(e,f){var g=f.url||a.isFunction(e.getUrl)&&e.getUrl()||e.url;return c.test(g)||(g=(e.urlRoot||this.urlRoot||d())+"/"+g),b(g)},go:function(b){var c=this.requestKind,d=a.only(this._requestOptions,b),e=new c(d);e.response(function(a,c){b&&b.success&&b.success(c,a)}),e.error(b.fail),e.go(b.params)},find:function(a,b){var c=a.prototype,d=c.kindName,e=b.attributes,f="/find/"+d;b.url=f,b.url=this.buildUrl(c,b),b.method="POST",b.postBody=e,this.go(b)}}),a.kind({name:"enyo.AjaxSource",kind:a.XHRSource,requestKind:a.Ajax,fetch:function(a,b){b.method="GET",b.url=this.buildUrl(a,b),this.go(b)},commit:function(a,b){b.method=a.isNew?"POST":"PUT",b.url=this.buildUrl(a,b),b.postBody=a.toJSON(),this.go(b)},destroy:function(a,b){b.method="DELETE",b.url=this.buildUrl(a,b),this.go(b)},_requestOptions:a.keys(a.AjaxProperties)}),a.kind({name:"enyo.JsonpSource",kind:a.XHRSource,requestKind:a.JsonpRequest,fetch:function(a,b){b.cacheBust=!1,b.method="GET",b.url=this.buildUrl(a,b),this.go(b)},commit:function(a,b){b.cacheBust=!1,b.method=a.isNew?"POST":"PUT",b.url=this.buildUrl(a,b),b.postBody=a.toJSON(),this.go(b)},destroy:function(a,b){b.cacheBust=!1,b.method="DELETE",b.url=this.buildUrl(a,b),this.go(b)},_requestOptions:a.keys(a.getPath("enyo.JsonpRequest").prototype.published)})}(enyo),function(a){a.kind({name:"enyo.Store",kind:a.Object,noDefer:!0,sources:{ajax:"enyo.AjaxSource",jsonp:"enyo.JsonpSource"},ignoreDuplicates:!1,records:null,collections:null,createRecord:function(b,c,d){3>arguments.length&&a.isObject(b)&&(d=c,c=b,b=a.Model);var e=a.isString(b)&&a.getPath(b)||a.isFunction(b)&&b;return d=d||{},a.mixin(d,{store:this}),e||(e=a.Model),new e(c,d)},getRecord:function(a){return this.records.euid[a]},getCollection:function(a){return this.collections[a]},createCollection:function(b,c,d){3>arguments.length&&a.isArray(b)&&(d=c,c=b,b=a.Collection);var e=a.isString(b)&&a.getPath(b)||a.isFunction(b)&&b;return d=d||{},a.mixin(d,{store:this}),e||(e=a.Collection),new e(c,d)},addRecord:function(a){var b=this.records,c=a.primaryKey,d=b.pk[a.kindName]||(b.pk[a.kindName]={}),e=a.get(c),f=a.euid;if(a.store&&a.store!==this&&a.store.removeRecord(a),b.euid[f]&&b.euid[f]!==a)throw"enyo.Store.addRecord: duplicate and unmatching euid entries - parallel euid's should not exist";if(b.euid[f]=a,void 0!==e&&null!==e)if(d[e]&&d[e]!==a){if(!this.ignoreDuplicates)throw"enyo.Store.addRecord: duplicate record added to store for kind `"+a.kindName+"` with primaryKey set to `"+c+"` and the same value of `"+e+"` which cannot coexist for the kind without the `ignoreDuplicates` flag of the store set to `true`"}else d[e]=a;b.kn[a.kindName]=b.kn[a.kindName]||(b.kn[a.kindName]={}),b.kn[a.kindName][f]=a,a.store||(a.store=this)},addCollection:function(a){var b=this.collections,c=a.euid;a.store&&a.store!==this&&a.store.removeCollection(a),a.addListener("destroy",this._collectionDestroyed),b[c]=a,a.store||(a.store=this)},removeCollection:function(a){delete this.collections[a.euid],a.removeListener("destroy",this._collectionDestroyed)},removeRecord:function(a){var b=this.records,c=a.primaryKey,d=a.euid,e=a.get(c);delete b.euid[d],delete b.kn[a.kindName][d],delete b.pk[a.kindName][e]},addSources:function(a){var b=this.sources;for(var c in a)b[c]=a[c];this._initSources()},removeSource:function(a){delete this.sources[a]},removeSources:function(a){for(var b,c=this.sources,d=0;b=a[d];++d)delete c[b]},find:function(b,c){1==arguments.length&&(c=b,b=a.Model);var d=a.isString(b)?a.constructorForKind(b):b,e=d.prototype,f=c,g=f.attributes,h=this.sources,i=this.records,j=e.primaryKey,k=f.source&&(a.isString(f.source)&&h[f.source]||f.source)||h[e.defaultSource],l=f.euid&&i.euid[f.euid]||g&&g[j]&&i.pk[e.kindName][g[j]];return l?f.success(f,l):k?(f=a.clone(f),f.success=this.bindSafely("didFind",c),f.fail=this.bindSafely("didFail","find",c),c.strategy=c.strategy||"merge",void k.find(d,f)):this.warn("could not find source `"+(f.source||e.defaultSource)+"`")},findLocal:function(b,c,d){3>arguments.length&&a.isObject(b)&&(a.isFunction(c)&&(d=c),c=b,b=a.Model);var e,f=("string"==typeof b?a.constructorForKind(b):b).prototype,g=this.records,h=f?f.primaryKey:"",i=c[h];return c.euid?g.euid[c.euid]:void 0!==i&&null!==i?(e=g.pk[f.kindName])&&e[i]||void 0:c.kindName?(e=g.kn[c.kindName])&&a.values(e)||[]:(d=d&&("string"==typeof d&&this[d]||d)||this.filter,d=this.bindSafely(d,c),a.filter(a.values(g.kn[f.kindName])||[],d,this))},filter:function(a,b){for(var c in a)if(b.get(c)!==a[c])return!1;return!0},didFind:function(){this.log(arguments)},didFetch:function(a,b,c){b&&b.success&&b.success(c)},didCommit:function(a,b,c){b&&b.success&&b.success(c)},didDestroy:function(a,b,c){b&&b.success&&b.success(c)},didFail:function(a,b,c,d){return c&&c.fail?c.fail(d):void 0},fetchRecord:function(b,c){var d=this.sources,e=c?a.clone(c):{},f=d[e.source||b.defaultSource];if(!f)throw"enyo.Store: Could not find source '"+(e.source||b.defaultSource)+"'";e.success=this.bindSafely("didFetch",b,c),e.fail=this.bindSafely("didFail","fetch",b,c),f.fetch(b,e)},commitRecord:function(b,c){var d=this.sources,e=c?a.clone(c):{},f=d[e.source||b.defaultSource];if(!f)throw"enyo.Store: Could not find source '"+(e.source||b.defaultSource)+"'";e.success=this.bindSafely("didCommit",b,c),e.fail=this.bindSafely("didFail","commit",b,c),f.commit(b,e)},destroyRecord:function(b,c){var d=this.sources,e=c?a.clone(c):{},f=d[e.source||b.defaultSource];if(!f)throw"enyo.Store: Could not find source '"+(e.source||b.defaultSource)+"'";e.success=this.bindSafely("didDestroy",b,c),e.fail=this.bindSafely("didFail","destroy",b,c),f.destroy(b,e)},destroyRecordLocal:function(a,b){this.didDestroy(a,b)},_initRecords:function(){for(var a,b=this.records,c=["euid","pk","kn"],d=0;a=c[d];++d)b[a]=b[a]||{}},_initSources:function(){var b,c=this.sources;for(var d in c)(b=c[d])&&a.isString(b)&&(b=a.getPath(b)),b?"function"==typeof b&&b.prototype?c[d]=new b({store:this}):(c[d]=b,b.store=this):!b&&a.isString(c[d])&&this.warn("could not find source -> `"+c[d]+"`")},_recordDestroyed:function(a){this.removeRecord(a)},_collectionDestroyed:function(a){this.removeCollection(a)},_recordKeyChanged:function(a,b){b&&delete this.records.pk[a.kindName][b],this.addRecord(a)},constructor:a.inherit(function(a){return function(){var b=a.apply(this,arguments);return this.sources=this.sources||{},this.records=this.records||{},this.collections=this.collections||{},this._initRecords(),this._initSources(),this._recordDestroyed=this.bindSafely("_recordDestroyed"),this._collectionDestroyed=this.bindSafely("_collectionDestroyed"),b}})}),a.Store.concat=function(b,c){if(c.sources){var d=b.prototype||b;d.sources=d.sources?a.mixin(a.clone(d.sources),c.sources):c.sources,delete c.sources}},a.store=new a.Store}(enyo),function(a){var b={ignore:!0,filter:function(a,b,c,d){return void 0===d[a]&&void 0!==b}};a.kind({name:"enyo.Model",kind:null,mixins:[a.ObserverSupport,a.BindingSupport,a.RegisteredEventSupport],noDefer:!0,attributes:null,defaults:{},readOnly:!1,store:null,defaultSource:"ajax",includeKeys:null,url:"",urlRoot:"",dirty:!1,primaryKey:"id",mergeKeys:null,euid:"",isNew:!0,get:function(a){if(this.attributes){var b=this.attributes[a];return b&&"function"==typeof b?b.call(this):b}},set:function(b,c,d){if(this.attributes){if(a.isObject(b))return this.setObject(b);var e,f,g=this.attributes[b];if(this._updated=!1,g&&"function"==typeof g)return this;if(d||g!==c){if(this.previous[b]=g,this.computedMap&&(f=this.computedMap[b])){"string"==typeof f&&(f=this.computedMap[b]=a.trim(f).split(" ")),e={};for(var h,i=0;h=f[i];++i)this.attributes[b]=g,this.previous[h]=e[h]=this.get(h),this.attributes[b]=c,this.changed[h]=this.get(h),this._updated=!0}if(this.changed[b]=this.attributes[b]=c,this.notifyObservers(b,g,c),this._updated=!0,e)for(var j in e)this.notifyObservers(j,this.previous[j],e[j]);!this.isSilenced()&&this._updated&&(this._updated=!1,this.triggerEvent("change"),this.changed={}),this.dirty=!0}}return this},setObject:function(a){if(this.attributes&&a){this.stopNotifications(),this.silence();var b=!1;for(var c in a)this.set(c,a[c]),b=b||this._updated;this.startNotifications(),this.unsilence(),b&&(this._updated=!1,this.triggerEvent("change")),this.changed={}}return this},constructor:function(c,d){d&&this.importProps(d),this.euid=a.uuid();var e=this.attributes=this.attributes?a.clone(this.attributes):{},f=this.defaults,g=c;g&&a.mixin(e,this.parse(g)),f&&a.mixin(e,f,b),this.changed={},this.previous=this.raw(),this.storeChanged()},importProps:function(b){b&&a.kind.statics.extend(b,this)},raw:function(){var b=this.includeKeys,c=this.attributes,d=b?a.only(b,c):a.clone(c);for(var e in d)"function"==typeof d[e]?d[e]=d[e].call(this):d[e]instanceof a.Collection&&(d[e]=d[e].raw());return d},toJSON:function(){return a.json.stringify(this.raw())},getUrl:function(){var a=this.primaryKey,b=this.get(a),c=this.urlRoot+"/"+this.url;return b&&(c+="/"+b),c},commit:function(b){var c=b?a.clone(b):{};c.success=a.bindSafely(this,"didCommit",this,b),c.fail=a.bindSafely(this,"didFail","commit",this,b),this.store.commitRecord(this,c)},fetch:function(b){var c=b?a.clone(b):{};c.success=a.bindSafely(this,"didFetch",this,b),c.fail=a.bindSafely(this,"didFail","fetch",this,b),this.store.fetchRecord(this,c)},destroy:function(b){if(this.readOnly||this.isNew)return this.destroyLocal();var c=b?a.clone(b):{};c.success=a.bindSafely(this,"didDestroy",this,b),c.fail=a.bindSafely(this,"didFail","destroy",this,b),this.store.destroyRecord(this,c)},destroyLocal:function(){var b={};b.success=a.bindSafely(this,"didDestroy",this),this.store.destroyRecordLocal(this,b)},parse:function(a){return a},didFetch:function(a,b,c){var d=this.parse(c);d&&this.setObject(d),this.dirty=!1,this.isNew=!1,b&&b.success&&b.success(a,b,c)},didCommit:function(a,b,c){var d=this.parse(c);d&&this.setObject(d),this.dirty=!1,this.isNew=!1,b&&b.success&&b.success(a,b,c)},didDestroy:function(b,c,d){for(var e in this.attributes)(this.attributes[e]instanceof a.Model||this.attributes[e]instanceof a.Collection)&&this.attributes[e].owner===this&&this.attributes[e].destroy();this.triggerEvent("destroy"),this.store._recordDestroyed(this),this.previous=null,this.changed=null,this.defaults=null,this.includeKeys=null,this.mergeKeys=null,this.store=null,this.destroyed=!0,this.removeAllObservers(),this.removeAllListeners(),c&&c.success&&c.success(b,c,d)},didFail:function(a,b,c,d){c&&c.fail&&c.fail(b,c,d)},storeChanged:function(){var b=this.store||a.store;b&&a.isString(b)&&((b=a.getPath(b))||a.warn("enyo.Model: could not find the requested store -> ",this.store,", usingthe default store")),b=this.store=b||a.store,b.addRecord(this)},_attributeSpy:function(){this.primaryKey==arguments[2]&&this.store._recordKeyChanged(this,this.previous[this.primaryKey])},observers:{_attributeSpy:"*"}}),a.Model.concat=function(b,c){var d=b.prototype||b;c.attributes&&(d.attributes=d.attributes?a.mixin(a.clone(d.attributes),c.attributes):c.attributes,delete c.attributes),c.defaults&&(d.defaults=d.defaults?a.mixin(a.clone(d.defaults),c.defaults):c.defaults,delete c.defaults),c.mergeKeys&&(d.mergeKeys=d.mergeKeys?a.merge(d.mergeKeys,c.mergeKeys):c.mergeKeys.slice(),delete c.mergeKeys)}}(enyo),function(a){a.kind({name:"enyo.RelationalModel",kind:"enyo.Model"})}(enyo),enyo.kind({name:"enyo.Collection",kind:enyo.Component,noDefer:!0,mixins:[enyo.RegisteredEventSupport],model:enyo.Model,url:"",instanceAllRecords:!1,defaultSource:"ajax",records:null,preserveRecords:!1,store:null,length:0,isFetching:!1,fetch:function(a){var b=a?enyo.clone(a):{};(a=a||{})&&(a.strategy=a.strategy||"add"),b.success=enyo.bindSafely(this,"didFetch",this,a),b.fail=enyo.bindSafely(this,"didFail","fetch",this,a),this.set("isFetching",!0),enyo.asyncMethod(this,function(){this.store.fetchRecord(this,b)})},fetchAndReplace:function(a){var b=a||{};return b.replace=!0,this.fetch(b)},fetchAndDestroy:function(a){var b=a||{};return b.destroy=!0,this.fetch(b)},fetchAndDestroyLocal:function(a){var b=a||{};return b.destroyLocal=!0,this.fetch(b)},didFetch:function(a,b,c){b.replace&&!b.destroy?this.removeAll():b.destroy&&!b.destroyLocal?this.destroyAll():b.destroyLocal&&this.destroyAllLocal();var d,e=this.parse(c),f=b.strategy;if(e){for(var g,h=0;g=e[h];++h)g&&(g.isNew=!1);(d=this[f])&&enyo.isFunction(d)&&d.call(this,e)}b&&b.success&&b.success(a,b,c),this.set("isFetching",!1)},didFail:function(a,b,c,d){c&&c.fail&&c.fail(b,c,d),this.set("isFetching",!1)},parse:function(a){return a},raw:function(){return this.map(function(a){return a.raw()})},toJSON:function(){return enyo.json.stringify(this.raw())},merge:function(a){if(a){var b=this.model.prototype,c=b.primaryKey,d=b.mergeKeys,e=[],f=this.records.slice(),g=!1,h=!1;a=enyo.isArray(a)?a:[a];for(var i,j=0;i=a[j];++j){g=!1;var k=i.get?i.get(c):i[c];if(d||null!==k&&void 0!==k){for(var l,m=0;!g&&(l=f[m]);++m)if(null!==k&&void 0!==k&&k===(l.get?l.get(c):l[c]))g=!0,f.splice(m,1);else if(d){h=!1;for(var n,o=0;n=d[o];++o){if((k=i.get?i.get(n):i[n])!==(l.get?l.get(n):l[n])){h=!1;break}h=!0}h&&(g=!0,f.splice(m,1))}g?l.setObject?l.setObject(i.raw?i.raw():l.parse(i)):enyo.mixin(l,i.raw?i.raw():i):e.push(i)}else e.push(i)}e.length&&this.add(e)}},add:function(a,b){var c=this.records,d=[],e=this.length;if(b=null===b||isNaN(b)?e:Math.max(0,Math.min(e,b)),a=enyo.isArray(a)?a:[a],!a.length)return d;for(var f,g=0;f=a[g];++g){if(f instanceof enyo.Model){if(f.destroyed)throw"enyo.Collection.add: cannot add a record that has already been destroyed";f.addListener("change",this._recordChanged),f.addListener("destroy",this._recordDestroyed)}else this.instanceAllRecords&&(a[g]=this.createRecord(f,null,!1));d.push(g+b)}return a.unshift.apply(a,[b,0]),c.splice.apply(c,a),a.splice(0,2),this.length=c.length,e!==this.length&&this.notifyObservers("length",e,this.length),d.length&&this.triggerEvent("add",{records:d}),d},remove:function(a){var b,c,d=[],e={},f=this.length;a=enyo.isArray(a)&&a||[a];for(var g,h,i,j=0;g=a[j];++j)if((h=this.indexOf(g))>-1){if(void 0===c||c>=h)c=h,d.unshift(h);else if(void 0===b||h>=b)b=h,d.push(h);else if(b!==h&&c!==h){for(i=0;h>d[i];)++i;d.splice(i,0,h)}e[h]=g}for(j=d.length-1;!isNaN(h=d[j]);--j)this.records.splice(h,1),e[h]instanceof this.model&&(e[h].removeListener("change",this._recordChanged),e[h].removeListener("destroy",this._recordDestroyed));return this.length=this.records.length,f!=this.length&&this.notifyObservers("length",f,this.length),d.length&&this.triggerEvent("remove",{records:e}),e},reset:function(a){var b,c=!1;return a&&enyo.isArray(a)&&(b=this.records.length,this.records=a.slice(),this.length=this.records.length,c=!0),c&&(b!==this.length&&this.notifyObservers("length",b,this.length),this.triggerEvent("reset",{records:this.records})),this},removeAll:function(){return this.reset().remove(this.records)},destroyAll:function(a){var b,c=this.removeAll(),d=!0===a?"destroyLocal":"destroy";this._destroyAll=!0;for(var e in c)(b=c[e])&&b instanceof enyo.Model&&b[d]();this._destroyAll=!1},destroyAllLocal:function(){this.destroyAll(!0)},indexOf:function(a,b){return enyo.indexOf(a,this.records,b)},map:function(a,b){b=b||this;for(var c,d=[],e=0,f=this.length;f>e&&(c=this.at(e));++e)d.push(a.call(b,c,e));return d},filter:function(a,b){var c=[];if(a){b=b||this;for(var d,e=0,f=this.length;f>e&&(d=this.at(e));++e)a.call(b,d,e)&&c.push(d)}return c},at:function(a){var b=this.records[a];return!b||b instanceof this.model||(b=this.records[a]=this.createRecord(b,null,!1)),b},createRecord:function(a,b,c){var d,e={owner:this};return a&&!1===a.isNew&&((b||e).isNew=!1,delete a.isNew),d=this.store.createRecord(this.model,a,b?enyo.mixin(e,b):e),c=!1===c?-1:null!==c&&c>=0?c:this.length,d.addListener("change",this._recordChanged),d.addListener("destroy",this._recordDestroyed),c>=0&&this.add(d,c),d},recordChanged:null,constructor:enyo.inherit(function(a){return function(b,c){var d=enyo.isArray(b)?b.slice():null,e=c||(b&&!d?b:null);e&&this.importProps(e),this.records=(this.records||[]).concat(d?this.parse(d):[]),this.length=this.records.length,this._recordChanged=enyo.bindSafely(this,this._recordChanged),this._recordDestroyed=enyo.bindSafely(this,this._recordDestroyed),this.euid=enyo.uuid();var f=this.model;this.model=f&&enyo.isString(f)?enyo.getPath(f):enyo.checkConstructor(f),this.storeChanged(),b=c=void 0,a.apply(this,arguments)}}),destroy:enyo.inherit(function(a){return function(){var b,c=this.removeAll();for(var d in c)b=c[d],b.owner===this&&(this.preserveRecords?b.owner=null:b.destroy());this.triggerEvent("destroy"),this.store=null,this.removeAllListeners(),a.apply(this,arguments)}}),importProps:function(a){a&&(a.records&&(this.records=this.records?this.records.concat(a.records):a.records,delete a.records),enyo.kind.statics.extend(a,this))},storeChanged:function(){var a=this.store||enyo.store;a&&enyo.isString(a)&&((a=enyo.getPath(a))||enyo.warn("enyo.Collection: could not find the requested store -> ",this.store,", usingthe default store")),a=this.store=a||enyo.store,a.addCollection(this)},_recordChanged:function(a,b,c){this.recordChanged&&this.recordChanged(a,b,c)},_recordDestroyed:function(a){this._destroyAll||this.remove(a)}}),enyo.kind({name:"enyo.ModelController",kind:enyo.Controller,model:null,get:function(a){return"model"==a?this.getLocal(a):this._isComputed(a)?this._getComputed(a):this.model?this.model.get.apply(this.model,arguments):null},getLocal:function(){return enyo.getPath.apply(this,arguments)},set:function(a,b){return"model"==a?this.setLocal(a,b):this.model?this.model.set.apply(this.model,arguments):void 0},setLocal:function(){return enyo.setPath.apply(this,arguments)},sync:function(a){var b=this.model,c=a||this.model&&this.model.attributes;for(var d in c)this.notifyObservers(d,b?b.previous[d]:c[d],b?this.model.get(d):null)},modelChanged:function(a,b){var c=a,d=b;c&&(c.removeListener("change",this._modelChanged),c.removeListener("destroy",this._modelDestroyed),d||this.sync(c.attributes)),d&&(d.addListener("change",this._modelChanged),d.addListener("destroy",this._modelDestroyed),this.sync())},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.model&&this.notifyObservers("model",null,this.model)}}),constructor:enyo.inherit(function(a){return function(){a.apply(this,arguments),this._modelChanged=this.bindSafely("_modelChanged")}}),_modelChanged:function(a){var b=a.changed;for(var c in b)this.notifyObservers(c,a.previous[c],b[c])},_modelDestroyed:function(a){a===this.model&&this.setLocal("model",null)}}),enyo.requiresWindow=function(a){a()},enyo.dom={byId:function(a,b){return"string"==typeof a?(b||document).getElementById(a):a},escape:function(a){return null!==a?(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},getBounds:function(a){return a?{left:a.offsetLeft,top:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}:null},_ie8GetComputedStyle:function(a){var b=/(\-([a-z]){1})/g;return"float"===a?a="styleFloat":b.test(a)&&(a=a.replace(b,function(){return arguments[2].toUpperCase()})),void 0!==this[a]?this[a]:null},getComputedStyle:function(a){if(9>enyo.platform.ie&&a&&a.currentStyle){var b=enyo.clone(a.currentStyle);return b.getPropertyValue=this._ie8GetComputedStyle,b.setProperty=function(){return a.currentStyle.setExpression.apply(a.currentStyle,arguments)},b.removeProperty=function(){return a.currentStyle.removeAttribute.apply(a.currentStyle,arguments)},b}return window.getComputedStyle&&a&&window.getComputedStyle(a,null)},getComputedStyleValue:function(a,b,c){var d=c||this.getComputedStyle(a),e=enyo.platform.ie;if(d=d?d.getPropertyValue(b):null,e){var f={thin:(e>8?2:1)+"px",medium:(e>8?4:3)+"px",thick:(e>8?6:5)+"px",none:"0"};if(void 0!==f[d]&&(d=f[d]),"auto"==d)switch(b){case"width":d=a.offsetWidth;break;case"height":d=a.offsetHeight}}return d},getFirstElementByTagName:function(a){var b=document.getElementsByTagName(a);return b&&b[0]},applyBodyFit:function(){var a=this.getFirstElementByTagName("html");a&&this.addClass(a,"enyo-document-fit"),enyo.dom.addBodyClass("enyo-body-fit"),enyo.bodyIsFitting=!0},getWindowWidth:function(){return window.innerWidth?window.innerWidth:document.body&&document.body.offsetWidth?document.body.offsetWidth:"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?document.documentElement.offsetWidth:320},getWindowHeight:function(){return window.innerHeight?window.innerHeight:document.body&&document.body.offsetHeight?document.body.offsetHeight:"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetHeight?document.documentElement.offsetHeight:480},compareDocumentPosition:function(a,b){return a.compareDocumentPosition?a.compareDocumentPosition(b):a.contains?(a!=b&&a.contains(b)&&16)+(a!=b&&b.contains(a)&&8)+(a.sourceIndex>=0&&b.sourceIndex>=0?(a.sourceIndex<b.sourceIndex&&4)+(a.sourceIndex>b.sourceIndex&&2):1)+0:0},_ieCssToPixelValue:function(a,b){var c=b,d=a.style,e=d.left,f=a.runtimeStyle&&a.runtimeStyle.left;return f&&(a.runtimeStyle.left=a.currentStyle.left),d.left=c,c=d.pixelLeft,d.left=e,f&&(d.runtimeStyle.left=f),c},_pxMatch:/px/i,getComputedBoxValue:function(a,b,c,d){var e=d||this.getComputedStyle(a);if(e&&(!enyo.platform.ie||enyo.platform.ie>=9)){var f=e.getPropertyValue(b+"-"+c);return"auto"===f?0:parseInt(f,10)}if(a&&a.currentStyle){var g=a.currentStyle[b+enyo.cap(c)];return g.match(this._pxMatch)||(g=this._ieCssToPixelValue(a,g)),parseInt(g,0)}return 0},calcBoxExtents:function(a,b){var c=this.getComputedStyle(a);return{top:this.getComputedBoxValue(a,b,"top",c),right:this.getComputedBoxValue(a,b,"right",c),bottom:this.getComputedBoxValue(a,b,"bottom",c),left:this.getComputedBoxValue(a,b,"left",c)}},calcPaddingExtents:function(a){return this.calcBoxExtents(a,"padding")},calcMarginExtents:function(a){return this.calcBoxExtents(a,"margin")},calcNodePosition:function(a,b){var c=0,d=0,e=a,f=e.offsetWidth,g=e.offsetHeight,h=enyo.dom.getStyleTransformProp(),i=/translateX\((-?\d+)px\)/i,j=/translateY\((-?\d+)px\)/i,k=0,l=0,m=0,n=0,o=0,p=0;if(b?(m=b.offsetHeight,n=b.offsetWidth):(m=document.body.parentNode.offsetHeight>this.getWindowHeight()?this.getWindowHeight()-document.body.parentNode.scrollTop:document.body.parentNode.offsetHeight,n=document.body.parentNode.offsetWidth>this.getWindowWidth()?this.getWindowWidth()-document.body.parentNode.scrollLeft:document.body.parentNode.offsetWidth),e.offsetParent)do{b&&8&this.compareDocumentPosition(b,e.offsetParent)&&(o=b.offsetLeft,p=b.offsetTop),d+=e.offsetLeft-(e.offsetParent?e.offsetParent.scrollLeft:0)-o,h&&i.test(e.style[h])&&(d+=parseInt(e.style[h].replace(i,"$1"),10)),c+=e.offsetTop-(e.offsetParent?e.offsetParent.scrollTop:0)-p,h&&j.test(e.style[h])&&(c+=parseInt(e.style[h].replace(j,"$1"),10)),e!==a&&(e.currentStyle?(k=parseInt(e.currentStyle.borderLeftWidth,10),l=parseInt(e.currentStyle.borderTopWidth,10)):window.getComputedStyle?(k=parseInt(window.getComputedStyle(e,"").getPropertyValue("border-left-width"),10),l=parseInt(window.getComputedStyle(e,"").getPropertyValue("border-top-width"),10)):(k=parseInt(e.style.borderLeftWidth,10),l=parseInt(e.style.borderTopWidth,10)),k&&(d+=k),l&&(c+=l))}while((e=e.offsetParent)&&(!b||16&this.compareDocumentPosition(b,e)));return{top:c,left:d,bottom:m-c-g,right:n-d-f,height:g,width:f}},setInnerHtml:function(a,b){a.innerHTML=b},hasClass:function(a,b){return a&&a.className?(" "+a.className+" ").indexOf(" "+b+" ")>=0:void 0},addClass:function(a,b){if(a&&!this.hasClass(a,b)){var c=a.className;a.className=c+(c?" ":"")+b}},removeClass:function(a,b){if(a&&this.hasClass(a,b)){var c=a.className;a.className=(" "+c+" ").replace(" "+b+" "," ").slice(1,-1)}},addBodyClass:function(a){enyo.exists(enyo.roots)?enyo.dom.addClass(document.body,a):enyo.dom._bodyClasses?enyo.dom._bodyClasses.push(a):enyo.dom._bodyClasses=[a]},getAbsoluteBounds:function(a){for(var b=a,c=0,d=0,e=b.offsetWidth,f=b.offsetHeight,g=enyo.dom.getStyleTransformProp(),h=/translateX\((-?\d+|-?\d*\.\d+)px\)/i,i=/translateY\((-?\d+|-?\d*\.\d+)px\)/i,j=/(?!matrix3d\()(-?\d+|-?\d*\.\d+)(?=[,\)])/g,k=null,l=null,m=null;b;)b.offsetParent!=m&&(enyo.platform.firefox?(c+=b.offsetLeft,d+=b.offsetTop):(c+=b.offsetLeft-(b.offsetParent?b.offsetParent.scrollLeft:0),d+=b.offsetTop-(b.offsetParent?b.offsetParent.scrollTop:0)),m=b.offsetParent),g&&b.style&&(l=b.style[g],k=l.match(h),k&&void 0!==k[1]&&k[1]&&(c+=parseInt(k[1],10)),k=l.match(i),k&&void 0!==k[1]&&k[1]&&(d+=parseInt(k[1],10)),(k=l.match(j))&&16===k.length&&(void 0!==k[12]&&"0"!==k[12]&&(c+=parseFloat(k[12])),void 0!==k[13]&&"0"!==k[13]&&(d+=parseFloat(k[13])))),b=b.parentNode;return{top:a?d:void 0,left:a?c:void 0,bottom:a?document.body.offsetHeight-d-f:void 0,right:a?document.body.offsetWidth-c-e:void 0,height:f,width:e}},flushBodyClasses:function(){if(enyo.dom._bodyClasses){for(var a,b=0;a=enyo.dom._bodyClasses[b];++b)enyo.dom.addClass(document.body,a);enyo.dom._bodyClasses=null}},_bodyClasses:null},void 0!==window.MSApp&&(enyo.dom.setInnerHtml=function(a,b){a.innerHTML=b}),document.head&&document.head.classList&&(enyo.dom.hasClass=function(a,b){return a?a.classList.contains(b):void 0},enyo.dom.addClass=function(a,b){return a?a.classList.add(b):void 0},enyo.dom.removeClass=function(a,b){return a?a.classList.remove(b):void 0}),function(){enyo.dom.calcCanAccelerate=function(){if(2>=enyo.platform.android)return!1;for(var a,b=["perspective","WebkitPerspective","MozPerspective","msPerspective","OPerspective"],c=0;a=b[c];c++)if(void 0!==document.body.style[a])return!0;return!1};var a=["transform","-webkit-transform","-moz-transform","-ms-transform","-o-transform"],b=["transform","webkitTransform","MozTransform","msTransform","OTransform"];enyo.dom.getCssTransformProp=function(){if(this._cssTransformProp)return this._cssTransformProp;var c=enyo.indexOf(this.getStyleTransformProp(),b);return this._cssTransformProp=a[c],this._cssTransformProp},enyo.dom.getStyleTransformProp=function(){if(this._styleTransformProp||!document.body)return this._styleTransformProp;for(var a,c=0;a=b[c];c++)if(void 0!==document.body.style[a])return this._styleTransformProp=a,this._styleTransformProp},enyo.dom.domTransformsToCss=function(a){var b,c,d="";for(b in a)null!==(c=a[b])&&void 0!==c&&""!==c&&(d+=b+"("+c+") ");return d},enyo.dom.transformsToDom=function(a){var b=this.domTransformsToCss(a.domTransforms),c=a.hasNode()?a.node.style:null,d=a.domStyles,e=this.getStyleTransformProp(),f=this.getCssTransformProp();e&&f&&(d[f]=b,c?(c[e]=b,a.invalidateStyles()):a.domStylesChanged())},enyo.dom.canTransform=function(){return Boolean(this.getStyleTransformProp())},enyo.dom.canAccelerate=function(){return void 0!==this.accelerando?this.accelerando:document.body&&(this.accelerando=this.calcCanAccelerate())},enyo.dom.transform=function(a,b){var c=a.domTransforms=a.domTransforms||{};enyo.mixin(c,b),this.transformsToDom(a)},enyo.dom.transformValue=function(a,b,c){(a.domTransforms=a.domTransforms||{})[b]=c,this.transformsToDom(a)},enyo.dom.accelerate=function(a,b){var c="auto"==b?this.canAccelerate():b;this.transformValue(a,"translateZ",c?0:null)}}(),enyo.kind({name:"enyo.Control",kind:"enyo.UiComponent",published:{tag:"div",attributes:null,classes:"",style:"",content:"",showing:!0,allowHtml:!1,src:"",canGenerate:!0,fit:null,isContainer:!1},rtl:!1,handlers:{ontap:"tap",onShowingChanged:"showingChangedHandler"},_isView:!0,_needsRender:!0,noDefer:!0,defaultKind:"Control",controlClasses:"",node:null,generated:!1,kindStyle:"",create:enyo.inherit(function(a){return function(){null==this.tag&&(this._needsRender=!1),this.initStyles(),a.apply(this,arguments),this.showingChanged(),this.kindClasses&&this.addClass(this.kindClasses),this.classes&&this.addClass(this.classes),this.initProps(["id","content","src"])}}),constructor:enyo.inherit(function(a){return function(){this.attributes=enyo.clone(this.ctor.prototype.attributes),a.apply(this,arguments)}}),destroy:enyo.inherit(function(a){return function(){this.removeFromRoots(),this.removeNodeFromDom(),enyo.Control.unregisterDomEvents(this.id),a.apply(this,arguments)}}),initProps:function(a){for(var b,c,d=0;b=a[d];d++)this[b]&&(c=b+"Changed",this[c]&&this[c]())},dispatchEvent:enyo.inherit(function(a){return function(b,c){return!(!this.strictlyInternalEvents[b]||!this.isInternalEvent(c))||a.apply(this,arguments)}}),classesChanged:function(a){this.removeClass(a),this.addClass(this.classes)},addChild:enyo.inherit(function(a){return function(b){b.addClass(this.controlClasses),a.apply(this,arguments)}}),removeChild:enyo.inherit(function(a){return function(b){a.apply(this,arguments),b.removeClass(this.controlClasses)}}),strictlyInternalEvents:{onenter:1,onleave:1},isInternalEvent:function(a){var b=enyo.dispatcher.findDispatchTarget(a.relatedTarget);return b&&b.isDescendantOf(this)},hasNode:function(){return this.generated&&(this.node||this.findNodeById())},addContent:function(a){this.setContent(this.get("content")+a)},getAttribute:function(a){var b=this.hasNode();return b?b.getAttribute(a):this.attributes[a]},setAttribute:function(a,b){this.attributes[a]=b,this.hasNode()&&this.attributeToNode(a,b),this.invalidateTags()},getNodeProperty:function(a,b){var c=this.hasNode();return c?c[a]:b},setNodeProperty:function(a,b){var c=this.hasNode();c&&(c[a]=b)},setClassAttribute:function(a){this.setAttribute("class",a)},getClassAttribute:function(){return this.attributes.class||""},hasClass:function(a){return a&&(" "+this.getClassAttribute()+" ").indexOf(" "+a+" ")>=0},addClass:function(a){if(a&&!this.hasClass(a)){var b=this.getClassAttribute();this.setClassAttribute(b+(b?" ":"")+a)}},removeClass:function(a){if(a&&this.hasClass(a)){var b=this.getClassAttribute();b=(" "+b+" ").replace(" "+a+" "," ").slice(1,-1),this.setClassAttribute(b)}},addRemoveClass:function(a,b){this[b?"addClass":"removeClass"](a)},initStyles:function(){this.domStyles=this.domStyles?enyo.clone(this.domStyles):{},enyo.Control.cssTextToDomStyles(this.kindStyle+this.style,this.domStyles),"none"==this.domStyles.display&&(this.showing=!1,this.domStyles.display="")},styleChanged:function(){this.domStyles={},enyo.Control.cssTextToDomStyles(this.kindStyle+this.style,this.domStyles),this.domStylesChanged()},applyStyle:function(a,b){this.domStyles[a]=b,this.domStylesChanged()},addStyles:function(a){if(enyo.isObject(a))for(var b in a)this.domStyles[b]=a[b];else enyo.Control.cssTextToDomStyles(a,this.domStyles);this.domStylesChanged()},getComputedStyleValue:function(a,b){return this.hasNode()?enyo.dom.getComputedStyleValue(this.node,a):b},domStylesChanged:function(){this.invalidateStyles(),this.invalidateTags(),this.renderStyles()},stylesToNode:function(){this.node.style.cssText=this.getDomCssText()},setupBodyFitting:function(){enyo.dom.applyBodyFit(),this.addClass("enyo-fit enyo-clip")},setupOverflowScrolling:function(){enyo.platform.android||enyo.platform.androidChrome||enyo.platform.blackberry||enyo.dom.addBodyClass("webkitOverflowScrolling")},render:function(){if(this.parent){if(this.parent.beforeChildRender(this),!this.parent.generated)return this;if(null===this.tag)return this.parent.render(),this}return this.hasNode()||this.renderNode(),this.hasNode()&&(this.renderDom(),this.generated&&this.rendered()),this},renderInto:function(a){this.teardownRender();var b=enyo.dom.byId(a),c=enyo.exists(this.fit)&&!1===this.fit;return b!=document.body||c?this.fit&&this.addClass("enyo-fit enyo-clip"):this.setupBodyFitting(),this.addClass("enyo-no-touch-action"),this.setupOverflowScrolling(),enyo.dom._bodyClasses&&enyo.dom.flushBodyClasses(),enyo.dom.setInnerHtml(b,this.generateHtml()),enyo.addToRoots(this),this.generated&&this.rendered(),this},write:function(){return enyo.dom._bodyClasses&&enyo.dom.flushBodyClasses(),this.fit&&this.setupBodyFitting(),this.addClass("enyo-no-touch-action"),this.setupOverflowScrolling(),document.write(this.generateHtml()),enyo.addToRoots(this),this.generated&&this.rendered(),this},rendered:function(){this.reflow();for(var a,b=0;a=this.children[b];b++)a.generated&&a.rendered()},show:function(){this.setShowing(!0)},hide:function(){this.setShowing(!1)},focus:function(){this.hasNode()&&this.node.focus()},blur:function(){this.hasNode()&&this.node.blur()},hasFocus:function(){return this.hasNode()?document.activeElement===this.node:void 0},getBounds:function(){var a=this.node||this.hasNode();return enyo.dom.getBounds(a)||{left:void 0,top:void 0,width:void 0,height:void 0}},setBounds:function(a,b){for(var c,d,e=this.domStyles,f=b||"px",g=["width","height","left","top","right","bottom"],h=0;d=g[h];h++)((c=a[d])||0===c)&&(e[d]=c+(enyo.isString(c)?"":f));this.domStylesChanged()},getAbsoluteBounds:function(){var a=this.node||this.hasNode();return enyo.dom.getAbsoluteBounds(a)||{left:void 0,top:void 0,width:void 0,height:void 0,bottom:void 0,right:void 0}},getCssText:function(){var a=this.node||this.hasNode();return a?a.style.cssText:void 0},getCssClasses:function(){var a=this.node||this.hasNode();return a?a.className:void 0},findNodeById:function(){return this.id&&(this.node=enyo.dom.byId(this.id))},idChanged:function(a){a&&enyo.Control.unregisterDomEvents(a),this.setAttribute("id",this.id),this.id&&enyo.Control.registerDomEvents(this.id,this)},contentChanged:function(){this.hasNode()&&this.renderContent(),this._needsRender=!0},getSrc:function(){return this.getAttribute("src")},srcChanged:function(){this.src?this.setAttribute("src",enyo.path.rewrite(this.src)):this.setAttribute("src","")},attributesChanged:function(){this.invalidateTags(),this.renderAttributes()},generateHtml:function(){if(!1===this.canGenerate)return"";var a=this.generateInnerHtml(),b=this.generateOuterHtml(a);return this.set("generated",!0),this._needsRender=!1,b},generateInnerHtml:function(){return this.flow(),this.children.length?this.generateChildHtml():this.allowHtml?this.get("content"):enyo.Control.escapeHtml(this.get("content"))},generateChildHtml:function(){for(var a,b="",c=0;a=this.children[c];c++){b+=a.generateHtml()}return b},generateOuterHtml:function(a){return this.tag?(this.tagsValid||this.prepareTags(),this._openTag+a+this._closeTag):a},invalidateTags:function(){this.tagsValid=!1},invalidateStyles:function(){this.stylesValid=!1},getDomCssText:function(){return this.stylesValid||(this.domCssText=enyo.Control.domStylesToCssText(this.domStyles),this.stylesValid=!0),this.domCssText},prepareTags:function(){var a=this.getDomCssText();this._openTag="<"+this.tag+(a?' style="'+a+'"':"")+enyo.Control.attributesToHtml(this.attributes),enyo.Control.selfClosing[this.tag]?(this._openTag+="/>",this._closeTag=""):(this._openTag+=">",this._closeTag="</"+this.tag+">"),this.tagsValid=!0},attributeToNode:function(a,b){null===b||!1===b||""===b?this.node.removeAttribute(a):this.node.setAttribute(a,b)},attributesToNode:function(){for(var a in this.attributes)this.attributeToNode(a,this.attributes[a])},getParentNode:function(){return this.parentNode||this.parent&&(this.parent.hasNode()||this.parent.getParentNode())},addNodeToParent:function(){if(this.node){var a=this.getParentNode();a&&(void 0!==this.addBefore?this.insertNodeInParent(a,this.addBefore&&this.addBefore.hasNode()):this.appendNodeToParent(a))}},appendNodeToParent:function(a){a.appendChild(this.node)},insertNodeInParent:function(a,b){a.insertBefore(this.node,b||a.firstChild)},removeNodeFromDom:function(){this.hasNode()&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},teardownRender:function(){this.generated&&this.teardownChildren(),this.node=null,this.set("generated",!1)},teardownChildren:function(){for(var a,b=0;a=this.children[b];b++)a.teardownRender()},renderNode:function(){this.teardownRender(),this.node=document.createElement(this.tag),this.addNodeToParent(),this.set("generated",!0)},renderDom:function(){this.renderAttributes(),this.renderStyles(),this.renderContent()},renderContent:function(){this.generated&&this.teardownChildren(),this.node&&enyo.dom.setInnerHtml(this.node,this.generateInnerHtml())},renderReusingNode:function(){if(this.canGenerate)if(null===this.tag||this.generated)if(this.children.length)for(var a,b=0;a=this.children[b];++b)a.renderReusingNode();else this.generated&&this.hasNode()&&this._needsRender&&(enyo.dom.setInnerHtml(this.node,this.generateInnerHtml()),this._needsRender=!1);else this.render()},renderStyles:function(){this.hasNode()&&this.stylesToNode()},renderAttributes:function(){this.hasNode()&&this.attributesToNode()},beforeChildRender:function(){this.generated&&this.flow()},syncDisplayToShowing:function(){var a=this.domStyles;this.showing?"none"==a.display&&this.applyStyle("display",this._displayStyle||""):(this._displayStyle="none"==a.display?"":a.display,this.applyStyle("display","none"))},showingChanged:function(a){this.syncDisplayToShowing(),this.sendShowingChangedEvent(a)},sendShowingChangedEvent:function(a){var b=!0===a||!1===a,c=this.parent;b&&(!c||c.getAbsoluteShowing(!0))&&this.waterfall("onShowingChanged",{originator:this,showing:this.getShowing()})},getShowing:function(){return this.showing},getAbsoluteShowing:function(a){var b;return a||(b=this.getBounds()),!(!this.generated||this.destroyed||!this.getShowing()||b&&0===b.height&&0===b.width)&&(!this.parent||!this.parent.getAbsoluteShowing||this.parentNode===enyo.floatingLayer.hasNode()||this.parent.getAbsoluteShowing(a))},showingChangedHandler:function(a){return a!==this&&!this.getShowing()},fitChanged:function(){this.parent.reflow()},isFullscreen:function(){return this.hasNode()&&this.hasNode()===enyo.fullscreen.getFullscreenElement()},requestFullscreen:function(){return!!this.hasNode()&&!!enyo.fullscreen.requestFullscreen(this)},cancelFullscreen:function(){return!!this.isFullscreen()&&(enyo.fullscreen.cancelFullscreen(),!0)},removeFromRoots:function(){this._isRoot&&enyo.remove(this,enyo.roots)},detectTextDirectionality:function(){this.content&&this.content.length&&(this.rtl=enyo.isRtl(this.content),this.applyStyle("direction",this.rtl?"rtl":"ltr"))},statics:{escapeHtml:function(a){return null!=a?(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},registerDomEvents:function(a,b){enyo.$[a]=b},unregisterDomEvents:function(a){enyo.$[a]=null},selfClosing:{img:1,hr:1,br:1,area:1,base:1,basefont:1,input:1,link:1,meta:1,command:1,embed:1,keygen:1,wbr:1,param:1,source:1,track:1,col:1},cssTextToDomStyles:function(a,b,c){if(a)for(var d,e,f,g,h=a.replace(/;$/,"").split(/\s*;[\s;]*/),i=0;g=h[i];i++)d=g.split(/\s*:\s*/),e=d.shift(),c?delete b[e]:(f=d.join(":"),b[e]=f)},domStylesToCssText:function(a){var b,c,d="";for(b in a)null!==(c=a[b])&&void 0!==c&&""!==c&&(d+=b+": "+c+"; ");return enyo.trim(d)},stylesToHtml:function(a){var b=enyo.Control.domStylesToCssText(a);return b?' style="'+b+'"':""},escapeAttribute:function(a){return enyo.isString(a)?(a+"").replace(/&/g,"&amp;").replace(/\"/g,"&quot;"):a},attributesToHtml:function(a){var b,c,d="";for(b in a)null!==(c=a[b])&&!1!==c&&""!==c&&(d+=" "+b+'="'+enyo.Control.escapeAttribute(c)+'"');return d},normalizeCssStyleString:function(a){return(a+";").replace(/^[;\s]+/,"").replace(/\s*(;|:)\1+/g,"$1").replace(/(:|;)\s*(?!$)/g,"$1 ")}}}),enyo.defaultCtor=enyo.Control,enyo.Control.concat=function(a,b,c){var d=a.prototype||a;b.classes&&(c?d.classes=enyo.trim((d.classes?d.classes+" ":"")+b.classes):(d.kindClasses=enyo.trim((d.kindClasses?d.kindClasses:"")+(d.classes?" "+d.classes:"")),d.classes=b.classes),delete b.classes),b.style&&(c?d.style=enyo.Control.normalizeCssStyleString((d.style?d.style+";":"")+" "+b.style+";"):(d.kindStyle=enyo.Control.normalizeCssStyleString((d.kindStyle?d.kindStyle+"; ":"")+(d.style?" "+d.style:"")),d.style=enyo.Control.normalizeCssStyleString(b.style)),delete b.style),b.attributes&&(d.attributes=d.attributes?enyo.mixin(enyo.clone(d.attributes),b.attributes):b.attributes,delete b.attributes)},enyo.View=enyo.Control,enyo.platform={touch:Boolean("ontouchstart"in window||window.navigator.msMaxTouchPoints),gesture:Boolean("ongesturestart"in window||window.navigator.msMaxTouchPoints)},function(){for(var a,b,c,d=navigator.userAgent,e=enyo.platform,f=[{platform:"androidChrome",regex:/Android .* Chrome\/(\d+)[.\d]+/},{platform:"android",regex:/Android (\d+)/},{platform:"android",regex:/Silk\/1./,forceVersion:2,extra:{silk:1}},{platform:"android",regex:/Silk\/2./,forceVersion:4,extra:{silk:2}},{platform:"android",regex:/Silk\/3./,forceVersion:4,extra:{silk:3}},{platform:"windowsPhone",regex:/Windows Phone (?:OS )?(\d+)[.\d]+/},{platform:"ie",regex:/MSIE (\d+)/},{platform:"ie",regex:/Trident\/.*; rv:(\d+)/},{platform:"ios",regex:/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/},{platform:"webos",regex:/(?:web|hpw)OS\/(\d+)/},{platform:"webos",regex:/WebAppManager|Isis/,forceVersion:4},{platform:"safari",regex:/Version\/(\d+)[.\d]+\s+Safari/},{platform:"chrome",regex:/Chrome\/(\d+)[.\d]+/},{platform:"androidFirefox",regex:/Android;.*Firefox\/(\d+)/},{platform:"firefoxOS",regex:/Mobile;.*Firefox\/(\d+)/},{platform:"firefox",regex:/Firefox\/(\d+)/},{platform:"blackberry",regex:/PlayBook/i,forceVersion:2},{platform:"blackberry",regex:/BB1\d;.*Version\/(\d+\.\d+)/},{platform:"tizen",regex:/Tizen (\d+)/}],g=0;a=f[g];g++)if(b=a.regex.exec(d)){c=a.forceVersion?a.forceVersion:Number(b[1]),e[a.platform]=c,a.extra&&enyo.mixin(e,a.extra),e.platformName=a.platform;break}enyo.dumbConsole=Boolean(e.android||e.ios||e.webos)}(),function(){for(var a,b,c,d=Math.round(1e3/60),e=["webkit","moz","ms","o",""],f="requestAnimationFrame",g="cancel"+enyo.cap(f),h=function(a){return window.setTimeout(a,d)},i=function(a){return window.clearTimeout(a)},j=0,k=e.length;((a=e[j])||k>j)&&!(enyo.platform.ios>=6);j++)if(b=a?a+enyo.cap(g):g,c=a?a+enyo.cap(f):f,window[b]){i=window[b],h=window[c],"webkit"==a&&i(h(enyo.nop));break}enyo.requestAnimationFrame=function(a,b){return h(a,b)},enyo.cancelRequestAnimationFrame=function(a){return i(a)}}(),enyo.easing={cubicIn:function(a){return Math.pow(a,3)},cubicOut:function(a){return Math.pow(a-1,3)+1},expoOut:function(a){return 1==a?1:-1*Math.pow(2,-10*a)+1},quadInOut:function(a){return a*=2,1>a?Math.pow(a,2)/2:-1*(--a*(a-2)-1)/2},linear:function(a){return a}},enyo.easedLerp=function(a,b,c,d){var e=(enyo.perfNow()-a)/b;return d?e>=1?0:1-c(1-e):e>=1?1:c(e)},enyo.easedComplexLerp=function(a,b,c,d,e,f,g){var h=(enyo.perfNow()-a)/b;return d?c(1-h,e,f,g,b):c(h,e,f,g,b)},enyo.ready(function(){(window.cordova||window.PhoneGap)&&document.addEventListener("deviceready",function(a){for(var b,c=["pause","resume","online","offline","backbutton","batterycritical","batterylow","batterystatus","menubutton","searchbutton","startcallbutton","endcallbutton","volumedownbutton","volumeupbutton"],d=0;b=c[d];d++)document.addEventListener(b,enyo.bind(enyo.Signals,"send","on"+b),!1);enyo.Signals.send("ondeviceready",a)},!1)}),enyo.ready(function(){function a(a){a=a||window.event,enyo.hidden=a.type in d?d[a.type]:document[b],enyo.visibilityState=a.type in d?d[a.type]?"hidden":"visible":document[c],enyo.Signals.send("onvisibilitychange",enyo.mixin(a,{hidden:enyo.hidden}))}var b="hidden",c="visibilityState",d={};d.blur=d.focusout=d.pagehide=!0,d.focus=d.focusin=d.pageshow=!1,b in document?document.addEventListener("visibilitychange",a):(b="mozHidden")in document?(document.addEventListener("mozvisibilitychange",a),c="mozVisibilityState"):(b="webkitHidden")in document?(document.addEventListener("webkitvisibilitychange",a),c="webkitVisibilityState"):(b="msHidden")in document?(document.addEventListener("msvisibilitychange",a),c="msVisibilityState"):"onfocusin"in document?document.onfocusin=document.onfocusout=a:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=a,enyo.hidden=void 0!==document[b]&&document[b],enyo.visibilityState=void 0!==document[c]?document[c]:"visible"}),function(a){a.$={},a.dispatcher={events:["mousedown","mouseup","mouseover","mouseout","mousemove","mousewheel","click","dblclick","change","keydown","keyup","keypress","input","paste","copy","cut","webkitTransitionEnd","transitionend","webkitAnimationEnd","animationEnd"],windowEvents:["resize","load","unload","message","hashchange","popstate"],features:[],connect:function(){var b,c,d=a.dispatcher;for(b=0;c=d.events[b];b++)d.listen(document,c);for(b=0;c=d.windowEvents[b];b++)"unload"===c&&"object"==typeof window.chrome&&window.chrome.app||d.listen(window,c)},listen:function(b,c,d){var e=a.dispatch;this.listen=b.addEventListener?function(a,b,c){a.addEventListener(b,c||e,!1)}:function(b,c,d){b.attachEvent("on"+c,function(b){return b.target=b.srcElement,b.preventDefault||(b.preventDefault=a.iePreventDefault),(d||e)(b)})},this.listen(b,c,d)},stopListening:function(b,c,d){var e=a.dispatch;this.stopListening=b.addEventListener?function(a,b,c){a.removeEventListener(b,c||e,!1)}:function(a,b,c){a.detachEvent("on"+b,c||e)},this.stopListening(b,c,d)},dispatch:function(a){var b=this.findDispatchTarget(a.target)||this.findDefaultTarget();a.dispatchTarget=b;for(var c,d=0;c=this.features[d];d++)if(!0===c.call(this,a))return;return b&&!a.preventDispatch?this.dispatchBubble(a,b):void 0},findDispatchTarget:function(b){var c,d=b;try{for(;d;){if(c=a.$[d.id]){c.eventNode=d;break}d=d.parentNode}}catch(b){a.log(b,d)}return c},findDefaultTarget:function(){return a.master},dispatchBubble:function(a,b){var c=a.type;return c=a.customEvent?c:"on"+c,b.bubble(c,a,b)}},a.iePreventDefault=function(){try{this.returnValue=!1}catch(a){}},a.dispatch=function(b){return a.dispatcher.dispatch(b)},a.bubble=function(b){var c=b||window.event;c&&(c.target||(c.target=c.srcElement),a.dispatch(c))},a.bubbler="enyo.bubble(arguments[0])",function(){var b=function(){a.bubble(arguments[0])};a.makeBubble=function(){var c=Array.prototype.slice.call(arguments,0),d=c.shift();"object"==typeof d&&"function"==typeof d.hasNode&&a.forEach(c,function(c){this.hasNode()&&a.dispatcher.listen(this.node,c,b)},d)},a.unmakeBubble=function(){var c=Array.prototype.slice.call(arguments,0),d=c.shift();"object"==typeof d&&"function"==typeof d.hasNode&&a.forEach(c,function(c){this.hasNode()&&a.dispatcher.stopListening(this.node,c,b)},d)}}(),a.requiresWindow(a.dispatcher.connect),a.dispatcher.features.push(function(b){if("click"===b.type&&0===b.clientX&&0===b.clientY){var c=a.clone(b);c.type="tap",c.preventDefault=a.nop,a.dispatch(c)}});var b={};a.dispatcher.features.push(function(a){("mousemove"==a.type||"tap"==a.type||"click"==a.type||"touchmove"==a.type)&&(b.clientX=a.clientX,b.clientY=a.clientY,b.pageX=a.pageX,b.pageY=a.pageY,b.screenX=a.screenX,b.screenY=a.screenY)}),a.getPosition=function(){var c=a.clone(b);if(9>a.platform.ie){var d=document.documentElement||document.body.parentNode||document.body;c.pageX=c.clientX+d.scrollLeft,c.pageY=c.clientY+d.scrollTop}return c}}(enyo),function(){var a="previewDomEvent",b={feature:function(a){b.dispatch(a,a.dispatchTarget)},dispatch:function(b,c){for(var d,e=this.buildLineage(c),f=0;d=e[f];f++)if(d[a]&&!0===d[a](b))return void(b.preventDispatch=!0)},buildLineage:function(a){for(var b=[],c=a;c;)b.unshift(c),c=c.parent;return b}};enyo.dispatcher.features.push(b.feature)}(),enyo.dispatcher.features.push(function(a){if(this.captureTarget){var b=a.dispatchTarget,c=(a.customEvent?"":"on")+a.type,d=this.captureEvents[c],e=this.captureHandlerScope||this.captureTarget,f=d&&e[d];if(f&&!(b&&b.isDescendantOf&&b.isDescendantOf(this.captureTarget))){var g=a.captureTarget=this.captureTarget;a.preventDispatch=f&&f.apply(e,[g,a])&&!this.autoForwardEvents[a.type]}}}),enyo.mixin(enyo.dispatcher,{autoForwardEvents:{leave:1,resize:1},captures:[],capture:function(a,b,c){var d={target:a,events:b,scope:c};this.captures.push(d),this.setCaptureInfo(d)},release:function(a){for(var b=this.captures.length-1;b>=0;b--)if(this.captures[b].target===a){this.captures.splice(b,1),this.setCaptureInfo(this.captures[this.captures.length-1]);break}},setCaptureInfo:function(a){this.captureTarget=a&&a.target,this.captureEvents=a&&a.events,this.captureHandlerScope=a&&a.scope}}),enyo.gesture={eventProps:["target","relatedTarget","clientX","clientY","pageX","pageY","screenX","screenY","altKey","ctrlKey","metaKey","shiftKey","detail","identifier","dispatchTarget","which","srcEvent"],makeEvent:function(a,b){var c={};c.type=a;for(var d,e=0;d=this.eventProps[e];e++)c[d]=b[d];if(c.srcEvent=c.srcEvent||b,c.preventDefault=this.preventDefault,c.disablePrevention=this.disablePrevention,10>enyo.platform.ie){8==enyo.platform.ie&&c.target&&(c.pageX=c.clientX+c.target.scrollLeft,c.pageY=c.clientY+c.target.scrollTop);var f=window.event&&window.event.button;f&&(c.which=1&f?1:2&f?2:4&f?3:0)}else(enyo.platform.webos||window.PalmSystem)&&0===c.which&&(c.which=1);return c},down:function(a){this.drag.holdPulseConfig=enyo.clone(this.drag.holdPulseDefaultConfig);var b=this.makeEvent("down",a);b.configureHoldPulse=this.configureHoldPulse,enyo.dispatch(b),this.downEvent=b,this.drag.cancelHold(),this.drag.beginHold(b)},move:function(a){var b=this.makeEvent("move",a);b.dx=b.dy=b.horizontal=b.vertical=0,b.which&&this.downEvent&&(b.dx=a.clientX-this.downEvent.clientX,b.dy=a.clientY-this.downEvent.clientY,b.horizontal=Math.abs(b.dx)>Math.abs(b.dy),b.vertical=!b.horizontal),enyo.dispatch(b)},up:function(a){var b=this.makeEvent("up",a),c=!1;b.preventTap=function(){c=!0},enyo.dispatch(b),!c&&this.downEvent&&1==this.downEvent.which&&this.sendTap(b),this.downEvent=null},over:function(a){var b=this.makeEvent("enter",a);enyo.dispatch(b)},out:function(a){var b=this.makeEvent("leave",a);enyo.dispatch(b)},sendTap:function(a){var b=this.findCommonAncestor(this.downEvent.target,a.target);if(b){var c=this.makeEvent("tap",a);c.target=b,enyo.dispatch(c)}},findCommonAncestor:function(a,b){for(var c=b;c;){if(this.isTargetDescendantOf(a,c))return c;c=c.parentNode}},isTargetDescendantOf:function(a,b){for(var c=a;c;){if(c==b)return!0;c=c.parentNode}},configureHoldPulse:function(a){enyo.mixin(enyo.gesture.drag.holdPulseConfig,a)}},enyo.gesture.preventDefault=function(){this.srcEvent&&this.srcEvent.preventDefault()},enyo.gesture.disablePrevention=function(){this.preventDefault=enyo.nop,this.srcEvent&&(this.srcEvent.preventDefault=enyo.nop)},enyo.dispatcher.features.push(function(a){return enyo.gesture.events[a.type]?enyo.gesture.events[a.type](a):void 0}),enyo.gesture.events={mousedown:function(a){enyo.gesture.down(a)},mouseup:function(a){enyo.gesture.up(a)},mousemove:function(a){enyo.gesture.move(a)},mouseover:function(a){enyo.gesture.over(a)},mouseout:function(a){enyo.gesture.out(a)}},enyo.requiresWindow(function(){document.addEventListener&&document.addEventListener("DOMMouseScroll",function(a){var b=enyo.clone(a);b.preventDefault=function(){a.preventDefault()},b.type="mousewheel",b[b.VERTICAL_AXIS==b.axis?"wheelDeltaY":"wheelDeltaX"]=-40*b.detail,enyo.dispatch(b)},!1)}),enyo.dispatcher.features.push(function(a){return enyo.gesture.drag[a.type]?enyo.gesture.drag[a.type](a):void 0}),enyo.gesture.drag={holdPulseDefaultConfig:{delay:200,resume:!1,moveTolerance:16,endHold:"onMove"},holdPulseConfig:{},trackCount:5,minFlick:.1,minTrack:8,down:function(a){this.stopDragging(a),this.target=a.target,this.startTracking(a)},move:function(a){if(this.tracking){if(this.track(a),!a.which)return this.stopDragging(a),this.cancelHold(),void(this.tracking=!1);this.dragEvent?this.sendDrag(a):"onMove"===this.holdPulseConfig.endHold&&(this.dy*this.dy+this.dx*this.dx>=this.holdPulseConfig.moveTolerance?this.holdJob&&(this.holdPulseConfig.resume?this.stopHold():(this.cancelHold(),this.sendDragStart(a))):this.holdPulseConfig.resume&&!this.holdJob&&this.beginHold(a))}},up:function(a){this.endTracking(a),this.stopDragging(a),this.cancelHold(),this.target=null},enter:function(a){this.holdPulseConfig.resume&&"onLeave"===this.holdPulseConfig.endHold&&this.target&&a.target===this.target&&this.beginHold(a)},leave:function(a){this.dragEvent?this.sendDragOut(a):"onLeave"===this.holdPulseConfig.endHold&&(this.holdPulseConfig.resume?this.stopHold():(this.cancelHold(),this.sendDragStart(a)))},stopDragging:function(a){if(this.dragEvent){this.sendDrop(a);var b=this.sendDragFinish(a);return this.dragEvent=null,b}},makeDragEvent:function(a,b,c,d){var e=Math.abs(this.dx),f=Math.abs(this.dy),g=e>f,h=.414>(g?f/e:e/f),i={};return i.type=a,i.dx=this.dx,i.dy=this.dy,i.ddx=this.dx-this.lastDx,i.ddy=this.dy-this.lastDy,i.xDirection=this.xDirection,i.yDirection=this.yDirection,i.pageX=c.pageX,i.pageY=c.pageY,i.clientX=c.clientX,i.clientY=c.clientY,i.horizontal=g,i.vertical=!g,i.lockable=h,i.target=b,i.dragInfo=d,i.ctrlKey=c.ctrlKey,i.altKey=c.altKey,i.metaKey=c.metaKey,i.shiftKey=c.shiftKey,i.srcEvent=c.srcEvent,8==enyo.platform.ie&&i.target&&(i.pageX=i.clientX+i.target.scrollLeft,i.pageY=i.clientY+i.target.scrollTop),i.preventDefault=enyo.gesture.preventDefault,i.disablePrevention=enyo.gesture.disablePrevention,i},sendDragStart:function(a){this.dragEvent=this.makeDragEvent("dragstart",this.target,a),enyo.dispatch(this.dragEvent)},sendDrag:function(a){var b=this.makeDragEvent("dragover",a.target,a,this.dragEvent.dragInfo);enyo.dispatch(b),b.type="drag",b.target=this.dragEvent.target,enyo.dispatch(b)},sendDragFinish:function(a){var b=this.makeDragEvent("dragfinish",this.dragEvent.target,a,this.dragEvent.dragInfo);b.preventTap=function(){a.preventTap&&a.preventTap()},enyo.dispatch(b)},sendDragOut:function(a){var b=this.makeDragEvent("dragout",a.target,a,this.dragEvent.dragInfo);enyo.dispatch(b)},sendDrop:function(a){var b=this.makeDragEvent("drop",a.target,a,this.dragEvent.dragInfo);b.preventTap=function(){a.preventTap&&a.preventTap()},enyo.dispatch(b)},startTracking:function(a){this.tracking=!0,this.px0=a.clientX,this.py0=a.clientY,this.flickInfo={},this.flickInfo.startEvent=a,this.flickInfo.moves=[],this.track(a)},track:function(a){this.lastDx=this.dx,this.lastDy=this.dy,this.dx=a.clientX-this.px0,this.dy=a.clientY-this.py0,this.xDirection=this.calcDirection(this.dx-this.lastDx,0),this.yDirection=this.calcDirection(this.dy-this.lastDy,0);var b=this.flickInfo;b.moves.push({x:a.clientX,y:a.clientY,t:enyo.perfNow()}),b.moves.length>this.trackCount&&b.moves.shift()},endTracking:function(){this.tracking=!1;var a=this.flickInfo,b=a&&a.moves;if(b&&b.length>1){for(var c,d=b[b.length-1],e=enyo.perfNow(),f=b.length-2,g=0,h=0,i=0,j=0,k=0,l=0,m=0;c=b[f];f--)g=e-c.t,h=(d.x-c.x)/g,i=(d.y-c.y)/g,l=l||(0>h?-1:h>0?1:0),m=m||(0>i?-1:i>0?1:0),(h*l>j*l||i*m>k*m)&&(j=h,k=i);var n=Math.sqrt(j*j+k*k);n>this.minFlick&&this.sendFlick(a.startEvent,j,k,n)}this.flickInfo=null},calcDirection:function(a,b){return a>0?1:0>a?-1:b},beginHold:function(a){this.holdStart=enyo.perfNow();var b=enyo.clone(a);b.srcEvent=enyo.clone(a.srcEvent),this._holdJobFunction=enyo.bind(this,"sendHoldPulse",b),this._holdJobFunction.ce=b,this.holdJob=setInterval(this._holdJobFunction,this.holdPulseConfig.delay)},cancelHold:function(){this.stopHold(),this.sentHold&&(this.sentHold=!1,this.sendRelease(this.holdEvent))},stopHold:function(){clearInterval(this.holdJob),this.holdJob=null,this._holdJobFunction&&(this._holdJobFunction.ce=null,this._holdJobFunction=null)},sendHoldPulse:function(a){this.sentHold||(this.sentHold=!0,this.sendHold(a));var b=enyo.gesture.makeEvent("holdpulse",a);b.holdTime=enyo.perfNow()-this.holdStart,enyo.dispatch(b)},sendHold:function(a){this.holdEvent=a;var b=enyo.gesture.makeEvent("hold",a);enyo.dispatch(b)},sendRelease:function(a){var b=enyo.gesture.makeEvent("release",a);enyo.dispatch(b)},sendFlick:function(a,b,c,d){var e=enyo.gesture.makeEvent("flick",a);e.xVelocity=b,e.yVelocity=c,e.velocity=d,enyo.dispatch(e)}},enyo.dom.transition=enyo.platform.ios||enyo.platform.android||enyo.platform.chrome||enyo.platform.androidChrome||enyo.platform.safari?"-webkit-transition":enyo.platform.firefox||enyo.platform.firefoxOS||enyo.platform.androidFirefox?"-moz-transition":"transition",enyo.dispatcher.features.push(function(a){if("keydown"===a.type||"keyup"===a.type||"keypress"===a.type){a.keySymbol=this.keyMap[a.keyCode];var b=this.findDefaultTarget();a.dispatchTarget!==b&&this.dispatchBubble(a,b)}}),enyo.mixin(enyo.dispatcher,{keyMap:{},registerKeyMap:function(a){enyo.mixin(this.keyMap,a)}}),enyo.requiresWindow(function(){var a=enyo.gesture,b=a.events;a.events.touchstart=function(b){a.events=c,a.events.touchstart(b)};var c={_touchCount:0,touchstart:function(b){this._touchCount+=b.changedTouches.length,this.excludedTarget=null;var c=this.makeEvent(b);a.down(c),c=this.makeEvent(b),this.overEvent=c,a.over(c)},touchmove:function(b){enyo.job.stop("resetGestureEvents");var c=a.drag.dragEvent;this.excludedTarget=c&&c.dragInfo&&c.dragInfo.node;var d=this.makeEvent(b);a.move(d),enyo.bodyIsFitting&&b.preventDefault(),this.overEvent&&this.overEvent.target!=d.target&&(this.overEvent.relatedTarget=d.target,d.relatedTarget=this.overEvent.target,a.out(this.overEvent),a.over(d)),this.overEvent=d},touchend:function(b){a.up(this.makeEvent(b)),a.out(this.overEvent),this._touchCount-=b.changedTouches.length},mouseup:function(){0===this._touchCount&&(this.sawMousedown=!1,a.events=b)},makeEvent:function(a){var b=enyo.clone(a.changedTouches[0]);return b.srcEvent=a,b.target=this.findTarget(b),b.which=1,b},calcNodeOffset:function(a){if(a.getBoundingClientRect){var b=a.getBoundingClientRect();return{left:b.left,top:b.top,width:b.width,height:b.height}}},findTarget:function(a){return document.elementFromPoint(a.clientX,a.clientY)},findTargetTraverse:function(a,b,c){var d=a||document.body,e=this.calcNodeOffset(d);if(e&&d!=this.excludedTarget){var f=b-e.left,g=c-e.top;if(f>0&&g>0&&e.width>=f&&e.height>=g){for(var h,i,j=d.childNodes,k=j.length-1;i=j[k];k--)if(h=this.findTargetTraverse(i,b,c))return h;return d}}},connect:function(){enyo.forEach(["touchstart","touchmove","touchend","gesturestart","gesturechange","gestureend"],function(a){9>enyo.platform.ie?document["on"+a]=enyo.dispatch:document.addEventListener(a,enyo.dispatch,!1)}),18>=enyo.platform.androidChrome||2===enyo.platform.silk?this.findTarget=function(a){return document.elementFromPoint(a.screenX,a.screenY)}:document.elementFromPoint||(this.findTarget=function(a){return this.findTargetTraverse(null,a.clientX,a.clientY)})}};c.connect()}),function(){var a;if(window.navigator.pointerEnabled?a=["pointerdown","pointerup","pointermove","pointerover","pointerout","pointercancel"]:window.navigator.msPointerEnabled&&(a=["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerOver","MSPointerOut","MSPointerCancel"]),a){var b=function(a){var b=enyo.clone(a);return b.srcEvent=a,b.which=a.buttons||1,b},c=enyo.gesture;enyo.gesture.events={};var d={pointerdown:function(a){var d=b(a);c.down(d)},pointerup:function(a){var d=b(a);c.up(d)},pointermove:function(a){var d=b(a);c.move(d)},pointercancel:function(a){var d=b(a);c.up(d)},pointerover:function(a){var d=b(a);c.over(d)},pointerout:function(a){var d=b(a);c.out(d)}};!window.navigator.pointerEnabled&&window.navigator.msPointerEnabled&&(d.MSPointerDown=d.pointerdown,d.MSPointerUp=d.pointerup,d.MSPointerMove=d.pointermove,d.MSPointerCancel=d.pointercancel,d.MSPointerOver=d.pointerover,d.MSPointerOut=d.pointerout),enyo.forEach(a,function(a){enyo.dispatcher.listen(document,a)}),enyo.dispatcher.features.push(function(a){d[a.type]&&a.isPrimary&&d[a.type](a)})}}(),function(){!enyo.platform.gesture&&enyo.platform.touch&&enyo.dispatcher.features.push(function(c){a[c.type]&&b[c.type](c)});var a={touchstart:!0,touchmove:!0,touchend:!0},b={orderedTouches:[],gesture:null,touchstart:function(a){if(enyo.forEach(a.changedTouches,function(a){var b=a.identifier;0>enyo.indexOf(b,this.orderedTouches)&&this.orderedTouches.push(b)},this),a.touches.length>=2&&!this.gesture){var b=this.gesturePositions(a);this.gesture=this.gestureVector(b),this.gesture.angle=this.gestureAngle(b),this.gesture.scale=1,this.gesture.rotation=0;var c=this.makeGesture("gesturestart",a,{vector:this.gesture,scale:1,rotation:0});enyo.dispatch(c)}},touchend:function(a){if(enyo.forEach(a.changedTouches,function(a){enyo.remove(a.identifier,this.orderedTouches)},this),1>=a.touches.length&&this.gesture){var b=a.touches[0]||a.changedTouches[a.changedTouches.length-1];enyo.dispatch(this.makeGesture("gestureend",a,{vector:{xcenter:b.pageX,ycenter:b.pageY},scale:this.gesture.scale,rotation:this.gesture.rotation})),this.gesture=null}},touchmove:function(a){if(this.gesture){var b=this.makeGesture("gesturechange",a);this.gesture.scale=b.scale,this.gesture.rotation=b.rotation,enyo.dispatch(b)}},findIdentifiedTouch:function(a,b){for(var c,d=0;c=a[d];d++)if(c.identifier===b)return c},gesturePositions:function(a){var b=this.findIdentifiedTouch(a.touches,this.orderedTouches[0]),c=this.findIdentifiedTouch(a.touches,this.orderedTouches[this.orderedTouches.length-1]),d=b.pageX,e=c.pageX,f=b.pageY,g=c.pageY,h=e-d,i=g-f;return{x:h,y:i,h:Math.sqrt(h*h+i*i),fx:d,lx:e,fy:f,ly:g}},gestureAngle:function(a){var b=a,c=Math.asin(b.y/b.h)*(180/Math.PI);return 0>b.x&&(c=180-c),b.x>0&&0>b.y&&(c+=360),c},gestureVector:function(a){var b=a;return{magnitude:b.h,xcenter:Math.abs(Math.round(b.fx+b.x/2)),ycenter:Math.abs(Math.round(b.fy+b.y/2))}},makeGesture:function(a,b,c){var d,e,f;if(c)d=c.vector,e=c.scale,f=c.rotation;else{var g=this.gesturePositions(b);d=this.gestureVector(g),e=d.magnitude/this.gesture.magnitude,f=(360+this.gestureAngle(g)-this.gesture.angle)%360}var h=enyo.clone(b);return enyo.mixin(h,{type:a,scale:e,pageX:d.xcenter,pageY:d.ycenter,rotation:f})}}}(),enyo.kind({name:"enyo.ScrollMath",kind:"enyo.Component",published:{vertical:!0,horizontal:!0},events:{onScrollStart:"",onScroll:"",onScrollStop:""},kSpringDamping:.93,kDragDamping:.5,kFrictionDamping:.97,kSnapFriction:.9,kFlickScalar:15,kMaxFlick:enyo.platform.android>2?2:1e9,kFrictionEpsilon:.01,topBoundary:0,rightBoundary:0,bottomBoundary:0,leftBoundary:0,interval:20,fixedTime:!0,x0:0,x:0,y0:0,y:0,destroy:enyo.inherit(function(a){return function(){this.stop(),a.apply(this,arguments)}}),verlet:function(){var a=this.x;this.x+=a-this.x0,this.x0=a;var b=this.y;this.y+=b-this.y0,this.y0=b},damping:function(a,b,c,d){var e=a-b;return.5>Math.abs(e)?b:a*d>b*d?c*e+b:a},boundaryDamping:function(a,b,c,d){return this.damping(this.damping(a,b,d,1),c,d,-1)},constrain:function(){var a=this.boundaryDamping(this.y,this.topBoundary,this.bottomBoundary,this.kSpringDamping);a!=this.y&&(this.y0=a-(this.y-this.y0)*this.kSnapFriction,this.y=a);var b=this.boundaryDamping(this.x,this.leftBoundary,this.rightBoundary,this.kSpringDamping);b!=this.x&&(this.x0=b-(this.x-this.x0)*this.kSnapFriction,this.x=b)},friction:function(a,b,c){var d=this[a]-this[b],e=Math.abs(d)>this.kFrictionEpsilon?c:0;this[a]=this[b]+e*d},frame:10,simulate:function(a){for(;a>=this.frame;)a-=this.frame,this.dragging||this.constrain(),this.verlet(),this.friction("y","y0",this.kFrictionDamping),this.friction("x","x0",this.kFrictionDamping);return a},animate:function(){this.stop();var a,b,c=enyo.perfNow(),d=0,e=this.bindSafely(function(){var f=enyo.perfNow();this.job=enyo.requestAnimationFrame(e);var g=f-c;c=f,this.dragging&&(this.y0=this.y=this.uy,this.x0=this.x=this.ux),d+=Math.max(16,g),this.fixedTime&&!this.isInOverScroll()&&(d=this.interval),d=this.simulate(d),b!=this.y||a!=this.x?this.scroll():this.dragging||(this.stop(),this.scroll(),this.doScrollStop()),b=this.y,a=this.x});this.job=enyo.requestAnimationFrame(e)},start:function(){this.job||(this.doScrollStart(),this.animate())},stop:function(a){var b=this.job;b&&(this.job=enyo.cancelRequestAnimationFrame(b)),a&&this.doScrollStop()},stabilize:function(){this.start();var a=Math.min(this.topBoundary,Math.max(this.bottomBoundary,this.y)),b=Math.min(this.leftBoundary,Math.max(this.rightBoundary,this.x));this.y=this.y0=a,this.x=this.x0=b,this.scroll(),this.stop(!0)},startDrag:function(a){this.dragging=!0,this.my=a.pageY,this.py=this.uy=this.y,this.mx=a.pageX,this.px=this.ux=this.x},drag:function(a){if(this.dragging){var b=this.vertical?a.pageY-this.my:0;this.uy=b+this.py,this.uy=this.boundaryDamping(this.uy,this.topBoundary,this.bottomBoundary,this.kDragDamping);var c=this.horizontal?a.pageX-this.mx:0;return this.ux=c+this.px,this.ux=this.boundaryDamping(this.ux,this.leftBoundary,this.rightBoundary,this.kDragDamping),this.start(),!0}},dragDrop:function(){if(this.dragging&&!window.PalmSystem){var a=.5;this.y=this.uy,this.y0=this.y-(this.y-this.y0)*a,this.x=this.ux,this.x0=this.x-(this.x-this.x0)*a}this.dragFinish()},dragFinish:function(){this.dragging=!1},flick:function(a){var b;this.vertical&&(b=a.yVelocity>0?Math.min(this.kMaxFlick,a.yVelocity):Math.max(-this.kMaxFlick,a.yVelocity),this.y=this.y0+b*this.kFlickScalar),this.horizontal&&(b=a.xVelocity>0?Math.min(this.kMaxFlick,a.xVelocity):Math.max(-this.kMaxFlick,a.xVelocity),this.x=this.x0+b*this.kFlickScalar),this.start()},mousewheel:function(a){var b=this.vertical?a.wheelDeltaY||(a.wheelDeltaX?0:a.wheelDelta):0,c=this.horizontal?a.wheelDeltaX:0,d=!1;return(b>0&&this.y<this.topBoundary||0>b&&this.y>this.bottomBoundary)&&(this.y=this.y0=this.y0+b,d=!0),(c>0&&this.x<this.leftBoundary||0>c&&this.x>this.rightBoundary)&&(this.x=this.x0=this.x0+c,d=!0),d?(this.stop(!0),this.start(),!0):void 0},scroll:function(){this.doScroll()},scrollTo:function(a,b){null!==b&&(this.y=this.y0-(b+this.y0)*(1-this.kFrictionDamping)),null!==a&&(this.x=this.x0-(a+this.x0)*(1-this.kFrictionDamping)),this.start()},setScrollX:function(a){this.x=this.x0=a},setScrollY:function(a){this.y=this.y0=a},setScrollPosition:function(a){this.setScrollY(a)},isScrolling:function(){return Boolean(this.job)},isInOverScroll:function(){return this.job&&(this.x>this.leftBoundary||this.x<this.rightBoundary||this.y>this.topBoundary||this.y<this.bottomBoundary)}}),enyo.kind({name:"enyo.ScrollStrategy",tag:null,published:{vertical:"default",horizontal:"default",scrollLeft:0,scrollTop:0,maxHeight:null,useMouseWheel:!0},handlers:{ondragstart:"dragstart",ondragfinish:"dragfinish",ondown:"down",onmove:"move",onmousewheel:"mousewheel"},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.horizontalChanged(),this.verticalChanged(),this.maxHeightChanged()}}),rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),enyo.makeBubble(this.container,"scroll"),this.scrollNode=this.calcScrollNode()}}),teardownRender:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.scrollNode=null}}),calcScrollNode:function(){return this.container.hasNode()},horizontalChanged:function(){this.container.applyStyle("overflow-x","default"==this.horizontal?"auto":this.horizontal)},verticalChanged:function(){this.container.applyStyle("overflow-y","default"==this.vertical?"auto":this.vertical)},maxHeightChanged:function(){this.container.applyStyle("max-height",this.maxHeight)},scrollTo:function(a,b){this.scrollNode&&(this.setScrollLeft(a),this.setScrollTop(b))},scrollToNode:function(a,b){if(this.scrollNode){for(var c=this.getScrollBounds(),d=a,e={height:d.offsetHeight,width:d.offsetWidth,top:0,left:0};d&&d.parentNode&&d.id!=this.scrollNode.id;)e.top+=d.offsetTop,e.left+=d.offsetLeft,d=d.parentNode;this.setScrollTop(Math.min(c.maxTop,!1===b?e.top-c.clientHeight+e.height:e.top)),this.setScrollLeft(Math.min(c.maxLeft,!1===b?e.left-c.clientWidth+e.width:e.left))}},scrollIntoView:function(a,b){a.hasNode()&&a.node.scrollIntoView(b)},isInView:function(a){var b=this.getScrollBounds(),c=a.offsetTop,d=a.offsetHeight,e=a.offsetLeft,f=a.offsetWidth;return c>=b.top&&b.top+b.clientHeight>=c+d&&e>=b.left&&b.left+b.clientWidth>=e+f},setScrollTop:function(a){this.scrollTop=a,this.scrollNode&&(this.scrollNode.scrollTop=this.scrollTop)},setScrollLeft:function(a){this.scrollLeft=a,this.scrollNode&&(this.scrollNode.scrollLeft=this.scrollLeft)},getScrollLeft:function(){return this.scrollNode?this.scrollNode.scrollLeft:this.scrollLeft},getScrollTop:function(){return this.scrollNode?this.scrollNode.scrollTop:this.scrollTop},_getScrollBounds:function(){var a=this.getScrollSize(),b=this.container.hasNode(),c={left:this.getScrollLeft(),top:this.getScrollTop(),clientHeight:b?b.clientHeight:0,clientWidth:b?b.clientWidth:0,height:a.height,width:a.width};return c.maxLeft=Math.max(0,c.width-c.clientWidth),c.maxTop=Math.max(0,c.height-c.clientHeight),c},getScrollSize:function(){var a=this.scrollNode;return{width:a?a.scrollWidth:0,height:a?a.scrollHeight:0}},getScrollBounds:function(){return this._getScrollBounds()},calcStartInfo:function(){var a=this.getScrollBounds(),b=this.getScrollTop(),c=this.getScrollLeft();this.canVertical=a.maxTop>0&&"hidden"!=this.vertical,this.canHorizontal=a.maxLeft>0&&"hidden"!=this.horizontal,this.startEdges={top:0===b,bottom:b===a.maxTop,left:0===c,right:c===a.maxLeft}},shouldDrag:function(a){var b=a.vertical;return b&&this.canVertical||!b&&this.canHorizontal},dragstart:function(a,b){return this.dragging=this.shouldDrag(b),this.dragging?this.preventDragPropagation:void 0},dragfinish:function(a,b){this.dragging&&(this.dragging=!1,b.preventTap())},down:function(){this.calcStartInfo()},move:function(a,b){b.which&&(this.canVertical&&b.vertical||this.canHorizontal&&b.horizontal)&&b.disablePrevention()},mousewheel:function(a,b){this.useMouseWheel||b.preventDefault()}}),enyo.kind({name:"enyo.ScrollThumb",axis:"v",minSize:4,cornerSize:6,classes:"enyo-thumb",create:enyo.inherit(function(a){return function(){a.apply(this,arguments);var b="v"==this.axis;this.dimension=b?"height":"width",this.offset=b?"top":"left",this.translation=b?"translateY":"translateX",this.positionMethod=b?"getScrollTop":"getScrollLeft",this.sizeDimension=b?"clientHeight":"clientWidth",this.addClass("enyo-"+this.axis+"thumb"),this.transform=enyo.dom.canTransform(),enyo.dom.canAccelerate()&&enyo.dom.transformValue(this,"translateZ",0)}}),sync:function(a){this.scrollBounds=a._getScrollBounds(),this.update(a)},update:function(a){if(this.showing){var b=this.dimension,c=this.offset,d=this.scrollBounds[this.sizeDimension],e=this.scrollBounds[b],f=0,g=0,h=0;if(d>=e)return void this.hide();a.isOverscrolling()&&(h=a.getOverScrollBounds()["over"+c],f=Math.abs(h),g=Math.max(h,0));var i=a[this.positionMethod]()-h,j=d-this.cornerSize,k=Math.floor(d*d/e-f);k=Math.max(this.minSize,k);var l=Math.floor(j*i/e+g);l=Math.max(0,Math.min(j-this.minSize,l)),this.needed=d>k,this.needed&&this.hasNode()?(this._pos!==l&&(this._pos=l,this.transform?enyo.dom.transformValue(this,this.translation,l+"px"):"v"==this.axis?this.setBounds({top:l+"px"}):this.setBounds({left:l+"px"})),this._size!==k&&(this._size=k,this.node.style[b]=this.domStyles[b]=k+"px")):this.hide()}},setShowing:function(a){if(!(a&&a!=this.showing&&this.scrollBounds[this.sizeDimension]>=this.scrollBounds[this.dimension])&&(this.hasNode()&&this.cancelDelayHide(),a!=this.showing)){var b=this.showing;this.showing=a,this.showingChanged(b)}},delayHide:function(a){this.showing&&enyo.job(this.id+"hide",this.bindSafely("hide"),a||0)},cancelDelayHide:function(){enyo.job.stop(this.id+"hide")}}),enyo.kind({name:"enyo.TouchScrollStrategy",kind:"ScrollStrategy",overscroll:!0,preventDragPropagation:!0,published:{vertical:"default",horizontal:"default",thumb:!0,scrim:!1,dragDuringGesture:!0,interval:20,fixedTime:!0,frame:10},events:{onShouldDrag:""},handlers:{onscroll:"domScroll",onflick:"flick",onhold:"hold",ondragstart:"dragstart",onShouldDrag:"shouldDrag",ondrag:"drag",ondragfinish:"dragfinish",onmousewheel:"mousewheel"},tools:[{kind:"ScrollMath",onScrollStart:"scrollMathStart",onScroll:"scrollMathScroll",onScrollStop:"scrollMathStop"},{name:"vthumb",kind:"ScrollThumb",axis:"v",showing:!1},{name:"hthumb",kind:"ScrollThumb",axis:"h",showing:!1}],scrimTools:[{name:"scrim",classes:"enyo-fit",style:"z-index: 1;",showing:!1}],components:[{name:"client",classes:"enyo-touch-scroller"}],listReordering:!1,create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.transform=enyo.dom.canTransform(),this.transform||this.overscroll&&this.$.client.applyStyle("position","relative"),this.accel=enyo.dom.canAccelerate();var b="enyo-touch-strategy-container";enyo.platform.ios&&this.accel&&(b+=" enyo-composite"),this.scrimChanged(),this.intervalChanged(),this.fixedTimeChanged(),this.frameChanged(),this.container.addClass(b),this.translation=this.accel?"translate3d":"translate"}}),initComponents:enyo.inherit(function(a){return function(){this.createChrome(this.tools),a.apply(this,arguments)}}),destroy:enyo.inherit(function(a){return function(){this.container.removeClass("enyo-touch-strategy-container"),a.apply(this,arguments)}}),rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),enyo.makeBubble(this.$.client,"scroll"),this.calcBoundaries(),this.syncScrollMath(),this.thumb&&this.alertThumbs()}}),scrimChanged:function(){this.scrim&&!this.$.scrim&&this.makeScrim(),!this.scrim&&this.$.scrim&&this.$.scrim.destroy()},makeScrim:function(){var a=this.controlParent;this.controlParent=null,this.createChrome(this.scrimTools),this.controlParent=a;var b=this.container.hasNode();b&&(this.$.scrim.parentNode=b,this.$.scrim.render())},isScrolling:function(){var a=this.$.scrollMath;return a?a.isScrolling():this.scrolling},isOverscrolling:function(){var a=this.$.scrollMath||this;return!!this.overscroll&&Boolean(a.isInOverScroll())},domScroll:function(){this.isScrolling()||(this.calcBoundaries(),this.syncScrollMath(),this.thumb&&this.alertThumbs())},horizontalChanged:function(){this.$.scrollMath.horizontal="hidden"!=this.horizontal},verticalChanged:function(){this.$.scrollMath.vertical="hidden"!=this.vertical},maxHeightChanged:function(){this.$.client.applyStyle("max-height",this.maxHeight),this.$.client.addRemoveClass("enyo-scrollee-fit",!this.maxHeight)},thumbChanged:function(){this.hideThumbs()},intervalChanged:function(){this.$.scrollMath&&(this.$.scrollMath.interval=this.interval)},fixedTimeChanged:function(){this.$.scrollMath&&(this.$.scrollMath.fixedTime=this.fixedTime)},frameChanged:function(){this.$.scrollMath&&(this.$.scrollMath.frame=this.frame)},stop:function(){this.isScrolling()&&this.$.scrollMath.stop(!0)},stabilize:function(){this.$.scrollMath&&this.$.scrollMath.stabilize()},scrollTo:function(a,b){this.stop(),this.$.scrollMath.scrollTo(a,b||0===b?b:null)},scrollIntoView:enyo.inherit(function(a){return function(){this.stop(),a.apply(this,arguments)}}),setScrollLeft:enyo.inherit(function(a){return function(){this.stop(),a.apply(this,arguments)}}),setScrollTop:enyo.inherit(function(a){return function(){this.stop(),a.apply(this,arguments)}}),getScrollLeft:enyo.inherit(function(a){return function(){return this.isScrolling()?this.scrollLeft:a.apply(this,arguments)}}),getScrollTop:enyo.inherit(function(a){return function(){return this.isScrolling()?this.scrollTop:a.apply(this,arguments)}}),calcScrollNode:function(){return this.$.client.hasNode()},calcAutoScrolling:function(){var a="auto"==this.vertical,b="auto"==this.horizontal||"default"==this.horizontal;if((a||b)&&this.scrollNode){var c=this.getScrollBounds();a&&(this.$.scrollMath.vertical=c.height>c.clientHeight),b&&(this.$.scrollMath.horizontal=c.width>c.clientWidth)}},shouldDrag:function(a,b){this.calcAutoScrolling();var c=b.vertical,d=this.$.scrollMath.horizontal&&!c,e=this.$.scrollMath.vertical&&c,f=0>b.dy,g=0>b.dx,h=!f&&this.startEdges.top||f&&this.startEdges.bottom,i=!g&&this.startEdges.left||g&&this.startEdges.right;return b.boundaryDragger||!d&&!e||(b.boundaryDragger=this),!h&&e||!i&&d?(b.dragger=this,!0):void 0},flick:function(a,b){return(Math.abs(b.xVelocity)>Math.abs(b.yVelocity)?this.$.scrollMath.horizontal:this.$.scrollMath.vertical)&&this.dragging?(this.$.scrollMath.flick(b),this.preventDragPropagation):void 0},hold:function(a,b){if(this.isScrolling()&&!this.isOverscrolling()){return(this.$.scrollMath||this).stop(b),!0}},move:function(){},dragstart:function(a,b){return!!(!this.dragDuringGesture&&b.srcEvent.touches&&b.srcEvent.touches.length>1)||(this.doShouldDrag(b),this.dragging=b.dragger==this||!b.dragger&&b.boundaryDragger==this,!(!this.dragging||(b.preventDefault(),this.syncScrollMath(),this.$.scrollMath.startDrag(b),!this.preventDragPropagation))||void 0)},drag:function(a,b){return!this.listReordering&&void(this.dragging&&(b.preventDefault(),this.$.scrollMath.drag(b),this.scrim&&this.$.scrim.show()))},dragfinish:function(a,b){this.dragging&&(b.preventTap(),this.$.scrollMath.dragFinish(),this.dragging=!1,this.scrim&&this.$.scrim.hide())},mousewheel:function(a,b){return!this.dragging&&this.useMouseWheel&&(this.calcBoundaries(),this.syncScrollMath(),this.stabilize(),this.$.scrollMath.mousewheel(b))?(b.preventDefault(),!0):void 0},scrollMathStart:function(){this.scrollNode&&!this.isScrolling()&&(this.scrolling=!0,this.isOverscrolling()||this.calcBoundaries(),this.thumb&&this.showThumbs())},scrollMathScroll:function(a){this.overscroll?this.effectScroll(-a.x,-a.y):this.effectScroll(-Math.min(a.leftBoundary,Math.max(a.rightBoundary,a.x)),-Math.min(a.topBoundary,Math.max(a.bottomBoundary,a.y))),this.thumb&&this.updateThumbs()},scrollMathStop:function(){this.scrolling=!1,this.effectScrollStop(),this.thumb&&this.delayHideThumbs(100)},calcBoundaries:function(){var a=this.$.scrollMath||this,b=this._getScrollBounds();a.bottomBoundary=b.clientHeight-b.height,a.rightBoundary=b.clientWidth-b.width},syncScrollMath:function(){var a=this.$.scrollMath;a&&(a.setScrollX(-this.getScrollLeft()),a.setScrollY(-this.getScrollTop()))},effectScroll:function(a,b){this.scrollNode&&(this.scrollLeft=this.scrollNode.scrollLeft=a,this.scrollTop=this.scrollNode.scrollTop=b,this.effectOverscroll(null!==a?Math.round(a):a,null!==b?Math.round(b):b))},effectScrollStop:function(){this.effectOverscroll(null,null)},effectOverscroll:function(a,b){var c=this.scrollNode,d="0",e="0",f=this.accel?",0":"";null!==b&&Math.abs(b-c.scrollTop)>1&&(e=c.scrollTop-b),null!==a&&Math.abs(a-c.scrollLeft)>1&&(d=c.scrollLeft-a),this.transform?enyo.dom.transformValue(this.$.client,this.translation,d+"px, "+e+"px"+f):this.$.client.setBounds({left:d+"px",top:e+"px"})},getOverScrollBounds:function(){var a=this.$.scrollMath||this;return{overleft:Math.min(a.leftBoundary-a.x,0)||Math.max(a.rightBoundary-a.x,0),overtop:Math.min(a.topBoundary-a.y,0)||Math.max(a.bottomBoundary-a.y,0)}},_getScrollBounds:enyo.inherit(function(a){return function(){var b=a.apply(this,arguments);return enyo.mixin(b,this.getOverScrollBounds()),b}}),getScrollBounds:enyo.inherit(function(a){return function(){return this.stop(),a.apply(this,arguments)}}),alertThumbs:function(){this.showThumbs(),this.delayHideThumbs(500)},syncThumbs:function(){this.$.vthumb.sync(this),this.$.hthumb.sync(this)},updateThumbs:function(){this.$.vthumb.update(this),this.$.hthumb.update(this)},showThumbs:function(){this.syncThumbs(),"hidden"!=this.horizontal&&this.$.hthumb.show(),"hidden"!=this.vertical&&this.$.vthumb.show()},hideThumbs:function(){this.$.vthumb.hide(),this.$.hthumb.hide()},delayHideThumbs:function(a){this.$.vthumb.delayHide(a),this.$.hthumb.delayHide(a)}}),enyo.kind({name:"enyo.TranslateScrollStrategy",kind:"TouchScrollStrategy",translateOptimized:!1,components:[{name:"clientContainer",classes:"enyo-touch-scroller",components:[{name:"client"}]}],rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),enyo.makeBubble(this.$.clientContainer,"scroll")}}),getScrollSize:function(){var a=this.$.client.hasNode();return{width:a?a.scrollWidth:0,height:a?a.scrollHeight:0}},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),enyo.dom.transformValue(this.$.client,this.translation,"0,0,0")}}),calcScrollNode:function(){return this.$.clientContainer.hasNode()},maxHeightChanged:function(){this.$.client.applyStyle("min-height",this.maxHeight?null:"100%"),this.$.client.applyStyle("max-height",this.maxHeight),this.$.clientContainer.addRemoveClass("enyo-scrollee-fit",!this.maxHeight)},shouldDrag:enyo.inherit(function(a){return function(){return this.stop(),this.calcStartInfo(),a.apply(this,arguments)}}),syncScrollMath:enyo.inherit(function(a){return function(){this.translateOptimized||a.apply(this,arguments)}}),setScrollLeft:enyo.inherit(function(a){return function(b){if(this.stop(),this.translateOptimized){var c=this.$.scrollMath;c.setScrollX(-b),c.stabilize()}else a.apply(this,arguments)}}),setScrollTop:enyo.inherit(function(a){return function(b){if(this.stop(),this.translateOptimized){var c=this.$.scrollMath;c.setScrollY(-b),c.stabilize()}else a.apply(this,arguments)}}),getScrollLeft:enyo.inherit(function(a){return function(){return this.translateOptimized?this.scrollLeft:a.apply(this,arguments)}}),getScrollTop:enyo.inherit(function(a){return function(){return this.translateOptimized?this.scrollTop:a.apply(this,arguments)}}),scrollMathStart:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.scrollStarting=!0,this.startX=0,this.startY=0,!this.translateOptimized&&this.scrollNode&&(this.startX=this.getScrollLeft(),this.startY=this.getScrollTop())}}),scrollMathScroll:function(a){this.overscroll?(this.scrollLeft=-a.x,this.scrollTop=-a.y):(this.scrollLeft=-Math.min(a.leftBoundary,Math.max(a.rightBoundary,a.x)),this.scrollTop=-Math.min(a.topBoundary,Math.max(a.bottomBoundary,a.y))),this.isScrolling()&&(this.$.scrollMath.isScrolling()&&this.effectScroll(this.startX-this.scrollLeft,this.startY-this.scrollTop),this.thumb&&this.updateThumbs())},effectScroll:function(a,b){var c=a+"px, "+b+"px"+(this.accel?",0":"");enyo.dom.transformValue(this.$.client,this.translation,c)},effectScrollStop:function(){if(!this.translateOptimized){var a="0,0"+(this.accel?",0":""),b=this.$.scrollMath,c=this._getScrollBounds(),d=Boolean(c.maxTop+b.bottomBoundary||c.maxLeft+b.rightBoundary);enyo.dom.transformValue(this.$.client,this.translation,d?null:a),this.setScrollLeft(this.scrollLeft),this.setScrollTop(this.scrollTop),d&&enyo.dom.transformValue(this.$.client,this.translation,a)}},twiddle:function(){this.translateOptimized&&this.scrollNode&&(this.scrollNode.scrollTop=1,this.scrollNode.scrollTop=0)},down:enyo.nop}),enyo.kind({name:"enyo.TransitionScrollStrategy",kind:"enyo.TouchScrollStrategy",components:[{name:"clientContainer",classes:"enyo-touch-scroller",components:[{name:"client"}]}],events:{onScrollStart:"",onScroll:"",onScrollStop:""},handlers:{ondown:"down",ondragfinish:"dragfinish",onwebkitTransitionEnd:"transitionComplete"},tools:[{name:"vthumb",kind:"ScrollThumb",axis:"v",showing:!0},{name:"hthumb",kind:"ScrollThumb",axis:"h",showing:!1}],kFlickScalar:600,topBoundary:0,rightBoundary:0,bottomBoundary:0,leftBoundary:0,scrolling:!1,listener:null,boundaryX:0,boundaryY:0,stopTimeout:null,stopTimeoutMS:80,scrollInterval:null,scrollIntervalMS:50,transitions:{none:"",scroll:"3.8s cubic-bezier(.19,1,.28,1.0) 0s",bounce:"0.5s cubic-bezier(0.06,.5,.5,.94) 0s"},setScrollLeft:function(a){var b=this.scrollLeft;this.stop(),this.scrollLeft=a,(this.isInLeftOverScroll()||this.isInRightOverScroll())&&(this.scrollLeft=b),this.effectScroll()},setScrollTop:function(a){var b=this.scrollTop;this.stop(),this.scrollTop=a,(this.isInTopOverScroll()||this.isInBottomOverScroll())&&(this.scrollTop=b),this.effectScroll()},setScrollX:function(a){this.scrollLeft=-1*a},setScrollY:function(a){this.scrollTop=-1*a},getScrollLeft:function(){return this.scrollLeft},getScrollTop:function(){return this.scrollTop},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),enyo.dom.transformValue(this.$.client,this.translation,"0,0,0")}}),destroy:enyo.inherit(function(a){return function(){this.clearCSSTransitionInterval(),a.apply(this,arguments)}}),getScrollSize:function(){var a=this.$.client.hasNode();return{width:a?a.scrollWidth:0,height:a?a.scrollHeight:0}},horizontalChanged:function(){"hidden"==this.horizontal&&(this.scrollHorizontal=!1)},verticalChanged:function(){"hidden"==this.vertical&&(this.scrollVertical=!1)},intervalChanged:function(){this.interval!=enyo.TransitionScrollStrategy.prototype.interval&&this.warn("'interval' not implemented in TransitionScrollStrategy")},calcScrollNode:function(){return this.$.clientContainer.hasNode()},calcBoundaries:function(){var a=this._getScrollBounds();this.bottomBoundary=a.clientHeight-a.height,this.rightBoundary=a.clientWidth-a.width},maxHeightChanged:function(){this.$.client.applyStyle("min-height",this.maxHeight?null:"100%"),this.$.client.applyStyle("max-height",this.maxHeight),this.$.clientContainer.addRemoveClass("enyo-scrollee-fit",!this.maxHeight)},calcAutoScrolling:function(){var a=this.getScrollBounds();this.vertical&&(this.scrollVertical=a.height>a.clientHeight),this.horizontal&&(this.scrollHorizontal=a.width>a.clientWidth)},isInOverScroll:function(){return this.isInTopOverScroll()||this.isInBottomOverScroll()||this.isInLeftOverScroll()||this.isInRightOverScroll()},isInLeftOverScroll:function(){return this.getScrollLeft()<this.leftBoundary},isInRightOverScroll:function(){return!(0>=this.getScrollLeft)&&-1*this.getScrollLeft()<this.rightBoundary},isInTopOverScroll:function(){return this.getScrollTop()<this.topBoundary},isInBottomOverScroll:function(){return!(0>=this.getScrollTop())&&-1*this.getScrollTop()<this.bottomBoundary},calcStartInfo:function(){var a=this.getScrollBounds(),b=this.getScrollTop(),c=this.getScrollLeft();this.startEdges={top:0===b,bottom:b===a.maxTop,left:0===c,right:c===a.maxLeft}},mousewheel:function(a,b){if(!this.dragging&&this.useMouseWheel){this.calcBoundaries(),this.syncScrollMath(),this.stabilize();var c=this.vertical?b.wheelDeltaY||b.wheelDelta:0,d=parseFloat(this.getScrollTop())+-1*parseFloat(c);return d=this.bottomBoundary>-1*d?-1*this.bottomBoundary:this.topBoundary>d?this.topBoundary:d,this.setScrollTop(d),this.doScroll(),b.preventDefault(),!0}},scroll:function(){this.thumb&&this.updateThumbs(),this.calcBoundaries(),this.doScroll()},start:function(){this.startScrolling(),this.doScrollStart()},stop:function(){this.isScrolling()&&this.stopScrolling(),this.thumb&&this.delayHideThumbs(100),this.doScrollStop()},updateX:function(){var a=window.getComputedStyle(this.$.client.node,null).getPropertyValue(enyo.dom.getCssTransformProp()).split("(")[1];return a=void 0===a?0:a.split(")")[0].split(",")[4],-1*parseFloat(a)!==this.scrollLeft&&(this.scrollLeft=-1*parseFloat(a),!0)},updateY:function(){var a=window.getComputedStyle(this.$.client.node,null).getPropertyValue(enyo.dom.getCssTransformProp()).split("(")[1];return a=void 0===a?0:a.split(")")[0].split(",")[5],-1*parseFloat(a)!==this.scrollTop&&(this.scrollTop=-1*parseFloat(a),!0)},effectScroll:function(){var a=-1*this.scrollLeft+"px, "+-1*this.scrollTop+"px"+(this.accel?", 0":"");enyo.dom.transformValue(this.$.client,this.translation,a)},down:function(){var a=this;return this.isScrolling()&&!this.isOverscrolling()?(this.stopTimeout=setTimeout(function(){a.stop()},this.stopTimeoutMS),!0):void 0},dragstart:function(a,b){return this.stopTimeout&&clearTimeout(this.stopTimeout),!!(!this.dragDuringGesture&&b.srcEvent.touches&&b.srcEvent.touches.length>1)||(this.shouldDrag(b),this.dragging=b.dragger==this||!b.dragger&&b.boundaryDragger==this,!(!this.dragging||(this.isScrolling()&&this.stopScrolling(),this.thumb&&this.showThumbs(),b.preventDefault(),this.prevY=b.pageY,this.prevX=b.pageX,!this.preventDragPropagation))||void 0)},shouldDrag:function(a){return this.calcStartInfo(),this.calcBoundaries(),this.calcAutoScrolling(),this.scrollHorizontal?this.scrollVertical?this.shouldDragVertical(a)||this.shouldDragHorizontal(a):this.shouldDragHorizontal(a):this.shouldDragVertical(a)},shouldDragVertical:function(a){var b=this.canDragVertical(a),c=this.oobVertical(a);return!a.boundaryDragger&&b&&(a.boundaryDragger=this),!c&&b?(a.dragger=this,!0):void 0},shouldDragHorizontal:function(a){var b=this.canDragHorizontal(a),c=this.oobHorizontal(a);return!a.boundaryDragger&&b&&(a.boundaryDragger=this),!c&&b?(a.dragger=this,!0):void 0},canDragVertical:function(a){return this.scrollVertical&&a.vertical},canDragHorizontal:function(a){return this.scrollHorizontal&&!a.vertical},oobVertical:function(a){var b=0>a.dy;return!b&&this.startEdges.top||b&&this.startEdges.bottom},oobHorizontal:function(a){var b=0>a.dx;return!b&&this.startEdges.left||b&&this.startEdges.right},drag:function(a,b){return!this.listReordering&&void(this.dragging&&(b.preventDefault(),this.scrollLeft=this.scrollHorizontal?this.calculateDragDistance(parseInt(this.getScrollLeft(),10),-1*(b.pageX-this.prevX),this.leftBoundary,this.rightBoundary):this.getScrollLeft(),this.scrollTop=this.scrollVertical?this.calculateDragDistance(this.getScrollTop(),-1*(b.pageY-this.prevY),this.topBoundary,this.bottomBoundary):this.getScrollTop(),this.effectScroll(),this.scroll(),this.prevY=b.pageY,this.prevX=b.pageX,this.resetBoundaryX(),this.resetBoundaryY()))},calculateDragDistance:function(a,b,c,d){var e=a+b;return this.overscrollDragDamping(a,e,b,c,d)},overscrollDragDamping:function(a,b,c,d,e){return(d>b||e>-1*b)&&(c/=2,b=a+c),b},resetBoundaryX:function(){this.boundaryX=0},resetBoundaryY:function(){this.boundaryY=0},dragfinish:function(a,b){this.dragging&&(b.preventTap(),this.dragging=!1,this.isScrolling()||this.correctOverflow(),this.scrim&&this.$.scrim.hide())},correctOverflow:function(){if(this.isInOverScroll()){var a=!!this.scrollHorizontal&&this.correctOverflowX(),b=!!this.scrollVertical&&this.correctOverflowY();!1!==a&&!1!==b?(this.scrollLeft=!1!==a?a:this.getScrollLeft(),this.scrollTop=!1!==b?b:this.getScrollTop(),this.startOverflowScrolling()):!1!==a?(this.scrollLeft=a,this.scrollTop=this.targetScrollTop||this.scrollTop,this.targetScrollLeft=this.getScrollLeft(),this.vertical?this.startScrolling():this.startOverflowScrolling()):!1!==b&&(this.scrollTop=b,this.scrollLeft=this.targetScrollLeft||this.scrollLeft,this.targetScrollTop=this.getScrollTop(),this.scrollHorizontal?this.startScrolling():this.startOverflowScrolling())}},correctOverflowX:function(){if(this.isInLeftOverScroll()){if(this.beyondBoundary(this.getScrollLeft(),this.leftBoundary,this.boundaryX))return this.leftBoundary}else if(this.isInRightOverScroll()&&this.beyondBoundary(this.getScrollLeft(),this.rightBoundary,this.boundaryX))return-1*this.rightBoundary;return!1},correctOverflowY:function(){if(this.isInTopOverScroll()){if(this.beyondBoundary(this.getScrollTop(),this.topBoundary,this.boundaryY))return this.topBoundary}else if(this.isInBottomOverScroll()&&this.beyondBoundary(this.getScrollTop(),this.bottomBoundary,this.boundaryY))return-1*this.bottomBoundary;return!1},beyondBoundary:function(a,b,c){return Math.abs(Math.abs(b)-Math.abs(a))>Math.abs(c)},flick:function(a,b){return this.dragging&&this.flickOnEnabledAxis(b)?(this.scrollLeft=this.scrollHorizontal?this.calculateFlickDistance(this.scrollLeft,-1*b.xVelocity):this.getScrollLeft(),this.scrollTop=this.scrollVertical?this.calculateFlickDistance(this.scrollTop,-1*b.yVelocity):this.getScrollTop(),this.targetScrollLeft=this.scrollLeft,this.targetScrollTop=this.scrollTop,this.boundaryX=null,this.boundaryY=null,this.isInLeftOverScroll()?this.boundaryX=this.figureBoundary(this.getScrollLeft()):this.isInRightOverScroll()&&(this.boundaryX=this.figureBoundary(-1*this.bottomBoundary-this.getScrollLeft())),this.isInTopOverScroll()?this.boundaryY=this.figureBoundary(this.getScrollTop()):this.isInBottomOverScroll()&&(this.boundaryY=this.figureBoundary(-1*this.bottomBoundary-this.getScrollTop())),this.startScrolling(),this.preventDragPropagation):void 0},flickOnEnabledAxis:function(a){return Math.abs(a.xVelocity)>Math.abs(a.yVelocity)?this.scrollHorizontal:this.scrollVertical},calculateFlickDistance:function(a,b){return a+b*this.kFlickScalar},startScrolling:function(){this.applyTransition("scroll"),this.effectScroll(),this.setCSSTransitionInterval(),this.scrolling=!0},startOverflowScrolling:function(){this.applyTransition("bounce"),this.effectScroll(),this.setOverflowTransitionInterval(),this.scrolling=!0},applyTransition:function(a){this.$.client.applyStyle("-webkit-transition",this.transitions[a])},stopScrolling:function(){this.resetCSSTranslationVals(),this.clearCSSTransitionInterval(),this.scrolling=!1},setCSSTransitionInterval:function(){this.clearCSSTransitionInterval(),this.scrollInterval=setInterval(this.bindSafely(function(){this.updateScrollPosition(),this.correctOverflow()}),this.scrollIntervalMS)},setOverflowTransitionInterval:function(){this.clearCSSTransitionInterval(),this.scrollInterval=setInterval(this.bindSafely(function(){this.updateScrollPosition()}),this.scrollIntervalMS)},updateScrollPosition:function(){var a=this.updateY(),b=this.updateX();this.scroll(),a||b||this.stop()},clearCSSTransitionInterval:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null)},resetCSSTranslationVals:function(){var a=enyo.dom.getCssTransformProp(),b=window.getComputedStyle(this.$.client.node,null).getPropertyValue(a).split("(")[1].split(")")[0].split(",");this.applyTransition("none"),this.scrollLeft=-1*b[4],this.scrollTop=-1*b[5],this.effectScroll()},figureBoundary:function(a){var b=Math.abs(a),c=b-b/Math.pow(b,.02);return c=0>a?-1*c:c},transitionComplete:function(a,b){if(b.originator===this.$.client){var c=!1;this.isInTopOverScroll()?(c=!0,this.scrollTop=this.topBoundary):this.isInBottomOverScroll()&&(c=!0,this.scrollTop=-1*this.bottomBoundary),this.isInLeftOverScroll()?(c=!0,this.scrollLeft=this.leftBoundary):this.isInRightOverScroll()&&(c=!0,this.scrollLeft=-1*this.rightBoundary),c?this.startOverflowScrolling():this.stop()}},scrollTo:function(a,b){this.setScrollTop(b),this.setScrollLeft(a),this.start()},getOverScrollBounds:function(){return{overleft:Math.min(this.leftBoundary+this.scrollLeft,0)||Math.max(this.rightBoundary+this.scrollLeft,0),overtop:Math.min(this.topBoundary+this.scrollTop,0)||Math.max(this.bottomBoundary+this.scrollTop,0)}}}),enyo.kind({name:"enyo.Scroller",published:{horizontal:"default",vertical:"default",scrollTop:0,scrollLeft:0,maxHeight:null,touch:!1,strategyKind:"ScrollStrategy",thumb:!0,useMouseWheel:!0},events:{onScrollStart:"",onScroll:"",onScrollStop:""},touchOverscroll:!0,preventDragPropagation:!0,preventScrollPropagation:!0,noDefer:!0,handlers:{onscroll:"domScroll",onScrollStart:"scrollStart",onScroll:"scroll",onScrollStop:"scrollStop"},classes:"enyo-scroller",statics:{osInfo:[{os:"android",version:3},{os:"androidChrome",version:18},{os:"androidFirefox",version:16},{os:"firefoxOS",version:16},{os:"ios",version:5},{os:"webos",version:1e9},{os:"blackberry",version:1e9},{os:"tizen",version:2}],hasTouchScrolling:function(){for(var a,b=0;a=this.osInfo[b];b++)if(enyo.platform[a.os])return!0;return!(!(enyo.platform.ie>=10||enyo.platform.windowsPhone>=8)||!enyo.platform.touch)||void 0},hasNativeScrolling:function(){for(var a,b=0;a=this.osInfo[b];b++)if(enyo.platform[a.os]<a.version)return!1;return!0},getTouchStrategy:function(){return enyo.platform.android>=3||8===enyo.platform.windowsPhone||enyo.platform.webos>=4?"TranslateScrollStrategy":"TouchScrollStrategy"}},controlParentName:"strategy",create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.horizontalChanged(),this.verticalChanged(),this.useMouseWheelChanged()}}),importProps:enyo.inherit(function(a){return function(b){a.apply(this,arguments),b&&void 0===b.strategyKind&&(enyo.Scroller.touchScrolling||this.touch)&&(this.strategyKind=enyo.Scroller.getTouchStrategy())}}),initComponents:enyo.inherit(function(a){return function(){this.strategyKindChanged(),a.apply(this,arguments)}}),teardownChildren:enyo.inherit(function(a){return function(){this.cacheScrollPosition(),a.apply(this,arguments)}}),rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.restoreScrollPosition()}}),strategyKindChanged:function(){this.$.strategy&&(this.$.strategy.destroy(),this.controlParent=null),this.createStrategy(),this.hasNode()&&this.render()},createStrategy:function(){this.createComponents([{name:"strategy",maxHeight:this.maxHeight,kind:this.strategyKind,thumb:this.thumb,preventDragPropagation:this.preventDragPropagation,overscroll:this.touchOverscroll,isChrome:!0}])},getStrategy:function(){return this.$.strategy},maxHeightChanged:function(){this.$.strategy.setMaxHeight(this.maxHeight)},showingChanged:enyo.inherit(function(a){return function(){this.showing||this.cacheScrollPosition(!0),a.apply(this,arguments),this.showing&&this.restoreScrollPosition()}}),thumbChanged:function(){this.$.strategy.setThumb(this.thumb)},cacheScrollPosition:function(a){var b={left:this.getScrollLeft(),top:this.getScrollTop()};a&&(this.setScrollLeft(0),this.setScrollTop(0)),this.cachedPosition=b},restoreScrollPosition:function(){if(this.cachedPosition){var a=this.cachedPosition;(a.top||a.left)&&(this.cachedPosition=null,this.setScrollLeft(a.left),this.setScrollTop(a.top))}},horizontalChanged:function(){this.$.strategy.setHorizontal(this.horizontal)},verticalChanged:function(){this.$.strategy.setVertical(this.vertical)},setScrollLeft:function(a){this.scrollLeft=a,this.cachedPosition&&(this.cachedPosition.left=a),this.$.strategy.setScrollLeft(this.scrollLeft)},setScrollTop:function(a){this.scrollTop=a,this.cachedPosition&&(this.cachedPosition.top=a),this.$.strategy.setScrollTop(a)},getScrollLeft:function(){return this.scrollLeft=this.$.strategy.getScrollLeft(),this.scrollLeft},getScrollTop:function(){return this.scrollTop=this.$.strategy.getScrollTop(),this.scrollTop},getScrollBounds:function(){var a=this.$.strategy.getScrollBounds();return(-1!==a.xDir&&0!==a.xDir&&1!==a.xDir||-1!==a.yDir&&0!==a.yDir&&1!==a.yDir)&&this.decorateBounds(a),this.scrollTop=a.top,this.scrollLeft=a.left,a},scrollIntoView:function(a,b){this.$.strategy.scrollIntoView(a,b)},scrollTo:function(a,b){this.$.strategy.scrollTo(a,b)},scrollToControl:function(a,b){this.scrollToNode(a.hasNode(),b)},scrollToNode:function(a,b){this.$.strategy.scrollToNode(a,b)},decorateScrollEvent:function(a){var b=a.scrollBounds=a.scrollBounds||this.$.strategy._getScrollBounds();(-1!==b.xDir&&0!==b.xDir&&1!==b.xDir||-1!==b.yDir&&0!==b.yDir&&1!==b.yDir)&&this.decorateBounds(b),this.scrollTop=b.top,this.scrollLeft=b.left},decorateBounds:function(a){var b=this.scrollLeft-a.left,c=this.scrollTop-a.top;a.xDir=0>b?1:b>0?-1:0,a.yDir=0>c?1:c>0?-1:0,this.scrollLeft=a.left,this.scrollTop=a.top},domScroll:function(a,b){return this.$.strategy.domScroll&&b.originator==this&&this.$.strategy.domScroll(a,b),this.decorateScrollEvent(b),this.doScroll(b),!0},shouldStopScrollEvent:function(a){return this.preventScrollPropagation&&a.originator.owner!=this.$.strategy},scrollStart:function(a,b){return!!this.shouldStopScrollEvent(b)||(this.decorateScrollEvent(b),!1)},scroll:function(a,b){return!!(b.dispatchTarget?this.preventScrollPropagation&&!(b.originator==this||b.originator.owner==this.$.strategy):this.shouldStopScrollEvent(b))||(this.decorateScrollEvent(b),!1)},scrollStop:function(a,b){return!!this.shouldStopScrollEvent(b)||(this.decorateScrollEvent(b),!1)},scrollToTop:function(){this.setScrollTop(0)},scrollToBottom:function(){this.setScrollTop(this.getScrollBounds().maxTop)},scrollToRight:function(){this.setScrollLeft(this.getScrollBounds().maxLeft)},scrollToLeft:function(){this.setScrollLeft(0)},stabilize:function(){var a=this.getStrategy();a.stabilize&&a.stabilize()},useMouseWheelChanged:function(){this.$.strategy.setUseMouseWheel(this.useMouseWheel)},resized:enyo.inherit(function(a){return function(){this.getAbsoluteShowing(!0)&&a.apply(this,arguments)}})}),enyo.Scroller.hasTouchScrolling()&&(enyo.Scroller.prototype.strategyKind=enyo.Scroller.getTouchStrategy()),enyo.kind({name:"enyo.Anchor",kind:"enyo.Control",tag:"a",published:{href:"",title:""},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.hrefChanged(),this.titleChanged()}}),hrefChanged:function(){this.setAttribute("href",this.href)},titleChanged:function(){this.setAttribute("title",this.title)}}),enyo.kind({name:"enyo.Animator",kind:"Component",published:{duration:350,startValue:0,endValue:1,node:null,easingFunction:enyo.easing.cubicOut},events:{onStep:"",onEnd:"",onStop:""},constructed:enyo.inherit(function(a){return function(){a.apply(this,arguments),this._next=this.bindSafely("next")}}),destroy:enyo.inherit(function(a){return function(){this.stop(),a.apply(this,arguments)}}),play:function(a){return this.stop(),this.reversed=!1,a&&enyo.mixin(this,a),this.t0=this.t1=enyo.perfNow(),this.value=this.startValue,enyo.jobs.registerPriority(5,this.id),this.job=!0,this.next(),this},stop:function(){return this.isAnimating()?(this.cancel(),this.fire("onStop"),this):void 0},reverse:function(){if(this.isAnimating()){this.reversed=!this.reversed;var a=this.t1=enyo.perfNow(),b=a-this.t0;this.t0=a+b-this.duration;var c=this.startValue;return this.startValue=this.endValue,this.endValue=c,this}},isAnimating:function(){return Boolean(this.job)},requestNext:function(){this.job=enyo.requestAnimationFrame(this._next,this.node)},cancel:function(){enyo.cancelRequestAnimationFrame(this.job),this.node=null,this.job=null,enyo.jobs.unregisterPriority(this.id)},shouldEnd:function(){return this.dt>=this.duration},next:function(){this.t1=enyo.perfNow(),this.dt=this.t1-this.t0;var a,b=this.easingFunction.length;1===b?(a=this.fraction=enyo.easedLerp(this.t0,this.duration,this.easingFunction,this.reversed),this.value=this.startValue+a*(this.endValue-this.startValue)):this.value=enyo.easedComplexLerp(this.t0,this.duration,this.easingFunction,this.reversed,this.dt,this.startValue,this.endValue-this.startValue),a>=1&&1===b||this.shouldEnd()?(this.value=this.endValue,this.fraction=1,this.fire("onStep"),this.cancel(),this.fire("onEnd")):(this.fire("onStep"),this.requestNext())},fire:function(a){var b=this[a];enyo.isString(b)?this.bubble(a):b&&b.call(this.context||window,this)}}),enyo.kind({name:"enyo.BaseLayout",kind:"enyo.Layout",layoutClass:"enyo-positioned",reflow:function(){enyo.forEach(this.container.children,function(a){null!==a.fit&&a.addRemoveClass("enyo-fit",a.fit)},this)}}),enyo.kind({name:"enyo.Image",noEvents:!1,published:{alt:"",sizing:"",position:"center"},tag:"img",classes:"enyo-image",attributes:{draggable:"false"},create:enyo.inherit(function(a){return function(){this.noEvents&&(delete this.attributes.onload,delete this.attributes.onerror),a.apply(this,arguments),this.altChanged(),this.sizingChanged()}}),srcChanged:enyo.inherit(function(a){return function(){this.sizing&&this.src?this.applyStyle("background-image","url("+enyo.path.rewrite(this.src)+")"):a.apply(this,arguments)}}),altChanged:function(){this.setAttribute("alt",this.alt)},sizingChanged:function(a){this.tag=this.sizing?"div":"img",this.addRemoveClass("sized",!!this.sizing),this.inOld&&this.removeClass(a),this.sizing&&this.addClass(this.sizing),this.generated&&(this.srcChanged(),this.render())},positionChanged:function(){this.sizing&&this.applyStyle("background-position",this.containPosition)},rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),enyo.makeBubble(this,"load","error")}}),statics:{placeholder:"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBzdHlsZT0ic3Ryb2tlOiAjNDQ0OyBzdHJva2Utd2lkdGg6IDE7IGZpbGw6ICNhYWE7IiAvPjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjEwMCUiIHkyPSIxMDAlIiBzdHlsZT0ic3Ryb2tlOiAjNDQ0OyBzdHJva2Utd2lkdGg6IDE7IiAvPjxsaW5lIHgxPSIxMDAlIiB5MT0iMCIgeDI9IjAiIHkyPSIxMDAlIiBzdHlsZT0ic3Ryb2tlOiAjNDQ0OyBzdHJva2Utd2lkdGg6IDE7IiAvPjwvc3ZnPg=="}}),enyo.kind({name:"enyo.Input",published:{value:"",placeholder:"",type:"",disabled:!1,selectOnFocus:!1},events:{onDisabledChange:""},defaultFocus:!1,tag:"input",classes:"enyo-input",handlers:{onfocus:"focused",oninput:"input",onclear:"clear",ondragstart:"dragstart"},create:enyo.inherit(function(a){return function(){enyo.platform.ie&&(this.handlers.onkeyup="iekeyup"),enyo.platform.windowsPhone&&(this.handlers.onkeydown="iekeydown"),a.apply(this,arguments),this.placeholderChanged(),this.type&&this.typeChanged(),this.valueChanged()}}),rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),enyo.makeBubble(this,"focus","blur"),8==enyo.platform.ie&&this.setAttribute("onchange",enyo.bubbler),this.disabledChanged(),this.defaultFocus&&this.focus()}}),typeChanged:function(){this.setAttribute("type",this.type)},placeholderChanged:function(){this.setAttribute("placeholder",this.placeholder)},disabledChanged:function(){this.setAttribute("disabled",this.disabled),this.bubble("onDisabledChange")},valueChanged:function(){var a=this.hasNode(),b=this.attributes;a?(a.value!==this.value&&(a.value=this.value),b.value=this.value):this.setAttribute("value",this.value)},iekeyup:function(a,b){var c=enyo.platform.ie,d=b.keyCode;(8>=c||9==c&&(8==d||46==d))&&this.bubble("oninput",b)},iekeydown:function(a,b){var c=enyo.platform.windowsPhone,d=b.keyCode,e=b.dispatchTarget;8>=c&&13==d&&"input"==this.tag&&e.hasNode()&&e.node.blur()},clear:function(){this.setValue("")},dragstart:function(){return this.hasFocus()},focused:function(){this.selectOnFocus&&enyo.asyncMethod(this,"selectContents")},selectContents:function(){var a=this.hasNode();if(a&&a.setSelectionRange)a.setSelectionRange(0,a.value.length);else if(a&&a.createTextRange){var b=a.createTextRange();b.expand("textedit"),b.select()}},input:function(){var a=this.getNodeProperty("value");this.setValue(a)}}),enyo.kind({name:"enyo.RichText",classes:"enyo-richtext enyo-selectable",published:{allowHtml:!0,disabled:!1,value:""},defaultFocus:!1,protectedStatics:{osInfo:[{os:"android",version:3},{os:"ios",version:5}],hasContentEditable:function(){for(var a,b=0;a=enyo.RichText.osInfo[b];b++)if(enyo.platform[a.os]<a.version)return!1;return!0}},kind:"enyo.Input",attributes:{contenteditable:!0},handlers:{onfocus:"focusHandler",onblur:"blurHandler",onkeyup:"updateValue",oncut:"updateValueAsync",onpaste:"updateValueAsync",oninput:null},create:enyo.inherit(function(a){return function(){this.setTag(enyo.RichText.hasContentEditable()?"div":"textarea"),a.apply(this,arguments),this.disabledChanged()}}),focusHandler:function(){this._value=this.get("value")},blurHandler:function(){this._value!==this.get("value")&&this.bubble("onchange")},valueChanged:function(){var a=this.get("value");this.hasFocus()&&a!==this.node.innerHTML?(this.selectAll(),this.insertAtCursor(a)):this.hasFocus()||this.set("content",a)},disabledChanged:function(){"div"===this.tag?this.setAttribute("contenteditable",this.disabled?null:"true"):this.setAttribute("disabled",this.disabled),this.bubble("onDisabledChange")},updateValue:function(){var a=this.node.innerHTML;this.set("value",a)},updateValueAsync:function(){enyo.asyncMethod(this.bindSafely("updateValue"))},hasFocus:function(){return this.hasNode()?document.activeElement===this.node:void 0},getSelection:function(){return this.hasFocus()?window.getSelection():void 0},removeSelection:function(a){var b=this.getSelection();b&&b[a?"collapseToStart":"collapseToEnd"]()},modifySelection:function(a,b,c){var d=this.getSelection();d&&d.modify(a||"move",b,c)},moveCursor:function(a,b){this.modifySelection("move",a,b)},moveCursorToEnd:function(){this.moveCursor("forward","documentboundary")},moveCursorToStart:function(){this.moveCursor("backward","documentboundary")},selectAll:function(){this.hasFocus()&&document.execCommand("selectAll")},insertAtCursor:function(a){if(this.hasFocus()){var b=this.allowHtml?a:enyo.Control.escapeHtml(a).replace(/\n/g,"<br/>");document.execCommand("insertHTML",!1,b)}}}),enyo.kind({name:"enyo.TextArea",kind:"enyo.Input",tag:"textarea",classes:"enyo-textarea",rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.valueChanged()}})}),enyo.kind({name:"enyo.Select",published:{selected:0},handlers:{onchange:"change"},tag:"select",defaultKind:"enyo.Option",rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),8==enyo.platform.ie&&this.setAttribute("onchange",enyo.bubbler),this.selectedChanged()}}),getSelected:function(){return Number(this.getNodeProperty("selectedIndex",this.selected))},selectedChanged:function(){this.setNodeProperty("selectedIndex",this.selected)},change:function(){this.selected=this.getSelected()},render:enyo.inherit(function(a){return function(){enyo.platform.ie?this.parent.render():a.apply(this,arguments)}}),getValue:function(){return this.hasNode()?this.node.value:void 0}}),enyo.kind({name:"enyo.Option",published:{value:""},tag:"option",create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.valueChanged()}}),valueChanged:function(){this.setAttribute("value",this.value)}}),enyo.kind({name:"enyo.OptionGroup",published:{label:""},tag:"optgroup",defaultKind:"enyo.Option",create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.labelChanged()}}),labelChanged:function(){this.setAttribute("label",this.label)}}),enyo.kind({name:"enyo.Group",published:{highlander:!0,allowHighlanderDeactivate:!1,active:null,groupName:null},handlers:{onActivate:"activate"},activate:function(a,b){(!this.groupName&&!b.originator.groupName||b.originator.groupName==this.groupName)&&this.highlander&&(void 0!==b.allowHighlanderDeactivate&&b.allowHighlanderDeactivate!==this.allowHighlanderDeactivate&&this.setAllowHighlanderDeactivate(b.allowHighlanderDeactivate),b.originator.active?this.setActive(b.originator):b.originator==this.active&&(this.allowHighlanderDeactivate?this.setActive(null):this.active.setActive(!0)))},activeChanged:function(a){a&&(a.setActive(!1),a.removeClass("active")),this.active&&this.active.addClass("active")}}),enyo.kind({name:"enyo.GroupItem",published:{active:!1},rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.activeChanged()}}),activeChanged:function(){this.bubble("onActivate")}}),enyo.kind({name:"enyo.ToolDecorator",kind:"enyo.GroupItem",classes:"enyo-tool-decorator"}),enyo.kind({name:"enyo.Button",kind:"enyo.ToolDecorator",tag:"button",attributes:{type:"button"},published:{disabled:!1},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.disabledChanged()}}),disabledChanged:function(){this.setAttribute("disabled",this.disabled)},tap:function(){return!!this.disabled||void this.setActive(!0)}}),enyo.kind({name:"enyo.Checkbox",kind:"enyo.Input",classes:"enyo-checkbox",events:{onActivate:""},published:{checked:!1,active:!1,type:"checkbox"},kindClasses:"",handlers:{onchange:"change",onclick:"click"},rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.active&&this.activeChanged(),this.checkedChanged()}}),checkedChanged:function(){this.setNodeProperty("checked",this.checked),this.setAttribute("checked",this.checked?"checked":""),this.setActive(this.checked)},activeChanged:function(){this.active=enyo.isTrue(this.active),this.setChecked(this.active),this.bubble("onActivate")},setValue:function(a){this.setChecked(enyo.isTrue(a))},getValue:function(){return this.getChecked()},valueChanged:function(){},change:function(){var a=enyo.isTrue(this.getNodeProperty("checked"));this.setActive(a)},click:function(a,b){8>=enyo.platform.ie&&this.bubble("onchange",b)}}),enyo.kind({name:"enyo.Repeater",published:{count:0},events:{onSetupItem:""},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.countChanged()}}),initComponents:enyo.inherit(function(a){return function(){this.itemComponents=this.components||this.kindComponents,this.components=this.kindComponents=null,a.apply(this,arguments)}}),countChanged:function(){this.build()},itemAtIndex:function(a){return this.controlAtIndex(a)},build:function(){this.destroyClientControls();for(var a,b=0;this.count>b;b++)a=this.createComponent({kind:"enyo.OwnerProxy",index:b}),a.createComponents(this.itemComponents),this.doSetupItem({index:b,item:a});this.render()},renderRow:function(a){var b=this.itemAtIndex(a);this.doSetupItem({index:a,item:b})}}),enyo.kind({name:"enyo.OwnerProxy",tag:null,decorateEvent:enyo.inherit(function(a){return function(b,c){c&&(enyo.exists(c.index)?(c.indices=c.indices||[c.index],c.indices.push(this.index)):c.index=this.index,c.delegate&&c.delegate.owner===this&&(c.delegate=this.owner)),a.apply(this,arguments)}})}),enyo.kind({name:"enyo._DragAvatar",style:"position: absolute; z-index: 10; pointer-events: none; cursor: move;",showing:!1,showingChanged:enyo.inherit(function(a){return function(){a.apply(this,arguments),document.body.style.cursor=this.showing?"move":null}})}),enyo.kind({name:"enyo.DragAvatar",kind:"enyo.Component",published:{showing:!1,offsetX:20,offsetY:30},initComponents:enyo.inherit(function(a){return function(){this.avatarComponents=this.components,this.components=null,a.apply(this,arguments)}}),requireAvatar:function(){this.avatar||(this.avatar=this.createComponent({kind:enyo._DragAvatar,parentNode:document.body,showing:!1,components:this.avatarComponents}).render())},showingChanged:function(){this.avatar.setShowing(this.showing),document.body.style.cursor=this.showing?"move":null},drag:function(a){this.requireAvatar(),this.avatar.setBounds({top:a.pageY-this.offsetY,left:a.pageX+this.offsetX}),this.show()},show:function(){this.setShowing(!0)},hide:function(){this.setShowing(!1)}}),enyo.kind({name:"enyo.FloatingLayer",create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.setParent(null)}}),hasNode:enyo.inherit(function(a){return function(){return a.apply(this,arguments),this.node&&!this.node.parentNode&&this.teardownRender(),this.node}}),render:enyo.inherit(function(a){return function(){return this.parentNode=document.body,a.apply(this,arguments)}}),generateInnerHtml:function(){return""},beforeChildRender:function(){this.hasNode()||this.render()},teardownChildren:function(){}}),enyo.floatingLayer=new enyo.FloatingLayer,enyo.kind({name:"enyo.Popup",classes:"enyo-popup enyo-no-touch-action",published:{modal:!1,autoDismiss:!0,floating:!1,centered:!1,showTransitions:!1,allowDefault:!1},showing:!1,handlers:{onkeydown:"keydown",ondragstart:"dragstart",onfocus:"focus",onblur:"blur",onRequestShow:"requestShow",onRequestHide:"requestHide"},captureEvents:!0,eventsToCapture:{ondown:"capturedDown",ontap:"capturedTap"},events:{onShow:"",onHide:""},tools:[{kind:"Signals",onKeydown:"keydown"}],create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.canGenerate=!this.floating}}),render:enyo.inherit(function(a){return function(){this.floating&&(enyo.floatingLayer.hasNode()||enyo.floatingLayer.render(),this.parentNode=enyo.floatingLayer.hasNode()),a.apply(this,arguments)}}),destroy:enyo.inherit(function(a){return function(){this.release(),a.apply(this,arguments)}}),reflow:enyo.inherit(function(a){return function(){this.updatePosition(),a.apply(this,arguments)}}),calcViewportSize:function(){if(window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var a=document.documentElement;return{width:a.offsetWidth,height:a.offsetHeight}},updatePosition:function(){var a=this.calcViewportSize(),b=this.getBounds();if(this.targetPosition){var c=this.targetPosition;"number"==typeof c.left?c.left+b.width>a.width?(c.right=c.left-b.width>=0?a.width-c.left:0,c.left=null):c.right=null:"number"==typeof c.right&&(c.right+b.width>a.width?(c.left=c.right-b.width>=0?a.width-c.right:0,c.right=null):c.left=null),"number"==typeof c.top?c.top+b.height>a.height?(c.bottom=c.top-b.height>=0?a.height-c.top:0,c.top=null):c.bottom=null:"number"==typeof c.bottom&&(c.bottom+b.height>a.height?(c.top=c.bottom-b.height>=0?a.height-c.bottom:0,c.bottom=null):c.top=null),this.addStyles("left: "+(null!==c.left?c.left+"px":"initial")+"; right: "+(null!==c.right?c.right+"px":"initial")+"; top: "+(null!==c.top?c.top+"px":"initial")+"; bottom: "+(null!==c.bottom?c.bottom+"px":"initial")+";")}else if(this.centered){var d=this.getInstanceOwner().getBounds();this.addStyles("top: "+Math.max((d.height-b.height)/2,0)+"px; left: "+Math.max((d.width-b.width)/2,0)+"px;")}},showingChanged:enyo.inherit(function(a){return function(){this.floating&&this.showing&&!this.hasNode()&&this.render(),(this.centered||this.targetPosition)&&(this.showTransitions||this.applyStyle("visibility","hidden"),this.addStyles("top: 0px; left: 0px; right: initial; bottom: initial;")),a.apply(this,arguments),this.showing?(this.resized(),this.captureEvents&&this.capture()):this.captureEvents&&this.release(),(this.centered||this.targetPosition&&!this.showTransitions)&&this.applyStyle("visibility",null),this.hasNode()&&this[this.showing?"doShow":"doHide"]()}}),capture:function(){enyo.dispatcher.capture(this,this.eventsToCapture)},release:function(){enyo.dispatcher.release(this)},capturedDown:function(a,b){return this.downEvent=b,this.modal&&!this.allowDefault&&b.preventDefault(),this.modal},capturedTap:function(a,b){return this.autoDismiss&&!b.dispatchTarget.isDescendantOf(this)&&this.downEvent&&!this.downEvent.dispatchTarget.isDescendantOf(this)&&(this.downEvent=null,this.hide()),this.modal},dragstart:function(a,b){var c=b.dispatchTarget===this||b.dispatchTarget.isDescendantOf(this);return a.autoDismiss&&!c&&a.setShowing(!1),!0},keydown:function(a,b){this.showing&&this.autoDismiss&&27==b.keyCode&&this.hide()},blur:function(a,b){b.dispatchTarget.isDescendantOf(this)&&(this.lastFocus=b.originator)},focus:function(a,b){var c=b.dispatchTarget;if(this.modal&&!c.isDescendantOf(this)){c.hasNode()&&c.node.blur();var d=this.lastFocus&&this.lastFocus.hasNode()||this.hasNode();d&&d.focus()}},requestShow:function(){return this.show(),!0},requestHide:function(){return this.hide(),!0},showAtEvent:function(a,b){var c={left:a.centerX||a.clientX||a.pageX,top:a.centerY||a.clientY||a.pageY};b&&(c.left+=b.left||0,c.top+=b.top||0),this.showAtPosition(c)},showAtPosition:function(a){this.targetPosition=a,this.show()}}),enyo.kind({name:"enyo.Selection",kind:"enyo.Component",published:{multi:!1},events:{onSelect:"",onDeselect:"",onChange:""},create:enyo.inherit(function(a){return function(){this.clear(),a.apply(this,arguments)}}),multiChanged:function(){this.multi||this.clear(),this.doChange()},highlander:function(){this.multi||this.deselect(this.lastSelected)},clear:function(){this.selected={}},isSelected:function(a){return this.selected[a]},setByKey:function(a,b,c){if(b)this.selected[a]=c||!0,this.lastSelected=a,this.doSelect({key:a,data:this.selected[a]});else{var d=this.isSelected(a);delete this.selected[a],this.doDeselect({key:a,data:d})}this.doChange()},deselect:function(a){this.isSelected(a)&&this.setByKey(a,!1)},select:function(a,b){this.multi?this.setByKey(a,!this.isSelected(a),b):this.isSelected(a)||(this.highlander(),this.setByKey(a,!0,b))},toggle:function(a,b){this.multi||this.lastSelected==a||this.deselect(this.lastSelected),this.setByKey(a,!this.isSelected(a),b)},getSelected:function(){return this.selected},remove:function(a){var b={};for(var c in this.selected)a>c?b[c]=this.selected[c]:c>a&&(b[c-1]=this.selected[c]);this.selected=b}}),enyo.kind({name:"enyo.Drawer",published:{open:!0,orient:"v",animated:!0,resizeContainer:!0},events:{onDrawerAnimationStep:"",onDrawerAnimationEnd:""},style:"overflow: hidden; position: relative;",tools:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorEnd"},{name:"client",style:"position: relative;",classes:"enyo-border-box"}],create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.animatedChanged(),this.openChanged()}}),initComponents:enyo.inherit(function(a){return function(){this.createChrome(this.tools),a.apply(this,arguments)}}),animatedChanged:function(){!this.animated&&this.hasNode()&&this.$.animator.isAnimating()&&(this.$.animator.stop(),this.animatorEnd())},openChanged:function(){if(this.$.client.show(),this.hasNode())if(this.$.animator.isAnimating())this.$.animator.reverse();else{var a="v"==this.orient,b=a?"height":"width",c=a?"top":"left";this.applyStyle(b,null);var d=this.hasNode()[a?"scrollHeight":"scrollWidth"];this.animated?this.$.animator.play({startValue:this.open?0:d,endValue:this.open?d:0,dimension:b,position:c}):this.animatorEnd()}else this.$.client.setShowing(this.open)},animatorStep:function(a){if(this.hasNode()){var b=a.dimension;this.node.style[b]=this.domStyles[b]=a.value+"px"}var c=this.$.client.hasNode();if(c){var d=a.position,e=this.open?a.endValue:a.startValue;c.style[d]=this.$.client.domStyles[d]=a.value-e+"px"}return this.container&&this.resizeContainer&&this.container.resized(),this.doDrawerAnimationStep(),!0},animatorEnd:function(){if(this.open){this.$.client.domCssText=enyo.Control.domStylesToCssText(this.$.client.domStyles);var a="v"==this.orient,b=a?"height":"width",c=a?"top":"left",d=this.$.client.hasNode();d&&(d.style[c]=this.$.client.domStyles[c]=null),this.node&&(this.node.style[b]=this.domStyles[b]=null)}else this.$.client.hide();return this.container&&this.resizeContainer&&this.container.resized(),this.doDrawerAnimationEnd(),!0}}),enyo.kind({name:"enyo.Table",tag:"table",attributes:{cellpadding:"0",cellspacing:"0"},defaultKind:"enyo.TableRow"}),enyo.kind({name:"enyo.TableRow",tag:"tr",defaultKind:"enyo.TableCell"}),enyo.kind({name:"enyo.TableCell",tag:"td"}),enyo.fullscreen={fullscreenControl:null,fullscreenElement:null,requestor:null,elementAccessor:"fullscreenElement"in document?"fullscreenElement":"mozFullScreenElement"in document?"mozFullScreenElement":"webkitFullscreenElement"in document?"webkitFullscreenElement":null,requestAccessor:"requestFullscreen"in document.documentElement?"requestFullscreen":"mozRequestFullScreen"in document.documentElement?"mozRequestFullScreen":"webkitRequestFullscreen"in document.documentElement?"webkitRequestFullscreen":null,cancelAccessor:"cancelFullScreen"in document?"cancelFullScreen":"mozCancelFullScreen"in document?"mozCancelFullScreen":"webkitCancelFullScreen"in document?"webkitCancelFullScreen":null,nativeSupport:function(){return null!==this.elementAccessor&&null!==this.requestAccessor&&null!==this.cancelAccessor},getFullscreenElement:function(){return this.nativeSupport()?document[this.elementAccessor]:this.fullscreenElement},getFullscreenControl:function(){return this.fullscreenControl},requestFullscreen:function(a){return!(this.getFullscreenControl()||!a.hasNode())&&(this.requestor=a,this.nativeSupport()?a.hasNode()[this.requestAccessor]():this.fallbackRequestFullscreen(),!0)},cancelFullscreen:function(){this.nativeSupport()?document[this.cancelAccessor]():this.fallbackCancelFullscreen()},setFullscreenElement:function(a){this.fullscreenElement=a},setFullscreenControl:function(a){this.fullscreenControl=a},fallbackRequestFullscreen:function(){var a=this.requestor;a&&(a.prevAddBefore=a.parent.controlAtIndex(a.indexInContainer()+1),enyo.floatingLayer.hasNode()||enyo.floatingLayer.render(),a.addClass("enyo-fullscreen"),a.appendNodeToParent(enyo.floatingLayer.hasNode()),a.resized(),this.setFullscreenControl(a),this.setFullscreenElement(a.hasNode()))},fallbackCancelFullscreen:function(){var a,b,c=this.fullscreenControl;c&&(a=c.prevAddBefore?c.prevAddBefore.hasNode():null,b=c.parent.hasNode(),c.prevAddBefore=null,c.removeClass("enyo-fullscreen"),a?c.insertNodeInParent(b,a):c.appendNodeToParent(b),c.resized(),this.setFullscreenControl(null),this.setFullscreenElement(null))},detectFullscreenChangeEvent:function(){this.setFullscreenControl(this.requestor),this.requestor=null,enyo.Signals.send("onFullscreenChange")}},enyo.ready(function(){document.addEventListener&&(document.addEventListener("webkitfullscreenchange",enyo.bind(enyo.fullscreen,"detectFullscreenChangeEvent"),!1),document.addEventListener("mozfullscreenchange",enyo.bind(enyo.fullscreen,"detectFullscreenChangeEvent"),!1),document.addEventListener("fullscreenchange",enyo.bind(enyo.fullscreen,"detectFullscreenChangeEvent"),!1))}),enyo.fullscreen.nativeSupport()||enyo.dispatcher.features.push(function(a){"keydown"===a.type&&27===a.keyCode&&enyo.fullscreen.cancelFullscreen()}),enyo.kind({name:"enyo.Media",published:{src:"",autoplay:!1,defaultPlaybackRate:1,jumpSec:30,playbackRate:1,playbackRateHash:{fastForward:["2","4","8","16"],rewind:["-2","-4","-8","-16"],slowForward:["1/4","1/2","1"],slowRewind:["-1/2","-1"]},preload:"none",loop:!1,muted:!1,showControls:!1,volume:1},events:{onAbort:"",onCanPlay:"",onCanPlayThrough:"",onDurationChange:"",onEmptied:"",onEnded:"",onError:"",onLoadedData:"",onLoadedMetaData:"",onLoadStart:"",onPause:"",onPlay:"",onPlaying:"",onProgress:"",onRateChange:"",onSeeked:"",onSeeking:"",onStalled:"",onTimeUpdate:"",onWaiting:"",onFastforward:"",onSlowforward:"",onRewind:"",onSlowrewind:"",onJumpForward:"",onJumpBackward:"",onStart:""},handlers:{onabort:"_abort",oncanplay:"_canPlay",oncanplaythrough:"_canPlayThrough",ondurationchange:"_durationChange",onemptied:"_emptied",onended:"_ended",onerror:"_error",onloadeddata:"_loadedData",onloadedmetadata:"_loadedMetaData",onloadstart:"_loadStart",onpause:"_pause",onplay:"_play",onplaying:"_playing",onprogress:"_progress",onratechange:"_rateChange",onseeked:"_seeked",onseeking:"_seeking",onstalled:"_stalled",ontimeupdate:"_timeUpdate",onvolumechange:"_volumeChange",onwaiting:"_waiting"},_playbackRateArray:null,_speedIndex:0,create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.autoplayChanged(),this.loopChanged(),this.preloadChanged(),this.showControlsChanged(),this.srcChanged()}}),rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),enyo.makeBubble(this,"abort"),enyo.makeBubble(this,"canplay"),enyo.makeBubble(this,"canplaythrough"),enyo.makeBubble(this,"durationchange"),enyo.makeBubble(this,"emptied"),enyo.makeBubble(this,"ended"),enyo.makeBubble(this,"error"),enyo.makeBubble(this,"loadeddata"),enyo.makeBubble(this,"loadedmetadata"),enyo.makeBubble(this,"loadstart"),enyo.makeBubble(this,"pause"),enyo.makeBubble(this,"play"),enyo.makeBubble(this,"playing"),enyo.makeBubble(this,"progress"),enyo.makeBubble(this,"ratechange"),enyo.makeBubble(this,"seeked"),enyo.makeBubble(this,"seeking"),enyo.makeBubble(this,"stalled"),enyo.makeBubble(this,"timeupdate"),enyo.makeBubble(this,"volumechange"),enyo.makeBubble(this,"waiting"),this.defaultPlaybackRateChanged(),this.mutedChanged(),this.playbackRateChanged(),this.volumeChanged()}}),srcChanged:function(){var a=enyo.path.rewrite(this.src);this.setAttribute("src",a),this.hasNode()&&this.node.load()},autoplayChanged:function(){this.setAttribute("autoplay",this.autoplay?"autoplay":null)},loopChanged:function(){this.setAttribute("loop",this.loop?"loop":null)},mutedChanged:function(){this.setAttribute("muted",this.muted?"muted":null)},preloadChanged:function(){this.setAttribute("preload",this.preload)},defaultPlaybackRateChanged:function(){this.hasNode()&&(this.node.defaultPlaybackRate=this.defaultPlaybackRate)},selectPlaybackRateArray:function(a){this._playbackRateArray=this.playbackRateHash[a]},selectPlaybackRate:function(a){return this._playbackRateArray[a]},clampPlaybackRate:function(a){return this._playbackRateArray?a%this._playbackRateArray.length:void 0},playbackRateChanged:function(){this.hasNode()&&(this.node.playbackRate=this.playbackRate)},showControlsChanged:function(){this.setAttribute("controls",this.showControls?"controls":null)},volumeChanged:function(){this.hasNode()&&(this.node.volume=this.volume)},_abort:function(){this.doEnded()},_canPlay:function(){this.doCanPlay()},_canPlayThrough:function(){this.doCanPlayThrough()},_durationChange:function(){this.doDurationChange()},_emptied:function(){this.doEmptied()},_ended:function(){this.doEnded()},_error:function(){this.doError()},_loadedData:function(){this.doLoadedData()},_loadedMetaData:function(){this.doLoadedMetaData()},_loadStart:function(){this.doLoadStart()},_pause:function(){this.doPause()},_play:function(){this.doPlay()},_playing:function(){this.doPlaying()},_progress:function(){this.doProgress()},createEventData:function(){var a=this.hasNode();return a?(0===a.currentTime&&this.doStart(),{srcElement:a,duration:a.duration,currentTime:a.currentTime,playbackRate:this.getPlaybackRate()}):{}},calcNumberValueOfPlaybackRate:function(a){var b=(a+"").split("/");return b.length>1?parseInt(b[0],10)/parseInt(b[1],10):parseInt(a,10)},_rateChange:function(a,b){var c;this.hasNode()&&(b=enyo.mixin(b,this.createEventData()),c=this.calcNumberValueOfPlaybackRate(b.playbackRate),c>0&&1>c?this.doSlowforward(b):c>1?this.doFastforward(b):0>c&&c>=-1?this.doSlowrewind(b):-1>c?this.doRewind(b):1==c&&this.doPlay(b))},_stalled:function(){this.doStalled()},_seeked:function(){this.doSeeked()},_seeking:function(){this.doSeeking()},_timeUpdate:function(a,b){this.hasNode()&&(b=enyo.mixin(b,this.createEventData()))},_volumeChange:function(){this.doVolumeChange()},_waiting:function(){this.doWaiting()},play:function(){this.hasNode()&&(this.setPlaybackRate(1),this._prevCommand="play",this.node.play())},pause:function(){this.hasNode()&&(this.setPlaybackRate(1),this._prevCommand="pause",this.node.pause())},seekTo:function(a){this.hasNode()&&(this.node.currentTime=a)},getBuffered:function(){return this.hasNode()?this.node.buffered:0},getCurrentTime:function(){return this.hasNode()?this.node.currentTime:0},getDuration:function(){return this.hasNode()?this.node.duration:0},getPaused:function(){return this.hasNode()?this.node.paused:void 0},getPlayed:function(){return this.hasNode()?this.node.played:void 0},getReadyState:function(){return this.hasNode()?this.node.readyState:void 0},getSeekable:function(){return this.hasNode()?this.node.seekable:void 0},setCurrentTime:function(a){"number"==typeof a&&this.hasNode()&&(this.node.currentTime=a)},beginRewind:function(){this.node.pause(),this.startRewindJob()},_rewind:function(){var a=enyo.perfNow(),b=a-this.rewindBeginTime,c=this.calcNumberValueOfPlaybackRate(this.playbackRate),d=Math.abs(b*c)/1e3,e=this.getCurrentTime()-d;this.setCurrentTime(e),this.startRewindJob()},startRewindJob:function(){this.rewindBeginTime=enyo.perfNow(),enyo.job(this.id+"rewind",this.bindSafely("_rewind"),100)},stopRewindJob:function(){enyo.job.stop(this.id+"rewind")},getSeeking:function(){return this.hasNode()?this.node.seeking:void 0},isPaused:function(){return!this.hasNode()||this.hasNode().paused},fastForward:function(){var a=this.hasNode();if(a){switch(this._prevCommand){case"slowForward":this._speedIndex==this._playbackRateArray.length-1?(this.selectPlaybackRateArray("fastForward"),this._speedIndex=0,this._prevCommand="fastForward"):(this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="slowForward");break;case"pause":this.selectPlaybackRateArray("slowForward"),this._speedIndex=0,this.isPaused()&&a.play(),this._prevCommand="slowForward";break;case"rewind":0>this.calcNumberValueOfPlaybackRate(this.playbackRate)?(this.selectPlaybackRateArray("slowForward"),this._prevCommand="slowForward"):(this.selectPlaybackRateArray("fastForward"),this._prevCommand="fastForward"),this._speedIndex=0;break;case"fastForward":this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="fastForward";break;default:this.selectPlaybackRateArray("fastForward"),this._speedIndex=0,this._prevCommand="fastForward"}this.setPlaybackRate(this.selectPlaybackRate(this._speedIndex))}},rewind:function(){var a=this.hasNode();if(a){switch(this._prevCommand){case"slowRewind":this._speedIndex==this._playbackRateArray.length-1?(this.selectPlaybackRateArray("rewind"),this._speedIndex=0,this._prevCommand="rewind"):(this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="slowRewind");break;case"pause":this.selectPlaybackRateArray("slowRewind"),this._speedIndex=0,this.isPaused()&&this.node.duration>this.node.currentTime&&a.play(),this._prevCommand="slowRewind";break;case"rewind":this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="rewind";break;default:this.selectPlaybackRateArray("rewind"),this._speedIndex=0,this._prevCommand="rewind"}this.setPlaybackRate(this.selectPlaybackRate(this._speedIndex))}},setPlaybackRate:function(a){var b,c=this.hasNode();c&&(this.stopRewindJob(),this.playbackRate=a+="",b=this.calcNumberValueOfPlaybackRate(a),c.playbackRate=b,enyo.platform.webos||window.PalmSystem||0>b&&this.beginRewind())},jumpBackward:function(){var a=this.hasNode();a&&(this.setPlaybackRate(1),a.currentTime-=this.jumpSec,this._prevCommand="jumpBackward",this.doJumpBackward(enyo.mixin(this.createEventData(),{jumpSize:this.jumpSec})))},jumpForward:function(){var a=this.hasNode();a&&(this.setPlaybackRate(1),a.currentTime+=this.jumpSec,this._prevCommand="jumpForward",this.doJumpForward(enyo.mixin(this.createEventData(),{jumpSize:this.jumpSec})))},jumpToStart:function(){var a=this.hasNode();a&&(this.setPlaybackRate(1),a.pause(),a.currentTime=0,this._prevCommand="jumpToStart")},jumpToEnd:function(){var a=this.hasNode();a&&(this.setPlaybackRate(1),a.pause(),a.currentTime=this.node.duration,this._prevCommand="jumpToEnd")}}),enyo.kind({name:"enyo.Audio",kind:"enyo.Media",tag:"audio",published:{preload:"auto"}}),enyo.kind({name:"enyo.Video",kind:enyo.Control,published:{src:"",sourceComponents:null,poster:"",showControls:!1,preload:"metadata",autoplay:!1,loop:!1,fitToWindow:!1,aspectRatio:null,jumpSec:30,playbackRate:1,playbackRateHash:{fastForward:["2","4","8","16"],rewind:["-2","-4","-8","-16"],slowForward:["1/4","1/2","1"],slowRewind:["-1/2","-1"]}},events:{onFastforward:"",onSlowforward:"",onRewind:"",onSlowrewind:"",onJumpForward:"",onJumpBackward:"",onPlay:"",onStart:""},handlers:{onloadedmetadata:"metadataLoaded",ontimeupdate:"timeupdate",onratechange:"ratechange",onplay:"_play"},tag:"video",_playbackRateArray:null,_speedIndex:0,create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.posterChanged(),this.showControlsChanged(),this.preloadChanged(),this.autoplayChanged(),this.loopChanged()}}),rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.hookupVideoEvents()}}),posterChanged:function(){if(this.poster){var a=enyo.path.rewrite(this.poster);this.setAttribute("poster",a)}else this.setAttribute("poster",null)},showControlsChanged:function(){this.setAttribute("controls",this.showControls?"controls":null)},preloadChanged:function(){this.setAttribute("preload",this.preload?this.preload:null)},autoplayChanged:function(){this.setAttribute("autoplay",this.autoplay?"autoplay":null),this._prevCommand=this.autoplay?"play":"pause"},loopChanged:function(){this.setAttribute("loop",this.loop?"loop":null)},fitToWindowChanged:function(){this.hasNode()},srcChanged:function(){this.setAttribute("src",enyo.path.rewrite(this.src))},load:function(){this.hasNode()&&this.hasNode().load()},unload:function(){this.set("src",""),this.load()},play:function(){this.hasNode()&&(this._speedIndex=0,this.setPlaybackRate(1),this.node.play(),this._prevCommand="play")},pause:function(){this.hasNode()&&(this._speedIndex=0,this.setPlaybackRate(1),this.node.pause(),this._prevCommand="pause")},fastForward:function(){var a=this.hasNode();if(a){switch(this._prevCommand){case"slowForward":this._speedIndex==this._playbackRateArray.length-1?(this.selectPlaybackRateArray("fastForward"),this._speedIndex=0,this._prevCommand="fastForward"):(this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="slowForward");break;case"pause":this.selectPlaybackRateArray("slowForward"),this._speedIndex=0,this.isPaused()&&a.play(),this._prevCommand="slowForward";break;case"rewind":0>this.calcNumberValueOfPlaybackRate(this.playbackRate)?(this.selectPlaybackRateArray("slowForward"),this._prevCommand="slowForward"):(this.selectPlaybackRateArray("fastForward"),this._prevCommand="fastForward"),this._speedIndex=0;break;case"fastForward":this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="fastForward";break;default:this.selectPlaybackRateArray("fastForward"),this._speedIndex=0,this._prevCommand="fastForward"}this.setPlaybackRate(this.selectPlaybackRate(this._speedIndex))}},rewind:function(){var a=this.hasNode();if(a){switch(this._prevCommand){case"slowRewind":this._speedIndex==this._playbackRateArray.length-1?(this.selectPlaybackRateArray("rewind"),this._speedIndex=0,this._prevCommand="rewind"):(this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="slowRewind");break;case"pause":this.selectPlaybackRateArray("slowRewind"),this._speedIndex=0,this.isPaused()&&this.node.duration>this.node.currentTime&&a.play(),this._prevCommand="slowRewind";break;case"rewind":this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="rewind";break;default:this.selectPlaybackRateArray("rewind"),this._speedIndex=0,this._prevCommand="rewind"}this.setPlaybackRate(this.selectPlaybackRate(this._speedIndex))}},jumpBackward:function(){var a=this.hasNode();a&&(this.setPlaybackRate(1),a.currentTime-=this.jumpSec,this._prevCommand="jumpBackward",this.doJumpBackward(enyo.mixin(this.createEventData(),{jumpSize:this.jumpSec})))},jumpForward:function(){var a=this.hasNode();a&&(this.setPlaybackRate(1),a.currentTime+=parseInt(this.jumpSec,10),this._prevCommand="jumpForward",this.doJumpForward(enyo.mixin(this.createEventData(),{jumpSize:this.jumpSec})))},jumpToStart:function(){var a=this.hasNode();a&&(this.setPlaybackRate(1),a.pause(),a.currentTime=0,this._prevCommand="jumpToStart")},jumpToEnd:function(){var a=this.hasNode();a&&(this.setPlaybackRate(1),a.pause(),a.currentTime=this.node.duration,this._prevCommand="jumpToEnd")},selectPlaybackRateArray:function(a){this._playbackRateArray=this.playbackRateHash[a]},clampPlaybackRate:function(a){return this._playbackRateArray?a%this._playbackRateArray.length:void 0},selectPlaybackRate:function(a){return this._playbackRateArray[a]},setPlaybackRate:function(a){var b,c=this.hasNode();c&&(this.stopRewindJob(),this.playbackRate=a+="",b=this.calcNumberValueOfPlaybackRate(a),c.playbackRate=b,enyo.platform.webos||window.PalmSystem||0>b&&this.beginRewind())},isPaused:function(){return!this.hasNode()||this.hasNode().paused},getCurrentTime:function(){return this.hasNode()?this.hasNode().currentTime:0},getBufferedTimeRange:function(){return this.hasNode()?this.hasNode().buffered:0},setCurrentTime:function(a){"number"==typeof a&&this.hasNode()&&(this.node.currentTime=a)},getDuration:function(){return this.hasNode()?this.hasNode().duration:0},getReadyState:function(){return this.hasNode()?this.hasNode().readyState:-1},getSeeking:function(){return this.hasNode()?this.hasNode().seeking:-1},beginRewind:function(){this.node.pause(),this.startRewindJob()},_rewind:function(){var a=enyo.perfNow(),b=a-this.rewindBeginTime,c=this.calcNumberValueOfPlaybackRate(this.playbackRate),d=Math.abs(b*c)/1e3,e=this.getCurrentTime()-d;this.setCurrentTime(e),this.startRewindJob()},startRewindJob:function(){this.rewindBeginTime=enyo.perfNow(),enyo.job(this.id+"rewind",this.bindSafely("_rewind"),100)},stopRewindJob:function(){enyo.job.stop(this.id+"rewind")},calcNumberValueOfPlaybackRate:function(a){var b=(a+"").split("/");return b.length>1?parseInt(b[0],10)/parseInt(b[1],10):parseInt(a,10)},metadataLoaded:function(a,b){var c=this.hasNode();this.setAspectRatio("none"),c&&c.videoWidth&&c.videoHeight&&(this.setAspectRatio(c.videoWidth/c.videoHeight+":1"),b=enyo.mixin(b,this.createEventData()))},timeupdate:function(a,b){this.hasNode()&&(b=enyo.mixin(b,this.createEventData()))},ratechange:function(a,b){var c;this.hasNode()&&(b=enyo.mixin(b,this.createEventData()),c=this.calcNumberValueOfPlaybackRate(b.playbackRate),c>0&&1>c?this.doSlowforward(b):c>1?this.doFastforward(b):0>c&&c>=-1?this.doSlowrewind(b):-1>c?this.doRewind(b):1==c&&this.doPlay(b))},createEventData:function(){var a=this.hasNode();return a?(0===a.currentTime&&this.doStart(),{srcElement:a,duration:a.duration,currentTime:a.currentTime,playbackRate:this.getPlaybackRate()}):{}},_play:function(a,b){this.hasNode()&&(b=enyo.mixin(b,this.createEventData()),this.doPlay(b))},hookupVideoEvents:function(){enyo.makeBubble(this,"loadstart","emptied","canplaythrough","ended","ratechange","progress","stalled","playing","durationchange","volumechange","suspend","loadedmetadata","waiting","timeupdate","abort","loadeddata","seeking","play","error","canplay","seeked","pause")}}),function(a){a.RepeaterChildSupport={name:"RepeaterChildSupport",selected:!1,selectedChanged:a.inherit(function(a){return function(){if(this.repeater.selection){this.addRemoveClass(this.selectedClass||"selected",this.selected);var b=this.repeater.collection.indexOf(this.model);this.selected&&!this.repeater.isSelected(this.model)?this.repeater.select(b):!this.selected&&this.repeater.isSelected(this.model)&&this.repeater.deselect(b)}a.apply(this,arguments)}}),decorateEvent:a.inherit(function(a){return function(b,c){c.model=this.model,c.child=this,c.index=this.repeater.collection.indexOf(this.model),a.apply(this,arguments)}}),_selectionHandler:function(){this.repeater.selection&&!this.get("disabled")&&this.set("selected",!this.selected)},createClientComponents:a.inherit(function(){return function(a){this.createComponents(a,{owner:this})}}),dispatchEvent:a.inherit(function(b){return function(c,d){return d._fromRepeaterChild||~a.indexOf(c,this.repeater.selectionEvents)&&(this._selectionHandler(),d._fromRepeaterChild=!0),b.apply(this,arguments)}}),constructed:a.inherit(function(b){return function(){b.apply(this,arguments);var c=this.repeater,d=c.selectionProperty;if(d){var e=this.binding({from:".model."+d,to:".selected",oneWay:!1,kind:a.BooleanBinding});this._selectionBindingId=e.id}}}),destroy:a.inherit(function(b){return function(){if(this._selectionBindingId){var c=a.Binding.find(this._selectionBindingId);c&&c.destroy()}b.apply(this,arguments)}}),_selectionBindingId:null}}(enyo),enyo.kind({name:"enyo.DataRepeater",selection:!0,multipleSelection:!1,selectionClass:"selection-enabled",multipleSelectionClass:"multiple-selection-enabled",selectionProperty:"",selectionEvents:"ontap",childBindingDefaults:null,initComponents:function(){this.initContainer();var a=this.kindComponents||this.components||[],b=this.getInstanceOwner(),c=this.defaultProps?enyo.clone(this.defaultProps):this.defaultProps={};c.bindingTransformOwner=this,c.bindingDefaults=this.childBindingDefaults,a&&(a.length>1?c.components=a:enyo.mixin(c,a[0]),c.repeater=this,c.owner=b,c.mixins=c.mixins?c.mixins.concat(this.childMixins):this.childMixins)},constructor:enyo.inherit(function(a){return function(){this._selection=[];var b=this.selectionEvents;this.selectionEvents="string"==typeof b?b.split(" "):b;var c=this._handlers=enyo.clone(this._handlers);for(var d in c)c[d]=this.bindSafely(c[d]);a.apply(this,arguments)}}),create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.collectionChanged(),this.selectionChanged()}}),observers:{selectionChanged:["multipleSelection"]},selectionChanged:function(){this.addRemoveClass(this.selectionClass,this.selection),this.addRemoveClass(this.multipleSelectionClass,this.multipleSelection&&this.selection)},reset:function(){var a=this.get("data");this.destroyClientControls();for(var b,c=0;b=a.at(c);++c)this.add(b,c);this.hasReset=!0},refresh:function(){return this.hasReset?void this.startJob("refreshing",function(){for(var a,b,c=this.get("data"),d=this.getClientControls(),e=0;b=c.at(e);++e)a=d[e],a?a.set("model",b):this.add(b,e);this.prune()},16):this.reset()},rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.collection&&this.collection.length&&this.reset(),this.hasRendered=!0}}),add:function(a,b){var c=this.createComponent({model:a,index:b});this.generated&&!this.batching&&c.render()},remove:function(a){var b=this.getClientControls(),c=b[a||Math.abs(b.length-1)];c&&c.destroy()},prune:function(){var a,b=this.getClientControls(),c=this.collection?this.collection.length:0;if(b.length>c){a=b.slice(c);for(var d,e=0;d=a[e];++e)d.destroy()}},initContainer:function(){var a=this.get("containerOptions"),b=a.name||(a.name=this.containerName);this.createChrome([a]),this.discoverControlParent(),b!=this.containerName&&(this.$[this.containerName]=this.$[b])},handlers:{onSelected:"childSelected",onDeselected:"childDeselected"},_handlers:{add:"modelsAdded",remove:"modelsRemoved",reset:"refresh"},collectionChanged:function(a){var b=this.collection;"string"==typeof b&&(b=this.collection=enyo.getPath(b)),b&&this.initCollection(b,a)},initCollection:function(a,b){var c;if(a&&a.addListener)for(c in this._handlers)a.addListener(c,this._handlers[c]);if(b&&b.removeListener)for(c in this._handlers)b.removeListener(c,this._handlers[c])},modelsAdded:function(a,b,c){if(a==this.collection){this.set("batching",!0);for(var d,e=0;!isNaN(d=c.records[e]);++e)this.add(a.at(d),d);this.set("batching",!1)}},modelsRemoved:function(a,b,c){if(a==this.collection)for(var d,e=enyo.keys(c.records),f=e.length-1;d=e[f];--f)this.remove(d),this._select(d,c.records[d],!1)},batchingChanged:function(a,b){this.generated&&!1===b&&this.$[this.containerName].render()},getChildForIndex:function(a){return this.childForIndex(a)},childForIndex:function(a){return this.$.container.children[a]},data:function(){return this.collection},_select:function(a,b,c){if(this.selection){var d=this.getChildForIndex(a),e=this._selection,f=enyo.indexOf(b,e);if(c){if(-1==f){if(!this.multipleSelection)for(;e.length;)f=this.collection.indexOf(e.pop()),this.deselect(f);e.push(b)}}else f>=0&&e.splice(f,1);d&&d.set("selected",c),this.selectionProperty&&b&&(e=this.selectionProperty)&&b.set(e,c),this.notifyObservers("selected")}},select:function(a){this._select(a,this.collection.at(a),!0)},deselect:function(a){this._select(a,this.collection.at(a),!1)},isSelected:function(a){return!!~enyo.indexOf(a,this._selection)},selectAll:function(){if(this.multipleSelection){this.stopNotifications();var a=this._selection,b=this.collection?this.collection.length:0;a.length=0;for(var c=0;b>c;++c)this.select(c);this.startNotifications()}},deselectAll:function(){if(this.selection){this.stopNotifications();for(var a,b,c=this._selection;c.length;)a=c.pop(),b=this.collection.indexOf(a),this.deselect(b);this.startNotifications()}},selected:function(){return(this.multipleSelection?this._selection:this._selection[0])||null},dataChanged:function(){this.collection&&this.hasRendered&&this.reset()},computed:{selected:[],data:["controller","collection"]},noDefer:!0,childMixins:[enyo.RepeaterChildSupport],controlParentName:"container",containerName:"container",containerOptions:{name:"container",classes:"enyo-fill enyo-data-repeater-container"},batching:!1,_selection:null}),enyo.DataRepeater.concat=function(a,b){var c=a.prototype||a;b.childMixins&&(c.childMixins=c.childMixins?enyo.merge(c.childMixins,b.childMixins):b.childMixins.slice(),delete b.childMixins)},enyo.kind({name:"enyo.DataList",kind:enyo.DataRepeater,scrollerOptions:null,orientation:"vertical",pageSizeMultiplier:null,fixedChildSize:null,allowTransitions:!0,renderDelay:250,reset:function(){this.get("absoluteShowing")?this.generated&&this.$.scroller.generated&&this.delegate.reset(this):this._addToShowingQueue("reset",this.reset)},refresh:function(){this.get("absoluteShowing")?this.hasRendered&&this.delegate.refresh(this):this._addToShowingQueue("refresh",this.refresh)},scrollToIndex:function(a){var b=this.collection?this.collection.length:0;a>=0&&b>a&&(this.get("absoluteShowing")?this.delegate.scrollToIndex(this,a):this._addToShowingQueue("scrollToIndex",function(){this.delegate.scrollToIndex(this,a)}))},constructor:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.metrics={},this.metrics.pages={},null===this.pageSizeMultiplier||isNaN(this.pageSizeMultiplier)||(this.pageSizeMultiplier=Math.max(1.2,this.pageSizeMultiplier))}}),create:enyo.inherit(function(a){return function(){this.allowTransitionsChanged(),this.delegate=this.ctor.delegates[this.orientation]||this.base.delegates.vertical,this.delegate.initList&&this.delegate.initList(this),a.apply(this,arguments),this.pages=[this.$.page1,this.$.page2]}}),render:enyo.inherit(function(a){return function(){this.$.scroller.canGenerate=!1,this.$.scroller.teardownRender(),a.apply(this,arguments)}}),rendered:function(){if(this.get("absoluteShowing")){var a=function(){this.$.scroller.canGenerate=!0,this.$.scroller.render(),this.delegate.rendered(this),this.hasRendered=!0,this.addClass("rendered"),this.didRender&&this.didRender()};null===this.renderDelay?a.call(this):this.startJob("rendering",a,this.renderDelay)}else this._addToShowingQueue("rendered",this.rendered)},_absoluteShowingChanged:function(){if(this.get("absoluteShowing")&&this._showingQueue&&this._showingQueue.length){var a,b,c=this._showingQueue,d=this._showingQueueMethods;this._showingQueue=null,this._showingQueueMethods=null;do{b=c.shift(),a=d[b],a.call(this)}while(c.length)}},_addToShowingQueue:function(a,b){var c=this._showingQueue||(this._showingQueue=[]),d=this._showingQueueMethods||(this._showingQueueMethods={}),e=enyo.indexOf(a,c);e>=0&&c.splice(e,1),c.push(a),d[a]=b},remove:function(){},modelsAdded:function(a,b,c){a===this.collection&&this.$.scroller.canGenerate&&(this.get("absoluteShowing")?this.delegate.modelsAdded(this,c):this._addToShowingQueue("refresh",function(){this.refresh()}))},modelsRemoved:enyo.inherit(function(a){return function(b,c,d){b===this.collection&&this.$.scroller.canGenerate&&(this.get("absoluteShowing")?this.delegate.modelsRemoved(this,d):this._addToShowingQueue("refresh",function(){this.refresh()})),a.apply(this,arguments)}}),destroy:enyo.inherit(function(a){return function(){this.delegate&&this.delegate.destroyList&&this.delegate.destroyList(this),this._showingQueue=null,this._showingQueueMethods=null,a.apply(this,arguments)}}),initContainer:enyo.inherit(function(a){return function(){var b=enyo.clone(this.get("containerOptions")),c=this.get("scrollerOptions");c&&enyo.mixin(b,c,{exists:!0}),this.set("containerOptions",b),a.apply(this,arguments)}}),didScroll:function(a,b){return this.hasRendered&&this.collection&&((this.heightNeedsUpdate||this.widthNeedsUpdate)&&(this.heightNeedsUpdate=this.widthNeedsUpdate=!1,this.refresh()),this.delegate.didScroll(this,b)),!0},didResize:function(a,b){this.get("absoluteShowing")?this.hasRendered&&this.collection&&((this.heightNeedsUpdate||this.widthNeedsUpdate)&&(this.heightNeedsUpdate=this.widthNeedsUpdate=!1,this.refresh()),this.delegate.didResize(this,b)):this._addToShowingQueue("didResize",this.didResize)},showingChangedHandler:enyo.inherit(function(a){return function(){return this.set("absoluteShowing",this.getAbsoluteShowing(!0)),a.apply(this,arguments)}}),childForIndex:function(a){return this.delegate.childForIndex(this,a)},allowTransitionsChanged:function(){this.addRemoveClass("transitions",this.allowTransitions)},containerOptions:{name:"scroller",kind:"enyo.Scroller",components:[{name:"active",classes:"active",components:[{name:"page1",classes:"page page1"},{name:"page2",classes:"page page2"},{name:"buffer",classes:"buffer"}]}],canGenerate:!1,classes:"enyo-fit enyo-data-list-scroller"},noDefer:!0,absoluteShowing:!0,classes:"enyo-data-list",controlParentName:"",containerName:"scroller",handlers:{onScroll:"didScroll",onresize:"didResize"},observers:{_absoluteShowingChanged:["absoluteShowing"]},mixins:[enyo.RegisteredEventSupport],statics:{delegates:{}},pages:null}),enyo.DataList.subclass=function(a){a.delegates=enyo.clone(a.prototype.base.delegates||this.delegates)},enyo.DataList.delegates.vertical={pageSizeMultiplier:2,initList:function(a){a.posProp="top",a.upperProp="top",a.lowerProp="bottom",a.psizeProp="height",a.ssizeProp="width";var b=a.scrollerOptions=a.scrollerOptions?enyo.clone(a.scrollerOptions):{};b.vertical="scroll"==b.vertical?"scroll":"auto",b.horizontal=b.horizontal||"hidden"},reset:function(a){for(var b,c=0;b=a.pages[c];++c)this.generatePage(a,b,c);this.adjustPagePositions(a),this.adjustBuffer(a),a.hasReset=!0,a.$.scroller.scrollTo(0,0)},pagesByPosition:function(a){var b=a.metrics.pages,c=a.pagePositions||(a.pagePositions={}),d=a.upperProp,e=a.$.page1.index,f=a.$.page2.index;return c.firstPage=b[e][d]<b[f][d]?a.$.page1:a.$.page2,c.lastPage=c.firstPage===a.$.page1?a.$.page2:a.$.page1,c},refresh:function(a){if(!a.hasReset)return this.reset(a);var b=Math.max(this.pageCount(a)-1,0),c=a.$.page1.index,d=a.$.page2.index;c>b&&(c=b),d>b&&(d=c+1>b&&c-1>=0?c-1:c+1),a.$.page1.index=c,a.$.page2.index=d;for(var e,f=0;e=a.pages[f];++f)this.generatePage(a,e,e.index);this.adjustPagePositions(a),this.adjustBuffer(a)},rendered:function(a){a.$.scroller.addScrollListener&&(a.usingScrollListener=!0,a.$.scroller.addScrollListener(enyo.bindSafely(this,"scrollHandler",a))),this.updateBounds(a),a.collection&&a.collection.length&&this.reset(a)},generatePage:function(a,b,c){b.index=c;var d,e=a.collection,f=a.metrics,g=this.controlsPerPage(a);b.start=g*c,b.end=Math.min(e.length-1,b.start+g-1),a.controlParent=b;for(var h=b.start;b.end>=h&&e.length>h;++h)d=b.children[h-b.start]||a.createComponent({}),d.teardownRender(),d.stopNotifications(),d.set("model",e.at(h)),d.set("index",h),d.set("selected",a.isSelected(d.model)),d.startNotifications(),d.canGenerate=!0;for(h-=b.start;b.children.length>h;++h)d=b.children[h],d.teardownRender(),d.canGenerate=!1;b.render(),f=f.pages[c]||(f.pages[c]={}),f.height=this.pageHeight(a,b),f.width=this.pageWidth(a,b),this.childSize(a)},childSize:function(a){if(!a.fixedChildSize){var b,c,d=a.$.page1.index,e=a.psizeProp,f=a.$.page1.node||a.$.page1.hasNode();d>=0&&f&&(c=a.metrics.pages[d],b=c?c[e]:0,a.childSize=Math.floor(b/(f.children.length||1)))}return a.fixedChildSize||a.childSize||(a.childSize=100)},controlsPerPage:function(a){var b=a._updatedControlsPerPage,c=a._updatedBounds,d=a.childSize,e=a.controlsPerPage,f=a.psizeProp,g=a.pageSizeMultiplier||this.pageSizeMultiplier,h=this[f];return(!b||c>b)&&(d=this.childSize(a),e=a.controlsPerPage=Math.ceil(h(a)*g/d+1),a._updatedControlsPerPage=enyo.perfNow()),a.controlsPerPage=e},pageForIndex:function(a,b){var c=a.controlsPerPage||this.controlsPerPage(a);return Math.floor(b/(c||1))},scrollToIndex:function(a,b){var c=this.childForIndex(a,b),d=this.pageForIndex(a,b);0>d||d>this.pageCount(a)||(c?a.$.scroller.scrollIntoView(c,this.pagePosition(a,d)):(this.resetToPosition(a,this.pagePosition(a,d)),enyo.asyncMethod(function(){a.scrollToIndex(b)})))},pageHeight:function(a,b){var c=b.node.offsetHeight,d=a.metrics.pages[b.index],e=a.collection?a.collection.length:0;return 0===c&&e&&b.node.children.length&&(a.heightNeedsUpdate=!0,c=d?d.height:0),c},pageWidth:function(a,b){var c=b.node.offsetWidth,d=a.metrics.pages[b.index],e=a.collection?a.collection.length:0;return 0===c&&e&&b.node.children.length&&(a.widthNeedsUpdate=!0,c=d?d.width:0),c},modelsAdded:function(a,b){if(!a.hasReset)return this.reset(a);for(var c,d,e,f,g=a.$.page1.index||(a.$.page1.index=0),h=a.$.page2.index||(a.$.page2.index=1),i=0;(f=b.records[i])>=0;++i)if((e=this.pageForIndex(a,f))==g)c=!0;else if(e==h)d=!0;else if(e>h)break;c&&this.generatePage(a,a.$.page1,g),d&&this.generatePage(a,a.$.page2,h),(c||d)&&this.adjustPagePositions(a),this.adjustBuffer(a)},childForIndex:function(a,b){var c=this.pageForIndex(a,b),d=a.$.page1,e=a.$.page2;if(c=c==d.index&&d||c==e.index&&e)for(var f,g=0;f=c.children[g];++g)if(f.index==b)return f},modelsRemoved:function(a,b){for(var c,d,e=enyo.keys(b.records),f=a.$.page1.index,g=a.$.page2.index,h=e.length-1;(d=e[h])>=0;--h)if((c=this.pageForIndex(a,d))==f||c==g){this.refresh(a);var i=this.pagesByPosition(a);this.scrollToIndex(a,i.firstPage.start);break}},adjustBuffer:function(a){var b,c=this.pageCount(a),d=this.defaultPageSize(a),e=0,f=a.psizeProp,g=a.ssizeProp,h=a.$.buffer.node||a.$.buffer.hasNode();if(h){if(0!==c)for(var i=0;c>i;++i)b=a.metrics.pages[i],e+=b&&b[f]||d;a.bufferSize=e,h.style[f]=e+"px",h.style[g]=this[g](a)+"px"}},adjustPagePositions:function(a){for(var b,c=0;b=a.pages[c];++c){var d=b.index,e=this.pagePosition(a,b.index),f=a.metrics.pages[d]||(a.metrics.pages[d]={}),g=a.posProp,h=a.upperProp,i=a.lowerProp,j=a.psizeProp;b.node.style[g]=e+"px",b[h]=f[h]=e,b[i]=f[i]=f[j]+e}this.setScrollThreshold(a)},pagePosition:function(a,b){for(var c,d=a.metrics.pages,e=this.defaultPageSize(a),f=0,g=a.psizeProp;b>0;)c=d[--b],f+=c&&c[g]?c[g]:e;return f},defaultPageSize:function(a){return(a.controlsPerPage||this.controlsPerPage(a))*(a.fixedChildSize||a.childSize||100)},pageCount:function(a){var b=a.controlsPerPage||this.controlsPerPage(a),c=a.collection?a.collection.length:0;return Math.ceil(c/(b||1))},getScrollPosition:function(a){return a.$.scroller.getScrollTop()},scrollHandler:function(a,b){var c=this.pageCount(a)-1,d=this.pagesByPosition(a);1!==b.xDir&&1!==b.yDir||d.lastPage.index===c?-1!==b.xDir&&-1!==b.yDir||0===d.firstPage.index||(this.generatePage(a,d.lastPage,d.firstPage.index-1),this.adjustPagePositions(a),a.triggerEvent("paging",{start:d.firstPage.start,end:d.lastPage.end,action:"scroll"})):(this.generatePage(a,d.firstPage,d.lastPage.index+1),this.adjustPagePositions(a),this.adjustBuffer(a),a.triggerEvent("paging",{start:d.firstPage.start,end:d.lastPage.end,action:"scroll"}))},setScrollThreshold:function(a){var b=a.scrollThreshold||(a.scrollThreshold={}),c=a.metrics.pages,d=this.pagesByPosition(a),e=d.firstPage.index,f=d.lastPage.index,g=this.pageCount(a)-1,h=a.lowerProp,i=a.upperProp,j="top"==i?this.height:this.width;b[i]=0===e?void 0:c[e][i]+this.childSize(a),b[h]=f>=g?void 0:c[f][h]-j(a)-this.childSize(a),a.usingScrollListener&&a.$.scroller.setScrollThreshold(b)},resetToPosition:function(a,b){if(b>=0&&a.bufferSize>=b){var c=Math.ceil(b/this.defaultPageSize(a)),d=this.pageCount(a)-1,e=this.pagesByPosition(a);(e.firstPage[a.upperProp]>=b||b>=e.lastPage[a.lowerProp])&&(a.$.page1.index=c=Math.min(c,d),a.$.page2.index=c===d?c-1:c+1,this.refresh(a),a.triggerEvent("paging",{start:a.$.page1.start,end:a.$.page2.end,action:"reset"}))}},didScroll:function(a,b){if(!a.usingScrollListener){var c=a.scrollThreshold,d=b.scrollBounds,e=a.lowerProp,f=a.upperProp;d[f]=this.getScrollPosition(a),1===d.xDir||1===d.yDir?!isNaN(c[e])&&d[f]>=c[e]&&this.scrollHandler(a,d):(-1===d.yDir||-1===d.xDir)&&!isNaN(c[f])&&d[f]<=c[f]&&this.scrollHandler(a,d)}},didResize:function(a){a._updateBounds=!0,this.updateBounds(a),this.refresh(a)},height:function(a){return a._updateBounds&&this.updateBounds(a),a.boundsCache.height},width:function(a){return a._updateBounds&&this.updateBounds(a),a.boundsCache.width},updateBounds:function(a){a.boundsCache=a.getBounds(),a._updatedBounds=enyo.perfNow(),a._updateBounds=!1}},function(a){var b=a.clone(a.DataList.delegates.vertical);a.kind.extendMethods(b,{initList:a.inherit(function(b){return function(c){b.apply(this,arguments),c.addClass("horizontal"),c.posProp=c.rtl?"right":"left",c.upperProp="left",c.lowerProp="right",c.psizeProp="width",c.ssizeProp="height";var d=c.scrollerOptions=c.scrollerOptions?a.clone(c.scrollerOptions):{};d.vertical="hidden",d.horizontal="scroll"==d.horizontal?"scroll":"auto"}}),destroyList:function(a){a&&a.removeClass("horizontal")},getScrollPosition:function(a){return a.$.scroller.getScrollLeft()},adjustBuffer:a.inherit(function(a){return function(b){a.apply(this,arguments);var c=b.$.active.node||b.$.active.hasNode(),d=b.bufferSize;c&&(c.style.width=d+"px")}})},!0),a.DataList.delegates.horizontal=b}(enyo),enyo.kind({name:"enyo.DataGridList",kind:enyo.DataList,spacing:10,minWidth:100,minHeight:100,constructor:enyo.inherit(function(a){return function(){var b=this.orientation;this.orientation="vertical"==b?"verticalGrid":"horizontal"==b?"horizontalGrid":b;var c=this.spacing;return this.spacing=0==c%2?c:Math.max(c-1,0),a.apply(this,arguments)}}),initComponents:enyo.inherit(function(a){return function(){a.apply(this,arguments);var b=this.defaultProps;b.classes=(b.classes||"")+" item"}}),showingChanged:enyo.inherit(function(a){return function(){a.apply(this,arguments);var b=this.collection?this.collection.length:0;this.$.scroller.generated&&b&&this.showing&&this.didResize()}}),noDefer:!0,classes:"enyo-data-grid-list"}),enyo.kind({name:"enyo.DataTable",kind:"enyo.DataRepeater",defaultKind:"enyo.TableRow",style:"display: table;",containerOptions:{kind:"enyo.Table",name:"container",style:"width: 100%;"}}),function(a){var b=a.clone(a.DataGridList.delegates.vertical);a.kind.extendMethods(b,{rendered:function(a){this.updateMetrics(a),a.collection&&a.collection.length&&this.reset(a)},reset:a.inherit(function(a){return function(b){a.apply(this,arguments),b.hasReset&&!b.hasClass("reset")&&(b.canAddResetClass=!0)}}),pageHeight:function(a,b){var c,d=b.node||b.hasNode(),e=d.children.length,f=a.metrics.pages[b.index];return c=(Math.floor(e/a.columns)+(e%a.columns?1:0))*(a.tileHeight+a.spacing),d.style.height=c+"px",f.height=c,c},generatePage:a.inherit(function(a){return function(b,c){a.apply(this,arguments),this.layout(b,c)}}),pageWidth:function(a,b){var c=a.boundsCache.width,d=b.node||b.hasNode(),e=a.metrics.pages[b.index];return d.style.width=c+"px",e.width=c,c},defaultPageSize:function(a){return Math.ceil(this.controlsPerPage(a)/a.columns)*(a.tileHeight+a.spacing)},updateMetrics:function(a){this.updateBounds(a);var b=a.boundsCache,c=b.width,d=a.spacing,e=a.minWidth,f=a.minHeight;a.columns=Math.max(Math.floor((c-d)/(e+d)),1),a.tileWidth=(c-d*(a.columns+1))/a.columns,a.tileHeight=f*(a.tileWidth/e),this.controlsPerPage(a)},controlsPerPage:a.inherit(function(a){return function(b){var c=b._updatedControlsPerPage,d=a.apply(this,arguments);return c!=b._updatedControlsPerPage&&(d=b.controlsPerPage=d*b.columns),d}}),childSize:function(a){return a.childSize=a.tileHeight+a.spacing},layout:function(a,b){a.canAddResetClass&&(a.addClass("reset"),delete a.canAddResetClass);var c,d=a.columns,e=a.spacing,f=a.tileWidth,g=a.tileHeight,h=0,i=b,j=i.children;if(j.length)for(var k,l=0;k=j[l];++l)c=l%d,k.addStyles("top: "+Math.round(e+h*(g+e))+"px; "+(a.rtl?"right: ":"left: ")+Math.round(e+c*(f+e))+"px; width: "+Math.round(f)+"px; height: "+Math.round(g)+"px"),0==(l+1)%d&&++h},adjustBuffer:function(a){var b,c=this.pageCount(a),d=this.defaultPageSize(a),e=0,f=a.psizeProp,g=a.ssizeProp,h=a.$.buffer.node||a.$.buffer.hasNode();if(h){for(var i=0;c>i;++i)b=a.metrics.pages[i],e+=b&&b[f]||d;e+=a.spacing,a.bufferSize=e,h.style[f]=e+"px",h.style[g]=this[g](a)+"px"}},didResize:function(a){var b=a.boundsCache;a._updateBounds=!0,this.updateMetrics(a),(b.left!==a.boundsCache.left||b.top!==a.boundsCache.top||b.width!==a.boundsCache.width||b.height!==a.boundsCache.height)&&this.refresh(a)}},!0),a.DataGridList.delegates.verticalGrid=b}(enyo),enyo&&enyo.version&&(enyo.version.layout="2.4.0"),enyo.kind({name:"enyo.ContextualLayout",kind:"Layout",adjustPosition:function(){if(this.container.showing&&this.container.hasNode()){this.resetPositioning();var a=this.getViewWidth(),b=this.getViewHeight(),c=this.container.vertFlushMargin,d=b-this.container.vertFlushMargin,e=this.container.horizFlushMargin,f=a-this.container.horizFlushMargin;if(c>this.offset.top+this.offset.height||this.offset.top>d){if(this.applyVerticalFlushPositioning(e,f))return;if(this.applyHorizontalFlushPositioning(e,f))return;if(this.applyVerticalPositioning())return}else if((e>this.offset.left+this.offset.width||this.offset.left>f)&&this.applyHorizontalPositioning())return;var g=this.getBoundingRect(this.container.node);if(g.width>this.container.widePopup){if(this.applyVerticalPositioning())return}else if(g.height>this.container.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.container.addClass("vertical");var a=this.getBoundingRect(this.container.node),b=this.getViewHeight();return this.container.floating?b/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height,bottom:"auto"}),this.container.addClass("below")):(this.applyPosition({top:this.offset.top-a.height,bottom:"auto"}),this.container.addClass("above")):a.top+a.height>b&&b-a.bottom<a.top-a.height?this.container.addClass("above"):this.container.addClass("below"),a=this.getBoundingRect(this.container.node),!(a.top+a.height>b||0>a.top)},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var a=this.getBoundingRect(this.container.node),b=this.getViewWidth();if(this.container.floating){var c=this.offset.left+this.offset.width/2-a.width/2;c+a.width>b?(this.applyPosition({left:this.offset.left+this.offset.width-a.width}),this.container.addClass("left")):0>c?(this.applyPosition({left:this.offset.left}),this.container.addClass("right")):this.applyPosition({left:c})}else{var d=this.offset.left+this.offset.width/2-a.left-a.width/2;a.right+d>b?(this.applyPosition({left:this.offset.left+this.offset.width-a.right}),this.container.addRemoveClass("left",!0)):0>a.left+d?this.container.addRemoveClass("right",!0):this.applyPosition({left:d})}return!0},applyVerticalFlushPositioning:function(a,b){if(!this.initVerticalPositioning())return!1;var c=this.getBoundingRect(this.container.node),d=this.getViewWidth();return a>this.offset.left+this.offset.width/2?(this.offset.left+this.offset.width/2<this.container.horizBuffer?this.applyPosition({left:this.container.horizBuffer+(this.container.floating?0:-c.left)}):this.applyPosition({left:this.offset.width/2+(this.container.floating?this.offset.left:0)}),this.container.addClass("right"),this.container.addClass("corner"),!0):this.offset.left+this.offset.width/2>b&&(this.offset.left+this.offset.width/2>d-this.container.horizBuffer?this.applyPosition({left:d-this.container.horizBuffer-c.right}):this.applyPosition({left:this.offset.left+this.offset.width/2-c.right}),this.container.addClass("left"),this.container.addClass("corner"),!0)},initHorizontalPositioning:function(){this.resetPositioning();var a=this.getBoundingRect(this.container.node),b=this.getViewWidth();return this.container.floating?b/2>this.offset.left+this.offset.width?(this.applyPosition({left:this.offset.left+this.offset.width}),this.container.addRemoveClass("left",!0)):(this.applyPosition({left:this.offset.left-a.width}),this.container.addRemoveClass("right",!0)):this.offset.left-a.width>0?(this.applyPosition({left:this.offset.left-a.left-a.width}),this.container.addRemoveClass("right",!0)):(this.applyPosition({left:this.offset.width}),this.container.addRemoveClass("left",!0)),this.container.addRemoveClass("horizontal",!0),a=this.getBoundingRect(this.container.node),!(0>a.left||a.left+a.width>b)},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var a=this.getBoundingRect(this.container.node),b=this.getViewHeight(),c=this.offset.top+this.offset.height/2;return this.container.floating?c>=b/2-.05*b&&b/2+.05*b>=c?this.applyPosition({top:this.offset.top+this.offset.height/2-a.height/2,bottom:"auto"}):b/2>this.offset.top+this.offset.height?(this.applyPosition({top:this.offset.top,bottom:"auto"}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top-a.height+2*this.offset.height,bottom:"auto"}),this.container.addRemoveClass("low",!0)):c>=b/2-.05*b&&b/2+.05*b>=c?this.applyPosition({top:(this.offset.height-a.height)/2}):b/2>this.offset.top+this.offset.height?(this.applyPosition({top:-this.offset.height}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:a.top-a.height-this.offset.top+this.offset.height}),this.container.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(a,b){if(!this.initHorizontalPositioning())return!1;var c=this.getBoundingRect(this.container.node),d=this.getViewHeight();return this.container.floating?d/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height/2}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top+this.offset.height/2-c.height}),this.container.addRemoveClass("low",!0)):c.top+c.height>d&&d-c.bottom<c.top-c.height?(this.applyPosition({top:c.top-c.height-this.offset.top-this.offset.height/2}),this.container.addRemoveClass("low",!0)):(this.applyPosition({top:this.offset.height/2}),this.container.addRemoveClass("high",!0)),a>this.offset.left+this.offset.width?(this.container.addClass("left"),this.container.addClass("corner"),!0):this.offset.left>b&&(this.container.addClass("right"),this.container.addClass("corner"),!0)},getBoundingRect:function(a){var b=a.getBoundingClientRect();return b.width&&b.height?b:{left:b.left,right:b.right,top:b.top,bottom:b.bottom,width:b.right-b.left,height:b.bottom-b.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},applyPosition:function(a){var b="";for(var c in a)b+=c+":"+a[c]+(isNaN(a[c])?"; ":"px; ");this.container.addStyles(b)},resetPositioning:function(){this.container.removeClass("right"),this.container.removeClass("left"),this.container.removeClass("high"),this.container.removeClass("low"),this.container.removeClass("corner"),this.container.removeClass("below"),this.container.removeClass("above"),this.container.removeClass("vertical"),this.container.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},reflow:function(){this.offset=this.container.activatorOffset,this.adjustPosition()}}),enyo.kind({name:"enyo.FittableLayout",kind:"Layout",constructor:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.container.addRemoveClass("force-left-to-right",enyo.Control.prototype.rtl&&!this.container.get("rtl"))}}),calcFitIndex:function(){var a,b,c=this.container.children;for(b=0;c.length>b;b++)if(a=c[b],a.fit&&a.showing)return b},getFitControl:function(){var a=this.container.children,b=a[this.fitIndex];return b&&b.fit&&b.showing||(this.fitIndex=this.calcFitIndex(),b=a[this.fitIndex]),b},shouldReverse:function(){return this.container.rtl&&"h"===this.orient},getFirstChild:function(){var a=this.getShowingChildren();return this.shouldReverse()?a[a.length-1]:a[0]},getLastChild:function(){var a=this.getShowingChildren();return this.shouldReverse()?a[0]:a[a.length-1]},getShowingChildren:function(){for(var a=[],b=0,c=this.container.children,d=c.length;d>b;b++)c[b].showing&&a.push(c[b]);return a},_reflow:function(a,b,c,d){this.container.addRemoveClass("enyo-stretch",!this.container.noStretch);var e,f,g,h,i,j=this.getFitControl(),k=this.container.hasNode(),l=0,m=0,n=0;if(j&&k){if(e=enyo.dom.calcPaddingExtents(k),f=j.getBounds(),l=k[b]-(e[c]+e[d]),this.shouldReverse()){h=this.getFirstChild(),n=l-(f[c]+f[a]);var o=enyo.dom.getComputedBoxValue(h.hasNode(),"margin",c)||0;if(h==j)m=o;else{var p=h.getBounds(),q=p[c];m=f[c]+o-q}}else{g=this.getLastChild(),m=f[c]-(e[c]||0);var r=enyo.dom.getComputedBoxValue(g.hasNode(),"margin",d)||0;if(g==j)n=r;else{var s=g.getBounds(),t=f[c]+f[a];n=s[c]+s[a]+r-t}}i=l-(m+n),j.applyStyle(a,i+"px")}},reflow:function(){"h"==this.orient?this._reflow("width","clientWidth","left","right"):this._reflow("height","clientHeight","top","bottom")}}),enyo.kind({name:"enyo.FittableColumnsLayout",kind:"FittableLayout",orient:"h",layoutClass:"enyo-fittable-columns-layout"}),enyo.kind({name:"enyo.FittableRowsLayout",kind:"FittableLayout",layoutClass:"enyo-fittable-rows-layout",orient:"v"}),enyo.kind({name:"enyo.FittableRows",layoutKind:"FittableRowsLayout",noStretch:!1}),enyo.kind({name:"enyo.FittableColumns",layoutKind:"FittableColumnsLayout",noStretch:!1}),enyo.kind({name:"enyo.FittableHeaderLayout",kind:"FittableColumnsLayout",applyFitSize:enyo.inherit(function(a){return function(b,c,d,e){var f=d-e,g=this.getFitControl();0>f?(g.applyStyle("padding-left",Math.abs(f)+"px"),g.applyStyle("padding-right",null)):f>0?(g.applyStyle("padding-left",null),g.applyStyle("padding-right",Math.abs(f)+"px")):(g.applyStyle("padding-left",null),g.applyStyle("padding-right",null)),a.apply(this,arguments)}})}),enyo.kind({name:"enyo.FlyweightRepeater",published:{count:0,noSelect:!1,multiSelect:!1,toggleSelected:!1,clientClasses:"",clientStyle:"",rowOffset:0,orient:"v"},events:{onSetupItem:"",onRenderRow:""},bottomUp:!1,components:[{kind:"Selection",onSelect:"selectDeselect",onDeselect:"selectDeselect"},{name:"client"}],create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.noSelectChanged(),this.multiSelectChanged(),this.clientClassesChanged(),this.clientStyleChanged()}}),noSelectChanged:function(){this.noSelect&&this.$.selection.clear()},multiSelectChanged:function(){this.$.selection.setMulti(this.multiSelect)},clientClassesChanged:function(){this.$.client.setClasses(this.clientClasses)},clientStyleChanged:function(){this.$.client.setStyle(this.clientStyle)},setupItem:function(a){this.doSetupItem({index:a,selected:this.isSelected(a)})},generateChildHtml:enyo.inherit(function(a){return function(){var b="";this.index=null;for(var c=0,d=0;this.count>c;c++)d=this.rowOffset+(this.bottomUp?this.count-c-1:c),this.setupItem(d),this.$.client.setAttribute("data-enyo-index",d),"h"==this.orient&&this.$.client.setStyle("display:inline-block;"),b+=a.apply(this,arguments),this.$.client.teardownRender();return b}}),previewDomEvent:function(a){var b=this.index=this.rowForEvent(a);a.rowIndex=a.index=b,a.flyweight=this},decorateEvent:enyo.inherit(function(a){return function(b,c){var d=c&&null!=c.index?c.index:this.index;c&&null!=d&&(c.index=d,c.flyweight=this),a.apply(this,arguments)}}),tap:function(a,b){this.noSelect||-1===b.index||(this.toggleSelected?this.$.selection.toggle(b.index):this.$.selection.select(b.index))},selectDeselect:function(a,b){this.renderRow(b.key)},getSelection:function(){return this.$.selection},isSelected:function(a){return this.getSelection().isSelected(a)},renderRow:function(a){if(!(this.rowOffset>a||a>=this.count+this.rowOffset)){this.setupItem(a);var b=this.fetchRowNode(a);b&&(enyo.dom.setInnerHtml(b,this.$.client.generateChildHtml()),this.$.client.teardownChildren(),this.doRenderRow({rowIndex:a}))}},fetchRowNode:function(a){return this.hasNode()?this.node.querySelector('[data-enyo-index="'+a+'"]'):void 0},rowForEvent:function(a){if(!this.hasNode())return-1;for(var b=a.target;b&&b!==this.node;){var c=b.getAttribute&&b.getAttribute("data-enyo-index");if(null!==c)return Number(c);b=b.parentNode}return-1},prepareRow:function(a){if(!(this.rowOffset>a||a>=this.count+this.rowOffset)){this.setupItem(a);var b=this.fetchRowNode(a);enyo.FlyweightRepeater.claimNode(this.$.client,b)}},lockRow:function(){this.$.client.teardownChildren()},performOnRow:function(a,b,c){this.rowOffset>a||a>=this.count+this.rowOffset||b&&(this.prepareRow(a),enyo.call(c||null,b),this.lockRow())},statics:{claimNode:function(a,b){var c;b&&(c=b.id!==a.id?b.querySelector("#"+a.id):b),a.generated=Boolean(c||!a.tag),a.node=c,a.node&&a.rendered();for(var d,e=0,f=a.children;d=f[e];e++)this.claimNode(d,b)}}}),enyo.kind({name:"enyo.List",kind:"Scroller",classes:"enyo-list",published:{count:0,rowsPerPage:50,orient:"v",bottomUp:!1,noSelect:!1,multiSelect:!1,toggleSelected:!1,fixedSize:!1,reorderable:!1,centerReorderContainer:!0,reorderComponents:[],pinnedReorderComponents:[],swipeableComponents:[],enableSwipe:!1,persistSwipeableItem:!1},events:{onSetupItem:"",onSetupReorderComponents:"",onSetupPinnedReorderComponents:"",onReorder:"",onSetupSwipeItem:"",onSwipeDrag:"",onSwipe:"",onSwipeComplete:""},handlers:{onAnimateFinish:"animateFinish",onRenderRow:"rowRendered",ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onup:"up",onholdpulse:"holdpulse",onflick:"flick"},rowSize:0,listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"placeholder",classes:"enyo-list-placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0;"}]}],reorderHoldTimeMS:600,draggingRowIndex:-1,initHoldCounter:3,holdCounter:3,holding:!1,draggingRowNode:null,placeholderRowIndex:-1,dragToScrollThreshold:.1,prevScrollTop:0,autoScrollTimeoutMS:20,autoScrollTimeout:null,autoscrollPageY:0,pinnedReorderMode:!1,initialPinPosition:-1,itemMoved:!1,currentPageNumber:-1,completeReorderTimeout:null,swipeIndex:null,swipeDirection:null,persistentItemVisible:!1,persistentItemOrigin:null,swipeComplete:!1,completeSwipeTimeout:null,completeSwipeDelayMS:500,normalSwipeSpeedMS:200,fastSwipeSpeedMS:100,percentageDraggedThreshold:.2,importProps:enyo.inherit(function(a){return function(b){b&&b.reorderable&&(this.touch=!0),a.apply(this,arguments)}}),create:enyo.inherit(function(a){return function(){this.pageSizes=[],this.orientV="v"==this.orient,this.vertical=this.orientV?"default":"hidden",a.apply(this,arguments),this.$.generator.orient=this.orient,this.getStrategy().translateOptimized=!0,this.$.port.addRemoveClass("horizontal",!this.orientV),this.$.port.addRemoveClass("vertical",this.orientV),this.$.page0.addRemoveClass("vertical",this.orientV),this.$.page1.addRemoveClass("vertical",this.orientV),this.bottomUpChanged(),this.noSelectChanged(),this.multiSelectChanged(),this.toggleSelectedChanged(),this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count)}}),initComponents:enyo.inherit(function(a){return function(){this.createReorderTools(),a.apply(this,arguments),this.createSwipeableComponents()}}),createReorderTools:function(){this.createComponent({name:"reorderContainer",classes:"enyo-list-reorder-container",ondown:"sendToStrategy",ondrag:"sendToStrategy",ondragstart:"sendToStrategy",ondragfinish:"sendToStrategy",onflick:"sendToStrategy"})},createStrategy:enyo.inherit(function(a){return function(){this.controlParentName="strategy",a.apply(this,arguments),this.createChrome(this.listTools),this.controlParentName="client",this.discoverControlParent()}}),createSwipeableComponents:function(){for(var a=0;this.swipeableComponents.length>a;a++)this.$.swipeableComponents.createComponent(this.swipeableComponents[a],{owner:this.owner})},rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.$.generator.node=this.$.port.hasNode(),this.$.generator.generated=!0,this.reset()}}),resizeHandler:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.refresh()}}),bottomUpChanged:function(){this.$.generator.bottomUp=this.bottomUp,this.$.page0.applyStyle(this.pageBound,null),this.$.page1.applyStyle(this.pageBound,null),this.pageBound=this.orientV?this.bottomUp?"bottom":"top":this.rtl?this.bottomUp?"left":"right":this.bottomUp?"right":"left",!this.orientV&&this.bottomUp&&(this.$.page0.applyStyle("left","auto"),this.$.page1.applyStyle("left","auto")),this.hasNode()&&this.reset()},noSelectChanged:function(){this.$.generator.setNoSelect(this.noSelect)},multiSelectChanged:function(){this.$.generator.setMultiSelect(this.multiSelect)},toggleSelectedChanged:function(){this.$.generator.setToggleSelected(this.toggleSelected)},countChanged:function(){this.hasNode()&&this.updateMetrics()},sendToStrategy:function(a,b){this.$.strategy.dispatchEvent("on"+b.type,b,a)},updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.portSize=0;for(var a=0;this.pageCount>a;a++)this.portSize+=this.getPageSize(a);this.adjustPortSize()},holdpulse:function(a,b){return this.getReorderable()&&!this.isReordering()&&b.holdTime>=this.reorderHoldTimeMS&&this.shouldStartReordering(a,b)?(this.startReordering(b),!1):void 0},dragstart:function(a,b){return!!this.isReordering()||(this.isSwipeable()?this.swipeDragStart(a,b):void 0)},drag:function(a,b){return this.shouldDoReorderDrag(b)?(b.preventDefault(),this.reorderDrag(b),!0):this.isSwipeable()?(b.preventDefault(),this.swipeDrag(a,b),!0):void 0},dragfinish:function(a,b){this.isReordering()?this.finishReordering(a,b):this.isSwipeable()&&this.swipeDragFinish(a,b)},up:function(a,b){this.isReordering()&&this.finishReordering(a,b)},generatePage:function(a,b){this.page=a;var c=this.rowsPerPage*this.page;this.$.generator.setRowOffset(c);var d=Math.min(this.count-c,this.rowsPerPage);this.$.generator.setCount(d);var e=this.$.generator.generateChildHtml();b.setContent(e),this.getReorderable()&&this.draggingRowIndex>-1&&this.hideReorderingRow();var f=b.getBounds(),g=this.orientV?f.height:f.width;if(!this.rowSize&&g>0&&(this.rowSize=Math.floor(g/d),this.updateMetrics()),!this.fixedSize){var h=this.getPageSize(a);h!=g&&g>0&&(this.pageSizes[a]=g,this.portSize+=g-h)}},pageForRow:function(a){return Math.floor(a/this.rowsPerPage)},preserveDraggingRowNode:function(a){this.draggingRowNode&&this.pageForRow(this.draggingRowIndex)===a&&(this.$.holdingarea.hasNode().appendChild(this.draggingRowNode),this.draggingRowNode=null,this.removedInitialPage=!0)},update:function(a){var b=!1,c=this.positionToPageInfo(a),d=c.pos+this.scrollerSize/2,e=Math.floor(d/Math.max(c.size,this.scrollerSize)+.5)+c.no,f=0==e%2?e:e-1;this.p0!=f&&this.isPageInRange(f)&&(this.preserveDraggingRowNode(this.p0),this.generatePage(f,this.$.page0),this.positionPage(f,this.$.page0),this.p0=f,b=!0,this.p0RowBounds=this.getPageRowSizes(this.$.page0)),f=0==e%2?Math.max(1,e-1):e,this.p1!=f&&this.isPageInRange(f)&&(this.preserveDraggingRowNode(this.p1),this.generatePage(f,this.$.page1),this.positionPage(f,this.$.page1),this.p1=f,b=!0,this.p1RowBounds=this.getPageRowSizes(this.$.page1)),b&&(this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count),this.fixedSize||(this.adjustBottomPage(),this.adjustPortSize()))},getPageRowSizes:function(a){for(var b,c,d={},e=a.hasNode().querySelectorAll("div[data-enyo-index]"),f=0;e.length>f;f++)null!==(b=e[f].getAttribute("data-enyo-index"))&&(c=enyo.dom.getBounds(e[f]),d[parseInt(b,10)]={height:c.height,width:c.width});return d},updateRowBounds:function(a){this.p0RowBounds[a]?this.updateRowBoundsAtIndex(a,this.p0RowBounds,this.$.page0):this.p1RowBounds[a]&&this.updateRowBoundsAtIndex(a,this.p1RowBounds,this.$.page1)},updateRowBoundsAtIndex:function(a,b,c){var d=c.hasNode().querySelector('div[data-enyo-index="'+a+'"]'),e=enyo.dom.getBounds(d);b[a].height=e.height,b[a].width=e.width},updateForPosition:function(a){this.update(this.calcPos(a))},calcPos:function(a){return this.bottomUp?this.portSize-this.scrollerSize-a:a},adjustBottomPage:function(){var a=this.p0>=this.p1?this.$.page0:this.$.page1;this.positionPage(a.pageNo,a)},adjustPortSize:function(){this.scrollerSize=this.orientV?this.getBounds().height:this.getBounds().width;var a=Math.max(this.scrollerSize,this.portSize);this.$.port.applyStyle(this.orientV?"height":"width",a+"px"),this.orientV||this.$.port.applyStyle("height",this.getBounds().height+"px")},positionPage:function(a,b){b.pageNo=a;var c=this.pageToPosition(a);b.applyStyle(this.pageBound,c+"px")},pageToPosition:function(a){for(var b=0,c=a;c>0;)c--,b+=this.getPageSize(c);return b},positionToPageInfo:function(a){for(var b=-1,c=this.calcPos(a),d=this.defaultPageSize;c>=0;)b++,d=this.getPageSize(b),c-=d;return b=Math.max(b,0),{no:b,size:d,pos:c+d,startRow:b*this.rowsPerPage,endRow:Math.min((b+1)*this.rowsPerPage-1,this.count-1)}},isPageInRange:function(a){return a==Math.max(0,Math.min(this.pageCount-1,a))},getPageSize:function(a){var b=this.pageSizes[a];if(!b){var c=this.rowsPerPage*a,d=Math.min(this.count-c,this.rowsPerPage);b=this.defaultPageSize*(d/this.rowsPerPage)}return Math.max(1,b)},invalidatePages:function(){this.p0=this.p1=null,this.p0RowBounds={},this.p1RowBounds={},this.$.page0.setContent(""),this.$.page1.setContent("")},invalidateMetrics:function(){this.pageSizes=[],this.rowSize=0,this.updateMetrics()},scroll:enyo.inherit(function(a){return function(b,c){var d=a.apply(this,arguments),e=this.orientV?this.getScrollTop():this.getScrollLeft();return this.lastPos===e?d:(this.lastPos=e,this.update(e),this.pinnedReorderMode&&this.reorderScroll(b,c),d)}}),setScrollTop:enyo.inherit(function(a){return function(b){this.update(b),a.apply(this,arguments),this.twiddle()}}),getScrollPosition:function(){return this.calcPos(this[this.orientV?"getScrollTop":"getScrollLeft"]())},setScrollPosition:function(a){this[this.orientV?"setScrollTop":"setScrollLeft"](this.calcPos(a))},scrollToBottom:enyo.inherit(function(a){return function(){this.update(this.getScrollBounds().maxTop),a.apply(this,arguments)}}),scrollToRow:function(a){var b=this.pageForRow(a),c=this.pageToPosition(b);if(this.updateForPosition(c),c=this.pageToPosition(b),this.setScrollPosition(c),b==this.p0||b==this.p1){var d=this.$.generator.fetchRowNode(a);if(d){var e=this.orientV?d.offsetTop:d.offsetLeft;this.bottomUp&&(e=this.getPageSize(b)-(this.orientV?d.offsetHeight:d.offsetWidth)-e);var f=this.getScrollPosition()+e;this.setScrollPosition(f)}}},scrollToStart:function(){this[this.bottomUp?this.orientV?"scrollToBottom":"scrollToRight":"scrollToTop"]()},scrollToEnd:function(){this[this.bottomUp?this.orientV?"scrollToTop":"scrollToLeft":this.orientV?"scrollToBottom":"scrollToRight"]()},refresh:function(){this.invalidatePages(),this.update(this[this.orientV?"getScrollTop":"getScrollLeft"]()),this.stabilize(),4===enyo.platform.android&&this.twiddle()},reset:function(){this.getSelection().clear(),this.invalidateMetrics(),this.invalidatePages(),this.stabilize(),this.scrollToStart()},getSelection:function(){return this.$.generator.getSelection()},select:function(a,b){return this.getSelection().select(a,b)},deselect:function(a){return this.getSelection().deselect(a)},isSelected:function(a){return this.$.generator.isSelected(a)},renderRow:function(a){this.$.generator.renderRow(a)},rowRendered:function(a,b){this.updateRowBounds(b.rowIndex)},prepareRow:function(a){this.$.generator.prepareRow(a)},lockRow:function(){this.$.generator.lockRow()},performOnRow:function(a,b,c){this.$.generator.performOnRow(a,b,c)},animateFinish:function(){return this.twiddle(),!0},twiddle:function(){var a=this.getStrategy();enyo.call(a,"twiddle")},pageForPageNumber:function(a,b){return 0==a%2?b&&a!==this.p0?null:this.$.page0:b&&a!==this.p1?null:this.$.page1},shouldStartReordering:function(a,b){return!(!this.getReorderable()||null==b.rowIndex||0>b.rowIndex||this.pinnedReorderMode||a!==this.$.strategy||null==b.index||0>b.index)},startReordering:function(a){this.$.strategy.listReordering=!0,this.buildReorderContainer(),this.doSetupReorderComponents(a),this.styleReorderContainer(a),this.draggingRowIndex=this.placeholderRowIndex=a.rowIndex,this.draggingRowNode=a.target,this.removedInitialPage=!1,this.itemMoved=!1,this.initialPageNumber=this.currentPageNumber=this.pageForRow(a.rowIndex),this.prevScrollTop=this.getScrollTop(),this.replaceNodeWithPlaceholder(a.rowIndex)},buildReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var a=0;this.reorderComponents.length>a;a++)this.$.reorderContainer.createComponent(this.reorderComponents[a],{owner:this.owner});this.$.reorderContainer.render()},styleReorderContainer:function(a){this.setItemPosition(this.$.reorderContainer,a.rowIndex),this.setItemBounds(this.$.reorderContainer,a.rowIndex),this.$.reorderContainer.setShowing(!0),this.centerReorderContainer&&this.centerReorderContainerOnPointer(a)},appendNodeToReorderContainer:function(a){this.$.reorderContainer.createComponent({allowHtml:!0,content:a.innerHTML}).render()},centerReorderContainerOnPointer:function(a){var b=enyo.dom.calcNodePosition(this.hasNode()),c=a.pageX-b.left-parseInt(this.$.reorderContainer.domStyles.width,10)/2,d=a.pageY-b.top+this.getScrollTop()-parseInt(this.$.reorderContainer.domStyles.height,10)/2;"ScrollStrategy"!=this.getStrategyKind()&&(c-=this.getScrollLeft(),d-=this.getScrollTop()),this.positionReorderContainer(c,d)},positionReorderContainer:function(a,b){this.$.reorderContainer.addClass("enyo-animatedTopAndLeft"),this.$.reorderContainer.addStyles("left:"+a+"px;top:"+b+"px;"),this.setPositionReorderContainerTimeout()},setPositionReorderContainerTimeout:function(){this.clearPositionReorderContainerTimeout(),this.positionReorderContainerTimeout=setTimeout(this.bindSafely(function(){this.$.reorderContainer.removeClass("enyo-animatedTopAndLeft"),this.clearPositionReorderContainerTimeout()}),100)},clearPositionReorderContainerTimeout:function(){this.positionReorderContainerTimeout&&(clearTimeout(this.positionReorderContainerTimeout),this.positionReorderContainerTimeout=null)},shouldDoReorderDrag:function(){return!(!this.getReorderable()||0>this.draggingRowIndex||this.pinnedReorderMode)},reorderDrag:function(a){this.positionReorderNode(a),this.checkForAutoScroll(a),this.updatePlaceholderPosition(a.pageY)},updatePlaceholderPosition:function(a){var b=this.getRowIndexFromCoordinate(a);-1!==b&&(b>=this.placeholderRowIndex?this.movePlaceholderToIndex(Math.min(this.count,b+1)):this.movePlaceholderToIndex(b))},positionReorderNode:function(a){var b=this.$.reorderContainer.getBounds(),c=b.left+a.ddx,d=b.top+a.ddy;d="ScrollStrategy"==this.getStrategyKind()?d+(this.getScrollTop()-this.prevScrollTop):d,this.$.reorderContainer.addStyles("top: "+d+"px ; left: "+c+"px"),this.prevScrollTop=this.getScrollTop()},checkForAutoScroll:function(a){var b,c=enyo.dom.calcNodePosition(this.hasNode()),d=this.getBounds();this.autoscrollPageY=a.pageY,a.pageY-c.top<d.height*this.dragToScrollThreshold?(b=100*(1-(a.pageY-c.top)/(d.height*this.dragToScrollThreshold)),this.scrollDistance=-1*b):a.pageY-c.top>d.height*(1-this.dragToScrollThreshold)?(b=(a.pageY-c.top-d.height*(1-this.dragToScrollThreshold))/(d.height-d.height*(1-this.dragToScrollThreshold))*100,this.scrollDistance=1*b):this.scrollDistance=0,0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling()},stopAutoScrolling:function(){this.autoScrollTimeout&&(clearTimeout(this.autoScrollTimeout),this.autoScrollTimeout=null)},startAutoScrolling:function(){this.autoScrollTimeout=setInterval(this.bindSafely(this.autoScroll),this.autoScrollTimeoutMS)},autoScroll:function(){0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling(),this.setScrollPosition(this.getScrollPosition()+this.scrollDistance),this.positionReorderNode({ddx:0,ddy:0}),this.updatePlaceholderPosition(this.autoscrollPageY)},movePlaceholderToIndex:function(a){var b,c;if(!(0>a)){a>=this.count?(b=null,c=this.pageForPageNumber(this.pageForRow(this.count-1)).hasNode()):(b=this.$.generator.fetchRowNode(a),c=b.parentNode);var d=this.pageForRow(a);d>=this.pageCount&&(d=this.currentPageNumber),c.insertBefore(this.placeholderNode,b),this.currentPageNumber!==d&&(this.updatePageSize(this.currentPageNumber),this.updatePageSize(d),this.updatePagePositions(d)),this.placeholderRowIndex=a,this.currentPageNumber=d,this.itemMoved=!0}},finishReordering:function(a,b){return!this.isReordering()||this.pinnedReorderMode||this.completeReorderTimeout?void 0:(this.stopAutoScrolling(),this.$.strategy.listReordering=!1,this.moveReorderedContainerToDroppedPosition(b),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,b),100),b.preventDefault(),!0)},moveReorderedContainerToDroppedPosition:function(){var a=this.getRelativeOffset(this.placeholderNode,this.hasNode()),b="ScrollStrategy"==this.getStrategyKind()?a.top:a.top-this.getScrollTop(),c=a.left-this.getScrollLeft();this.positionReorderContainer(c,b)},completeFinishReordering:function(a){return this.completeReorderTimeout=null,this.placeholderRowIndex>this.draggingRowIndex&&(this.placeholderRowIndex=Math.max(0,this.placeholderRowIndex-1)),this.draggingRowIndex!=this.placeholderRowIndex||!this.pinnedReorderComponents.length||this.pinnedReorderMode||this.itemMoved?(this.removeDraggingRowNode(),this.removePlaceholderNode(),this.emptyAndHideReorderContainer(),this.pinnedReorderMode=!1,this.reorderRows(a),this.draggingRowIndex=this.placeholderRowIndex=-1,void this.refresh()):void this.beginPinnedReorder(a)},beginPinnedReorder:function(a){this.buildPinnedReorderContainer(),this.doSetupPinnedReorderComponents(enyo.mixin(a,{index:this.draggingRowIndex})),this.pinnedReorderMode=!0,this.initialPinPosition=a.pageY},emptyAndHideReorderContainer:function(){this.$.reorderContainer.destroyComponents(),this.$.reorderContainer.setShowing(!1)},buildPinnedReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var a=0;this.pinnedReorderComponents.length>a;a++)this.$.reorderContainer.createComponent(this.pinnedReorderComponents[a],{owner:this.owner});this.$.reorderContainer.render()},reorderRows:function(a){this.doReorder(this.makeReorderEvent(a)),this.positionReorderedNode(),this.updateListIndices()},makeReorderEvent:function(a){return a.reorderFrom=this.draggingRowIndex,a.reorderTo=this.placeholderRowIndex,a},positionReorderedNode:function(){if(!this.removedInitialPage){var a=this.$.generator.fetchRowNode(this.placeholderRowIndex);if(a&&(a.parentNode.insertBefore(this.hiddenNode,a),this.showNode(this.hiddenNode)),this.hiddenNode=null,this.currentPageNumber!=this.initialPageNumber){var b,c,d=this.pageForPageNumber(this.currentPageNumber),e=this.pageForPageNumber(this.currentPageNumber+1);this.initialPageNumber<this.currentPageNumber?(b=d.hasNode().firstChild,e.hasNode().appendChild(b)):(b=d.hasNode().lastChild,c=e.hasNode().firstChild,e.hasNode().insertBefore(b,c)),this.correctPageSizes(),this.updatePagePositions(this.initialPageNumber)}}},updateListIndices:function(){if(this.shouldDoRefresh())return this.refresh(),void this.correctPageSizes();var a,b,c,d,e=Math.min(this.draggingRowIndex,this.placeholderRowIndex),f=Math.max(this.draggingRowIndex,this.placeholderRowIndex);if(1==(this.draggingRowIndex-this.placeholderRowIndex>0?1:-1)){for(a=this.$.generator.fetchRowNode(this.draggingRowIndex),a&&a.setAttribute("data-enyo-index","reordered"),b=f-1,c=f;b>=e;b--)(a=this.$.generator.fetchRowNode(b))&&(d=parseInt(a.getAttribute("data-enyo-index"),10),c=d+1,a.setAttribute("data-enyo-index",c));a=this.hasNode().querySelector('[data-enyo-index="reordered"]'),a.setAttribute("data-enyo-index",this.placeholderRowIndex)}else for(a=this.$.generator.fetchRowNode(this.draggingRowIndex),a&&a.setAttribute("data-enyo-index",this.placeholderRowIndex),b=e+1,c=e;f>=b;b++)(a=this.$.generator.fetchRowNode(b))&&(d=parseInt(a.getAttribute("data-enyo-index"),10),c=d-1,a.setAttribute("data-enyo-index",c))},shouldDoRefresh:function(){return Math.abs(this.initialPageNumber-this.currentPageNumber)>1},getNodeStyle:function(a){var b=this.$.generator.fetchRowNode(a);if(b){var c=this.getRelativeOffset(b,this.hasNode()),d=enyo.dom.getBounds(b);return{h:d.height,w:d.width,left:c.left,top:c.top}}},getRelativeOffset:function(a,b){var c={top:0,left:0};if(a!==b&&a.parentNode)do{c.top+=a.offsetTop||0,c.left+=a.offsetLeft||0,a=a.offsetParent}while(a&&a!==b);return c},replaceNodeWithPlaceholder:function(a){var b=this.$.generator.fetchRowNode(a);if(!b)return void enyo.log("No node - "+a);this.placeholderNode=this.createPlaceholderNode(b),this.hiddenNode=this.hideNode(b),this.pageForPageNumber(this.currentPageNumber).hasNode().insertBefore(this.placeholderNode,this.hiddenNode)},createPlaceholderNode:function(a){var b=this.$.placeholder.hasNode().cloneNode(!0),c=enyo.dom.getBounds(a);return b.style.height=c.height+"px",b.style.width=c.width+"px",b},removePlaceholderNode:function(){this.removeNode(this.placeholderNode),this.placeholderNode=null},removeDraggingRowNode:function(){this.draggingRowNode=null,this.$.holdingarea.hasNode().innerHTML=""},removeNode:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},updatePageSize:function(a){if(!(0>a)){var b=this.pageForPageNumber(a,!0);if(b){var c=this.pageSizes[a],d=Math.max(1,b.getBounds().height);this.pageSizes[a]=d,this.portSize+=d-c}}},updatePagePositions:function(a){this.positionPage(this.currentPageNumber,this.pageForPageNumber(this.currentPageNumber)),this.positionPage(a,this.pageForPageNumber(a))},correctPageSizes:function(){var a=this.initialPageNumber%2;this.updatePageSize(this.currentPageNumber,this.$["page"+this.currentPage]),a!=this.currentPageNumber&&this.updatePageSize(this.initialPageNumber,this.$["page"+a])},hideNode:function(a){return a.style.display="none",a},showNode:function(a){return a.style.display="block",a},dropPinnedRow:function(a){this.moveReorderedContainerToDroppedPosition(a),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,a),100)},cancelPinnedMode:function(a){this.placeholderRowIndex=this.draggingRowIndex,this.dropPinnedRow(a)},getRowIndexFromCoordinate:function(a){var b=this.getScrollTop()+a-enyo.dom.calcNodePosition(this.hasNode()).top;if(0>b)return-1;var c=this.positionToPageInfo(b),d=c.no==this.p0?this.p0RowBounds:this.p1RowBounds;if(!d)return this.count;for(var e=c.pos,f=this.placeholderNode?enyo.dom.getBounds(this.placeholderNode).height:0,g=0,h=c.startRow;c.endRow>=h;++h){if(h===this.placeholderRowIndex&&(g+=f)>=e)return-1;if(h!==this.draggingRowIndex&&(g+=d[h].height)>=e)return h}return h},getIndexPosition:function(a){return enyo.dom.calcNodePosition(this.$.generator.fetchRowNode(a))},setItemPosition:function(a,b){var c=this.getNodeStyle(b),d="ScrollStrategy"==this.getStrategyKind()?c.top:c.top-this.getScrollTop(),e="top:"+d+"px; left:"+c.left+"px;";a.addStyles(e)},setItemBounds:function(a,b){var c=this.getNodeStyle(b),d="width:"+c.w+"px; height:"+c.h+"px;";a.addStyles(d)},reorderScroll:function(){"ScrollStrategy"==this.getStrategyKind()&&this.$.reorderContainer.addStyles("top:"+(this.initialPinPosition+this.getScrollTop()-this.rowSize)+"px;"),this.updatePlaceholderPosition(this.initialPinPosition)},hideReorderingRow:function(){var a=this.hasNode().querySelector('[data-enyo-index="'+this.draggingRowIndex+'"]');a&&(this.hiddenNode=this.hideNode(a))},isReordering:function(){return this.draggingRowIndex>-1},isSwiping:function(){return null!=this.swipeIndex&&!this.swipeComplete&&null!=this.swipeDirection},swipeDragStart:function(a,b){return!(null!=b.index&&!b.vertical)||(this.completeSwipeTimeout&&this.completeSwipe(b),this.swipeComplete=!1,this.swipeIndex!=b.index&&(this.clearSwipeables(),this.swipeIndex=b.index),this.swipeDirection=b.xDirection,this.persistentItemVisible||this.startSwipe(b),this.draggedXDistance=0,this.draggedYDistance=0,!0)},swipeDrag:function(a,b){return this.persistentItemVisible?(this.dragPersistentItem(b),this.preventDragPropagation):!!this.isSwiping()&&(this.dragSwipeableComponents(this.calcNewDragPosition(b.ddx)),this.draggedXDistance=b.dx,this.draggedYDistance=b.dy,!0)},swipeDragFinish:function(a,b){if(this.persistentItemVisible)this.dragFinishPersistentItem(b);else{if(!this.isSwiping())return!1;this.calcPercentageDragged(this.draggedXDistance)>this.percentageDraggedThreshold&&b.xDirection===this.swipeDirection?this.swipe(this.fastSwipeSpeedMS):this.backOutSwipe(b)}return this.preventDragPropagation},isSwipeable:function(){return this.enableSwipe&&0!==this.$.swipeableComponents.controls.length&&!this.isReordering()&&!this.pinnedReorderMode},positionSwipeableContainer:function(a,b){var c=this.$.generator.fetchRowNode(a);if(c){var d=this.getRelativeOffset(c,this.hasNode()),e=enyo.dom.getBounds(c),f=1==b?-1*e.width:e.width;this.$.swipeableComponents.addStyles("top: "+d.top+"px; left: "+f+"px; height: "+e.height+"px; width: "+e.width+"px;")}},calcNewDragPosition:function(a){var b=this.$.swipeableComponents.getBounds(),c=b.left,d=this.$.swipeableComponents.getBounds(),e=1==this.swipeDirection?0:-1*d.width;return 1==this.swipeDirection?c+a>e?e:c+a:e>c+a?e:c+a},dragSwipeableComponents:function(a){this.$.swipeableComponents.applyStyle("left",a+"px")},startSwipe:function(a){a.index=this.swipeIndex,this.positionSwipeableContainer(this.swipeIndex,a.xDirection),this.$.swipeableComponents.setShowing(!0),this.setPersistentItemOrigin(a.xDirection),this.doSetupSwipeItem(a)},dragPersistentItem:function(a){var b=0,c="right"==this.persistentItemOrigin?Math.max(b,b+a.dx):Math.min(b,b+a.dx);this.$.swipeableComponents.applyStyle("left",c+"px")},dragFinishPersistentItem:function(a){var b=this.calcPercentageDragged(a.dx)>.2,c=a.dx>0?"right":0>a.dx?"left":null;this.persistentItemOrigin==c&&b?this.slideAwayItem():this.bounceItem(a)},setPersistentItemOrigin:function(a){this.persistentItemOrigin=1==a?"left":"right"},calcPercentageDragged:function(a){return Math.abs(a/this.$.swipeableComponents.getBounds().width)},swipe:function(a){this.swipeComplete=!0,this.animateSwipe(0,a)},backOutSwipe:function(){var a=this.$.swipeableComponents.getBounds(),b=1==this.swipeDirection?-1*a.width:a.width;this.animateSwipe(b,this.fastSwipeSpeedMS),this.swipeDirection=null},bounceItem:function(){var a=this.$.swipeableComponents.getBounds();a.left!=a.width&&this.animateSwipe(0,this.normalSwipeSpeedMS)},slideAwayItem:function(){var a=this.$.swipeableComponents,b=a.getBounds().width,c="left"==this.persistentItemOrigin?-1*b:b;this.animateSwipe(c,this.normalSwipeSpeedMS),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},clearSwipeables:function(){this.$.swipeableComponents.setShowing(!1),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},completeSwipe:function(){this.completeSwipeTimeout&&(clearTimeout(this.completeSwipeTimeout),this.completeSwipeTimeout=null),this.getPersistSwipeableItem()?this.swipeComplete&&(this.persistentItemVisible=!0):(this.$.swipeableComponents.setShowing(!1),this.swipeComplete&&this.doSwipeComplete({index:this.swipeIndex,xDirection:this.swipeDirection})),this.swipeIndex=null,this.swipeDirection=null},animateSwipe:function(a,b){var c=enyo.now(),d=this.$.swipeableComponents,e=parseInt(d.domStyles.left,10),f=a-e;this.stopAnimateSwipe();var g=this.bindSafely(function(){var a=enyo.now()-c,h=a/b,i=e+f*Math.min(h,1);d.applyStyle("left",i+"px"),this.job=enyo.requestAnimationFrame(g),a/b>=1&&(this.stopAnimateSwipe(),this.completeSwipeTimeout=setTimeout(this.bindSafely(function(){this.completeSwipe()}),this.completeSwipeDelayMS))});this.job=enyo.requestAnimationFrame(g)},stopAnimateSwipe:function(){this.job&&(this.job=enyo.cancelRequestAnimationFrame(this.job))}}),enyo.kind({name:"enyo.PulldownList",kind:"List",touch:!0,pully:null,pulldownTools:[{name:"pulldown",classes:"enyo-list-pulldown",components:[{name:"puller",kind:"Puller"}]}],events:{onPullStart:"",onPullCancel:"",onPull:"",onPullRelease:"",onPullComplete:""},handlers:{onScrollStart:"scrollStartHandler",onScrollStop:"scrollStopHandler",ondragfinish:"dragfinish"},pullingMessage:"Pull down to refresh...",pulledMessage:"Release to refresh...",loadingMessage:"Loading...",pullingIconClass:"enyo-puller-arrow enyo-puller-arrow-down",pulledIconClass:"enyo-puller-arrow enyo-puller-arrow-up",loadingIconClass:"",create:enyo.inherit(function(a){return function(){var b={kind:"Puller",showing:!1,text:this.loadingMessage,iconClass:this.loadingIconClass,onCreate:"setPully"};this.listTools.splice(0,0,b),a.apply(this,arguments),this.setPulling()}}),initComponents:enyo.inherit(function(a){return function(){this.createChrome(this.pulldownTools),this.accel=enyo.dom.canAccelerate(),this.translation=this.accel?"translate3d":"translate",this.strategyKind=this.resetStrategyKind(),a.apply(this,arguments)}}),resetStrategyKind:function(){return enyo.platform.android>=3?"TranslateScrollStrategy":"TouchScrollStrategy"},setPully:function(a,b){this.pully=b.originator},scrollStartHandler:function(){this.firedPullStart=!1,this.firedPull=!1,this.firedPullCancel=!1},scroll:enyo.inherit(function(a){return function(){var b=a.apply(this,arguments);this.completingPull&&this.pully.setShowing(!1);var c=this.getStrategy().$.scrollMath||this.getStrategy(),d=-1*this.getScrollTop();return c.isInOverScroll()&&d>0&&(enyo.dom.transformValue(this.$.pulldown,this.translation,"0,"+d+"px"+(this.accel?",0":"")),this.firedPullStart||(this.firedPullStart=!0,this.pullStart(),this.pullHeight=this.$.pulldown.getBounds().height),d>this.pullHeight&&!this.firedPull&&(this.firedPull=!0,this.firedPullCancel=!1,this.pull()),this.firedPull&&!this.firedPullCancel&&this.pullHeight>d&&(this.firedPullCancel=!0,this.firedPull=!1,this.pullCancel())),b}}),scrollStopHandler:function(){this.completingPull&&(this.completingPull=!1,this.doPullComplete())},dragfinish:function(){if(this.firedPull){(this.getStrategy().$.scrollMath||this.getStrategy()).setScrollY(-1*this.getScrollTop()-this.pullHeight),this.pullRelease()}},completePull:function(){this.completingPull=!0;var a=this.getStrategy().$.scrollMath||this.getStrategy();a.setScrollY(this.pullHeight),a.start()},pullStart:function(){this.setPulling(),this.pully.setShowing(!1),this.$.puller.setShowing(!0),this.doPullStart()},pull:function(){this.setPulled(),this.doPull()},pullCancel:function(){this.setPulling(),this.doPullCancel()},pullRelease:function(){this.$.puller.setShowing(!1),this.pully.setShowing(!0),this.doPullRelease()},setPulling:function(){this.$.puller.setText(this.pullingMessage),this.$.puller.setIconClass(this.pullingIconClass)},setPulled:function(){this.$.puller.setText(this.pulledMessage),this.$.puller.setIconClass(this.pulledIconClass)}}),enyo.kind({name:"enyo.Puller",classes:"enyo-puller",published:{text:"",iconClass:""},events:{onCreate:""},components:[{name:"icon"},{name:"text",tag:"span",classes:"enyo-puller-text"}],create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.doCreate(),this.textChanged(),this.iconClassChanged()}}),textChanged:function(){this.$.text.setContent(this.text)},iconClassChanged:function(){this.$.icon.setClasses(this.iconClass)}}),enyo.kind({name:"enyo.AroundList",kind:"enyo.List",listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"aboveClient"},{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"belowClient"},{name:"placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0px;"}]}],aboveComponents:null,initComponents:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.aboveComponents&&this.$.aboveClient.createComponents(this.aboveComponents,{owner:this.owner}),this.belowComponents&&this.$.belowClient.createComponents(this.belowComponents,{owner:this.owner})}}),updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.aboveHeight=this.$.aboveClient.getBounds().height,this.belowHeight=this.$.belowClient.getBounds().height,this.portSize=this.aboveHeight+this.belowHeight;for(var a=0;this.pageCount>a;a++)this.portSize+=this.getPageSize(a);this.adjustPortSize()},positionPage:function(a,b){b.pageNo=a;var c=this.pageToPosition(a);c+=this.bottomUp?this.belowHeight:this.aboveHeight,b.applyStyle(this.pageBound,c+"px")},scrollToContentStart:function(){var a=this.bottomUp?this.belowHeight:this.aboveHeight;this.setScrollPosition(a)}}),enyo.kind({name:"enyo.GridListImageItem",classes:"enyo-gridlist-imageitem",components:[{name:"image",kind:"enyo.Image",classes:"image"},{name:"caption",classes:"caption"},{name:"subCaption",classes:"sub-caption"}],published:{source:"",caption:"",subCaption:"",selected:!1,centered:!0,imageSizing:"",useCaption:!0,useSubCaption:!0},bindings:[{from:".source",to:".$.image.src"},{from:".caption",to:".$.caption.content"},{from:".caption",to:".$.caption.showing",kind:"enyo.EmptyBinding"},{from:".subCaption",to:".$.subCaption.content"},{from:".subCaption",to:".$.subCaption.showing",kind:"enyo.EmptyBinding"}],create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.selectedChanged(),this.imageSizingChanged(),this.centeredChanged()}}),selectedChanged:function(){this.addRemoveClass("selected",this.selected)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},imageSizingChanged:function(){this.$.image.setSizing(this.imageSizing),this.addRemoveClass("sized-image",!!this.imageSizing),this.imageSizing&&(this.useCaptionChanged(),this.useSubCaptionChanged())},useCaptionChanged:function(){this.addRemoveClass("use-caption",this.useCaption)},useSubCaptionChanged:function(){this.addRemoveClass("use-subcaption",this.useSubCaption)},centeredChanged:function(){this.addRemoveClass("centered",this.centered)}}),enyo.kind({name:"enyo.Slideable",kind:"Control",published:{axis:"h",value:0,unit:"px",min:0,max:0,accelerated:"auto",overMoving:!0,draggable:!0},events:{onAnimateFinish:"",onChange:""},preventDragPropagation:!1,tools:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"}],handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},kDragScalar:1,dragEventProp:"dx",unitModifier:!1,canTransform:!1,create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.acceleratedChanged(),this.transformChanged(),this.axisChanged(),this.valueChanged(),this.addClass("enyo-slideable")}}),initComponents:enyo.inherit(function(a){return function(){this.createComponents(this.tools),a.apply(this,arguments)}}),rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.canModifyUnit(),this.updateDragScalar()}}),resizeHandler:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.updateDragScalar()}}),canModifyUnit:function(){if(!this.canTransform){this.getInitialStyleValue(this.hasNode(),this.boundary).match(/px/i)&&"%"===this.unit&&(this.unitModifier=this.getBounds()[this.dimension])}},getInitialStyleValue:function(a,b){var c=enyo.dom.getComputedStyle(a);return c?c.getPropertyValue(b):a&&a.currentStyle?a.currentStyle[b]:"0"},updateBounds:function(a,b){var c={};c[this.boundary]=a,this.setBounds(c,this.unit),this.setInlineStyles(a,b)},updateDragScalar:function(){if("%"==this.unit){var a=this.getBounds()[this.dimension];this.kDragScalar=a?100/a:1,this.canTransform||this.updateBounds(this.value,100)}},transformChanged:function(){this.canTransform=enyo.dom.canTransform()},acceleratedChanged:function(){(!enyo.platform.android||2>=enyo.platform.android)&&enyo.dom.accelerate(this,this.accelerated)},axisChanged:function(){var a="h"==this.axis;this.dragMoveProp=a?"dx":"dy",this.shouldDragProp=a?"horizontal":"vertical",this.transform=a?"translateX":"translateY",this.dimension=a?"width":"height",this.boundary=a?"left":"top"},setInlineStyles:function(a,b){var c={};this.unitModifier?(c[this.boundary]=this.percentToPixels(a,this.unitModifier),c[this.dimension]=this.unitModifier,this.setBounds(c)):(b?c[this.dimension]=b:c[this.boundary]=a,this.setBounds(c,this.unit))},valueChanged:function(a){var b=this.value;this.isOob(b)&&!this.isAnimating()&&(this.value=this.overMoving?this.dampValue(b):this.clampValue(b)),enyo.platform.android>2&&(this.value?(0===a||void 0===a)&&enyo.dom.accelerate(this,this.accelerated):enyo.dom.accelerate(this,!1)),this.canTransform?enyo.dom.transformValue(this,this.transform,this.value+this.unit):this.setInlineStyles(this.value,!1),this.doChange()},getAnimator:function(){return this.$.animator},isAtMin:function(){return this.value<=this.calcMin()},isAtMax:function(){return this.value>=this.calcMax()},calcMin:function(){return this.min},calcMax:function(){return this.max},clampValue:function(a){var b=this.calcMin(),c=this.calcMax();return Math.max(b,Math.min(a,c))},dampValue:function(a){return this.dampBound(this.dampBound(a,this.min,1),this.max,-1)},dampBound:function(a,b,c){var d=a;return b*c>d*c&&(d=b+(d-b)/4),d},percentToPixels:function(a,b){return Math.floor(b/100*a)},pixelsToPercent:function(a){return a/(this.unitModifier?this.getBounds()[this.dimension]:this.container.getBounds()[this.dimension])*100},shouldDrag:function(a){return this.draggable&&a[this.shouldDragProp]},isOob:function(a){return a>this.calcMax()||this.calcMin()>a},dragstart:function(a,b){return this.shouldDrag(b)?(b.preventDefault(),this.$.animator.stop(),b.dragInfo={},this.dragging=!0,this.drag0=this.value,this.dragd0=0,this.preventDragPropagation):void 0},drag:function(a,b){if(this.dragging){b.preventDefault();var c=this.canTransform?b[this.dragMoveProp]*this.kDragScalar:this.pixelsToPercent(b[this.dragMoveProp]),d=this.drag0+c,e=c-this.dragd0;return this.dragd0=c,e&&(b.dragInfo.minimizing=0>e),this.setValue(d),this.preventDragPropagation}},dragfinish:function(a,b){return this.dragging?(this.dragging=!1,this.completeDrag(b),b.preventTap(),this.preventDragPropagation):void 0},completeDrag:function(a){this.value!==this.calcMax()&&this.value!=this.calcMin()&&this.animateToMinMax(a.dragInfo.minimizing)},isAnimating:function(){return this.$.animator.isAnimating()},play:function(a,b){this.$.animator.play({startValue:a,endValue:b,node:this.hasNode()})},animateTo:function(a){this.play(this.value,a)},animateToMin:function(){this.animateTo(this.calcMin())},animateToMax:function(){this.animateTo(this.calcMax())},animateToMinMax:function(a){a?this.animateToMin():this.animateToMax()},animatorStep:function(a){return this.setValue(a.value),!0},animatorComplete:function(a){return this.doAnimateFinish(a),!0},toggleMinMax:function(){this.animateToMinMax(!this.isAtMin())}}),enyo.kind({name:"enyo.Arranger",kind:"Layout",layoutClass:"enyo-arranger",accelerated:"auto",dragProp:"ddx",dragDirectionProp:"xDirection",canDragProp:"horizontal",incrementalPoints:!1,destroy:enyo.inherit(function(a){return function(){for(var b,c=this.container.getPanels(),d=0;b=c[d];d++)b._arranger=null;a.apply(this,arguments)}}),arrange:function(){},size:function(){},start:function(){var a=this.container.fromIndex,b=this.container.toIndex,c=this.container.transitionPoints=[a];if(this.incrementalPoints)for(var d=Math.abs(b-a)-2,e=a;d>=0;)e+=a>b?-1:1,c.push(e),d--;c.push(this.container.toIndex)},finish:function(){},calcArrangementDifference:function(){},canDragEvent:function(a){return a[this.canDragProp]},calcDragDirection:function(a){return a[this.dragDirectionProp]},calcDrag:function(a){return a[this.dragProp]},drag:function(a,b,c,d,e){return this.measureArrangementDelta(-a,b,c,d,e)},measureArrangementDelta:function(a,b,c,d,e){var f=this.calcArrangementDifference(b,c,d,e),g=f?a/Math.abs(f):0;return g*=this.container.fromIndex>this.container.toIndex?-1:1},_arrange:function(a){this.containerBounds||this.reflow();var b=this.getOrderedControls(a);this.arrange(b,a)},arrangeControl:function(a,b){a._arranger=enyo.mixin(a._arranger||{},b)},flow:function(){this.c$=[].concat(this.container.getPanels()),this.controlsIndex=0;for(var a,b=0,c=this.container.getPanels();a=c[b];b++)if(enyo.dom.accelerate(a,!a.preventAccelerate&&this.accelerated),enyo.platform.safari)for(var d,e=a.children,f=0;d=e[f];f++)enyo.dom.accelerate(d,this.accelerated)},reflow:function(){var a=this.container.hasNode();this.containerBounds=a?{width:a.clientWidth,height:a.clientHeight}:{},this.size()},flowArrangement:function(){var a=this.container.arrangement;if(a)for(var b,c=0,d=this.container.getPanels();(b=d[c])&&a[c];c++)this.flowControl(b,a[c])},flowControl:function(a,b){enyo.Arranger.positionControl(a,b);var c=b.opacity;null!=c&&enyo.Arranger.opacifyControl(a,c)},getOrderedControls:function(a){for(var b=Math.floor(a),c=b-this.controlsIndex,d=c>0,e=this.c$||[],f=0;Math.abs(c)>f;f++)d?e.push(e.shift()):e.unshift(e.pop());return this.controlsIndex=b,e},statics:{positionControl:function(a,b,c){var d=c||"px";if(!this.updating)if(!enyo.dom.canTransform()||a.preventTransform||enyo.platform.android||10===enyo.platform.ie)enyo.dom.canTransform()&&a.preventTransform&&enyo.dom.transform(a,{translateX:null,translateY:null}),a.setBounds(b,c);else{var e=b.left,f=b.top;e=enyo.isString(e)?e:e&&e+d,f=enyo.isString(f)?f:f&&f+d,enyo.dom.transform(a,{translateX:e||null,translateY:f||null})}},opacifyControl:function(a,b){var c=b;c=c>.99?1:.01>c?0:c,9>enyo.platform.ie?a.applyStyle("filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*c+")"):a.applyStyle("opacity",c)}}}),enyo.kind({name:"enyo.CardArranger",kind:"Arranger",layoutClass:"enyo-arranger enyo-arranger-fit",calcArrangementDifference:function(){return this.containerBounds.width},arrange:function(a){for(var b,c,d=0;b=a[d];d++)c=0===d?1:0,this.arrangeControl(b,{opacity:c})},start:enyo.inherit(function(a){return function(){a.apply(this,arguments);for(var b,c=this.container.getPanels(),d=0;b=c[d];d++){var e=b.showing;b.setShowing(d==this.container.fromIndex||d==this.container.toIndex),b.showing&&!e&&b.resized()}}}),finish:enyo.inherit(function(a){return function(){a.apply(this,arguments);for(var b,c=this.container.getPanels(),d=0;b=c[d];d++)b.setShowing(d==this.container.toIndex)}}),destroy:enyo.inherit(function(a){return function(){for(var b,c=this.container.getPanels(),d=0;b=c[d];d++)enyo.Arranger.opacifyControl(b,1),b.showing||b.setShowing(!0);a.apply(this,arguments)}})}),enyo.kind({name:"enyo.CardSlideInArranger",kind:"CardArranger",start:function(){for(var a,b=this.container.getPanels(),c=0;a=b[c];c++){var d=a.showing;a.setShowing(c==this.container.fromIndex||c==this.container.toIndex),a.showing&&!d&&a.resized()}var e=this.container.fromIndex;c=this.container.toIndex,this.container.transitionPoints=[c+"."+e+".s",c+"."+e+".f"]},finish:enyo.inherit(function(a){return function(){a.apply(this,arguments);for(var b,c=this.container.getPanels(),d=0;b=c[d];d++)b.setShowing(d==this.container.toIndex)}}),arrange:function(a,b){for(var c,d,e=b.split("."),f=e[0],g=e[1],h="s"==e[2],i=this.containerBounds.width,j=0,k=this.container.getPanels();c=k[j];j++)d=i,g==j&&(d=h?0:-i),f==j&&(d=h?i:0),g==j&&g==f&&(d=0),this.arrangeControl(c,{left:d})},destroy:enyo.inherit(function(a){return function(){for(var b,c=this.container.getPanels(),d=0;b=c[d];d++)enyo.Arranger.positionControl(b,{left:null});a.apply(this,arguments)}})}),enyo.kind({name:"enyo.CarouselArranger",kind:"Arranger",size:function(){var a,b,c,d,e=this.container.getPanels(),f=this.containerPadding=this.container.hasNode()?enyo.dom.calcPaddingExtents(this.container.node):{},g=this.containerBounds;g.height-=f.top+f.bottom,g.width-=f.left+f.right;var h;for(a=0,b=0;d=e[a];a++)c=enyo.dom.calcMarginExtents(d.hasNode()),d.width=d.getBounds().width,d.marginWidth=c.right+c.left,b+=(d.fit?0:d.width)+d.marginWidth,d.fit&&(h=d);if(h){var i=g.width-b;h.width=i>=0?i:h.width}for(a=0,f.left;d=e[a];a++)d.setBounds({top:f.top,bottom:f.bottom,width:d.fit?d.width:null})},arrange:function(a,b){this.container.wrap?this.arrangeWrap(a,b):this.arrangeNoWrap(a,b)},arrangeNoWrap:function(a,b){var c,d,e,f,g=this.container.getPanels(),h=this.container.clamp(b),i=this.containerBounds.width;for(c=h,e=0;(f=g[c])&&!((e+=f.width+f.marginWidth)>i);c++);var j=i-e,k=0;if(j>0)for(c=h-1,d=0;f=g[c];c--)if(d+=f.width+f.marginWidth,0>=j-d){k=j-d,h=c;break}var l,m;for(c=0,m=this.containerPadding.left+k;f=g[c];c++)l=f.width+f.marginWidth,h>c?this.arrangeControl(f,{left:-l}):(this.arrangeControl(f,{left:Math.floor(m)}),m+=l)},arrangeWrap:function(a){for(var b,c=0,d=this.containerPadding.left;b=a[c];c++)this.arrangeControl(b,{left:d}),d+=b.width+b.marginWidth},calcArrangementDifference:function(a,b,c,d){var e=Math.abs(a%this.c$.length);return b[e].left-d[e].left},destroy:enyo.inherit(function(a){return function(){for(var b,c=this.container.getPanels(),d=0;b=c[d];d++)enyo.Arranger.positionControl(b,{left:null,top:null}),b.applyStyle("top",null),b.applyStyle("bottom",null),b.applyStyle("left",null),b.applyStyle("width",null);a.apply(this,arguments)}})}),enyo.kind({name:"enyo.CollapsingArranger",kind:"CarouselArranger",peekWidth:0,size:enyo.inherit(function(a){return function(){this.clearLastSize(),a.apply(this,arguments)}}),clearLastSize:function(){for(var a,b=0,c=this.container.getPanels();a=c[b];b++)a._fit&&b!=c.length-1&&(a.applyStyle("width",null),a._fit=null)},constructor:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.peekWidth=null!=this.container.peekWidth?this.container.peekWidth:this.peekWidth}}),arrange:function(a,b){for(var c,d=this.container.getPanels(),e=0,f=this.containerPadding.left,g=0;c=d[e];e++)c.getShowing()?(this.arrangeControl(c,{left:f+g*this.peekWidth}),e>=b&&(f+=c.width+c.marginWidth-this.peekWidth),g++):(this.arrangeControl(c,{left:f}),e>=b&&(f+=c.width+c.marginWidth)),e==d.length-1&&0>b&&this.arrangeControl(c,{left:f-b})},calcArrangementDifference:function(a,b,c,d){var e=this.container.getPanels().length-1;return Math.abs(d[e].left-b[e].left)},flowControl:enyo.inherit(function(a){return function(b,c){if(a.apply(this,arguments),this.container.realtimeFit){var d=this.container.getPanels();b==d[d.length-1]&&this.fitControl(b,c.left)}}}),finish:enyo.inherit(function(a){return function(){if(a.apply(this,arguments),!this.container.realtimeFit&&this.containerBounds){var b=this.container.getPanels(),c=this.container.arrangement,d=b.length-1,e=b[d];this.fitControl(e,c[d].left)}}}),fitControl:function(a,b){a._fit=!0,a.applyStyle("width",this.containerBounds.width-b+"px"),a.resized()}}),enyo.kind({name:"enyo.DockRightArranger",kind:"Arranger",basePanel:!1,overlap:0,layoutWidth:0,constructor:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.overlap=null!=this.container.overlap?this.container.overlap:this.overlap,this.layoutWidth=null!=this.container.layoutWidth?this.container.layoutWidth:this.layoutWidth}}),size:function(){var a,b,c,d=this.container.getPanels(),e=this.containerPadding=this.container.hasNode()?enyo.dom.calcPaddingExtents(this.container.node):{},f=this.containerBounds;f.width-=e.left+e.right;var g,h=f.width,i=d.length;for(this.container.transitionPositions={},a=0;c=d[a];a++)c.width=0===a&&this.container.basePanel?h:c.getBounds().width;for(a=0;c=d[a];a++){0===a&&this.container.basePanel&&c.setBounds({width:h}),c.setBounds({top:e.top,bottom:e.bottom});for(var j=0;c=d[j];j++){var k;if(0===a&&this.container.basePanel)k=0;else if(a>j)k=h;else{if(a!==j)break;g=h>this.layoutWidth?this.overlap:0,k=h-d[a].width+g}this.container.transitionPositions[a+"."+j]=k}if(i>j)for(var l=!1,m=a+1;i>m;m++){if(g=0,l)g=0;else if(d[a].width+d[m].width-this.overlap>h)g=0,l=!0;else{for(g=d[a].width-this.overlap,b=a;m>b;b++){var n=g+d[b+1].width-this.overlap;if(!(h>n)){g=h;break}g=n}g=h-g}this.container.transitionPositions[a+"."+m]=g}}},arrange:function(a,b){var c,d,e=this.container.getPanels(),f=this.container.clamp(b);for(c=0;d=e[c];c++){var g=this.container.transitionPositions[c+"."+f];this.arrangeControl(d,{left:g})}},calcArrangementDifference:function(a,b,c){var d=this.container.getPanels();return c>a?d[c].width:d[a].width},destroy:enyo.inherit(function(a){return function(){for(var b,c=this.container.getPanels(),d=0;b=c[d];d++)enyo.Arranger.positionControl(b,{left:null,top:null}),b.applyStyle("top",null),b.applyStyle("bottom",null),b.applyStyle("left",null),b.applyStyle("width",null);a.apply(this,arguments)}})}),enyo.kind({name:"enyo.LeftRightArranger",kind:"Arranger",margin:40,axisSize:"width",offAxisSize:"height",axisPosition:"left",constructor:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.margin=null!=this.container.margin?this.container.margin:this.margin}}),size:function(){for(var a,b,c=this.container.getPanels(),d=this.containerBounds[this.axisSize],e=d-this.margin-this.margin,f=0;b=c[f];f++)a={},a[this.axisSize]=e,a[this.offAxisSize]="100%",b.setBounds(a)},start:enyo.inherit(function(a){return function(){a.apply(this,arguments);for(var b,c=this.container.fromIndex,d=this.container.toIndex,e=this.getOrderedControls(d),f=Math.floor(e.length/2),g=0;b=e[g];g++)c>d?g==e.length-f?b.applyStyle("z-index",0):b.applyStyle("z-index",1):g==e.length-1-f?b.applyStyle("z-index",0):b.applyStyle("z-index",1)}}),arrange:function(a,b){var c,d,e;if(1==this.container.getPanels().length)return e={},e[this.axisPosition]=this.margin,void this.arrangeControl(this.container.getPanels()[0],e);var f=Math.floor(this.container.getPanels().length/2),g=this.getOrderedControls(Math.floor(b)-f),h=this.containerBounds[this.axisSize]-this.margin-this.margin,i=this.margin-h*f;for(c=0;d=g[c];c++)e={},e[this.axisPosition]=i,this.arrangeControl(d,e),i+=h},calcArrangementDifference:function(a,b,c,d){if(1==this.container.getPanels().length)return 0;var e=Math.abs(a%this.c$.length);return b[e][this.axisPosition]-d[e][this.axisPosition]},destroy:enyo.inherit(function(a){return function(){for(var b,c=this.container.getPanels(),d=0;b=c[d];d++)enyo.Arranger.positionControl(b,{left:null,top:null}),enyo.Arranger.opacifyControl(b,1),b.applyStyle("left",null),b.applyStyle("top",null),b.applyStyle("height",null),b.applyStyle("width",null);a.apply(this,arguments)}})}),enyo.kind({name:"enyo.TopBottomArranger",kind:"LeftRightArranger",dragProp:"ddy",dragDirectionProp:"yDirection",canDragProp:"vertical",axisSize:"height",offAxisSize:"width",axisPosition:"top"}),enyo.kind({name:"enyo.SpiralArranger",kind:"Arranger",incrementalPoints:!0,inc:20,size:function(){for(var a,b=this.container.getPanels(),c=this.containerBounds,d=this.controlWidth=c.width/3,e=this.controlHeight=c.height/3,f=0;a=b[f];f++)a.setBounds({width:d,height:e})},arrange:function(a){for(var b,c=this.inc,d=0,e=a.length;b=a[d];d++){var f=Math.cos(d/e*2*Math.PI)*d*c+this.controlWidth,g=Math.sin(d/e*2*Math.PI)*d*c+this.controlHeight;this.arrangeControl(b,{left:f,top:g})}},start:enyo.inherit(function(a){return function(){a.apply(this,arguments);for(var b,c=this.getOrderedControls(this.container.toIndex),d=0;b=c[d];d++)b.applyStyle("z-index",c.length-d)}}),calcArrangementDifference:function(){return this.controlWidth},destroy:enyo.inherit(function(a){return function(){for(var b,c=this.container.getPanels(),d=0;b=c[d];d++)b.applyStyle("z-index",null),enyo.Arranger.positionControl(b,{left:null,top:null}),b.applyStyle("left",null),b.applyStyle("top",null),b.applyStyle("height",null),b.applyStyle("width",null);a.apply(this,arguments)}})}),enyo.kind({name:"enyo.GridArranger",kind:"Arranger",incrementalPoints:!0,colWidth:100,colHeight:100,size:function(){for(var a,b=this.container.getPanels(),c=this.colWidth,d=this.colHeight,e=0;a=b[e];e++)a.setBounds({width:c,height:d})},arrange:function(a){for(var b,c=this.colWidth,d=this.colHeight,e=Math.max(1,Math.floor(this.containerBounds.width/c)),f=0,g=0;a.length>g;f++)for(var h=0;e>h&&(b=a[g]);h++,g++)this.arrangeControl(b,{left:c*h,top:d*f})},flowControl:enyo.inherit(function(a){return function(b,c){a.apply(this,arguments),enyo.Arranger.opacifyControl(b,0!=c.top%this.colHeight?.25:1)}}),calcArrangementDifference:function(){return this.colWidth},destroy:enyo.inherit(function(a){return function(){for(var b,c=this.container.getPanels(),d=0;b=c[d];d++)enyo.Arranger.positionControl(b,{left:null,top:null}),b.applyStyle("left",null),b.applyStyle("top",null),b.applyStyle("height",null),b.applyStyle("width",null);a.apply(this,arguments)}})}),enyo.kind({name:"enyo.Panels",classes:"enyo-panels",published:{index:0,draggable:!0,animate:!0,wrap:!1,arrangerKind:"CardArranger",narrowFit:!0},events:{onTransitionStart:"",onTransitionFinish:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onscroll:"domScroll"},tools:[{kind:"Animator",onStep:"step",onEnd:"completed"}],fraction:0,create:enyo.inherit(function(a){return function(){this.transitionPoints=[],a.apply(this,arguments),this.arrangerKindChanged(),this.narrowFitChanged(),this.indexChanged()}}),rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),enyo.makeBubble(this,"scroll")}}),domScroll:function(){this.hasNode()&&this.node.scrollLeft>0&&(this.node.scrollLeft=0)},initComponents:enyo.inherit(function(a){return function(){this.createChrome(this.tools),a.apply(this,arguments)}}),arrangerKindChanged:function(){this.setLayoutKind(this.arrangerKind)},narrowFitChanged:function(){this.addRemoveClass("enyo-panels-fit-narrow",this.narrowFit&&enyo.Panels.isScreenNarrow())},destroy:enyo.inherit(function(a){return function(){this.destroying=!0,a.apply(this,arguments)}}),removeControl:enyo.inherit(function(a){return function(b){if(this.destroying)return a.apply(this,arguments);var c=-1,d=enyo.indexOf(b,this.controls);d===this.index&&(c=Math.max(d-1,0)),a.apply(this,arguments),-1!==c&&this.controls.length>0&&(this.setIndex(c),this.flow(),this.reflow())}}),isPanel:function(){return!0},flow:enyo.inherit(function(a){return function(){this.arrangements=[],a.apply(this,arguments)}}),reflow:enyo.inherit(function(a){return function(){this.arrangements=[],a.apply(this,arguments),this.refresh()}}),getPanels:function(){return(this.controlParent||this).children},getActive:function(){var a=this.getPanels(),b=this.index%a.length;return 0>b&&(b+=a.length),a[b]},getAnimator:function(){return this.$.animator},setIndex:function(a){var b=this.get("index"),c=this.clamp(a);this.index=c,this.notifyObservers("index",b,c)},setIndexDirect:function(a){this.setIndex(a),this.completed()},selectPanelByName:function(a){if(a)for(var b=0,c=this.getPanels(),d=c.length;d>b;++b)if(a===c[b].name)return this.setIndex(b),b},previous:function(){var a=this.index-1;this.wrap&&0>a&&(a=this.getPanels().length-1),this.setIndex(a)},next:function(){var a=this.index+1;this.wrap&&a>=this.getPanels().length&&(a=0),this.setIndex(a)},clamp:function(a){var b=this.getPanels().length;return this.wrap?(a%=b,0>a?a+b:a):Math.max(0,Math.min(a,b-1))},indexChanged:function(a){this.lastIndex=a,!this.dragging&&this.$.animator&&(this.$.animator.isAnimating()&&(this.finishTransitionInfo&&(this.finishTransitionInfo.animating=!0),this.completed()),this.$.animator.stop(),this.hasNode()&&(this.animate?(this.startTransition(!0),this.$.animator.play({startValue:this.fraction})):this.refresh()))},step:function(a){return this.fraction=a.value,this.stepTransition(),!0},completed:function(){return this.$.animator.isAnimating()&&this.$.animator.stop(),this.fraction=1,this.stepTransition(),this.finishTransition(!0),!0},dragstart:function(a,b){return this.draggable&&this.layout&&this.layout.canDragEvent(b)?(b.preventDefault(),this.dragstartTransition(b),this.dragging=!0,this.$.animator.stop(),!0):void 0},drag:function(a,b){this.dragging&&(b.preventDefault(),this.dragTransition(b))},dragfinish:function(a,b){this.dragging&&(this.dragging=!1,b.preventTap(),this.dragfinishTransition(b))},dragstartTransition:function(a){if(this.$.animator.isAnimating())this.verifyDragTransition(a);else{var b=this.fromIndex=this.index;this.toIndex=b-(this.layout?this.layout.calcDragDirection(a):0)}this.fromIndex=this.clamp(this.fromIndex),this.toIndex=this.clamp(this.toIndex),this.fireTransitionStart(),this.layout&&this.layout.start()},dragTransition:function(a){var b=this.layout?this.layout.calcDrag(a):0,c=this.transitionPoints,d=c[0],e=c[c.length-1],f=this.fetchArrangement(d),g=this.fetchArrangement(e),h=this.layout?this.layout.drag(b,d,f,e,g):0,i=b&&!h;this.fraction+=h;var j=this.fraction;(j>1||0>j||i)&&((j>0||i)&&this.dragfinishTransition(a),this.dragstartTransition(a),this.fraction=0),this.stepTransition()},dragfinishTransition:function(a){this.verifyDragTransition(a),this.setIndex(this.toIndex),this.dragging&&this.fireTransitionFinish()},verifyDragTransition:function(a){var b=this.layout?this.layout.calcDragDirection(a):0,c=Math.min(this.fromIndex,this.toIndex),d=Math.max(this.fromIndex,this.toIndex);if(b>0){var e=c;c=d,d=e}c!=this.fromIndex&&(this.fraction=1-this.fraction),this.fromIndex=c,this.toIndex=d},refresh:function(){this.$.animator&&this.$.animator.isAnimating()&&this.$.animator.stop(),this.startTransition(!1),this.fraction=1,this.stepTransition(),this.finishTransition(!1)},startTransition:function(a){this.fromIndex=null!=this.fromIndex?this.fromIndex:this.lastIndex||0,this.toIndex=null!=this.toIndex?this.toIndex:this.index,this.layout&&this.layout.start(),a&&this.fireTransitionStart()},finishTransition:function(a){this.layout&&this.layout.finish(),this.transitionPoints=[],this.fraction=0,this.fromIndex=this.toIndex=null,a&&this.fireTransitionFinish()},fireTransitionStart:function(){var a=this.startTransitionInfo;!this.hasNode()||a&&a.fromIndex==this.fromIndex&&a.toIndex==this.toIndex||(this.startTransitionInfo={fromIndex:this.fromIndex,toIndex:this.toIndex},this.doTransitionStart(enyo.clone(this.startTransitionInfo)))},fireTransitionFinish:function(){var a=this.finishTransitionInfo;!this.hasNode()||a&&a.fromIndex==this.lastIndex&&a.toIndex==this.index||(this.finishTransitionInfo=a&&a.animating?{fromIndex:a.toIndex,toIndex:this.lastIndex}:{fromIndex:this.lastIndex,toIndex:this.index},this.doTransitionFinish(enyo.clone(this.finishTransitionInfo)))},stepTransition:function(){if(this.hasNode()){var a=this.transitionPoints,b=(this.fraction||0)*(a.length-1),c=Math.floor(b);b-=c;var d=a[c],e=a[c+1],f=this.fetchArrangement(d),g=this.fetchArrangement(e);this.arrangement=f&&g?enyo.Panels.lerp(f,g,b):f||g,this.arrangement&&this.layout&&this.layout.flowArrangement()}},fetchArrangement:function(a){return null!=a&&!this.arrangements[a]&&this.layout&&(this.layout._arrange(a),this.arrangements[a]=this.readArrangement(this.getPanels())),this.arrangements[a]},readArrangement:function(a){for(var b,c=[],d=0,e=a;b=e[d];d++)c.push(enyo.clone(b._arranger));return c},statics:{isScreenNarrow:function(){var a=navigator.userAgent,b=enyo.dom.getWindowWidth();switch(enyo.platform.platformName){case"ios":return/iP(?:hone|od;(?: U;)? CPU) OS (\d+)/.test(a);case"android":return/Mobile/.test(a)&&(enyo.platform.android>2||800>=b);case"androidChrome":return/Mobile/.test(a)}return 800>=b},lerp:function(a,b,c){for(var d,e=[],f=0,g=enyo.keys(a);d=g[f];f++)e.push(this.lerpObject(a[d],b[d],c));return e},lerpObject:function(a,b,c){var d,e,f=enyo.clone(a);if(b)for(var g in a)d=a[g],e=b[g],d!=e&&(f[g]=d-(d-e)*c);return f}}}),enyo.kind({name:"enyo.Node",published:{expandable:!1,expanded:!1,icon:"",onlyIconExpands:!1,selected:!1},style:"padding: 0 0 0 16px;",content:"Node",defaultKind:"Node",classes:"enyo-node",components:[{name:"icon",kind:"Image",showing:!1},{kind:"Control",name:"caption",Xtag:"span",style:"display: inline-block; padding: 4px;",allowHtml:!0},{kind:"Control",name:"extra",tag:"span",allowHtml:!0}],childClient:[{kind:"Control",name:"box",classes:"enyo-node-box",Xstyle:"border: 1px solid orange;",components:[{kind:"Control",name:"client",classes:"enyo-node-client",Xstyle:"border: 1px solid lightblue;"}]}],handlers:{ondblclick:"dblclick"},events:{onNodeTap:"nodeTap",onNodeDblClick:"nodeDblClick",onExpand:"nodeExpand",onDestroyed:"nodeDestroyed"},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.selectedChanged(),this.iconChanged()}}),destroy:enyo.inherit(function(a){return function(){this.doDestroyed(),a.apply(this,arguments)}}),initComponents:enyo.inherit(function(a){return function(){this.expandable&&(this.kindComponents=this.kindComponents.concat(this.childClient)),a.apply(this,arguments)}}),contentChanged:function(){this.$.caption.setContent(this.content)},iconChanged:function(){this.$.icon.setSrc(this.icon),this.$.icon.setShowing(Boolean(this.icon))},selectedChanged:function(){this.addRemoveClass("enyo-selected",this.selected)},rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.expandable&&!this.expanded&&this.quickCollapse()}}),addNodes:function(a){this.destroyClientControls();for(var b,c=0;b=a[c];c++)this.createComponent(b);this.$.client.render()},addTextNodes:function(a){this.destroyClientControls();for(var b,c=0;b=a[c];c++)this.createComponent({content:b});this.$.client.render()},tap:function(a,b){return this.onlyIconExpands?b.target==this.$.icon.hasNode()?this.toggleExpanded():this.doNodeTap():(this.toggleExpanded(),this.doNodeTap()),!0},dblclick:function(){return this.doNodeDblClick(),!0},toggleExpanded:function(){this.setExpanded(!this.expanded)},quickCollapse:function(){this.removeClass("enyo-animate"),this.$.box.applyStyle("height","0");var a=this.$.client.getBounds().height;this.$.client.setBounds({top:-a})},_expand:function(){this.addClass("enyo-animate");var a=this.$.client.getBounds().height;this.$.box.setBounds({height:a}),this.$.client.setBounds({top:0}),setTimeout(this.bindSafely(function(){this.expanded&&(this.removeClass("enyo-animate"),this.$.box.applyStyle("height","auto"))}),225)},_collapse:function(){this.removeClass("enyo-animate");var a=this.$.client.getBounds().height;this.$.box.setBounds({height:a}),setTimeout(this.bindSafely(function(){this.addClass("enyo-animate"),this.$.box.applyStyle("height","0"),this.$.client.setBounds({top:-a})}),25)},expandedChanged:function(){if(this.expandable){var a={expanded:this.expanded};this.doExpand(a),a.wait||this.effectExpanded()}else this.expanded=!1},effectExpanded:function(){this.$.client&&(this.expanded?this._expand():this._collapse())}}),enyo.kind({name:"enyo.PanZoomView",kind:enyo.Scroller,touchOverscroll:!1,thumb:!1,animate:!0,verticalDragPropagation:!0,horizontalDragPropagation:!0,published:{scale:"auto",disableZoom:!1},events:{onZoom:""},touch:!0,preventDragPropagation:!1,handlers:{ondragstart:"dragPropagation",onSetDimensions:"setDimensions"},components:[{name:"animator",kind:"Animator",onStep:"zoomAnimationStep",onEnd:"zoomAnimationEnd"},{name:"viewport",style:"overflow:hidden;min-height:100%;min-width:100%;",classes:"enyo-fit",ongesturechange:"gestureTransform",ongestureend:"saveState",ontap:"singleTap",ondblclick:"doubleClick",onmousewheel:"mousewheel",components:[{name:"content"}]}],create:enyo.inherit(function(a){return function(){this.scaleKeyword=this.scale;var b=this.components;if(this.components=[],a.apply(this,arguments),this.$.content.applyStyle("width",this.contentWidth+"px"),this.$.content.applyStyle("height",this.contentHeight+"px"),this.unscaledComponents){var c=this.hasOwnProperty("unscaledComponents")?this.getInstanceOwner():this;this.createComponents(this.unscaledComponents,{owner:c})}this.controlParentName="content",this.discoverControlParent(),this.createComponents(b),this.canTransform=enyo.dom.canTransform(),this.canTransform||this.$.content.applyStyle("position","relative"),this.canAccelerate=enyo.dom.canAccelerate(),this.getStrategy().setDragDuringGesture(!1)}}),rendered:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.getOriginalScale()}}),dragPropagation:function(a,b){var c=this.getStrategy().getScrollBounds(),d=0===c.top&&b.dy>0||c.top>=c.maxTop-2&&0>b.dy,e=0===c.left&&b.dx>0||c.left>=c.maxLeft-2&&0>b.dx;return!(d&&this.verticalDragPropagation||e&&this.horizontalDragPropagation)},mousewheel:function(a,b){b.pageX|=b.clientX+b.target.scrollLeft,b.pageY|=b.clientY+b.target.scrollTop;var c=(this.maxScale-this.minScale)/10,d=this.scale;return b.wheelDelta>0||0>b.detail?this.scale=this.limitScale(this.scale+c):(0>b.wheelDelta||b.detail>0)&&(this.scale=this.limitScale(this.scale-c)),this.eventPt=this.calcEventLocation(b),this.transform(this.scale),d!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null,b.preventDefault(),!0},resizeHandler:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.scaleChanged()}}),setDimensions:function(a,b){return this.$.content.applyStyle("width",b.width+"px"),this.$.content.applyStyle("height",b.height+"px"),this.originalWidth=b.width,this.originalHeight=b.height,this.scale=this.scaleKeyword,this.scaleChanged(),!0},getOriginalScale:function(){this.$.content.hasNode()&&(this.originalWidth=this.$.content.node.clientWidth,this.originalHeight=this.$.content.node.clientHeight,this.scale=this.scaleKeyword,this.scaleChanged())},scaleChanged:function(){var a=this.hasNode();if(a){this.containerWidth=a.clientWidth,this.containerHeight=a.clientHeight;var b=this.containerWidth/this.originalWidth,c=this.containerHeight/this.originalHeight;this.minScale=Math.min(b,c),this.maxScale=1>3*this.minScale?1:3*this.minScale,"auto"==this.scale?this.scale=this.minScale:"width"==this.scale?this.scale=b:"height"==this.scale?this.scale=c:"fit"==this.scale?(this.fitAlignment="center",this.scale=Math.max(b,c)):(this.maxScale=Math.max(this.maxScale,this.scale),this.scale=this.limitScale(this.scale))}this.eventPt=this.calcEventLocation(),this.transform(this.scale),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start(),this.align()},align:function(){if(this.fitAlignment&&"center"===this.fitAlignment){var a=this.getScrollBounds();this.setScrollLeft(a.maxLeft/2),this.setScrollTop(a.maxTop/2)}},gestureTransform:function(a,b){this.eventPt=this.calcEventLocation(b),this.transform(this.limitScale(this.scale*b.scale))},calcEventLocation:function(a){var b={x:0,y:0};if(a&&this.hasNode()){var c=this.node.getBoundingClientRect();b.x=Math.round(a.pageX-c.left-this.bounds.x),b.x=Math.max(0,Math.min(this.bounds.width,b.x)),b.y=Math.round(a.pageY-c.top-this.bounds.y),b.y=Math.max(0,Math.min(this.bounds.height,b.y))}return b},transform:function(a){this.tapped=!1;var b=this.bounds||this.innerBounds(a);this.bounds=this.innerBounds(a),this.scale>this.minScale?this.$.viewport.applyStyle("cursor","move"):this.$.viewport.applyStyle("cursor",null),this.$.viewport.setBounds({width:this.bounds.width+"px",height:this.bounds.height+"px"}),this.ratioX=this.ratioX||(this.eventPt.x+this.getScrollLeft())/b.width,this.ratioY=this.ratioY||(this.eventPt.y+this.getScrollTop())/b.height;var c,d;if(this.$.animator.ratioLock?(c=this.$.animator.ratioLock.x*this.bounds.width-this.containerWidth/2,d=this.$.animator.ratioLock.y*this.bounds.height-this.containerHeight/2):(c=this.ratioX*this.bounds.width-this.eventPt.x,d=this.ratioY*this.bounds.height-this.eventPt.y),c=Math.max(0,Math.min(this.bounds.width-this.containerWidth,c)),d=Math.max(0,Math.min(this.bounds.height-this.containerHeight,d)),this.canTransform){var e={scale:a};e=this.canAccelerate?enyo.mixin({translate3d:Math.round(this.bounds.left)+"px, "+Math.round(this.bounds.top)+"px, 0px"},e):enyo.mixin({translate:this.bounds.left+"px, "+this.bounds.top+"px"},e),enyo.dom.transform(this.$.content,e)}else if(enyo.platform.ie){var f='"progid:DXImageTransform.Microsoft.Matrix(M11='+a+", M12=0, M21=0, M22="+a+", SizingMethod='auto expand')\"";this.$.content.applyStyle("-ms-filter",f),this.$.content.setBounds({width:this.bounds.width*a+"px",height:this.bounds.height*a+"px",left:this.bounds.left+"px",top:this.bounds.top+"px"}),this.$.content.applyStyle("width",a*this.bounds.width),this.$.content.applyStyle("height",a*this.bounds.height)}this.setScrollLeft(c),this.setScrollTop(d),this.positionClientControls(a)},limitScale:function(a){return this.disableZoom?a=this.scale:a>this.maxScale?a=this.maxScale:this.minScale>a&&(a=this.minScale),a},innerBounds:function(a){var b=this.originalWidth*a,c=this.originalHeight*a,d={x:0,y:0,transX:0,transY:0};return this.containerWidth>b&&(d.x+=(this.containerWidth-b)/2),this.containerHeight>c&&(d.y+=(this.containerHeight-c)/2),this.canTransform&&(d.transX-=(this.originalWidth-b)/2,d.transY-=(this.originalHeight-c)/2),{left:d.x+d.transX,top:d.y+d.transY,width:b,height:c,x:d.x,y:d.y}},saveState:function(a,b){var c=this.scale;this.scale*=b.scale,this.scale=this.limitScale(this.scale),c!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null},doubleClick:function(a,b){8==enyo.platform.ie&&(this.tapped=!0,b.pageX=b.clientX+b.target.scrollLeft,b.pageY=b.clientY+b.target.scrollTop,this.singleTap(a,b),b.preventDefault())},singleTap:function(a,b){setTimeout(this.bindSafely(function(){this.tapped=!1}),300),this.tapped?(this.tapped=!1,this.smartZoom(a,b)):this.tapped=!0},smartZoom:function(a,b){var c=this.hasNode(),d=this.$.content.hasNode();if(c&&d&&this.hasNode()&&!this.disableZoom){var e=this.scale;if(this.scale=this.scale!=this.minScale?this.minScale:this.maxScale,this.eventPt=this.calcEventLocation(b),this.animate){var f={x:(this.eventPt.x+this.getScrollLeft())/this.bounds.width,y:(this.eventPt.y+this.getScrollTop())/this.bounds.height};this.$.animator.play({duration:350,ratioLock:f,baseScale:e,deltaScale:this.scale-e})}else this.transform(this.scale),this.doZoom({scale:this.scale})}},zoomAnimationStep:function(){var a=this.$.animator.baseScale+this.$.animator.deltaScale*this.$.animator.value;return this.transform(a),!0},zoomAnimationEnd:function(){return this.stabilize(),this.doZoom({scale:this.scale}),this.$.animator.ratioLock=void 0,!0},positionClientControls:function(a){this.waterfallDown("onPositionPin",{scale:a,bounds:this.bounds})}}),enyo.kind({name:"enyo.ImageViewPin",kind:"enyo.Control",published:{highlightAnchorPoint:!1,anchor:{top:0,left:0},position:{top:0,left:0}},style:"position:absolute;z-index:1000;width:0px;height:0px;",handlers:{onPositionPin:"reAnchor"},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.styleClientControls(),this.positionClientControls(),this.highlightAnchorPointChanged(),this.anchorChanged()}}),styleClientControls:function(){for(var a=this.getClientControls(),b=0;a.length>b;b++)a[b].applyStyle("position","absolute")},positionClientControls:function(){for(var a=this.getClientControls(),b=0;a.length>b;b++)for(var c in this.position)a[b].applyStyle(c,this.position[c]+"px")},highlightAnchorPointChanged:function(){this.addRemoveClass("pinDebug",this.highlightAnchorPoint)},anchorChanged:function(){var a=null,b=null;for(b in this.anchor)(a=(""+this.anchor[b]).match(/^(\d+(?:\.\d+)?)(.*)$/))&&(this.anchor[b+"Coords"]={value:a[1],units:a[2]||"px"})},reAnchor:function(a,b){var c=b.scale,d=b.bounds,e=this.anchor.right?"px"==this.anchor.rightCoords.units?d.width+d.x-this.anchor.rightCoords.value*c:d.width*(100-this.anchor.rightCoords.value)/100+d.x:"px"==this.anchor.leftCoords.units?this.anchor.leftCoords.value*c+d.x:d.width*this.anchor.leftCoords.value/100+d.x,f=this.anchor.bottom?"px"==this.anchor.bottomCoords.units?d.height+d.y-this.anchor.bottomCoords.value*c:d.height*(100-this.anchor.bottomCoords.value)/100+d.y:"px"==this.anchor.topCoords.units?this.anchor.topCoords.value*c+d.y:d.height*this.anchor.topCoords.value/100+d.y;this.applyStyle("left",e+"px"),this.applyStyle("top",f+"px")}}),enyo.kind({name:"enyo.ImageView",kind:"enyo.PanZoomView",subKindComponents:[{kind:"Image",ondown:"down",style:"vertical-align: text-top;"}],create:enyo.inherit(function(a){return function(){this.unscaledComponents=this.components,this.components=[],this.kindComponents[1].components[0].components=this.subKindComponents,a.apply(this,arguments),this.$.content.applyStyle("display","inline-block"),this.bufferImage=new Image,this.bufferImage.onload=enyo.bind(this,"imageLoaded"),this.bufferImage.onerror=enyo.bind(this,"imageError"),this.srcChanged(),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start()}}),destroy:enyo.inherit(function(a){return function(){this.bufferImage&&(this.bufferImage.onerror=void 0,this.bufferImage.onerror=void 0,delete this.bufferImage),a.apply(this,arguments)}}),down:function(a,b){b.preventDefault()},srcChanged:function(){this.src&&this.src.length>0&&this.bufferImage&&this.src!=this.bufferImage.src&&(this.bufferImage.src=this.src)},imageLoaded:function(){if(this.scale=this.scaleKeyword,this.originalWidth=this.contentWidth=this.bufferImage.width,this.originalHeight=this.contentHeight=this.bufferImage.height,this.scaleChanged(),this.$.image.setSrc(this.bufferImage.src),enyo.platform.safari){var a=this.$.image.hasNode(),b=this.bufferImage.src;a&&setTimeout(function(){a.src=b},100)}enyo.dom.transformValue(this.getStrategy().$.client,"translate3d","0px, 0px, 0"),this.positionClientControls(this.scale),this.align()},imageError:function(a){enyo.error("Error loading image: "+this.src),this.bubble("onerror",a)}}),enyo.kind({name:"enyo.ImageCarousel",kind:enyo.Panels,arrangerKind:"enyo.CarouselArranger",defaultScale:"auto",disableZoom:!1,lowMemory:!1,published:{images:[]},handlers:{onTransitionStart:"transitionStart",onTransitionFinish:"transitionFinish"},create:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.imageCount=this.images.length,this.images.length>0&&(this.initContainers(),this.loadNearby())}}),initContainers:function(){for(var a=0;this.images.length>a;a++)this.$["container"+a]||(this.createComponent({name:"container"+a,style:"height:100%; width:100%;"}),this.$["container"+a].render());for(a=this.images.length;this.imageCount>a;a++)this.$["image"+a]&&this.$["image"+a].destroy(),this.$["container"+a].destroy();this.imageCount=this.images.length},loadNearby:function(){var a=this.getBufferRange();for(var b in a)this.loadImageView(a[b])},getBufferRange:function(){var a=[];if(this.layout.containerBounds){var b,c,d,e,f=1,g=this.layout.containerBounds;for(c=this.index-1,d=0,e=g.width*f;c>=0&&e>=d;)b=this.$["container"+c],d+=b.width+b.marginWidth,a.unshift(c),c--;for(c=this.index,d=0,e=g.width*(f+1);this.images.length>c&&e>=d;)b=this.$["container"+c],d+=b.width+b.marginWidth,a.push(c),c++}return a},reflow:enyo.inherit(function(a){return function(){a.apply(this,arguments),this.loadNearby()}}),loadImageView:function(a){return this.wrap&&(a=(a%this.images.length+this.images.length)%this.images.length),a>=0&&this.images.length-1>=a&&(this.$["image"+a]?this.$["image"+a].src!=this.images[a]&&(this.$["image"+a].setSrc(this.images[a]),this.$["image"+a].setScale(this.defaultScale),this.$["image"+a].setDisableZoom(this.disableZoom)):(this.$["container"+a].createComponent({name:"image"+a,kind:"ImageView",scale:this.defaultScale,disableZoom:this.disableZoom,src:this.images[a],verticalDragPropagation:!1,style:"height:100%; width:100%;"},{owner:this}),this.$["image"+a].render())),this.$["image"+a]},setImages:function(a){this.set("images",a)},imagesChanged:function(){this.initContainers(),this.loadNearby()},indexChanged:enyo.inherit(function(a){return function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory(),a.apply(this,arguments)}}),transitionStart:function(a,b){return b.fromIndex==b.toIndex||void 0},transitionFinish:function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory()},getActiveImage:function(){return this.getImageByIndex(this.index)},getImageByIndex:function(a){return this.$["image"+a]||this.loadImageView(a)},cleanupMemory:function(){for(var a=this.getBufferRange(),b=0;this.images.length>b;b++)-1===enyo.indexOf(b,a)&&this.$["image"+b]&&this.$["image"+b].destroy()}}),enyo&&enyo.version&&(enyo.version.onyx="2.4.0"),enyo.kind({name:"onyx.Icon",published:{src:"",disabled:!1},classes:"onyx-icon",create:function(){this.inherited(arguments),this.src&&this.srcChanged(),this.disabledChanged()},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},srcChanged:function(){this.applyStyle("background-image","url("+enyo.path.rewrite(this.src)+")")}}),enyo.kind({name:"onyx.Button",kind:"enyo.Button",classes:"onyx-button enyo-unselectable",handlers:{ondown:"down",onenter:"enter",ondragfinish:"dragfinish",onleave:"leave",onup:"up"},down:function(){return!!this.disabled||(this.addClass("pressed"),void(this._isPressed=!0))},enter:function(){return!!this.disabled||void(this._isPressed&&this.addClass("pressed"))},dragfinish:function(){return!!this.disabled||(this.removeClass("pressed"),void(this._isPressed=!1))},leave:function(){return!!this.disabled||void this.removeClass("pressed")},up:function(){return!!this.disabled||(this.removeClass("pressed"),void(this._isPressed=!1))}}),enyo.kind({name:"onyx.IconButton",kind:"onyx.Icon",published:{active:!1},classes:"onyx-icon-button",handlers:{ondown:"down",onenter:"enter",ondragfinish:"dragfinish",onleave:"leave",onup:"up"},rendered:function(){this.inherited(arguments),this.activeChanged()},tap:function(){return!!this.disabled||void this.setActive(!0)},down:function(){return!!this.disabled||(this.addClass("pressed"),void(this._isPressed=!0))},enter:function(){return!!this.disabled||void(this._isPressed&&this.addClass("pressed"))},dragfinish:function(){return!!this.disabled||(this.removeClass("pressed"),void(this._isPressed=!1))},leave:function(){return!!this.disabled||void this.removeClass("pressed")},up:function(){return!!this.disabled||(this.removeClass("pressed"),void(this._isPressed=!1))},activeChanged:function(){this.bubble("onActivate")}}),enyo.kind({name:"onyx.Checkbox",classes:"onyx-checkbox",kind:enyo.Checkbox,tag:"div",handlers:{onclick:""},tap:function(){return this.disabled||(this.setChecked(!this.getChecked()),this.bubble("onchange")),!this.disabled},dragstart:function(){}}),enyo.kind({name:"onyx.Drawer",kind:"enyo.Drawer"}),enyo.kind({name:"onyx.Grabber",classes:"onyx-grabber"}),enyo.kind({name:"onyx.Groupbox",classes:"onyx-groupbox"}),enyo.kind({name:"onyx.GroupboxHeader",classes:"onyx-groupbox-header"}),enyo.kind({name:"onyx.Input",kind:"enyo.Input",classes:"onyx-input"}),enyo.kind({name:"onyx.Popup",kind:"enyo.Popup",classes:"onyx-popup",published:{scrimWhenModal:!0,scrim:!1,scrimClassName:"",defaultZ:120},protectedStatics:{count:0,highestZ:120},showingChanged:function(){this.showing?(onyx.Popup.count++,this.applyZIndex()):onyx.Popup.count>0&&onyx.Popup.count--,this.showHideScrim(this.showing),this.inherited(arguments)},showHideScrim:function(a){if(this.floating&&(this.scrim||this.modal&&this.scrimWhenModal)){var b=this.getScrim();if(a){var c=this.getScrimZIndex();this._scrimZ=c,b.showAtZIndex(c)}else b.hideAtZIndex(this._scrimZ);enyo.call(b,"addRemoveClass",[this.scrimClassName,b.showing])}},getScrimZIndex:function(){return onyx.Popup.highestZ>=this._zIndex?this._zIndex-1:onyx.Popup.highestZ},getScrim:function(){return this.modal&&this.scrimWhenModal&&!this.scrim?onyx.scrimTransparent.make():onyx.scrim.make()},applyZIndex:function(){this._zIndex=2*onyx.Popup.count+this.findZIndex()+1,this._zIndex<=onyx.Popup.highestZ&&(this._zIndex=onyx.Popup.highestZ+1),this._zIndex>onyx.Popup.highestZ&&(onyx.Popup.highestZ=this._zIndex),this.applyStyle("z-index",this._zIndex)},findZIndex:function(){var a=this.defaultZ;return this._zIndex?a=this._zIndex:this.hasNode()&&(a=Number(enyo.dom.getComputedStyleValue(this.node,"z-index"))||a),this.defaultZ>a&&(a=this.defaultZ),this._zIndex=a,this._zIndex}}),enyo.kind({name:"onyx.TextArea",kind:"enyo.TextArea",classes:"onyx-textarea"}),enyo.kind({name:"onyx.RichText",kind:"enyo.RichText",classes:"onyx-richtext"}),enyo.kind({name:"onyx.InputDecorator",kind:"enyo.ToolDecorator",tag:"label",classes:"onyx-input-decorator",published:{alwaysLooksFocused:!1},handlers:{onDisabledChange:"disabledChange",onfocus:"receiveFocus",onblur:"receiveBlur"},create:function(){this.inherited(arguments),this.updateFocus(!1)},alwaysLooksFocusedChanged:function(){this.updateFocus(this.focus)},updateFocus:function(a){this.focused=a,this.addRemoveClass("onyx-focused",this.alwaysLooksFocused||this.focused)},receiveFocus:function(){this.updateFocus(!0)},receiveBlur:function(){this.updateFocus(!1)},disabledChange:function(a,b){this.addRemoveClass("onyx-disabled",b.originator.disabled)}}),enyo.kind({name:"onyx.Tooltip",kind:"onyx.Popup",classes:"onyx-tooltip below left-arrow",autoDismiss:!1,showDelay:500,defaultLeft:-6,handlers:{onRequestShowTooltip:"requestShow",onRequestHideTooltip:"requestHide"},requestShow:function(){return this.showJob=setTimeout(this.bindSafely("show"),this.showDelay),!0},cancelShow:function(){clearTimeout(this.showJob)},requestHide:function(){return this.cancelShow(),this.inherited(arguments)},showingChanged:function(){this.cancelShow(),this.adjustPosition(!0),this.inherited(arguments)},applyPosition:function(a){var b="";for(var c in a)b+=c+":"+a[c]+(isNaN(a[c])?"; ":"px; ");this.addStyles(b)},adjustPosition:function(){if(this.showing&&this.hasNode()){var a=this.node.getBoundingClientRect();a.top+a.height>window.innerHeight?(this.addRemoveClass("below",!1),this.addRemoveClass("above",!0)):(this.addRemoveClass("above",!1),this.addRemoveClass("below",!0)),a.left+a.width>window.innerWidth&&(this.applyPosition({"margin-left":-a.width,bottom:"auto"}),this.addRemoveClass("left-arrow",!1),this.addRemoveClass("right-arrow",!0))}},resizeHandler:function(){this.applyPosition({"margin-left":this.defaultLeft,bottom:"auto"}),this.addRemoveClass("left-arrow",!0),this.addRemoveClass("right-arrow",!1),this.adjustPosition(!0),this.inherited(arguments)}}),enyo.kind({name:"onyx.TooltipDecorator",defaultKind:"onyx.Button",classes:"onyx-popup-decorator",handlers:{onenter:"enter",onleave:"leave"},enter:function(){this.requestShowTooltip()},leave:function(){this.requestHideTooltip()},tap:function(){this.requestHideTooltip()},requestShowTooltip:function(){this.waterfallDown("onRequestShowTooltip")},requestHideTooltip:function(){this.waterfallDown("onRequestHideTooltip")}}),enyo.kind({name:"onyx.MenuDecorator",kind:"onyx.TooltipDecorator",defaultKind:"onyx.Button",classes:"onyx-popup-decorator enyo-unselectable",handlers:{onActivate:"activated",onHide:"menuHidden"},activated:function(a,b){this.requestHideTooltip(),b.originator.active&&(this.menuActive=!0,this.activator=b.originator,this.activator.addClass("active"),this.requestShowMenu())},requestShowMenu:function(){this.waterfallDown("onRequestShowMenu",{activator:this.activator})},requestHideMenu:function(){this.waterfallDown("onRequestHideMenu")},menuHidden:function(){this.menuActive=!1,this.activator&&(this.activator.setActive(!1),this.activator.removeClass("active"))},enter:function(){this.menuActive||this.inherited(arguments)},leave:function(){this.menuActive||this.inherited(arguments)}}),enyo.kind({name:"onyx.Menu",kind:"onyx.Popup",modal:!0,defaultKind:"onyx.MenuItem",classes:"onyx-menu",published:{maxHeight:200,scrolling:!0,scrollStrategyKind:"TouchScrollStrategy"},handlers:{onActivate:"itemActivated",onRequestShowMenu:"requestMenuShow",onRequestHideMenu:"requestHide"},childComponents:[{name:"client",kind:"enyo.Scroller"}],showOnTop:!1,scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged()},initComponents:function(){this.scrolling&&this.createComponents(this.childComponents,{isChrome:!0,strategyKind:this.scrollStrategyKind}),this.inherited(arguments)},getScroller:function(){return this.$[this.scrollerName]},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},itemActivated:function(a,b){return b.originator.setActive(!1),!0},showingChanged:function(){this.inherited(arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition(!0)},requestMenuShow:function(a,b){if(this.floating){var c=b.activator.hasNode();if(c){var d=this.activatorOffset=this.getPageOffset(c);this.applyPosition({top:d.top+(this.showOnTop?0:d.height),left:d.left,width:d.width})}}return this.show(),!0},applyPosition:function(a){var b="";for(var c in a)b+=c+":"+a[c]+(isNaN(a[c])?"; ":"px; ");this.addStyles(b)},getPageOffset:function(a){var b=a.getBoundingClientRect(),c=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,d=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,e=void 0===b.height?b.bottom-b.top:b.height,f=void 0===b.width?b.right-b.left:b.width;return{top:b.top+c,left:b.left+d,height:e,width:f}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.scrolling&&!this.showOnTop&&this.getScroller().setMaxHeight(this.maxHeight+"px"),this.removeClass("onyx-menu-up"),this.floating||this.applyPosition({left:"auto"});var a=this.node.getBoundingClientRect(),b=void 0===a.height?a.bottom-a.top:a.height,c=void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight,d=void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth;if(this.menuUp=a.top+b>c&&c-a.bottom<a.top-b,this.addRemoveClass("onyx-menu-up",this.menuUp),this.floating){var e=this.activatorOffset;this.menuUp?this.applyPosition({top:e.top-b+(this.showOnTop?e.height:0),bottom:"auto"}):a.top<e.top&&c>e.top+(this.showOnTop?0:e.height)+b&&this.applyPosition({top:e.top+(this.showOnTop?0:e.height),bottom:"auto"})}if(a.right>d&&(this.floating?this.applyPosition({left:d-a.width}):this.applyPosition({left:-(a.right-d)})),0>a.left&&(this.floating?this.applyPosition({left:0,right:"auto"}):"auto"==this.getComputedStyleValue("right")?this.applyPosition({left:-a.left}):this.applyPosition({right:a.left})),this.scrolling&&!this.showOnTop){a=this.node.getBoundingClientRect();var f;f=this.menuUp?this.maxHeight<a.bottom?this.maxHeight:a.bottom:c>a.top+this.maxHeight?this.maxHeight:c-a.top,this.getScroller().setMaxHeight(f+"px")}}},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()},requestHide:function(){this.setShowing(!1)}}),enyo.kind({name:"onyx.MenuItem",kind:"enyo.Button",events:{onSelect:"",onItemContentChange:""},classes:"onyx-menu-item",tag:"div",create:function(){this.silence(),this.inherited(arguments),this.unsilence(),this.active&&this.bubble("onActivate")},tap:function(){this.inherited(arguments),this.bubble("onRequestHideMenu"),this.doSelect({selected:this,content:this.content})},contentChanged:function(){this.inherited(arguments),this.doItemContentChange({content:this.content})}}),enyo.kind({name:"onyx.Submenu",defaultKind:"onyx.MenuItem",initComponents:function(){this.createChrome([{name:"label",kind:"enyo.Control",classes:"onyx-menu-item",content:this.content||this.name,isChrome:!0,ontap:"toggleOpen"},{kind:"onyx.Drawer",name:"client",classes:"client onyx-submenu",isChrome:!0,open:!1}]),this.inherited(arguments)},toggleOpen:function(){this.setOpen(!this.getOpen())},setOpen:function(a){this.$.client.setOpen(a)},getOpen:function(){return this.$.client.getOpen()}}),enyo.kind({name:"onyx.PickerDecorator",kind:"onyx.MenuDecorator",classes:"onyx-picker-decorator",defaultKind:"onyx.PickerButton",handlers:{onChange:"change"},change:function(a,b){this.waterfallDown("onChange",b)}}),enyo.kind({name:"onyx.PickerButton",kind:"onyx.Button",handlers:{onChange:"change"},change:function(a,b){void 0!==b.content&&this.setContent(b.content)}}),enyo.kind({name:"onyx.Picker",kind:"onyx.Menu",classes:"onyx-picker enyo-unselectable",published:{selected:null},events:{onChange:""},handlers:{onItemContentChange:"itemContentChange"},floating:!0,showOnTop:!0,initComponents:function(){this.setScrolling(!0),this.inherited(arguments)},showingChanged:function(){this.getScroller().setShowing(this.showing),this.inherited(arguments),this.showing&&this.selected&&this.scrollToSelected()},scrollToSelected:function(){this.getScroller().scrollToControl(this.selected,!this.menuUp)},itemActivated:function(a,b){return this.processActivatedItem(b.originator),this.inherited(arguments)},processActivatedItem:function(a){a.active&&this.setSelected(a)},selectedChanged:function(a){a&&a.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content}))},itemContentChange:function(a,b){b.originator==this.selected&&this.doChange({selected:this.selected,content:this.selected.content})},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()}}),enyo.kind({name:"onyx.FlyweightPicker",kind:"onyx.Picker",classes:"onyx-flyweight-picker",published:{count:0},events:{onSetupItem:"",onSelect:""},handlers:{onSelect:"itemSelect"},components:[{name:"scroller",kind:"enyo.Scroller",strategyKind:"TouchScrollStrategy",components:[{name:"flyweight",kind:"FlyweightRepeater",noSelect:!0,ontap:"itemTap"}]}],scrollerName:"scroller",initComponents:function(){this.controlParentName="flyweight",this.inherited(arguments),this.$.flyweight.$.client.children[0].setActive(!0)},create:function(){this.inherited(arguments),this.countChanged()},rendered:function(){this.inherited(arguments),this.selectedChanged()},scrollToSelected:function(){var a=this.$.flyweight.fetchRowNode(this.selected);this.getScroller().scrollToNode(a,!this.menuUp)},countChanged:function(){this.$.flyweight.count=this.count},processActivatedItem:function(a){this.item=a},selectedChanged:function(a){if(this.item){null!=a&&(this.item.removeClass("selected"),this.$.flyweight.renderRow(a));var b;null!=this.selected&&(this.item.addClass("selected"),this.$.flyweight.renderRow(this.selected),this.item.removeClass("selected"),b=this.$.flyweight.fetchRowNode(this.selected)),this.doChange({selected:this.selected,content:b&&b.textContent||this.item.content})}},itemTap:function(a,b){this.setSelected(b.rowIndex),this.doSelect({selected:this.item,content:this.item.content})},itemSelect:function(a,b){return b.originator!=this||void 0}}),enyo.kind({name:"onyx.DatePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en-US",dayHidden:!1,monthHidden:!1,yearHidden:!1,minYear:1900,maxYear:2099,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),ilib&&(this.locale=ilib.getLocale()),this.initDefaults()},initDefaults:function(){var a;ilib?(a=[],this._tf=new ilib.DateFmt({locale:this.locale,timezone:"local"}),a=this._tf.getMonthsOfYear({length:"long"})):(a=[void 0,"JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.localeInfo.getMonthsOfYear=function(){return a}),this.setupPickers(this._tf?this._tf.getTemplate():"mdy"),this.dayHiddenChanged(),this.monthHiddenChanged(),this.yearHiddenChanged();for(var b,c=this.value=this.value||new Date,d=0;b=a[d+1];d++)this.$.monthPicker.createComponent({content:b,value:d,active:d==c.getMonth()});var e=c.getFullYear();for(this.$.yearPicker.setSelected(e-this.minYear),d=1;this.monthLength(c.getYear(),c.getMonth())>=d;d++)this.$.dayPicker.createComponent({content:d,value:d,active:d==c.getDate()})},monthLength:function(a,b){return 32-new Date(a,b,32).getDate()},setupYear:function(a,b){return this.$.year.setContent(this.minYear+b.index),!0},setupPickers:function(a){var b,c,d,e=a.split(""),f=!1,g=!1,h=!1;for(c=0,d=e.length;d>c;c++)switch(b=e[c],b.toLowerCase()){case"d":h||(this.createDay(),h=!0);break;case"m":g||(this.createMonth(),g=!0);break;case"y":f||(this.createYear(),f=!0)}},createYear:function(){var a=this.maxYear-this.minYear;this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateYear",components:[{classes:"onyx-datepicker-year",name:"yearPickerButton",disabled:this.disabled},{name:"yearPicker",kind:"onyx.FlyweightPicker",count:++a,onSetupItem:"setupYear",components:[{name:"year"}]}]})},createMonth:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMonth",components:[{classes:"onyx-datepicker-month",name:"monthPickerButton",disabled:this.disabled},{name:"monthPicker",kind:"onyx.Picker"}]})},createDay:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateDay",components:[{classes:"onyx-datepicker-day",name:"dayPickerButton",disabled:this.disabled},{name:"dayPicker",kind:"onyx.Picker"}]})},localeChanged:function(){this.refresh()},dayHiddenChanged:function(){this.$.dayPicker.getParent().setShowing(!this.dayHidden)},monthHiddenChanged:function(){this.$.monthPicker.getParent().setShowing(!this.monthHidden)},yearHiddenChanged:function(){this.$.yearPicker.getParent().setShowing(!this.yearHidden)},minYearChanged:function(){this.refresh()},maxYearChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},disabledChanged:function(){this.$.yearPickerButton.setDisabled(this.disabled),this.$.monthPickerButton.setDisabled(this.disabled),this.$.dayPickerButton.setDisabled(this.disabled)},updateDay:function(a,b){var c=this.calcDate(this.value.getFullYear(),this.value.getMonth(),b.selected.value);return this.doSelect({name:this.name,value:c}),this.setValue(c),!0},updateMonth:function(a,b){var c=this.calcDate(this.value.getFullYear(),b.selected.value,this.value.getDate());return this.doSelect({name:this.name,value:c}),this.setValue(c),!0},updateYear:function(a,b){if(-1!=b.originator.selected){var c=this.calcDate(this.minYear+b.originator.selected,this.value.getMonth(),this.value.getDate());this.doSelect({name:this.name,value:c}),this.setValue(c)}return!0},calcDate:function(a,b,c){return new Date(a,b,c,this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds())},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}}),enyo.kind({name:"onyx.TimePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en-US",is24HrMode:null,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),ilib&&(this.locale=ilib.getLocale()),this.initDefaults()},initDefaults:function(){if(this._strAm="AM",this._strPm="PM",ilib){this._tf=new ilib.DateFmt({locale:this.locale});var a=new ilib.DateFmt({locale:this.locale,type:"time",template:"a"}),b=ilib.Date.newInstance({locale:this.locale,hour:1});this._strAm=a.format(b),b.hour=13,this._strPm=a.format(b),null==this.is24HrMode&&(this.is24HrMode="24"==this._tf.getClock())}else null==this.is24HrMode&&(this.is24HrMode=!1);this.setupPickers(this._tf?this._tf.getTimeComponents():"hma");var c,d=this.value=this.value||new Date;if(this.is24HrMode)for(c=0;24>c;c++)this.$.hourPicker.createComponent({content:c,value:c,active:c==d.getHours()});else{var e=d.getHours();for(e=0===e?12:e,c=1;12>=c;c++)this.$.hourPicker.createComponent({content:c,value:c,active:c==(e>12?e%12:e)})}for(c=0;59>=c;c++)this.$.minutePicker.createComponent({content:10>c?"0"+c:c,value:c,active:c==d.getMinutes()});d.getHours()>=12?this.$.ampmPicker.createComponents([{content:this._strAm},{content:this._strPm,active:!0}]):this.$.ampmPicker.createComponents([{content:this._strAm,active:!0},{content:this._strPm}]),this.$.ampmPicker.getParent().setShowing(!this.is24HrMode)},setupPickers:function(a){-1!==a.indexOf("h")&&this.createHour(),-1!==a.indexOf("m")&&this.createMinute(),-1!==a.indexOf("a")&&this.createAmPm()},createHour:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateHour",components:[{classes:"onyx-timepicker-hour",name:"hourPickerButton",disabled:this.disabled},{name:"hourPicker",kind:"onyx.Picker"}]})},createMinute:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMinute",components:[{classes:"onyx-timepicker-minute",name:"minutePickerButton",disabled:this.disabled},{name:"minutePicker",kind:"onyx.Picker"}]})},createAmPm:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateAmPm",components:[{classes:"onyx-timepicker-ampm",name:"ampmPickerButton",disabled:this.disabled},{name:"ampmPicker",kind:"onyx.Picker"}]})},disabledChanged:function(){this.$.hourPickerButton.setDisabled(this.disabled),this.$.minutePickerButton.setDisabled(this.disabled),this.$.ampmPickerButton.setDisabled(this.disabled)},localeChanged:function(){this.is24HrMode=null,this.refresh()},is24HrModeChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},updateHour:function(a,b){var c=b.selected.value;if(!this.is24HrMode){var d=this.$.ampmPicker.getParent().controlAtIndex(0).content;c=c+(12==c?-12:0)+(this.isAm(d)?0:12)}return this.setValue(this.calcTime(c,this.value.getMinutes())),this.doSelect({name:this.name,value:this.value}),!0},updateMinute:function(a,b){return this.setValue(this.calcTime(this.value.getHours(),b.selected.value)),this.doSelect({name:this.name,value:this.value}),!0},updateAmPm:function(a,b){var c=this.value.getHours();return this.is24HrMode||(c+=c>11?this.isAm(b.content)?-12:0:this.isAm(b.content)?0:12),this.setValue(this.calcTime(c,this.value.getMinutes())),this.doSelect({name:this.name,value:this.value}),!0},calcTime:function(a,b){return new Date(this.value.getFullYear(),this.value.getMonth(),this.value.getDate(),a,b,this.value.getSeconds(),this.value.getMilliseconds())},isAm:function(a){return a==this._strAm},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}}),enyo.kind({name:"onyx.RadioButton",kind:"enyo.Button",classes:"onyx-radiobutton"}),enyo.kind({name:"onyx.RadioGroup",kind:"enyo.Group",defaultKind:"onyx.RadioButton",highlander:!0}),enyo.kind({name:"onyx.ToggleButton",classes:"onyx-toggle-button",published:{active:!1,value:!1,onContent:"On",offContent:"Off",disabled:!1},events:{onChange:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},components:[{name:"contentOn",classes:"onyx-toggle-content on"},{name:"contentOff",classes:"onyx-toggle-content off"},{classes:"onyx-toggle-button-knob"}],create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active),this.onContentChanged(),this.offContentChanged(),this.disabledChanged()},rendered:function(){this.inherited(arguments),this.updateVisualState()},updateVisualState:function(){this.addRemoveClass("off",!this.value),this.$.contentOn.setShowing(this.value),this.$.contentOff.setShowing(!this.value),this.setActive(this.value)},valueChanged:function(){this.updateVisualState(),this.doChange({value:this.value})},activeChanged:function(){this.setValue(this.active),this.bubble("onActivate")},onContentChanged:function(){this.$.contentOn.setContent(this.onContent||""),this.$.contentOn.addRemoveClass("empty",!this.onContent)},offContentChanged:function(){this.$.contentOff.setContent(this.offContent||""),this.$.contentOff.addRemoveClass("empty",!this.onContent)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},updateValue:function(a){this.disabled||this.setValue(a)},tap:function(){this.updateValue(!this.value)},dragstart:function(a,b){return b.horizontal?(b.preventDefault(),this.dragging=!0,this.dragged=!1,!0):void 0},drag:function(a,b){if(this.dragging){var c=b.dx;return Math.abs(c)>10&&(this.updateValue(c>0),this.dragged=!0),!0}},dragfinish:function(a,b){this.dragging=!1,this.dragged&&b.preventTap()}}),enyo.kind({name:"onyx.ToggleIconButton",kind:"onyx.Icon",published:{active:!1,value:!1},events:{onChange:""},classes:"onyx-icon-button onyx-icon-toggle",activeChanged:function(){this.addRemoveClass("active",this.value),this.bubble("onActivate")},updateValue:function(a){this.disabled||(this.setValue(a),this.doChange({value:this.value}))},tap:function(){this.updateValue(!this.value)},valueChanged:function(){this.setActive(this.value)},create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active)},rendered:function(){this.inherited(arguments),this.valueChanged(),this.removeClass("onyx-icon")}}),enyo.kind({name:"onyx.Toolbar",classes:"onyx onyx-toolbar onyx-toolbar-inline",create:function(){this.inherited(arguments),this.hasClass("onyx-menu-toolbar")&&enyo.platform.android>=4&&this.applyStyle("position","static")}}),enyo.kind({name:"onyx.ProgressBar",classes:"onyx-progress-bar",published:{progress:0,min:0,max:100,barClasses:"",showStripes:!0,animateStripes:!0,increment:0},events:{onAnimateProgressFinish:""},components:[{name:"progressAnimator",kind:"enyo.Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar"}],create:function(){this.inherited(arguments),this.progressChanged(),this.barClassesChanged(),this.showStripesChanged(),this.animateStripesChanged()},barClassesChanged:function(a){this.$.bar.removeClass(a),this.$.bar.addClass(this.barClasses)},showStripesChanged:function(){this.$.bar.addRemoveClass("striped",this.showStripes)},animateStripesChanged:function(){this.$.bar.addRemoveClass("animated",this.animateStripes)},progressChanged:function(){this.progress=this.clampValue(this.min,this.max,this.progress);var a=this.calcPercent(this.progress);this.updateBarPosition(a)},calcIncrement:function(a){return Math.round(a/this.increment)*this.increment},clampValue:function(a,b,c){return Math.max(a,Math.min(c,b))},calcRatio:function(a){return(a-this.min)/(this.max-this.min)},calcPercent:function(a){return 100*this.calcRatio(a)},updateBarPosition:function(a){this.$.bar.applyStyle("width",a+"%")},animateProgressTo:function(a){this.$.progressAnimator.play({startValue:this.progress,endValue:a,node:this.hasNode()})},progressAnimatorStep:function(a){return this.setProgress(a.value),!0},progressAnimatorComplete:function(a){return this.doAnimateProgressFinish(a),!0}}),enyo.kind({name:"onyx.ProgressButton",kind:"onyx.ProgressBar",classes:"onyx-progress-button",events:{onCancel:""},components:[{name:"progressAnimator",kind:"enyo.Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar onyx-progress-button-bar"},{name:"client",classes:"onyx-progress-button-client"},{kind:"onyx.Icon",src:"$lib/onyx/images/progress-button-cancel.png",classes:"onyx-progress-button-icon",ontap:"cancelTap"}],cancelTap:function(){this.doCancel()}}),enyo.kind({name:"onyx.Scrim",showing:!1,classes:"onyx-scrim enyo-fit",floating:!1,create:function(){this.inherited(arguments),this.zStack=[],this.floating&&this.setParent(enyo.floatingLayer)},showingChanged:function(){this.floating&&this.showing&&!this.hasNode()&&this.render(),this.inherited(arguments)},addZIndex:function(a){0>enyo.indexOf(a,this.zStack)&&this.zStack.push(a)},removeZIndex:function(a){enyo.remove(a,this.zStack)},showAtZIndex:function(a){this.addZIndex(a),void 0!==a&&this.setZIndex(a),this.show()},hideAtZIndex:function(a){if(this.removeZIndex(a),this.zStack.length){var b=this.zStack[this.zStack.length-1];this.setZIndex(b)}else this.hide()},setZIndex:function(a){this.zIndex=a,this.applyStyle("z-index",a)},make:function(){return this}}),enyo.kind({name:"onyx.scrimSingleton",kind:null,constructor:function(a,b){this.instanceName=a,enyo.setPath(this.instanceName,this),this.props=b||{}},make:function(){var a=new onyx.Scrim(this.props);return enyo.setPath(this.instanceName,a),a},showAtZIndex:function(a){this.make().showAtZIndex(a)},hideAtZIndex:enyo.nop,show:function(){this.make().show()}}),new onyx.scrimSingleton("onyx.scrim",{floating:!0,classes:"onyx-scrim-translucent"}),new onyx.scrimSingleton("onyx.scrimTransparent",{floating:!0,classes:"onyx-scrim-transparent"}),enyo.kind({name:"onyx.Slider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{value:0,lockBar:!0,tappable:!0},events:{onChange:"",onChanging:"",onAnimateFinish:""},showStripes:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},moreComponents:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"},{classes:"onyx-slider-taparea"},{name:"knob",classes:"onyx-slider-knob"}],create:function(){this.inherited(arguments),this.moreComponents[2].ondown="knobDown",this.moreComponents[2].onup="knobUp",this.createComponents(this.moreComponents),this.valueChanged()},valueChanged:function(){this.value=this.clampValue(this.min,this.max,this.value);var a=this.calcPercent(this.value);this.updateKnobPosition(a),this.lockBar&&this.setProgress(this.value)},updateKnobPosition:function(a){this.$.knob.applyStyle("left",a+"%")},calcKnobPosition:function(a){return(a.clientX-this.hasNode().getBoundingClientRect().left)/this.getBounds().width*(this.max-this.min)+this.min},dragstart:function(a,b){return b.horizontal?(b.preventDefault(),this.dragging=!0,a.addClass("pressed"),!0):void 0},drag:function(a,b){if(this.dragging){var c=this.calcKnobPosition(b);return c=this.increment?this.calcIncrement(c):c,this.setValue(c),this.doChanging({value:this.value}),!0}},dragfinish:function(a,b){return this.dragging=!1,b.preventTap(),this.doChange({value:this.value}),a.removeClass("pressed"),!0},tap:function(a,b){if(this.tappable){var c=this.calcKnobPosition(b);return c=this.increment?this.calcIncrement(c):c,this.tapped=!0,this.animateTo(c),!0}},knobDown:function(){this.$.knob.addClass("pressed")},knobUp:function(){this.$.knob.removeClass("pressed")},animateTo:function(a){this.$.animator.play({startValue:this.value,endValue:a,node:this.hasNode()})},animatorStep:function(a){return this.setValue(a.value),!0},animatorComplete:function(a){return this.tapped&&(this.tapped=!1,this.doChange({value:this.value})),this.doAnimateFinish(a),!0}}),enyo.kind({name:"onyx.RangeSlider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{rangeMin:0,rangeMax:100,rangeStart:0,rangeEnd:100,beginValue:0,endValue:0},events:{onChange:"",onChanging:""},showStripes:!1,showLabels:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",ondown:"down"},moreComponents:[{name:"startKnob",classes:"onyx-slider-knob"},{name:"endKnob",classes:"onyx-slider-knob onyx-range-slider-knob"}],create:function(){this.inherited(arguments),this.createComponents(this.moreComponents),this.initControls()},rendered:function(){this.inherited(arguments);var a=this.calcPercent(this.beginValue);this.updateBarPosition(a)},initControls:function(){this.$.bar.applyStyle("position","relative"),this.refreshRangeSlider(),this.showLabels&&(this.$.startKnob.createComponent({name:"startLabel",kind:"onyx.RangeSliderKnobLabel"}),this.$.endKnob.createComponent({name:"endLabel",kind:"onyx.RangeSliderKnobLabel"})),this.$.startKnob.ondown="knobDown",this.$.startKnob.onup="knobUp",this.$.endKnob.ondown="knobDown",this.$.endKnob.onup="knobUp"},refreshRangeSlider:function(){this.beginValue=this.calcKnobPercent(this.rangeStart),this.endValue=this.calcKnobPercent(this.rangeEnd),this.beginValueChanged(),this.endValueChanged()},calcKnobRatio:function(a){return(a-this.rangeMin)/(this.rangeMax-this.rangeMin)},calcKnobPercent:function(a){return 100*this.calcKnobRatio(a)},beginValueChanged:function(a){if(void 0===a){var b=this.calcPercent(this.beginValue);this.updateKnobPosition(b,this.$.startKnob)}},endValueChanged:function(a){if(void 0===a){var b=this.calcPercent(this.endValue);this.updateKnobPosition(b,this.$.endKnob)}},calcKnobPosition:function(a){return(a.clientX-this.hasNode().getBoundingClientRect().left)/this.getBounds().width*(this.max-this.min)+this.min},updateKnobPosition:function(a,b){b.applyStyle("left",a+"%"),this.updateBarPosition()},updateBarPosition:function(){if(void 0!==this.$.startKnob&&void 0!==this.$.endKnob){var a=this.calcKnobPercent(this.rangeStart),b=this.calcKnobPercent(this.rangeEnd)-a;this.$.bar.applyStyle("left",a+"%"),this.$.bar.applyStyle("width",b+"%")}},calcRangeRatio:function(a){return a/100*(this.rangeMax-this.rangeMin)+this.rangeMin-this.increment/2},swapZIndex:function(a){"startKnob"===a?(this.$.startKnob.applyStyle("z-index",1),this.$.endKnob.applyStyle("z-index",0)):"endKnob"===a&&(this.$.startKnob.applyStyle("z-index",0),this.$.endKnob.applyStyle("z-index",1))},down:function(a){this.swapZIndex(a.name)},dragstart:function(a,b){return b.horizontal?(b.preventDefault(),this.dragging=!0,a.addClass("pressed"),!0):void 0},drag:function(a,b){if(this.dragging){var c,d,e,f=this.calcKnobPosition(b);if("startKnob"===a.name&&f>=0){if(!(this.endValue>=f&&-1===b.xDirection||this.endValue>=f))return this.drag(this.$.endKnob,b);this.setBeginValue(f),c=this.calcRangeRatio(this.beginValue),d=this.increment?this.calcIncrement(c+.5*this.increment):c,e=this.calcKnobPercent(d),this.updateKnobPosition(e,this.$.startKnob),this.setRangeStart(d),this.doChanging({value:d})}else if("endKnob"===a.name&&100>=f){if(!(f>=this.beginValue&&1===b.xDirection||f>=this.beginValue))return this.drag(this.$.startKnob,b);this.setEndValue(f),c=this.calcRangeRatio(this.endValue),d=this.increment?this.calcIncrement(c+.5*this.increment):c,e=this.calcKnobPercent(d),this.updateKnobPosition(e,this.$.endKnob),this.setRangeEnd(d),this.doChanging({value:d})}return!0}},dragfinish:function(a,b){this.dragging=!1,b.preventTap();var c;return"startKnob"===a.name?(c=this.calcRangeRatio(this.beginValue),this.doChange({value:c,startChanged:!0})):"endKnob"===a.name&&(c=this.calcRangeRatio(this.endValue),this.doChange({value:c,startChanged:!1})),a.removeClass("pressed"),!0},knobDown:function(a){a.addClass("pressed")},knobUp:function(a){a.removeClass("pressed")},rangeMinChanged:function(){this.refreshRangeSlider()},rangeMaxChanged:function(){this.refreshRangeSlider()},rangeStartChanged:function(){this.refreshRangeSlider()},rangeEndChanged:function(){this.refreshRangeSlider()},setStartLabel:function(a){this.$.startKnob.waterfallDown("onSetLabel",a)},setEndLabel:function(a){this.$.endKnob.waterfallDown("onSetLabel",a)}}),enyo.kind({name:"onyx.RangeSliderKnobLabel",classes:"onyx-range-slider-label",handlers:{onSetLabel:"setLabel"},setLabel:function(a,b){this.setContent(b)}}),enyo.kind({name:"onyx.Item",classes:"onyx-item",tapHighlight:!0,handlers:{onhold:"hold",onrelease:"release"},hold:function(a,b){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!0,b)},release:function(a,b){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!1,b)},statics:{addRemoveFlyweightClass:function(a,b,c,d,e){var f=d.flyweight;if(f){var g=void 0!==e?e:d.index;f.performOnRow(g,function(){a.addRemoveClass(b,c)})}}}}),enyo.kind({name:"onyx.Spinner",classes:"onyx-spinner",stop:function(){this.setShowing(!1)},start:function(){this.setShowing(!0)},toggle:function(){this.setShowing(!this.getShowing())}}),enyo.kind({name:"onyx.MoreToolbar",classes:"onyx-toolbar onyx-more-toolbar",menuClass:"",movedClass:"",layoutKind:"FittableColumnsLayout",noStretch:!0,handlers:{onHide:"reflow"},published:{clientLayoutKind:"FittableColumnsLayout"},tools:[{name:"client",noStretch:!0,fit:!0,classes:"onyx-toolbar-inline"},{name:"nard",kind:"onyx.MenuDecorator",showing:!1,onActivate:"activated",components:[{kind:"onyx.IconButton",classes:"onyx-more-button"},{name:"menu",kind:"onyx.Menu",scrolling:!1,classes:"onyx-more-menu"}]}],initComponents:function(){this.menuClass&&this.menuClass.length>0&&!this.$.menu.hasClass(this.menuClass)&&this.$.menu.addClass(this.menuClass),this.createChrome(this.tools),this.inherited(arguments),this.$.client.setLayoutKind(this.clientLayoutKind)},clientLayoutKindChanged:function(){this.$.client.setLayoutKind(this.clientLayoutKind)},reflow:function(){this.inherited(arguments),this.isContentOverflowing()?(this.$.nard.show(),this.popItem()&&this.reflow()):this.tryPushItem()?this.reflow():this.$.menu.children.length||(this.$.nard.hide(),this.$.menu.hide())},activated:function(a,b){this.addRemoveClass("active",b.originator.active)},popItem:function(){var a=this.findCollapsibleItem();if(a){this.movedClass&&this.movedClass.length>0&&!a.hasClass(this.movedClass)&&a.addClass(this.movedClass),this.$.menu.addChild(a,null);var b=this.$.menu.hasNode();return b&&a.hasNode()&&a.insertNodeInParent(b),!0}},pushItem:function(){var a=this.$.menu.children,b=a[0];if(b){this.movedClass&&this.movedClass.length>0&&b.hasClass(this.movedClass)&&b.removeClass(this.movedClass),this.$.client.addChild(b);var c=this.$.client.hasNode();if(c&&b.hasNode()){for(var d,e,f=0;this.$.client.children.length>f;f++){var g=this.$.client.children[f];if(void 0!==g.toolbarIndex&&g.toolbarIndex!=f){d=g,e=f;break}}if(d&&d.hasNode()){b.insertNodeInParent(c,d.node);var h=this.$.client.children.pop();this.$.client.children.splice(e,0,h)}else b.appendNodeToParent(c)}return!0}},tryPushItem:function(){if(this.pushItem()){if(!this.isContentOverflowing())return!0;this.popItem()}},isContentOverflowing:function(){if(this.$.client.hasNode()){var a=this.$.client.children,b=a.length&&a[a.length-1].hasNode();if(b)return this.$.client.reflow(),b.offsetLeft+b.offsetWidth>this.$.client.node.clientWidth}},findCollapsibleItem:function(){for(var a,b=this.$.client.children,c=b.length-1;a=b[c];c--){if(!a.unmoveable)return a;void 0===a.toolbarIndex&&(a.toolbarIndex=c)}}}),enyo.kind({name:"onyx.IntegerPicker",kind:"onyx.Picker",published:{value:0,min:0,max:9},create:function(){this.inherited(arguments),this.rangeChanged()},minChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},maxChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},rangeChanged:function(){for(var a=this.min;this.max>=a;a++)this.createComponent({content:a,active:a===this.value})},valueChanged:function(){var a=this.getClientControls(),b=a.length;this.value=Math.min(this.max,Math.max(this.value,this.min));for(var c=0;b>c;c++)if(this.value===parseInt(a[c].content,10)){this.setSelected(a[c]);break}},selectedChanged:function(a){a&&a.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content})),this.setValue(parseInt(this.selected.content,10))}}),enyo.kind({name:"onyx.ContextualPopup",kind:"enyo.Popup",modal:!0,autoDismiss:!0,floating:!1,classes:"onyx-contextual-popup enyo-unselectable",published:{maxHeight:100,scrolling:!0,title:void 0,actionButtons:[]},statics:{subclass:function(a,b){var c=a.prototype;b.actionButtons&&(c.kindActionButtons=b.actionButtons,delete c.actionButtons)}},vertFlushMargin:60,horizFlushMargin:50,widePopup:200,longPopup:200,horizBuffer:16,events:{onTap:""},handlers:{onActivate:"childControlActivated",onRequestShowMenu:"requestShow",onRequestHideMenu:"requestHide"},components:[{name:"title",classes:"onyx-contextual-popup-title"},{classes:"onyx-contextual-popup-scroller",components:[{name:"client",kind:"enyo.Scroller",vertical:"auto",classes:"enyo-unselectable",thumb:!1,strategyKind:"TouchScrollStrategy"}]},{name:"actionButtons",classes:"onyx-contextual-popup-action-buttons"}],scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged(),this.titleChanged(),this.actionButtonsChanged()},getScroller:function(){return this.$[this.scrollerName]},titleChanged:function(){this.$.title.setContent(this.title)},actionButtonsChanged:function(){this.actionButtons?enyo.forEach(this.actionButtons,function(a){a.kind="onyx.Button",a.classes=a.classes+" onyx-contextual-popup-action-button",a.popup=this,a.actionButton=!0,this.$.actionButtons.createComponent(a,{owner:this.getInstanceOwner()})},this):this.kindActionButtons&&enyo.forEach(this.kindActionButtons,function(a){a.kind="onyx.Button",a.classes=a.classes+" onyx-contextual-popup-action-button",a.popup=this,a.actionButton=!0,this.$.actionButtons.createComponent(a,{owner:this})},this),this.hasNode()&&this.$.actionButtons.render()},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},showingChanged:function(){this.inherited(arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition()},childControlActivated:function(){return!0},requestShow:function(a,b){var c=b.activator.hasNode();return c&&(this.activatorOffset=this.getPageOffset(c)),this.show(),!0},applyPosition:function(a){var b="";for(var c in a)b+=c+":"+a[c]+(isNaN(a[c])?"; ":"px; ");this.addStyles(b)},getPageOffset:function(a){var b=this.getBoundingRect(a),c=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,d=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,e=void 0===b.height?b.bottom-b.top:b.height,f=void 0===b.width?b.right-b.left:b.width;return{top:b.top+c,left:b.left+d,height:e,width:f}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.resetPositioning();var a=this.getViewWidth(),b=this.getViewHeight(),c=this.vertFlushMargin,d=b-this.vertFlushMargin,e=this.horizFlushMargin,f=a-this.horizFlushMargin;if(c>this.activatorOffset.top+this.activatorOffset.height||this.activatorOffset.top>d){if(this.applyVerticalFlushPositioning(e,f))return;if(this.applyHorizontalFlushPositioning(e,f))return;if(this.applyVerticalPositioning())return}else if((e>this.activatorOffset.left+this.activatorOffset.width||this.activatorOffset.left>f)&&this.applyHorizontalPositioning())return;var g=this.getBoundingRect(this.node);if(g.width>this.widePopup){if(this.applyVerticalPositioning())return}else if(g.height>this.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.addClass("vertical");var a=this.getBoundingRect(this.node),b=this.getViewHeight();return this.floating?b/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height,bottom:"auto"}),this.addClass("below")):(this.applyPosition({top:this.activatorOffset.top-a.height,bottom:"auto"}),this.addClass("above")):a.top+a.height>b&&b-a.bottom<a.top-a.height?this.addClass("above"):this.addClass("below"),a=this.getBoundingRect(this.node),!(a.top+a.height>b||0>a.top)},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var a=this.getBoundingRect(this.node),b=this.getViewWidth();if(this.floating){var c=this.activatorOffset.left+this.activatorOffset.width/2-a.width/2;c+a.width>b?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-a.width}),this.addClass("left")):0>c?(this.applyPosition({left:this.activatorOffset.left}),this.addClass("right")):this.applyPosition({left:c})}else{var d=this.activatorOffset.left+this.activatorOffset.width/2-a.left-a.width/2;a.right+d>b?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-a.right}),this.addRemoveClass("left",!0)):0>a.left+d?this.addRemoveClass("right",!0):this.applyPosition({left:d})}return!0},applyVerticalFlushPositioning:function(a,b){if(!this.initVerticalPositioning())return!1;var c=this.getBoundingRect(this.node),d=this.getViewWidth();return a>this.activatorOffset.left+this.activatorOffset.width/2?(this.activatorOffset.left+this.activatorOffset.width/2<this.horizBuffer?this.applyPosition({left:this.horizBuffer+(this.floating?0:-c.left)}):this.applyPosition({left:this.activatorOffset.width/2+(this.floating?this.activatorOffset.left:0)}),this.addClass("right"),this.addClass("corner"),!0):this.activatorOffset.left+this.activatorOffset.width/2>b&&(this.activatorOffset.left+this.activatorOffset.width/2>d-this.horizBuffer?this.applyPosition({left:d-this.horizBuffer-c.right}):this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width/2-c.right}),this.addClass("left"),this.addClass("corner"),!0)},initHorizontalPositioning:function(){this.resetPositioning();var a=this.getBoundingRect(this.node),b=this.getViewWidth();return this.floating?b/2>this.activatorOffset.left+this.activatorOffset.width?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width}),this.addRemoveClass("left",!0)):(this.applyPosition({left:this.activatorOffset.left-a.width}),this.addRemoveClass("right",!0)):this.activatorOffset.left-a.width>0?(this.applyPosition({left:this.activatorOffset.left-a.left-a.width}),this.addRemoveClass("right",!0)):(this.applyPosition({left:this.activatorOffset.width}),this.addRemoveClass("left",!0)),this.addRemoveClass("horizontal",!0),a=this.getBoundingRect(this.node),!(0>a.left||a.left+a.width>b)},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var a=this.getBoundingRect(this.node),b=this.getViewHeight(),c=this.activatorOffset.top+this.activatorOffset.height/2;return this.floating?c>=b/2-.05*b&&b/2+.05*b>=c?this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-a.height/2,bottom:"auto"}):b/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:this.activatorOffset.top-this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top-a.height+2*this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("low",!0)):c>=b/2-.05*b&&b/2+.05*b>=c?this.applyPosition({top:(this.activatorOffset.height-a.height)/2}):b/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:-this.activatorOffset.height}),this.addRemoveClass("high",!0)):(this.applyPosition({top:a.top-a.height-this.activatorOffset.top+this.activatorOffset.height}),this.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(a,b){if(!this.initHorizontalPositioning())return!1;var c=this.getBoundingRect(this.node),d=this.getViewHeight();return this.floating?d/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-c.height}),this.addRemoveClass("low",!0)):c.top+c.height>d&&d-c.bottom<c.top-c.height?(this.applyPosition({top:c.top-c.height-this.activatorOffset.top-this.activatorOffset.height/2}),this.addRemoveClass("low",!0)):(this.applyPosition({top:this.activatorOffset.height/2}),this.addRemoveClass("high",!0)),a>this.activatorOffset.left+this.activatorOffset.width?(this.addClass("left"),this.addClass("corner"),!0):this.activatorOffset.left>b&&(this.addClass("right"),this.addClass("corner"),!0)},getBoundingRect:function(a){var b=a.getBoundingClientRect();return b.width&&b.height?b:{left:b.left,right:b.right,top:b.top,bottom:b.bottom,width:b.right-b.left,height:b.bottom-b.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},resetPositioning:function(){this.removeClass("right"),this.removeClass("left"),this.removeClass("high"),this.removeClass("low"),this.removeClass("corner"),this.removeClass("below"),this.removeClass("above"),this.removeClass("vertical"),this.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()},requestHide:function(){this.setShowing(!1)}});