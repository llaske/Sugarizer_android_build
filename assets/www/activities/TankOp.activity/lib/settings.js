define(["webL10n","sugar-web/env"],(function(e,t){var a={};return a.l10n=e,a.load=function(e){t.getEnvironment((function(t,n){var r="undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime?chrome.i18n.getUILanguage():navigator.language,o=n.user?n.user.language:r;a.language=o,a.l10n.language.code=o,e()})),document.getElementById("stop-button").addEventListener("click",(function(e){sound.pause()}))},a.getState=function(){for(var e=[],t=0;t<this.levels.length;t++)e.push(this.levels[t].completed);return e},a.setState=function(e){if(null==e||e.length!=this.levels.length)return!1;for(var t=0;t<this.levels.length;t++)this.levels[t].completed=e[t];return!0},a.gameMap=function(e){var t=constant.boardWidth,a=constant.boardHeight;return"grass"==e?"---HOH-----H-------H------------------------------------------------------------------H--------H---------------------------------H-H---":"trees"==e?"------H--HHHH^-----H--H----HH-------H---H-------------------------------------H------------------HH-----------H--H---H-----HHH---HH--H-":"mountain"==e?"---HHH^^^HHH-------HHH^^HH--H-------H-HH--------H------------------O------------------H--------H-H------------HHH^H-H-------HHH^^^HHH--":new Array(t*a).join("-")},a.typeNumber=function(){var e=Math.floor(11*Math.random());return{tag:""+e,result:e}},a.generateFunctionAddFromTo=function(e,t){var a=t-e+1;return function(){var t=e+Math.floor(Math.random()*a),n=e+Math.floor(Math.random()*a);return{tag:t+"+"+n,result:t+n}}},a.missingNumbers=function(){var e=Math.floor(11*Math.random()),t=Math.floor(11*Math.random());return{tag:e+"+?="+(e+t),result:t}},a.generateFunctionSubstractFromTo=function(e,t,a){var n=t-e+1;return function(){var t=e+Math.floor(Math.random()*n),r=e+Math.floor(Math.random()*n);if(!a&&Math.abs(r)>Math.abs(t)){var o=t;t=r,r=o}return{tag:t+"-"+r,result:t-r}}},a.additionSubtraction=function(){var e=Math.floor(21*Math.random()),t=Math.floor(11*Math.random());if(0==Math.floor(2*Math.random()))return{tag:e+"+"+t,result:e+t};if(Math.abs(t)>Math.abs(e)){var a=e;e=t,t=a}return{tag:e+"-"+t,result:e-t}},a.levels=[{id:"Type",name:"Type",map:"mountain",defense:[4,0,4,0,0],attack:22,stats:[10,10,0,9,10],generator:a.typeNumber,completed:!1},{id:"ADD3",name:"ADD3",map:"trees",defense:[4,2,2,0,0],attack:20,stats:[10,0,8,10,10],generator:a.generateFunctionAddFromTo(1,3),completed:!1},{id:"ADD5",name:"ADD5",map:"grass",defense:[4,3,1,0,0],attack:30,stats:[10,0,8,10,9],generator:a.generateFunctionAddFromTo(0,5),completed:!1},{id:"SUM10",name:"SUM10",map:"mountain",defense:[4,0,4,0,0],attack:30,stats:[10,10,0,8,9],generator:a.generateFunctionAddFromTo(0,10),completed:!1},{id:"SUM15",name:"SUM15",map:"trees",defense:[4,2,2,0,0],attack:30,stats:[10,0,7,10,10],generator:a.generateFunctionAddFromTo(0,15),completed:!1},{id:"SUM20",name:"SUM20",map:"grass",defense:[4,3,1,0,0],attack:40,stats:[10,0,7,10,9],generator:a.generateFunctionAddFromTo(0,20),completed:!1},{id:"TDN",name:"TDN",map:"mountain",defense:[4,4,4,0,0],attack:40,stats:[10,0,1,8,9],generator:a.generateFunctionAddFromTo(10,20),completed:!1},{id:"Missing",name:"Missing",map:"trees",defense:[4,2,2,0,0],attack:40,stats:[10,0,7,10,10],generator:a.missingNumbers,completed:!1},{id:"S010",name:"S010",map:"grass",defense:[4,0,4,0,0],attack:40,stats:[10,10,0,9,10],generator:a.generateFunctionSubstractFromTo(0,10,!1),completed:!1},{id:"S020",name:"S020",map:"trees",defense:[4,2,2,0,0],attack:20,stats:[10,0,8,10,10],generator:a.generateFunctionSubstractFromTo(0,20,!1),completed:!1},{id:"STW",name:"STW",map:"mountain",defense:[4,4,4,0,0],attack:30,stats:[10,0,1,8,9],generator:a.generateFunctionSubstractFromTo(10,30,!1),completed:!1},{id:"AAS",name:"AAS",map:"trees",defense:[4,2,2,0,0],attack:40,stats:[10,0,7,10,10],generator:a.additionSubtraction,completed:!1}],a}));