/*! Sugarizer 2020-03-14 */
define(["sugar-web/activity/activity","sugar-web/datastore","tutorial","sugar-web/env","webL10n"],function(a,b,c,d,e){Abcd||(Abcd={}),Abcd.activity=a,Abcd.datastore=b,app=null,requirejs(["domReady!"],function(a){Abcd.activity.setup(),d.getEnvironment(function(a,b){currentenv=b;var c="undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime?chrome.i18n.getUILanguage():navigator.language,d=b.user?b.user.language:c;e.language.code=d,"fr"!=d&&"en"!=d&&"es"!=d||(Abcd.context.lang=d)}),Abcd.sound=new Abcd.Audio,Abcd.sound.renderInto(document.getElementById("header")),Abcd.loadDatabase(function(a){Abcd.initL10n(),app=(new Abcd.App).renderInto(document.getElementById("body")),Abcd.loadContext(function(){app.restartLastGame()})}),document.getElementById("stop-button").addEventListener("click",function(a){Abcd.sound.pause()}),document.getElementById("help-button").addEventListener("click",function(a){c.start()}),document.getElementById("fullscreen-button").addEventListener("click",function(){document.getElementById("main-toolbar").style.visibility="hidden",document.getElementById("canvas").style.top="0px",document.getElementById("unfullscreen-button").style.visibility="visible",Abcd.hideLang(),Abcd.hideCase()}),document.getElementById("unfullscreen-button").addEventListener("click",function(){document.getElementById("main-toolbar").style.visibility="visible",document.getElementById("canvas").style.top="55px",document.getElementById("unfullscreen-button").style.visibility="hidden",Abcd.showLang(),Abcd.showCase()})})});