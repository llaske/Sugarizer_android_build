/*! Sugarizer 2019-09-21 */
define(["sugar-web/graphics/palette"],function(a){"use strict";var b={};b.FilterPalette=function(b,c,d){a.Palette.call(this,b,c),this.filterEvent=document.createEvent("CustomEvent"),this.filterEvent.initCustomEvent("filter",!0,!0,{}),this.remoteEvent=document.createEvent("CustomEvent"),this.remoteEvent.initCustomEvent("remote",!0,!0,{});var e=this;e.categories=[],e.buttons=[],this.setCategories=function(a){this.categories=a,this.buttons=[];for(var b=document.createElement("div"),c=0;c<a.length;c++){var d=document.createElement("button");d.className="toolbutton palette-button palette-button-notselected filter-item",d.setAttribute("id",a[c].id),d.setAttribute("title",a[c].title),d.innerHTML=a[c].title;a[c].id;d.onclick=function(){e.setFilter(this.id)},this.buttons.push(d),b.appendChild(d)}this.setContent([b])},this.setFilter=function(a){for(var b=this.getFilter(),c=0!=b.length&&b==a,d=-1,f=0;f<this.categories.length;f++)if(this.categories[f].id==a){d=f;break}if(-1!=d){for(var f=0;f<this.buttons.length;f++)this.buttons[f].className="toolbutton palette-button palette-button-notselected filter-item";if(c)return void this.getPalette().dispatchEvent(this.filterEvent);this.buttons[d].className="toolbutton palette-button palette-button-selected filter-item",e.getPalette().dispatchEvent(e.filterEvent)}}};var c=function(a,b,c){return this.getPalette().addEventListener(a,b,c)};return b.FilterPalette.prototype=Object.create(a.Palette.prototype,{addEventListener:{value:c,enumerable:!0,configurable:!0,writable:!0}}),b.FilterPalette.prototype.setCategories=function(a){this.setCategories(a)},b.FilterPalette.prototype.setFilter=function(a){this.setFilter(a)},b.FilterPalette.prototype.getFilter=function(){for(var a=0;a<this.buttons.length;a++)if("toolbutton palette-button palette-button-selected filter-item"==this.buttons[a].className)return this.categories[a].id;return""},b});