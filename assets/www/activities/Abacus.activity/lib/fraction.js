/**
 * @license Fraction.js v3.3.1 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(n){"use strict";var t={s:1,n:0,d:1};function assign(n,t){return isNaN(n=parseInt(n,10))&&throwInvalidParam(),n*t}function throwInvalidParam(){throw"Invalid Param"}var parse=function(n,i){var s,r=0,a=1,o=1,h=0,e=0,c=0,u=1,d=1,f=0,w=1,N=1,l=1,F=1e7;if(null==n);else if(void 0!==i)o=(r=n)*(a=i);else switch(typeof n){case"object":"d"in n&&"n"in n?(r=n.n,a=n.d,"s"in n&&(r*=n.s)):0 in n?(r=n[0],1 in n&&(a=n[1])):throwInvalidParam(),o=r*a;break;case"number":if(n<0&&(o=n,n=-n),n%1==0)r=n;else if(n>0){for(n>=1&&(n/=d=Math.pow(10,Math.floor(1+Math.log(n)/Math.LN10)));w<=F&&l<=F;){if(n===(s=(f+N)/(w+l))){w+l<=F?(r=f+N,a=w+l):l>w?(r=N,a=l):(r=f,a=w);break}n>s?(f+=N,w+=l):(N+=f,l+=w),w>F?(r=N,a=l):(r=f,a=w)}r*=d}else(isNaN(n)||isNaN(i))&&(a=r=NaN);break;case"string":if("-"===(w=n.match(/\d+|./g))[f]?(o=-1,f++):"+"===w[f]&&f++,w.length===f+1?e=assign(w[f++],o):"."===w[f+1]||"."===w[f]?("."!==w[f]&&(h=assign(w[f++],o)),(++f+1===w.length||"("===w[f+1]&&")"===w[f+3]||"'"===w[f+1]&&"'"===w[f+3])&&(e=assign(w[f],o),u=Math.pow(10,w[f].length),f++),("("===w[f]&&")"===w[f+2]||"'"===w[f]&&"'"===w[f+2])&&(c=assign(w[f+1],o),d=Math.pow(10,w[f+1].length)-1,f+=3)):"/"===w[f+1]||":"===w[f+1]?(e=assign(w[f],o),u=assign(w[f+2],1),f+=3):"/"===w[f+3]&&" "===w[f+1]&&(h=assign(w[f],o),e=assign(w[f+2],o),u=assign(w[f+4],1),f+=5),w.length<=f){o=r=c+(a=u*d)*h+d*e;break}default:throwInvalidParam()}if(0===a)throw"DIV/0";t.s=o<0?-1:1,t.n=Math.abs(r),t.d=Math.abs(a)},gcd=function(n,t){if(!n)return t;if(!t)return n;for(;;){if(!(n%=t))return t;if(!(t%=n))return n}};function Fraction(n,i){if(!(this instanceof Fraction))return new Fraction(n,i);parse(n,i),n=Fraction.REDUCE?gcd(t.d,t.n):1,this.s=t.s,this.n=t.n/n,this.d=t.d/n}Fraction.REDUCE=1,Fraction.prototype={s:1,n:0,d:1,abs:function(){return new Fraction(this.n,this.d)},neg:function(){return new Fraction(-this.s*this.n,this.d)},add:function(n,i){return parse(n,i),new Fraction(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(n,i){return parse(n,i),new Fraction(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(n,i){return parse(n,i),new Fraction(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(n,i){return parse(n,i),new Fraction(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return new Fraction(this)},mod:function(n,i){return isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):void 0===n?new Fraction(this.s*this.n%this.d,1):(parse(n,i),0===t.n&&0===this.d&&Fraction(0,0),new Fraction(this.s*t.d*this.n%(t.n*this.d),t.d*this.d))},gcd:function(n,i){return parse(n,i),new Fraction(gcd(t.n,this.n),t.d*this.d/gcd(t.d,this.d))},lcm:function(n,i){return parse(n,i),0===t.n&&0===this.n?new Fraction:new Fraction(t.n*this.n/gcd(t.n,this.n),gcd(t.d,this.d))},ceil:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):new Fraction(Math.ceil(n*this.s*this.n/this.d),n)},floor:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):new Fraction(Math.floor(n*this.s*this.n/this.d),n)},round:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):new Fraction(Math.round(n*this.s*this.n/this.d),n)},inverse:function(){return new Fraction(this.s*this.d,this.n)},pow:function(n){return n<0?new Fraction(Math.pow(this.s*this.d,-n),Math.pow(this.n,-n)):new Fraction(Math.pow(this.s*this.n,n),Math.pow(this.d,n))},equals:function(n,i){return parse(n,i),this.s*this.n*t.d==t.s*t.n*this.d},compare:function(n,i){parse(n,i);var s=this.s*this.n*t.d-t.s*t.n*this.d;return(0<s)-(s<0)},divisible:function(n,i){return parse(n,i),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(n){var t,i="",s=this.n,r=this.d;return this.s<0&&(i+="-"),1===r?i+=s:(n&&(t=Math.floor(s/r))>0&&(i+=t,i+=" ",s%=r),i+=s,i+="/",i+=r),i},toLatex:function(n){var t,i="",s=this.n,r=this.d;return this.s<0&&(i+="-"),1===r?i+=s:(n&&(t=Math.floor(s/r))>0&&(i+=t,s%=r),i+="\\frac{",i+=s,i+="}{",i+=r,i+="}"),i},toContinued:function(){var n,t=this.n,i=this.d,s=[];do{s.push(Math.floor(t/i)),n=t%i,t=i,i=n}while(1!==t);return s},toString:function(){var n,t=this.n,i=this.d;if(isNaN(t)||isNaN(i))return"NaN";Fraction.REDUCE||(t/=n=gcd(t,i),i/=n);for(var s=String(t).split(""),r=0,a=[~this.s?"":"-","",""],o="",h=function(n,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var i=10%t,s=1;1!==i;s++)if(i=10*i%t,s>2e3)return 0;return s}(0,i),e=function(n,t,i){for(var s=1,r=function(n,t,i){for(var s=1;t>0;n=n*n%i,t>>=1)1&t&&(s=s*n%i);return s}(10,i,t),a=0;a<300;a++){if(s===r)return a;s=10*s%t,r=10*r%t}return 0}(0,i,h),c=-1,u=1,d=15+h+e+s.length,f=0;f<d;f++,r*=10){if(f<s.length?r+=Number(s[f]):(u=2,c++),h>0)if(c===e)a[u]+=o+"(",o="";else if(c===h+e){a[u]+=o+")";break}r>=i?(a[u]+=o+(r/i|0),o="",r%=i):u>1?o+="0":a[u]&&(a[u]+="0")}return a[0]+=a[1]||"0",a[2]?a[0]+"."+a[2]:a[0]}},"function"==typeof define&&define.amd?define([],(function(){return Fraction})):"object"==typeof exports?module.exports=Fraction:n.Fraction=Fraction}(this);