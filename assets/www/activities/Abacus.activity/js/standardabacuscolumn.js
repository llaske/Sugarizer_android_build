/*! Sugarizer 2020-03-14 */
function StandardAbacusColumn(a,b,c,d,e,f,g,h,i,j,k,l,m){void 0===l&&(l=!0),void 0===m&&(m=!1),this.elements=[],this.colWidthScale=8/33,this.blockcols=h,this.value=j,this.drawColumn=function(){var d=this.colWidthScale*i.blockWidth,e=c-b,f=new createjs.Shape;f.graphics.beginFill(this.blockcols[0]).drawRect(d/2*-1,0,d,e),f.graphics.beginStroke(this.blockcols[1]),f.graphics.setStrokeStyle(d/8),f.graphics.moveTo(d/2*-1,0),f.graphics.lineTo(d/2*-1,e),f.graphics.moveTo(d/2,0),f.graphics.lineTo(d/2,e),f.x=a,f.y=b,i.stage.addChild(f)},this.updateY=function(){for(var a=i.verticalMargin*i.blockHeight,c=b+a/2,d=i.blockHeight+a,e=0;e<f;e++)null!=this.elements[e]&&(this.elements[e].updateIndex(e),this.elements[e].updateY(c),1==k&&this.elements.lastIndexOf(null)<e?this.elements[e].updateValue(!0):0==k&&this.elements.indexOf(null)>e?this.elements[e].updateValue(!0):this.elements[e].updateValue(!1)),c+=d;i.updateTextItems()},this.initElements=function(){this.elements=[];var c,h;1==m&&(c=f-e+e/2-1,h=f-e+e/2);for(var k=0;k<f;k++)if(k<d||k>=f-e){if(1!=m||k!=c&&k!=h)var l=new AbacusBead(a,b,g,i,this,k,j);else var l=new AbacusBead(a,b,"#000",i,this,k,j);l.init(),this.elements.push(l)}else this.elements.push(null)},this.shuntLeft=function(a){if(this.elements.lastIndexOf(null)<a){var b=this.elements.indexOf(null),c=this.elements.lastIndexOf(null)+1,d=a-c+1,e=this.elements.splice(c,d),f=[b,0].concat(e);Array.prototype.splice.apply(this.elements,f),this.updateY()}},this.shuntRight=function(a){if(this.elements.indexOf(null)>a){console.log("start"),console.log(this.elements);var b=this.elements.lastIndexOf(null)+1,c=this.elements.indexOf(null)-1,d=c-a+1,e=this.elements.splice(a,d);console.log(e),console.log(this.elements);var f=[b-d,0].concat(e);Array.prototype.splice.apply(this.elements,f),this.updateY()}},this.howManyInUse=function(){if(1==k){var a=this.elements.lastIndexOf(null);return a!=this.elements.length-1?this.elements.slice(a+1,this.elements.length):[]}var a=this.elements.indexOf(null);return 0!=a?this.elements.slice(0,a):[]},this.updateAges=function(){for(var a=0;a<this.elements.length;a++)null!=this.elements[a]&&1==l&&this.elements[a].updateAge()},this.restore=function(a){for(var b=[],c=0;c<this.elements.length;c++)null!=this.elements[c]&&b.push(this.elements[c]);this.elements=b;for(var c=0;c<a.length;c++)null==a[c]&&this.elements.splice(c,0,null);this.updateY()},this.restoreAge=function(a){for(var b=0;b<this.elements.length;b++)null!=this.elements[b]&&this.elements[b].forceAge(a[b])},this.save=function(){for(var a=[],b=0;b<this.elements.length;b++)null==this.elements[b]?a.push(null):a.push(this.elements[b].age);return a},this.init=function(){this.drawColumn(),this.initElements(),this.updateY()}}