function PosNegColumn(e,t,s,l,i,h,n,o,a,u,c){void 0===u&&(u=!0),void 0===c&&(c=!1),this.elements=[],this.colWidthScale=8/33,this.blockcols=n,this.value=a,this.nullheight=0,this.abaheight=0,this.drawColumn=function(){var l=this.colWidthScale*o.blockWidth,i=s-t,h=new createjs.Shape;h.graphics.beginFill(this.blockcols[0]).drawRect(l/2*-1,0,l,i),h.graphics.beginStroke(this.blockcols[1]),h.graphics.setStrokeStyle(l/8),h.graphics.moveTo(l/2*-1,0),h.graphics.lineTo(l/2*-1,i),h.graphics.moveTo(l/2,0),h.graphics.lineTo(l/2,i),h.x=e,h.y=t,o.stage.addChild(h)},this.updateY=function(){for(var e=o.verticalMargin*o.blockHeight,s=t+e/2,l=o.blockHeight+e,h=0;h<i;h++)null!=this.elements[h]?(this.elements[h].updateIndex(h),this.elements[h].updateY(s),this.elements.indexOf(null)>h?this.elements[h].updateValue(!0,!0):this.elements.lastIndexOf(null)<h?this.elements[h].updateValue(!0,!1):this.elements[h].updateValue(!1),s+=0==c?l:this.abaheight):s+=this.nullheight;o.updateTextItems()},this.initElements=function(){this.elements=[],0==c?(this.nullheight=s-t-l*(o.blockHeight+o.verticalMargin*o.blockHeight),this.nullheight=this.nullheight/2):this.nullheight=o.blockHeight,console.log(s-t-this.nullheight),console.log(l),this.abaheight=(s-t-2*this.nullheight)/l,console.log(this.abaheight);this.elements.push(null);for(var i=0;i<l;i++){if(console.log("make bead"),0==c)var n=new AbacusBead(e,t,h,o,this,i,a);else n=new AbacusBead(e,t,h,o,this,i,a,this.abaheight);n.init(),console.log(n),this.elements.push(n)}this.elements.push(null)},this.shuntLeft=function(e){if(-1!=this.elements.lastIndexOf(null,e)){console.log("shuntLeft");var t=this.elements.lastIndexOf(null,e),s=t+1,l=e-s+1,i=this.elements.splice(s,l),h=[t,0].concat(i);Array.prototype.splice.apply(this.elements,h),this.updateY()}},this.shuntRight=function(e){if(-1!=this.elements.indexOf(null,e)){console.log("start"),console.log(this.elements);var t=this.elements.indexOf(null,e)+1,s=t-2-e+1,l=this.elements.splice(e,s);console.log(l),console.log(this.elements);var i=[t-s,0].concat(l);Array.prototype.splice.apply(this.elements,i),this.updateY()}},this.howManyInUse=function(){var e,t=[];return 0!=(e=this.elements.indexOf(null))?t.push(this.elements.slice(0,e)):t.push([]),(e=this.elements.lastIndexOf(null))!=this.elements.length-1?t.push(this.elements.slice(e+1,this.elements.length)):t.push([]),t},this.updateAges=function(){for(var e=0;e<this.elements.length;e++)null!=this.elements[e]&&1==u&&this.elements[e].updateAge()},this.restore=function(e){for(var t=[],s=0;s<this.elements.length;s++)null!=this.elements[s]&&t.push(this.elements[s]);this.elements=t;for(s=0;s<e.length;s++)null==e[s]&&this.elements.splice(s,0,null);this.updateY()},this.restoreAge=function(e){if(1==u)for(var t=0;t<this.elements.length;t++)null!=this.elements[t]&&this.elements[t].forceAge(e[t])},this.save=function(){for(var e=[],t=0;t<this.elements.length;t++)null==this.elements[t]?e.push(null):e.push(this.elements[t].age);return e},this.init=function(){this.drawColumn(),this.initElements(),this.updateY()}}