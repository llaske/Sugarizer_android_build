function displayAudio(t){var e=document.createElement("audio");e.src=t,e.setAttribute("controls",""),e.style.maxWidth=document.body.clientWidth-55+"px",e.style.width=document.body.clientWidth-60+"px",e.style.marginTop=(document.body.clientHeight-55-e.getBoundingClientRect().height)/2+"px",document.getElementById("media").appendChild(e)}function displayVideo(t){var e=document.createElement("video");e.src=t,e.setAttribute("controls",""),document.body.clientWidth>document.body.clientHeight?(e.style.marginTop="3px",e.style.width="auto",e.style.maxHeight=document.body.clientHeight-55+"px",e.style.height=document.body.clientHeight-60+"px"):(e.style.height="auto",e.style.maxWidth=document.body.clientWidth-55+"px",e.style.width=document.body.clientWidth-60+"px",e.style.marginTop=(document.body.clientHeight-55-e.getBoundingClientRect().height)/4+"px"),document.getElementById("media").appendChild(e)}function displayImage(t){var e=document.createElement("img");e.src=t,document.body.clientWidth>document.body.clientHeight?(e.style.marginTop="3px",e.style.width="auto",e.style.maxHeight=document.body.clientHeight-55+"px",e.style.height=document.body.clientHeight-60+"px"):(e.style.height="auto",e.style.maxWidth=document.body.clientWidth-55+"px",e.style.width=document.body.clientWidth-60+"px",e.style.marginTop=(document.body.clientHeight-55-e.getBoundingClientRect().height)/4+"px"),document.getElementById("media").appendChild(e)}define(["sugar-web/activity/activity"],(function(t){requirejs(["domReady!","sugar-web/datastore"],(function(e,i){if(t.setup(),window.top&&window.top.sugar&&window.top.sugar.environment&&window.top.sugar.environment.objectId){var d=document.getElementById("loading-svg");d.style.width=document.body.clientWidth+"px",d.style.height=document.body.clientHeight+"px",d.style.display="block";"undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime?chrome.storage.local.get("sugar_settings",(function(t){500})):200,setTimeout((function(){t.getDatastoreObject().loadAsText((function(t,e,i){if(d.style.display="none",null!=i&&e&&e.mimetype){var n=e.mimetype.split("/")[0];0==n.indexOf("audio")&&displayAudio(i),0==n.indexOf("image")&&displayImage(i),0==n.indexOf("video")&&displayVideo(i)}}))}),1e3)}}))}));