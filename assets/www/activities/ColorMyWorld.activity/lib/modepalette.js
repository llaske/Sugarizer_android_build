define(["sugar-web/graphics/palette","util","colormyworld","print"],(function(e,t,n,o){"use strict";var l={ModePalette:function(t,o,i){e.Palette.call(this,t,o),this.modeEvent=document.createEvent("CustomEvent"),this.modeEvent.initCustomEvent("mode",!0,!0,{}),this.remoteEvent=document.createEvent("CustomEvent"),this.remoteEvent.initCustomEvent("remote",!0,!0,{});l.setMode=function(e){e<0?e=MODE_NAMES.length-1:e>MODE_NAMES.length-1&&(e=0),n.setMode(e),document.getElementById("modelabel").innerHTML=document.webL10n.get(MODE_NAMES[e])};var a=document.createElement("div"),r=document.createElement("button");r.className="toolbutton palette-button palette-button-selected",r.setAttribute("id","mode-button-prev"),r.setAttribute("title","Previous Mode"),r.onclick=function(){l.setMode(n.getMode()+1)};var d=document.createElement("button");d.className="toolbutton palette-button palette-button-selected",d.setAttribute("id","mode-button-next"),d.setAttribute("title","Next Mode"),d.onclick=function(){l.setMode(n.getMode()-1)};var u=document.createElement("div");u.className="modelabel",u.id="modelabel",u.innerHTML=document.webL10n.get(MODE_NAMES[0]);var c=document.createElement("table");(E=c.insertRow(-1)).insertCell(-1).appendChild(r),E.insertCell(-1).appendChild(u),E.insertCell(-1).appendChild(d),l.setRegion=function(e){e<0?e=REGION_NAMES.length-1:e>REGION_NAMES.length-1&&(e=0),n.change_areaCB(1,REGION_NAMES[e]),document.getElementById("regionlabel").src=REGION_ICONS[e]};var s=document.createElement("button");s.className="toolbutton palette-button palette-button-selected",s.setAttribute("id","region-button-prev"),s.setAttribute("title","Previous Region"),s.onclick=function(){l.setRegion(n.getRegion()+1)};var m=document.createElement("button");m.className="toolbutton palette-button palette-button-selected",m.setAttribute("id","region-button-next"),m.setAttribute("title","Next Region"),m.onclick=function(){l.setRegion(n.getRegion()-1)};var b=new Image;b.className="regionlabel",b.id="regionlabel",b.title=REGION_NAMES[0],b.src=REGION_ICONS[0];var E,p=document.createElement("table");(E=p.insertRow(-1)).insertCell(-1).appendChild(s),E.insertCell(-1).appendChild(b),E.insertCell(-1).appendChild(m),a.appendChild(c),a.appendChild(p),this.setContent([a])}};return l.ModePalette.prototype=Object.create(e.Palette.prototype,{addEventListener:{value:function(e,t,n){return this.getPalette().addEventListener(e,t,n)},enumerable:!0,configurable:!0,writable:!0}}),l}));