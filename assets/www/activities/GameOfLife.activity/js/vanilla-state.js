/*! Sugarizer 2018-05-08 */
function State(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state=b;var c={},d=function(b){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b.forEach(function(b){c[b].forEach(function(c){var e=document.querySelector(c[0]);if("function"==typeof c[1])c[1](e,a.state[b],d[b]);else{var f=c[1];e[f]=a.state[b]}})})};this.set=function(a){var b="function"==typeof a?a(this.state):a,e=this.state;Object.assign(this.state,b||{});for(var f in b)f in c||(c[f]=[]);d(Object.keys(b||{}),e)},this.subscribe=function(a){var b=function(b){b in c?Array.isArray(a[b])&&(Array.isArray(a[b][0])?c[b].map(function(a){c[b].push(a)}):c[b].push(a[b])):Array.isArray(a[b])&&(Array.isArray(a[b][0])?c[b]=a[b]:c[b]=[a[b]])};for(var e in a)b(e);d(Object.keys(a))}}var ObjectValues=function(a){return Object.keys(a).map(function(b){return a[b]})};define(function(){return State});