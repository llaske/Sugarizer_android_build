/*! Sugarizer 2020-03-14 */
define(["sugar-web/activity/activity","mustache","sugar-web/graphics/palette","activity/calculate-activity","activity/calculate-app","math","parser","nanomodal"],function(a,b,c){CalculateApp.libs.palette=c,requirejs(["d3"],function(a){requirejs(["function-plot"],function(a){CalculateApp.libs.functionPlot=a})}),CalculateApp.libs.activity=a,CalculateApp.libs.mustache=b,requirejs(["domReady!","activity/trigo-palette","activity/algebra-palette","webL10n","sugar-web/datastore","tutorial"],function(b,c,d,e,f,g){CalculateApp.libs.webL10n=e,CalculateApp.libs.trigopalette=c,CalculateApp.libs.algebrapalette=d,initGui(),document.getElementById("help-button").addEventListener("click",function(a){g.start()}),window.addEventListener("localized",function(){if(void 0!==f&&void 0!==f.localStorage){var a=f.localStorage.getValue("sugar_settings");if(null===a||void 0===a.name)return;void 0!==a.language&&CalculateApp.libs.webL10n.language.code!==a.language&&(CalculateApp.libs.webL10n.language.code=a.language)}CalculateApp.transateGui()},!1),CalculateApp.focus(),CalculateApp.onResize(),document.getElementById("fullscreen-button").addEventListener("click",function(){document.getElementById("main-toolbar").style.visibility="hidden",document.getElementById("body").style.bottom="40px",document.getElementById("unfullscreen-button").style.visibility="visible",document.getElementById("unfullscreen-button").style.top="20px"}),document.getElementById("unfullscreen-button").addEventListener("click",function(){document.getElementById("main-toolbar").style.visibility="visible",document.getElementById("body").style.bottom="0px",document.getElementById("unfullscreen-button").style.visibility="hidden"}),a.setup(),a.getXOColor(function(a,b){void 0!==b&&(CalculateApp.data.buddyColor=b,CalculateApp.displayAllCalculations())}),a.getDatastoreObject().loadAsText(function(a,b,c){var d=JSON.parse(c);void 0!==d&&(CalculateApp.data.calculations=d,CalculateApp.displayAllCalculations())})})});