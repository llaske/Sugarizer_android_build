/*! Sugarizer 2019-09-21 */
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(a){return"function"==typeof a}function isNumber(a){return"number"==typeof a}function isObject(a){return"object"==typeof a&&null!==a}function isUndefined(a){return void 0===a}EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(a){if(!isNumber(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},EventEmitter.prototype.emit=function(a){var b,c,d,e,f,g;if(this._events||(this._events={}),"error"===a&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;var h=new Error('Uncaught, unspecified "error" event. ('+b+")");throw h.context=b,h}if(c=this._events[a],isUndefined(c))return!1;if(isFunction(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:e=Array.prototype.slice.call(arguments,1),c.apply(this,e)}else if(isObject(c))for(e=Array.prototype.slice.call(arguments,1),g=c.slice(),d=g.length,f=0;f<d;f++)g[f].apply(this,e);return!0},EventEmitter.prototype.addListener=function(a,b){var c;if(!isFunction(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,isFunction(b.listener)?b.listener:b),this._events[a]?isObject(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,isObject(this._events[a])&&!this._events[a].warned&&(c=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!isFunction(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},EventEmitter.prototype.removeListener=function(a,b){var c,d,e,f;if(!isFunction(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],e=c.length,d=-1,c===b||isFunction(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(isObject(c)){for(f=e;f-- >0;)if(c[f]===b||c[f].listener&&c[f].listener===b){d=f;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},EventEmitter.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],isFunction(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},EventEmitter.prototype.listeners=function(a){return this._events&&this._events[a]?isFunction(this._events[a])?[this._events[a]]:this._events[a].slice():[]},EventEmitter.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(isFunction(b))return 1;if(b)return b.length}return 0},EventEmitter.listenerCount=function(a,b){return a.listenerCount(b)},define(function(){return EventEmitter});