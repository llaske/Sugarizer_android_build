document.ondragover=enyo.dispatch,FoodChain={},FoodChain.context={score:0,game:"",level:0,language:"en",object:null},FoodChain.saveContext=function(){var e=FoodChain.activity.getDatastoreObject(),o=JSON.stringify({score:FoodChain.context.score,game:FoodChain.context.game,level:FoodChain.context.level,language:l10n.language.code});e.setDataAsText(o),e.save((function(){}))},FoodChain.loadContext=function(e){FoodChain.activity.getDatastoreObject().loadAsText((function(o,t,n){var a=JSON.parse(n);null!=a&&(a.score&&(FoodChain.context.score=parseInt(a.score)),a.game&&(FoodChain.context.game=a.game),a.level&&(FoodChain.context.level=parseInt(a.level)),a.language&&(FoodChain.context.language=l10n.language.code=a.language),e())}))},FoodChain.goHome=function(){null!=FoodChain.context.home&&(FoodChain.context.game="",FoodChain.context.home.setLocale(),FoodChain.context.home.renderInto(document.getElementById("body")))},FoodChain.setLocale=function(){document.getElementById("en-button").classList.remove("active"),document.getElementById("fr-button").classList.remove("active"),document.getElementById("pt_BR-button").classList.remove("active"),0==l10n.language.code.indexOf("en")?document.getElementById("en-button").classList.add("active"):0==l10n.language.code.indexOf("fr")?document.getElementById("fr-button").classList.add("active"):0==l10n.language.code.indexOf("pt_BR")&&document.getElementById("pt_BR-button").classList.add("active"),null!=FoodChain.context.object&&FoodChain.context.object.setLocale()},FoodChain.log=function(e){console.log(e)},FoodChain.addRemoveClass=function(e,o,t){e.removeClass(t),e.addClass(o)},FoodChain.sleep=function(e){for(var o=(new Date).getTime();(new Date).getTime()<o+e;);},FoodChain.createWithCondition=function(e,o,t){var n,a,i=0;do{n=!0,a=e();for(var d=0;n&&d<t.length;d++)n=o(a,t[d]);i++}while(!n&&i<12);return n||FoodChain.log("WARNING: out of pre-requisite creating "+a.id),a},FoodChain.soundMatch=function(e,o){for(var t=e.length-1;t>0&&"/"!=e[t];)t--;for(var n=o.length-1;n>0&&"/"!=o[n];)n--;return e.substring(t)==o.substring(n)},FoodChain.getZoomLevel=function(){var e=window.innerWidth;return e<=480?.4:e<=640?.5:e<=854?.62:e<=960?.72:e<=1024?.88:1};