/*! Sugarizer 2020-03-14 */
define(["sugar-web/activity/activity","webL10n","sugar-web/graphics/radiobuttonsgroup","sugar-web/datastore","tutorial","sugar-web/env"],function(a,b,c,d,e,f){l10n=b;var g=null;requirejs(["domReady!"],function(b){FoodChain.activity=a,FoodChain.activity.setup();new c.RadioButtonsGroup([document.getElementById("en-button"),document.getElementById("fr-button")]);document.getElementById("en-button").onclick=function(){l10n.language.code="en",FoodChain.setLocale()},document.getElementById("fr-button").onclick=function(){l10n.language.code="fr",FoodChain.setLocale()},document.getElementById("pt_BR-button").onclick=function(){l10n.language.code="pt_BR",FoodChain.setLocale()},document.getElementById("help-button").addEventListener("click",function(a){e.start()});var d=function(){null==g?f.getEnvironment(function(a,b){var c="undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime?chrome.i18n.getUILanguage():navigator.language,d=b.user?b.user.language:c;"fr"==d||"en"==d?l10n.language.code=d:"pt"==d&&(l10n.language.code="pt_BR"),FoodChain.sound=new FoodChain.Audio,FoodChain.sound.renderInto(document.getElementById("header")),FoodChain.context.home=g=(new FoodChain.App).renderInto(document.getElementById("body")),FoodChain.setLocale(),FoodChain.loadContext(function(){""!=FoodChain.context.game&&(g.playGame({name:FoodChain.context.game.replace("FoodChain.",""),level:FoodChain.context.level}),FoodChain.context.object.pause(),FoodChain.context.object.play())})}):FoodChain.setLocale()};window.addEventListener("localized",d,!1),document.getElementById("stop-button").addEventListener("click",function(a){FoodChain.sound.pause(),FoodChain.saveContext()}),document.getElementById("fullscreen-button").addEventListener("click",function(){document.getElementById("main-toolbar").style.opacity=1,document.getElementById("canvas").style.top="0px",document.getElementById("unfullscreen-button").style.visibility="visible"}),document.getElementById("unfullscreen-button").addEventListener("click",function(){document.getElementById("main-toolbar").style.opacity=1,document.getElementById("canvas").style.top="55px",document.getElementById("unfullscreen-button").style.visibility="hidden"})})});