/*! Sugarizer 2019-09-21 */
enyo.kind({name:"onyx.ToggleButton",classes:"onyx-toggle-button",published:{active:!1,value:!1,onContent:"On",offContent:"Off",disabled:!1},events:{onChange:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},components:[{name:"contentOn",classes:"onyx-toggle-content on"},{name:"contentOff",classes:"onyx-toggle-content off"},{classes:"onyx-toggle-button-knob"}],create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active),this.onContentChanged(),this.offContentChanged(),this.disabledChanged()},rendered:function(){this.inherited(arguments),this.valueChanged()},valueChanged:function(){this.addRemoveClass("off",!this.value),this.$.contentOn.setShowing(this.value),this.$.contentOff.setShowing(!this.value),this.setActive(this.value)},activeChanged:function(){this.setValue(this.active),this.bubble("onActivate")},onContentChanged:function(){this.$.contentOn.setContent(this.onContent||""),this.$.contentOn.addRemoveClass("empty",!this.onContent)},offContentChanged:function(){this.$.contentOff.setContent(this.offContent||""),this.$.contentOff.addRemoveClass("empty",!this.onContent)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},updateValue:function(a){this.disabled||(this.setValue(a),this.doChange({value:this.value}))},tap:function(){this.updateValue(!this.value)},dragstart:function(a,b){if(b.horizontal)return b.preventDefault(),this.dragging=!0,this.dragged=!1,!0},drag:function(a,b){if(this.dragging){var c=b.dx;return Math.abs(c)>10&&(this.updateValue(c>0),this.dragged=!0),!0}},dragfinish:function(a,b){this.dragging=!1,this.dragged&&b.preventTap()}});