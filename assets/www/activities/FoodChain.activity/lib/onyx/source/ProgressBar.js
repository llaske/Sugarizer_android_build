enyo.kind({name:"onyx.ProgressBar",classes:"onyx-progress-bar",published:{progress:0,min:0,max:100,barClasses:"",showStripes:!0,animateStripes:!0},events:{onAnimateProgressFinish:""},components:[{name:"progressAnimator",kind:"Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar"}],create:function(){this.inherited(arguments),this.progressChanged(),this.barClassesChanged(),this.showStripesChanged(),this.animateStripesChanged()},barClassesChanged:function(s){this.$.bar.removeClass(s),this.$.bar.addClass(this.barClasses)},showStripesChanged:function(){this.$.bar.addRemoveClass("striped",this.showStripes)},animateStripesChanged:function(){this.$.bar.addRemoveClass("animated",this.animateStripes)},progressChanged:function(){this.progress=this.clampValue(this.min,this.max,this.progress);var s=this.calcPercent(this.progress);this.updateBarPosition(s)},clampValue:function(s,e,t){return Math.max(s,Math.min(t,e))},calcRatio:function(s){return(s-this.min)/(this.max-this.min)},calcPercent:function(s){return 100*this.calcRatio(s)},updateBarPosition:function(s){this.$.bar.applyStyle("width",s+"%")},animateProgressTo:function(s){this.$.progressAnimator.play({startValue:this.progress,endValue:s,node:this.hasNode()})},progressAnimatorStep:function(s){return this.setProgress(s.value),!0},progressAnimatorComplete:function(s){return this.doAnimateProgressFinish(s),!0}});