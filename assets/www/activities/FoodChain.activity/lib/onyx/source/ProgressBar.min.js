/*! Sugarizer 2018-06-12 */
enyo.kind({name:"onyx.ProgressBar",classes:"onyx-progress-bar",published:{progress:0,min:0,max:100,barClasses:"",showStripes:!0,animateStripes:!0},events:{onAnimateProgressFinish:""},components:[{name:"progressAnimator",kind:"Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar"}],create:function(){this.inherited(arguments),this.progressChanged(),this.barClassesChanged(),this.showStripesChanged(),this.animateStripesChanged()},barClassesChanged:function(a){this.$.bar.removeClass(a),this.$.bar.addClass(this.barClasses)},showStripesChanged:function(){this.$.bar.addRemoveClass("striped",this.showStripes)},animateStripesChanged:function(){this.$.bar.addRemoveClass("animated",this.animateStripes)},progressChanged:function(){this.progress=this.clampValue(this.min,this.max,this.progress);var a=this.calcPercent(this.progress);this.updateBarPosition(a)},clampValue:function(a,b,c){return Math.max(a,Math.min(c,b))},calcRatio:function(a){return(a-this.min)/(this.max-this.min)},calcPercent:function(a){return 100*this.calcRatio(a)},updateBarPosition:function(a){this.$.bar.applyStyle("width",a+"%")},animateProgressTo:function(a){this.$.progressAnimator.play({startValue:this.progress,endValue:a,node:this.hasNode()})},progressAnimatorStep:function(a){return this.setProgress(a.value),!0},progressAnimatorComplete:function(a){return this.doAnimateProgressFinish(a),!0}});