enyo.kind({name:"enyo.Selection",kind:enyo.Component,published:{multi:!1},events:{onSelect:"",onDeselect:"",onChange:""},create:function(){this.clear(),this.inherited(arguments)},multiChanged:function(){this.multi||this.clear(),this.doChange()},highlander:function(e){this.multi||this.deselect(this.lastSelected)},clear:function(){this.selected={}},isSelected:function(e){return this.selected[e]},setByKey:function(e,t,i){if(t)this.selected[e]=i||!0,this.lastSelected=e,this.doSelect({key:e,data:this.selected[e]});else{var s=this.isSelected(e);delete this.selected[e],this.doDeselect({key:e,data:s})}this.doChange()},deselect:function(e){this.isSelected(e)&&this.setByKey(e,!1)},select:function(e,t){this.multi?this.setByKey(e,!this.isSelected(e),t):this.isSelected(e)||(this.highlander(),this.setByKey(e,!0,t))},toggle:function(e,t){this.multi||this.lastSelected==e||this.deselect(this.lastSelected),this.setByKey(e,!this.isSelected(e),t)},getSelected:function(){return this.selected}});