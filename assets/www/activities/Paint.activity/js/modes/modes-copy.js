define([],(function(){return{initGui:function initGui(){PaintApp.elements.copyButton=document.getElementById("copy-button"),PaintApp.paletteModesButtons.push(PaintApp.elements.copyButton),PaintApp.elements.copyButton.addEventListener("click",(function(){PaintApp.paletteRemoveActiveClass(),PaintApp.addActiveClassToElement(PaintApp.elements.copyButton),PaintApp.switchMode("Copy")}))},begin:void 0,end:void 0,onMouseDown:function(t){PaintApp.data.currentElement&&(PaintApp.data.currentElement.element.parentElement.removeChild(PaintApp.data.currentElement.element),PaintApp.data.currentElement=void 0),begin=t.point;var e=t.point.x+"px",n=t.point.y+55+"px",i=document.createElement("div");i.style.position="absolute",i.style.padding="0px",i.style.width="1px",i.style.height="1px",i.style.opacity="0.5",i.style.pointerEvents="none",i.style.borderRadius="0px",i.style.border="5px dotted #500",i.style.left=e,i.style.top=n,i.style.verticalAlign="bottom",document.body.appendChild(i),i.style.left=parseInt(e)-i.getBoundingClientRect().width/2+"px",i.style.top=parseInt(n)-i.getBoundingClientRect().height/2+"px",PaintApp.data.currentElement={type:"copy/paste",element:i,startPoint:{x:parseInt(i.style.left)+i.getBoundingClientRect().width/2,y:parseInt(i.style.top)+i.getBoundingClientRect().height/2}}},onMouseDrag:function(t){var e=t.point;begin.x<=e.x?PaintApp.data.currentElement.element.style.width=e.x-begin.x+"px":PaintApp.data.currentElement.element.style.width="0px",begin.y<=e.y?PaintApp.data.currentElement.element.style.height=Math.abs(begin.y-e.y)+"px":PaintApp.data.currentElement.element.style.height="0px"},onMouseUp:function(t){var e=t.point;e.y=e.y+55;var n=parseInt(PaintApp.data.currentElement.element.style.width),i=parseInt(PaintApp.data.currentElement.element.style.height),a=PaintApp.elements.canvas,p=PaintApp.elements.canvas.getContext("2d");if(begin.x<e.x&&begin.y<e.y){try{PaintApp.modes.Paste.data=a.toDataURL()}catch(t){return}var o=p.getImageData(begin.x*window.devicePixelRatio,begin.y*window.devicePixelRatio,n*window.devicePixelRatio,i*window.devicePixelRatio);(a=document.createElement("canvas")).width=n*window.devicePixelRatio,a.height=i*window.devicePixelRatio,a.getContext("2d").putImageData(o,0,0);try{o=a.toDataURL()}catch(t){return}PaintApp.modes.Paste.dataImage={width:n/window.devicePixelRatio,height:i/window.devicePixelRatio,data:o},PaintApp.elements.pasteButton.click()}}}}));