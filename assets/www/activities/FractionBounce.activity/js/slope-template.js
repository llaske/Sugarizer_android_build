let SlopeTemplate={template:'\n\t\t<canvas id="slopeCanvas"></canvas>\n\t',props:["height","parts","answer","radius","cx","correctAnswers","mode"],data:function(){return{context:null}},watch:{mode:function(t,e){this.updateSlope()}},computed:{lengthOfDivision:function(){return Math.floor(slopeCanvas.width/this.parts)},tolerance:function(){return 30}},mounted:function(){},methods:{localized:function(t){t.localize(this.l10n)},initSlope:function(){this.context=slopeCanvas.getContext("2d"),slopeCanvas.width=mainCanvas.width,slopeCanvas.height=mainCanvas.height,this.drawSlope(),this.correctAnswers<100&&this.drawDivisions()},checkAnswer:function(){let t=Math.floor((this.cx+this.tolerance)/this.lengthOfDivision);return this.cx>t*this.lengthOfDivision-this.tolerance&&this.cx<t*this.lengthOfDivision+this.tolerance?(this.drawAnswer(t),t):(this.drawAnswer(-1),-1)},drawSlope:function(){this.context.fillStyle="#282828",this.context.beginPath(),this.context.moveTo(0,this.calcY(0)),this.context.lineTo(slopeCanvas.width,this.calcY(slopeCanvas.width)),this.context.lineTo(slopeCanvas.width,slopeCanvas.height),this.context.closePath(),this.context.fill(),this.context.strokeStyle="#ffffff",this.context.stroke(),this.context.font="28px Times New Roman",this.context.fillStyle="#000",this.context.textAlign="center",this.context.fillText("0",20,slopeCanvas.height-20),this.context.fillStyle="#fff","percents"==this.mode?this.context.fillText("100%",slopeCanvas.width-40,slopeCanvas.height-20):this.context.fillText("1",slopeCanvas.width-20,slopeCanvas.height-20)},drawDivisions:function(t=0){if(this.context.beginPath(),0!=t)return t*=this.lengthOfDivision,this.context.strokeStyle="#ff0000",this.context.moveTo(t-this.tolerance,slopeCanvas.height),this.context.lineTo(t-this.tolerance,this.calcY(t-this.tolerance)),this.context.stroke(),this.context.moveTo(t+this.tolerance,slopeCanvas.height),this.context.lineTo(t+this.tolerance,this.calcY(t+this.tolerance)),this.context.stroke(),void(this.context.strokeStyle="#000000");for(this.context.strokeStyle="#ffffff",t=this.lengthOfDivision;t<slopeCanvas.width;t+=this.lengthOfDivision)this.context.moveTo(t,slopeCanvas.height),this.context.lineTo(t,this.calcY(t)),this.context.stroke();this.context.strokeStyle="#000000"},drawAnswer:function(t){let e=this.answer*this.lengthOfDivision;this.context.beginPath(),t==this.answer?this.context.strokeStyle="#00ff00":this.context.strokeStyle="#ff0000",this.context.lineWidth=10,this.context.moveTo(e-this.tolerance,this.calcY(e-this.tolerance)),this.context.lineTo(e+this.tolerance,this.calcY(e+this.tolerance)),this.context.stroke(),this.context.strokeStyle="#000000",this.context.lineWidth=1,this.context.closePath()},updateSlope:function(t){t&&(this.parts=t),this.context.clearRect(0,0,slopeCanvas.width,slopeCanvas.height),this.drawSlope(),this.correctAnswers<100&&this.drawDivisions()},calcY:function(t){return-this.height/slopeCanvas.width*t+slopeCanvas.height}}};