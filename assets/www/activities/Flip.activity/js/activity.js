/*! Sugarizer 2020-03-14 */
function runactivity(a,b,c,d,e,f,g){function h(){function d(){j.update()}function h(){i.width=window.innerWidth,i.height=window.innerHeight-(+document.getElementById("main-toolbar").style.opacity?55:0),k.initialiseFromArray()}i=document.getElementById("actualcanvas"),i.width=window.innerWidth,i.height=window.innerHeight,j=new createjs.Stage(i),j.update(),j.mouseEventsEnabled=!0,document.getElementById("flip-count").style.color=c.stroke,document.getElementById("fliptext").style.borderBottom="5px solid #00ff1b",createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",d);var k=new Game(j,c,b,e,a,f);setTimeout(function(){k.init()},500);window.addEventListener("resize",h,!1),b.getElementById("solve-button").addEventListener("click",function(a){k.solve()}),b.getElementById("new-game-button").addEventListener("click",function(a){k.newGame()}),document.getElementById("help-button").addEventListener("click",function(a){g.start()}),window.addEventListener("activityStop",function(a){a.preventDefault(),k.stop()}),document.getElementById("fullscreen-button").addEventListener("click",function(){document.getElementById("main-toolbar").style.opacity=0,document.getElementById("canvas").style.top="0px",document.getElementById("unfullscreen-button").style.visibility="visible",h()}),document.getElementById("unfullscreen-button").addEventListener("click",function(){document.getElementById("main-toolbar").style.opacity=1,document.getElementById("canvas").style.top="55px",document.getElementById("unfullscreen-button").style.visibility="hidden",h()})}var i,j;h()}define(["sugar-web/activity/activity","webL10n","easeljs","tweenjs","activity/game","activity/flipdot"],function(a,b){requirejs(["domReady!"],function(c){requirejs(["sugar-web/env","sugar-web/datastore","activity/sizepalette","tutorial"],function(d,e,f,g){a.setup(),a.getXOColor(function(b,h){runactivity(a,c,h,d,e,f,g)}),d.getEnvironment(function(a,c){currentenv=c;var d="undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime?chrome.i18n.getUILanguage():navigator.language,e=c.user?c.user.language:d;b.language.code=e})})})});