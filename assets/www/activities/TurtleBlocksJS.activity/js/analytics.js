/*! Sugarizer 2019-09-21 */
function analyzeProject(a){for(var b=[],c=0;c<a.blockList.length;c++)if(!a.blockList[c].trash){switch(a.blockList[c].name){case"start":case"fill":case"hollowline":if(null==a.blockList[c].connections[1])continue;break;case"action":if(null==a.blockList[c].connections[2])continue;break;default:if(null==a.blockList[c].connections[0]&&null==last(a.blockList[c].connections))continue}b.push(a.blockList[c].name)}scores=[];for(var d=0;d<PALS.length;d++)scores.push(0);cats=[],pals=[];for(var e=0;e<b.length;e++)b[e]in TACAT?TACAT[b[e]]in cats||cats.push(TACAT[b[e]]):console.log(b[e]+" not in catalog");for(var f=0;f<cats.length;f++)cats[f]in TAPAL&&(TAPAL[cats[f]]in pals||pals.push(TAPAL[cats[f]]));for(var f=0;f<cats.length;f++)cats[f]in TASCORE&&(scores[PALS.indexOf(TAPAL[cats[f]])]+=TASCORE[cats[f]]);for(var g=0;g<pals.length;g++)pals[g]in TASCORE&&(scores[PALS.indexOf(pals[g])]+=TASCORE[pals[g]]);return scores}function scoreToChartData(a){for(var b,c=[],d=0,e=0;e<a.length;e++)a[e]>d&&(d=a[e]);(b=d>0?100/d:1)>1&&(b=1);for(var e=0;e<a.length;e++)c.push(a[e]*b);return{labels:PALLABELS,datasets:[{label:"",fillColor:"rgba(220,220,220,0.4)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:c}]}}function getChartOptions(a){return{onAnimationComplete:a,scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.2)",angleLineWidth:10,pointLabelFontFamily:"Arial",pointLabelFontStyle:"normal",pointLabelFontSize:30,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:18,pointDotStrokeWidth:6,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:12,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'}}const TACAT={clear:"forward",forward:"forward",back:"forward",left:"forward",right:"forward",arc:"arc",x:"coord",y:"coord",heading:"coord",settranslucency:"pen",sethue:"pen",setxy:"setxy",seth:"setxy",penup:"pen",setpensize:"pen",setcolor:"pen",pensize:"pen",color:"pen",setshade:"pen",setgray:"pen",gray:"pen",fillscreen:"pen",beginfill:"fill",fill:"fill",setfont:"fill",hollowline:"fill",endfill:"fill",plus:"number",minus:"number",multiply:"number",power:"number",divide:"number",oneOf:"number",pendown:"pen",shade:"pen",mod:"number",int:"number",sqrt:"number",identity:"number",and:"boolean",or:"boolean",not:"boolean",greater:"boolean",less:"boolean",equal:"boolean",random:"random",repeat:"repeat",forever:"repeat",if:"ifthen",ifthenelse:"ifthen",while:"ifthen",until:"ifthen",action:"action",do:"action",nameddo:"action",listen:"action",broadcast:"action",calc:"action",doArg:"action",calcArg:"action",dispatch:"action",namedcalc:"action",nameddoArg:"action",namedcalcArg:"action",storein:"box",namedbox:"box",incrementOne:"box",luminance:"sensor",mousex:"sensor",mousey:"sensor",drum:"action",start:"action",mousebutton:"sensor",keyboard:"sensor",readpixel:"sensor",see:"sensor",time:"sensor",sound:"sensor",volume:"sensor",resistance:"sensor",voltage:"sensor",video:"media",wait:"media",camera:"media",journal:"media",audio:"media",show:"media",setscale:"media",savepix:"media",savesvg:"media",mediawait:"media",mediapause:"media",mediastop:"media",mediaplay:"media",speak:"media",sinewave:"media",description:"media",push:"extras",pop:"extras",printheap:"extras",clearheap:"extras",isheapempty:"extras",chr:"extras",int:"number",myfunction:"python",userdefined:"python",box:"box",kbinput:"sensor",showHeap:"extras",emptyHeap:"extras",loadblock:"python",loadpalette:"python",matrix:"ignore",hidden:"ignore",rest2:"ignore",rhythm:"ignore",text:"ignore",number:"ignore",vspace:"ignore"},TAPAL={forward:"turtlep",arc:"turtlep",coord:"turtlep",setxy:"turtlep",pen:"penp",fill:"penp",random:"numberp",boolean:"numberp",repeat:"flowp",ifthen:"flowp",action:"boxp",box:"boxp",sensor:"sensorp",media:"mediap",extras:"extrasp",number:"numberp",python:"extrasp",ignore:"numberp"},TASCORE={forward:3,arc:3,setxy:2.5,coord:4,turtlep:5,pen:2.5,fill:2.5,penp:5,number:2.5,boolean:2.5,random:2.5,numberp:0,repeat:2.5,ifthen:7.5,flowp:10,box:7.5,action:7.5,boxp:0,media:5,mediap:0,python:5,extras:5,extrasp:0,ignore:0,sensor:5,sensorp:0},PALS=["turtlep","penp","numberp","flowp","boxp","sensorp","mediap","extrasp"],PALLABELS=[_("turtle"),_("pen"),_("number"),_("flow"),_("action"),_("sensors"),_("media"),_("extras")];