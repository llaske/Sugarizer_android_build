for(var Directions=[],InsideDirections=[],SegmentDirections=[],numOrientations=8,scale=6,init=100,index=0;index<=5;index++)InsideDirections[index]=[],Directions[index]=[],SegmentDirections[index]=[];Directions[0][0]=[new Point(new IntAdjoinSqrt2(0,12),new IntAdjoinSqrt2(0,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,12))],Directions[1][0]=[new Point(new IntAdjoinSqrt2(12,0),new IntAdjoinSqrt2(0,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(12,0))],Directions[2][0]=[new Point(new IntAdjoinSqrt2(0,6),new IntAdjoinSqrt2(0,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,6))],Directions[3][0]=[new Point(new IntAdjoinSqrt2(0,6),new IntAdjoinSqrt2(0,0)),new Point(new IntAdjoinSqrt2(0,6),new IntAdjoinSqrt2(0,6)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,6))],Directions[4][0]=[new Point(new IntAdjoinSqrt2(12,0),new IntAdjoinSqrt2(0,0)),new Point(new IntAdjoinSqrt2(18,0),new IntAdjoinSqrt2(6,0)),new Point(new IntAdjoinSqrt2(6,0),new IntAdjoinSqrt2(6,0))],Directions[5][0]=[new Point(new IntAdjoinSqrt2(12,0),new IntAdjoinSqrt2(0,0)),new Point(new IntAdjoinSqrt2(18,0),new IntAdjoinSqrt2(-6,0)),new Point(new IntAdjoinSqrt2(6,0),new IntAdjoinSqrt2(-6,0))];for(var tanTypeId=0;tanTypeId<=5;tanTypeId++){for(var centerPoint=new Point,pointId=0;pointId<Directions[tanTypeId][0].length;pointId++)centerPoint.add(Directions[tanTypeId][0][pointId]);centerPoint.scale(1/(Directions[tanTypeId][0].length+1)),InsideDirections[tanTypeId][0]=[],InsideDirections[tanTypeId][0][0]=centerPoint}for(tanTypeId=0;tanTypeId<=1;tanTypeId++){var middle1=Directions[tanTypeId][0][0].dup().add(Directions[tanTypeId][0][1]).scale(.5),insidePoint1=Directions[tanTypeId][0][0].dup().add(middle1),insidePoint2=Directions[tanTypeId][0][1].dup().add(middle1);if(insidePoint1.scale(1/Directions[tanTypeId][0].length),InsideDirections[tanTypeId][0][1]=insidePoint1,insidePoint2.scale(1/Directions[tanTypeId][0].length),InsideDirections[tanTypeId][0][2]=insidePoint2,0===tanTypeId){var middle2=Directions[tanTypeId][0][0].dup().scale(.5),middle3=Directions[tanTypeId][0][1].dup().scale(.5),insidePoint3=middle2.add(middle3);insidePoint3.scale(1/Directions[tanTypeId][0].length),insidePoint3.scale(1/Directions[tanTypeId][0].length)}}for(tanTypeId=3;tanTypeId<=5;tanTypeId++){for(insidePoint1=new Point,insidePoint2=new Point,pointId=0;pointId<Directions[tanTypeId][0].length;pointId++)pointId!=Directions[tanTypeId][0].length-1&&insidePoint1.add(Directions[tanTypeId][0][pointId]),insidePoint2.add(Directions[tanTypeId][0][pointId]);insidePoint1.scale(1/Directions[tanTypeId][0].length),InsideDirections[tanTypeId][0][1]=insidePoint1,insidePoint2.scale(1/Directions[tanTypeId][0].length),InsideDirections[tanTypeId][0][2]=insidePoint2}var rotationMatrix=[[new IntAdjoinSqrt2(0,.5),new IntAdjoinSqrt2(0,-.5),new IntAdjoinSqrt2(0,0)],[new IntAdjoinSqrt2(0,.5),new IntAdjoinSqrt2(0,.5),new IntAdjoinSqrt2(0,0)],[new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(1,0)]];for(tanTypeId=0;tanTypeId<=5;tanTypeId++)for(var orientId=0;orientId<7;orientId++){Directions[tanTypeId][orientId+1]=[],InsideDirections[tanTypeId][orientId+1]=[];for(pointId=0;pointId<InsideDirections[tanTypeId][orientId].length;pointId++)InsideDirections[tanTypeId][orientId+1][pointId]=InsideDirections[tanTypeId][orientId][pointId].dup().transform(rotationMatrix);for(var dir=0;dir<Directions[tanTypeId][0].length;dir++)Directions[tanTypeId][orientId+1][dir]=Directions[tanTypeId][orientId][dir].dup().transform(rotationMatrix)}for(tanTypeId=0;tanTypeId<=5;tanTypeId++)for(orientId=0;orientId<=7;orientId++)if(SegmentDirections[tanTypeId][orientId]=[],SegmentDirections[tanTypeId][orientId][0]=[Directions[tanTypeId][orientId][0].dup(),Directions[tanTypeId][orientId][tanTypeId<3?1:2].dup()],SegmentDirections[tanTypeId][orientId][1]=[Directions[tanTypeId][orientId][0].dup().neg(),Directions[tanTypeId][orientId][0].dup().neg().add(Directions[tanTypeId][orientId][1].dup())],tanTypeId<3)SegmentDirections[tanTypeId][orientId][2]=[Directions[tanTypeId][orientId][1].dup().neg(),Directions[tanTypeId][orientId][1].dup().neg().add(Directions[tanTypeId][orientId][0].dup())];else{var toAnchor=Directions[tanTypeId][orientId][1].dup().neg();SegmentDirections[tanTypeId][orientId][2]=[Directions[tanTypeId][orientId][0].dup().add(toAnchor),Directions[tanTypeId][orientId][2].dup().add(toAnchor)],SegmentDirections[tanTypeId][orientId][3]=[Directions[tanTypeId][orientId][2].dup().neg(),Directions[tanTypeId][orientId][2].dup().neg().add(Directions[tanTypeId][orientId][1].dup())]}var FlipDirections=[[new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(-6,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,6)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(18,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,12)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(6,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,-6)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(-18,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,-12))],[new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(6,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,12)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(18,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,6)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(-6,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,-12)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(-18,0)),new Point(new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,-6))]];