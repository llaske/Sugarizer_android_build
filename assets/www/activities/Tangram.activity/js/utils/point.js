function Point(t,n){this.x=void 0===t?new IntAdjoinSqrt2(0,0):t,this.y=void 0===n?new IntAdjoinSqrt2(0,0):n}Point.prototype.dup=function(){return new Point(this.x.dup(),this.y.dup())},Point.prototype.toFloatX=function(){return this.x.toFloat()},Point.prototype.toFloatY=function(){return this.y.toFloat()},Point.prototype.compare=function(t){var n=this.x.compare(t.x),o=this.y.compare(t.y);return 0!=n?n:o},Point.prototype.compareYX=function(t){var n=this.x.compare(t.x),o=this.y.compare(t.y);return 0!=o?o:n},Point.prototype.multipleOf=function(t){var n=this.x.sameSign(t.x),o=this.y.sameSign(t.y);if(!n||!o)return!1;if(this.x.isZero()&&t.x.isZero())return!(!this.y.isZero()||!t.y.isZero())||o;if(this.y.isZero()&&t.y.isZero())return n;var i=this.x.dup().div(t.x),r=this.y.dup().div(t.y);return void 0===i||void 0===r?(console.log("Undefined"),console.log(this.x.coeffInt+","+this.x.coeffSqrt+" - "+this.y.coeffInt+","+this.y.coeffSqrt),console.log(t.x.coeffInt+","+t.x.coeffSqrt+" - "+t.y.coeffInt+","+t.y.coeffSqrt),!1):i.eq(r)};var comparePoints=function(t,n){return t.compare(n)},comparePointsYX=function(t,n){return t.compareYX(n)};Point.prototype.eq=function(t){return this.x.eq(t.x)&&this.y.eq(t.y)};var closePoint=function(t,n,o){return t.x.closeNumbers(n.x,o)&&t.y.closeNumbers(n.y,o)};Point.prototype.isZero=function(){return this.x.isZero()&&this.y.isZero()},Point.prototype.length=function(){return Math.sqrt(this.dotProduct(this).toFloat())},Point.prototype.neg=function(){return this.x.neg(),this.y.neg(),this},Point.prototype.angle=function(){if(this.isZero())return 0;var t=Math.atan2(this.toFloatY(),this.toFloatX());return t=clipAngle(toDegrees(t)),Math.round(t)},Point.prototype.distance=function(t){return t.dup().subtract(this).length()},Point.prototype.angleTo=function(t){if(this.isZero())return t.angle();if(t.isZero())return this.angle();var n=360-(t.angle()-this.angle());return n=clipAngle(n)},Point.prototype.add=function(t){return this.x.add(t.x),this.y.add(t.y),this},Point.prototype.middle=function(t){var n=new Point;return n.add(this),n.add(t),n.scale(.5),n},Point.prototype.subtract=function(t){return this.x.subtract(t.x),this.y.subtract(t.y),this},Point.prototype.normalize=function(){var t=this.length();return numberNEq(t,0)&&(this.x.scale(1/t),this.y.scale(1/t)),this},Point.prototype.dotProduct=function(t){return this.x.dup().multiply(t.x).add(this.y.dup().multiply(t.y))},Point.prototype.determinant=function(t){return this.x.dup().multiply(t.y).subtract(this.y.dup().multiply(t.x))},Point.prototype.transform=function(t){if(3==t.length){var n=new IntAdjoinSqrt2(1,0),o=this.dup();this.x=o.x.dup().multiply(t[0][0]),this.x.add(o.y.dup().multiply(t[0][1])),this.x.add(n.dup().multiply(t[0][2])),this.y=o.x.dup().multiply(t[1][0]),this.y.add(o.y.dup().multiply(t[1][1])),this.y.add(n.dup().multiply(t[1][2]));var i=n.dup();return(n=o.x.dup().multiply(t[2][0])).add(o.y.dup().multiply(t[2][1])),n.add(i.dup().multiply(t[2][2])),numberNEq(n,1)&&numberNEq(n,0)&&(this.x.div(n),this.y.div(n)),this}console.log("Matrix seems to have the wrong dimension!")},Point.prototype.translate=function(t,n){var o=[[new IntAdjoinSqrt2(1,0),new IntAdjoinSqrt2(0,0),t],[new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(1,0),n],[new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(1,0)]];return this.transform(o)},Point.prototype.rotate=function(t){var n,o;(t=clipAngle(t))%45!=0?(n=new IntAdjoinSqrt2(Math.cos(toRadians(t)),0),o=new IntAdjoinSqrt2(Math.sin(toRadians(t)),0)):(t%90!=0?(n=new IntAdjoinSqrt2(0,.5),o=new IntAdjoinSqrt2(0,.5)):t%180!=0?(n=new IntAdjoinSqrt2(0,0),o=new IntAdjoinSqrt2(1,0)):(n=new IntAdjoinSqrt2(1,0),o=new IntAdjoinSqrt2(0,0)),t>180&&t<360&&o.neg(),t>90&&t<270&&n.neg());var i=[[n,o.dup().neg(),new IntAdjoinSqrt2(0,0)],[o,n,new IntAdjoinSqrt2(0,0)],[new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(0,0),new IntAdjoinSqrt2(1,0)]];return this.transform(i),this},Point.prototype.scale=function(t){return numberEq(0,t)?(console.log("Attempt to scale by 0!"),void console.log(JSON.stringify(this))):(this.x.scale(t),this.y.scale(t),this)},Point.prototype.roundToNearest=function(t){return this.x.roundToNearest(t),this.y.roundToNearest(t),this};var relativeOrientation=function(t,n,o){var i=t.dup().subtract(o).determinant(n.dup().subtract(o));return i.isZero()?0:i.toFloat()>0?1:-1},bothPointsMultipleTimes=function(t,n,o){for(var i=[],r=[],e=0;e<t.length;e++)t[e].eq(n)&&i.push(e),t[e].eq(o)&&r.push(e);return i.length>=2&&r.length>=2};