function Tangram(t){this.tans=t.sort((function(t,n){return t.tanType-n.tanType})),this.outline=computeOutline(this.tans,!0),void 0!==this.outline&&(this.evaluation=new Evaluation(this.tans,this.outline))}Tangram.prototype.dup=function(){for(var t=[],n=0;n<this.tans.length;n++)t.push(this.tans[n].dup());return new Tangram(t)},Tangram.prototype.center=function(){var t=new Point,n=computeBoundingBox(this.tans,this.outline);return t.x=n[0].dup().add(n[2]).scale(.5),t.y=n[1].dup().add(n[3]).scale(.5),t},Tangram.prototype.positionCentered=function(){var t=new Point(new IntAdjoinSqrt2(30,0),new IntAdjoinSqrt2(30,0));t.subtract(this.center());for(var n=0;n<this.tans.length;n++)this.tans[n].anchor.translate(t.x,t.y);this.outline=computeOutline(this.tans,!0)},Tangram.prototype.toSVGOutline=function(t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","path");this.outline=computeOutline(this.tans,!0);for(var o="M "+this.outline[0][0].toFloatX()+", "+this.outline[0][0].toFloatY()+" ",i=1;i<this.outline[0].length;i++)o+="L "+this.outline[0][i].toFloatX()+", "+this.outline[0][i].toFloatY()+" ";o+="Z ",e.setAttributeNS(null,"fill","#3299BB"),e.setAttributeNS(null,"transform","scale(6)");for(var a=1;a<this.outline.length;a++){o+="M "+this.outline[a][0].toFloatX()+", "+this.outline[a][0].toFloatY()+" ";for(i=1;i<this.outline[a].length;i++)o+="L "+this.outline[a][i].toFloatX()+", "+this.outline[a][i].toFloatY()+" ";o+="Z"}return e.setAttributeNS(null,"d",o),e.setAttributeNS(null,"fill-rule","evenodd"),n.appendChild(e),n},Tangram.prototype.toSVGTans=function(t){for(var n=document.createElementNS("http://www.w3.org/2000/svg","g"),e=0;e<this.tans.length;e++){var o=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.setAttributeNS(null,"points",this.tans[e].toSVG()),o.setAttributeNS(null,"fill","#FF9900"),o.setAttributeNS(null,"stroke","#3299BB"),o.setAttributeNS(null,"stroke-width","0.05"),n.appendChild(o)}document.getElementById(t).appendChild(n)};var compareTangrams=function(t,n){return t.evaluation.getValue(4)-n.evaluation.getValue(4)};