define(["sugar-web/graphics/palette"],(function(t){"use strict";var e={FilterPalette:function(e,i,n){t.Palette.call(this,e,i),this.filterEvent=document.createEvent("CustomEvent"),this.filterEvent.initCustomEvent("filter",!0,!0,{}),this.remoteEvent=document.createEvent("CustomEvent"),this.remoteEvent.initCustomEvent("remote",!0,!0,{});var s=this;s.categories=[],s.buttons=[],this.setCategories=function(t){this.categories=t,this.buttons=[];for(var e=document.createElement("div"),i=0;i<t.length;i++){var n=document.createElement("button");n.className="toolbutton palette-button palette-button-notselected filter-item",n.setAttribute("id",t[i].id),n.setAttribute("title",t[i].title),n.innerHTML=t[i].title;t[i].id;n.onclick=function(){s.setFilter(this.id)},this.buttons.push(n),e.appendChild(n)}this.setContent([e])},this.setFilter=function(t){for(var e=this.getFilter(),i=0!=e.length&&e==t,n=-1,o=0;o<this.categories.length;o++)if(this.categories[o].id==t){n=o;break}if(-1!=n){for(o=0;o<this.buttons.length;o++)this.buttons[o].className="toolbutton palette-button palette-button-notselected filter-item";i?this.getPalette().dispatchEvent(this.filterEvent):(this.buttons[n].className="toolbutton palette-button palette-button-selected filter-item",s.getPalette().dispatchEvent(s.filterEvent))}}}};return e.FilterPalette.prototype=Object.create(t.Palette.prototype,{addEventListener:{value:function(t,e,i){return this.getPalette().addEventListener(t,e,i)},enumerable:!0,configurable:!0,writable:!0}}),e.FilterPalette.prototype.setCategories=function(t){this.setCategories(t)},e.FilterPalette.prototype.setFilter=function(t){this.setFilter(t)},e.FilterPalette.prototype.getFilter=function(){for(var t=0;t<this.buttons.length;t++)if("toolbutton palette-button palette-button-selected filter-item"==this.buttons[t].className)return this.categories[t].id;return""},e}));