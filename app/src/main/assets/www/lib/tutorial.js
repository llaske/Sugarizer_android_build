define([],(function(){var t,e={},n=!1;return e.elements=[],e.icons=null,e.init=function(){var o=l10n.get("TutoPrev"),l=l10n.get("TutoNext"),i=l10n.get("TutoEnd");this.activityId="org.olpcfrance.sharednotes";var c=void 0;t=new Tour({template:"\t\t\t<div class='popover tour'>\t\t\t\t<div class='arrow'></div>\t\t\t\t<h3 class='popover-title tutorial-title'></h3>\t\t\t\t<table><tr><td style='vertical-align:top;'><div id='icon-tutorial' style='visibility:hidden;display:inline-block;'></div>\t\t\t\t</td><td><div class='popover-content'></div></td></tr></table>\t\t\t\t<div class='popover-navigation' style='display: flex; flex-wrap:wrap; justify-content: center; align-items: center'>\t\t\t\t\t<div class='tutorial-prev-icon icon-button' data-role='prev'>\t\t\t\t\t\t<div class='tutorial-prev-icon1 web-activity'>\t\t\t\t\t\t\t<div class='tutorial-prev-icon2 web-activity-icon'></div>\t\t\t\t\t\t\t<div class='tutorial-prev-icon3 web-activity-disable'></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class='icon-tutorial-text'>"+o+"</div>\t\t\t\t\t</div>\t\t\t\t\t<span data-role='separator' style='margin: 4px'>|</span>\t\t\t\t\t<div class='tutorial-next-icon icon-button' data-role='next'>\t\t\t\t\t\t<div class='tutorial-next-icon1 web-activity'>\t\t\t\t\t\t\t<div class='tutorial-next-icon2 web-activity-icon'></div>\t\t\t\t\t\t\t<div class='tutorial-next-icon3 web-activity-disable'></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class='icon-tutorial-text'>"+l+"</div>\t\t\t\t\t</div>\t\t\t\t\t<div class='tutorial-end-icon icon-button' data-role='end'>\t\t\t\t\t\t<div class='tutorial-end-icon1 web-activity'>\t\t\t\t\t\t\t<div class='tutorial-end-icon2 web-activity-icon'></div>\t\t\t\t\t\t\t<div class='tutorial-end-icon3 web-activity-disable'></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class='icon-tutorial-text'>"+i+"</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>",storage:!1,backdrop:!0,steps:[],onShown:function(){if(e.icons&&e.icons.steps&&e.icons.steps[t.getCurrentStep()]){var n=e.icons.steps[t.getCurrentStep()],o=document.getElementById("icon-tutorial");o&&(o.style.visibility="visible",o.style.backgroundImage="url('"+n.directory+"/"+n.icon+"')",o.style.backgroundSize=n.size+"px",o.style.width=n.size+"px",o.style.height=n.size+"px",o.style.marginTop="15px",o.style.marginLeft="5px",n.color&&iconLib.colorize(o,n.color,(function(){})))}app.getView()==constant.radialView&&0==t.getCurrentStep()&&window.setTimeout((function(){0==document.getElementsByClassName("popover tour-tour").length&&(t.end(),window.setTimeout((function(){app.getToolbar().startTutorial()}),2*constant.timerBeforeTutorial))}),2*constant.timerBeforeTutorial)},onEnd:function(){e.elements=[],e.icons=null,n=!1}});var a=app.getView();if(a==constant.radialView)t.addSteps([{element:"",orphan:!0,placement:"bottom",title:l10n.get("TutoInitMainTitle"),content:l10n.get("TutoInitMainContent")},{element:e.getElement("owner"),placement:"right",title:l10n.get("TutoUserTitle"),content:l10n.get("TutoUserContent")},{element:e.getElement("activity"),placement:"bottom",title:l10n.get("TutoActivityTitle"),content:l10n.get("TutoActivityContent")},{element:e.getElement("journal"),placement:"right",title:l10n.get("TutoJournalTitle"),content:l10n.get("TutoJournalContent")},{element:e.getElement("radialbutton"),placement:"bottom",title:l10n.get("TutoFavoriteTitle"),content:l10n.get("TutoFavoriteContent")},{element:e.getElement("listbutton"),placement:"bottom",title:l10n.get("TutoListTitle"),content:l10n.get("TutoListContent")},{element:e.getElement("searchtext"),placement:"bottom",title:l10n.get("TutoSearchTitle"),content:l10n.get("TutoSearchContent")},{element:e.getElement("offlinebutton"),placement:"bottom",title:l10n.get("TutoOfflineTitle"),content:l10n.get("TutoOfflineContent")},{element:e.getElement("neighborbutton"),placement:"bottom",title:l10n.get("TutoNeighborTitle"),content:l10n.get("TutoNeighborContent")},{element:"",orphan:!0,placement:"bottom",title:l10n.get("TutoRunTitle"),content:l10n.get("TutoRunContent")}]),e.icons={steps:{0:{icon:"owner-icon.svg",directory:"icons",size:constant.sizeEmpty,color:preferences.getColor()},3:{icon:"activity-journal.svg",directory:"icons",size:constant.sizeEmpty},7:{icon:"cloud-warning.svg",directory:"icons",size:constant.sizeEmpty},9:{icon:"activity-icon.svg",directory:"activities/SharedNotes.activity/activity",size:constant.sizeEmpty}}};else if(a==constant.listView){var r=e.getElementAsObject("activities");if(r){var u=[];e.icons={steps:{}};for(var m=0;m<r.length;m++)u.push({element:"",orphan:!0,placement:"bottom",title:r[m].title,content:r[m].description}),e.icons.steps[m]=r[m].icon;t.addSteps(u),c=e.getElementAsObject("step")}else t.addSteps([{element:e.getElement("radialbutton"),placement:"bottom",title:l10n.get("TutoFavoriteTitle"),content:l10n.get("TutoFavoriteContent")},{element:e.getElement("listbutton"),placement:"bottom",title:l10n.get("TutoListTitle"),content:l10n.get("TutoListContent")},{element:e.getElement("favoriteitembutton"),placement:"bottom",title:l10n.get("TutoFavswitchTitle"),content:l10n.get("TutoFavswitchContent")},{element:e.getElement("searchtext"),placement:"bottom",title:l10n.get("TutoSearchTitle"),content:l10n.get("TutoSearchContent")},{element:e.getElement("neighborbutton"),placement:"bottom",title:l10n.get("TutoNeighborTitle"),content:l10n.get("TutoNeighborContent")}])}else if(a==constant.journalView)t.addSteps([{element:"",orphan:!0,placement:"bottom",title:l10n.get("TutoJournalIntroTitle"),content:l10n.get("TutoJournalIntroContent")},{element:e.getElement("activityitem"),placement:"bottom",title:l10n.get("TutoJournalActivityTitle"),content:l10n.get("TutoJournalActivityContent")},{element:e.getElement("timeitem"),placement:"bottom",title:l10n.get("TutoJournalTimeTitle"),content:l10n.get("TutoJournalTimeContent")},{element:e.getElement("titleitem"),placement:"bottom",title:l10n.get("TutoJournalTitleTitle"),content:l10n.get("TutoJournalTitleContent")},{element:e.getElement("favoriteitem"),placement:"bottom",title:l10n.get("TutoJournalFavoriteTitle"),content:l10n.get("TutoJournalFavoriteContent")},{element:e.getElement("checkitem"),placement:"bottom",title:l10n.get("TutoJournalCheckTitle"),content:l10n.get("TutoJournalCheckContent")},{element:e.getElement("searchtext"),placement:"bottom",title:l10n.get("TutoJournalSearchTitle"),content:l10n.get("TutoJournalSearchContent")},{element:e.getElement("favoritebutton"),placement:"bottom",title:l10n.get("TutoJournalFavButtonTitle"),content:l10n.get("TutoJournalFavButtonContent")},{element:e.getElement("typeselect"),placement:"bottom",title:l10n.get("TutoJournalTypeTitle"),content:l10n.get("TutoJournalTypeContent")},{element:e.getElement("timeselect"),placement:"bottom",title:l10n.get("TutoJournalTimeButtonTitle"),content:l10n.get("TutoJournalTimeButtonContent")},{element:e.getElement("sortselect"),placement:"bottom",title:l10n.get("TutoJournalSortButtonTitle"),content:l10n.get("TutoJournalSortButtonContent")},{element:e.getElement("fromdevicebutton"),placement:"bottom",title:l10n.get("TutoJournalFromDeviceButtonTitle"),content:l10n.get("TutoJournalFromDeviceButtonContent")},{element:e.getElement("journalbutton"),placement:"top",title:l10n.get("TutoJournalLocalTitle"),content:l10n.get("TutoJournalLocalContent")},{element:e.getElement("cloudonebutton"),placement:"top",title:l10n.get("TutoJournalCloudOneTitle"),content:l10n.get("TutoJournalCloudOneContent")},{element:e.getElement("cloudallbutton"),placement:"top",title:l10n.get("TutoJournalCloudAllTitle"),content:l10n.get("TutoJournalCloudAllContent")},{element:e.getElement("radialbutton"),placement:"bottom",title:l10n.get("TutoGotoHomeTitle"),content:l10n.get("TutoGotoHomeContent")}]);else if(a==constant.neighborhoodView)t.addSteps([{element:"",orphan:!0,placement:"bottom",title:l10n.get("TutoNeighborIntroTitle"),content:window.sugarizerOS?l10n.get("TutoNeighborIntroContent2"):l10n.get("TutoNeighborIntroContent")},{element:e.getElement("owner"),placement:"right",title:l10n.get("TutoNeighborUserTitle"),content:l10n.get("TutoNeighborUserContent")},{element:e.getElement("server"),placement:"auto",title:l10n.get("TutoNeighborServerTitle"),content:l10n.get("TutoNeighborServerContent")},{element:e.getElement("other"),placement:"auto",title:l10n.get("TutoNeighborOtherTitle"),content:l10n.get("TutoNeighborOtherContent")},{element:e.getElement("activity"),placement:"auto",title:l10n.get("TutoNeighborActivityTitle"),content:l10n.get("TutoNeighborActivityContent")},{element:e.getElement("wifi"),placement:"auto",title:l10n.get("TutoNeighborWifiTitle"),content:l10n.get("TutoNeighborWifiContent")},{element:e.getElement("radialbutton"),placement:"bottom",title:l10n.get("TutoGotoHomeTitle"),content:l10n.get("TutoGotoHomeContent")}]);else if(a==constant.initView){var g={element:e.getElement("previous"),placement:"top",title:l10n.get("TutoInitPreviousTitle"),content:l10n.get("TutoInitPreviousContent")},s={element:e.getElement("next"),placement:"top",title:l10n.get("TutoInitNextTitle"),content:l10n.get("TutoInitNextContent")},T=e.getElementAsObject("createnew"),p=(u=[[{element:"",orphan:!0,placement:"bottom",title:l10n.get("TutoInitIntroTitle"),content:l10n.get("TutoInitIntroTitleIntroContent")},{element:e.getElement("newuser"),placement:"left",title:l10n.get("TutoInitNewUserTitle"),content:l10n.get("TutoInitNewUserContent")},{element:e.getElement("login"),placement:"right",title:l10n.get("TutoInitLoginTitle"),content:l10n.get("TutoInitLoginContent")},{element:e.getElement("historybox"),placement:"bottom",title:l10n.get("TutoInitHistoryTitle"),content:l10n.get("TutoInitHistoryContent")},{element:e.getElement("helpbutton"),placement:"bottom",title:l10n.get("TutoInitHelpTitle"),content:l10n.get("TutoInitHelpContent")},{element:e.getElement("stopbutton"),placement:"bottom",title:l10n.get("TutoInitStopTitle"),content:l10n.get("TutoInitStopContent")}],[{element:e.getElement("serverbox"),placement:"bottom",title:l10n.get("TutoInitServerTitle"),content:l10n.get("TutoInitServerContent")},{element:e.getElement("qrcode"),placement:"bottom",title:l10n.get("TutoInitQRCodeTitle"),content:l10n.get("TutoInitQRCodeContent")},g,s],[{element:e.getElement("namebox"),placement:"bottom",title:T?l10n.get("TutoInitNameNewTitle"):l10n.get("TutoInitNameTitle"),content:T?l10n.get("TutoInitNameNewContent"):l10n.get("TutoInitNameContent")},g,s],[{element:e.getElement("passbox"),placement:"right",title:T?l10n.get("TutoInitPasswordNewTitle"):l10n.get("TutoInitPasswordTitle"),content:T?l10n.get("TutoInitPasswordNewContent"):l10n.get("TutoInitPasswordContent")},g,s],[{element:T?e.getElement("owner"):e.getElement("passbox"),placement:"right",title:T?l10n.get("TutoInitColorTitle"):l10n.get("TutoInitPasswordTitle"),content:T?l10n.get("TutoInitColorContent"):l10n.get("TutoInitPasswordContent")},g,s],[{element:"",orphan:!0,placement:"bottom",title:l10n.get("TutoInitCookieTitle"),content:l10n.get("TutoInitCookieContent")},{element:e.getElement("decline"),placement:"top",title:l10n.get("TutoInitDeclineTitle"),content:l10n.get("TutoInitDeclineContent")},{element:e.getElement("accept"),placement:"top",title:l10n.get("TutoInitAcceptTitle"),content:l10n.get("TutoInitAcceptContent")}]],e.getElementAsObject("currentstep"));t.addSteps(u[p]),0==p&&(e.icons={steps:{0:{icon:"owner-icon.svg",directory:"icons",size:constant.sizeEmpty,color:{stroke:"#005FE4",fill:"#FF2B34"}}}})}t.init(),void 0!==c&&t.goTo(c)},e.setElement=function(t,n){e.elements[t]=n},e.getElement=function(t){return"#"+e.elements[t]},e.getElementAsObject=function(t){return e.elements[t]},e.start=function(){n||(e.init(),t.start(!0),n=!0)},e.isLaunched=function(){return n},e}));