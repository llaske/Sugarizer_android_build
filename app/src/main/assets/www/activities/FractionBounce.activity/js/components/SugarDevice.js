Vue.component("sugar-device",{template:'<div style="display: none">{{ watchId }}</div>',data:function(){return{watchId:null,readyToWatch:!1,frequencyExpected:0}},mounted:function(){var e=this;requirejs(["domReady!"],(function(){document.addEventListener("deviceready",(function(){e.readyToWatch=!0,e.frequencyExpected>0&&e.watchAcceleration(e.frequencyExpected)}),!1)}))},methods:{isMobile(){var e=navigator.userAgent;return!!/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(e)},isElectron(){var e=navigator.userAgent;return!!/Electron/.test(e)},isApp:()=>"http"!=document.location.protocol.substr(0,4),isWebApp(){return!(this.isMobile()||this.isElectron()||this.isApp())},getOS(){var e=navigator.userAgent;for(var n of[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Chrome OS",r:/CrOS/},{s:"Linux",r:/(Linux|X11(?!.*CrOS))/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}])if(n.r.test(e))return n.s},watchAcceleration:function(e){var n=this;if(window.Accelerometer){var i=new Accelerometer({frequency:e});i&&(i.addEventListener("reading",(function(){n.accelerationCallback(i)})),i.start())}else navigator.accelerometer&&n.readyToWatch?n.watchId=navigator.accelerometer.watchAcceleration((function(e){n.accelerationCallback(e)}),null,{frequency:e}):n.frequencyExpected=e},accelerationCallback:function(e){this.readyToWatch&&(this.readyToWatch=!1),this.$emit("acceleration-callback",e)},getLocation:function(){return new Promise(((e,n)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e):e(null,{code:1})}))},vibrate:function(e){navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&navigator.vibrate(e)}},beforeDestroy:function(){navigator.accelerometer&&this.watchId&&navigator.accelerometer.clearWatch(this.watchId)}});