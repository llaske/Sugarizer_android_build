/**
 * math.js
 * https://github.com/josdejong/mathjs
 *
 * Math.js is an extensive math library for JavaScript and Node.js,
 * It features real and complex numbers, units, matrices, a large set of
 * mathematical functions, and a flexible expression parser.
 *
 * @version 1.7.0
 * @date    2015-05-31
 *
 * @license
 * Copyright (C) 2013-2015 Jos de Jong <wjosdejong@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */
!function webpackUniversalModuleDefinition(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):"object"==typeof exports?exports.math=r():e.math=r()}(this,(function(){return function(e){var r={};function __webpack_require__(t){if(r[t])return r[t].exports;var n=r[t]={exports:{},id:t,loaded:!1};return e[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}return __webpack_require__.m=e,__webpack_require__.c=r,__webpack_require__.p="",__webpack_require__(0)}([function(e,r,t){e.exports=t(1)},function(e,r,t){"use strict";var n=t(12),i=t(5).digits;var o=function create(e){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var r={},o={matrix:"matrix",number:"number",precision:64,epsilon:1e-14};r.config=function(e){if(e){if(n.deepExtend(o,e),e.precision&&r.type.BigNumber.config({precision:e.precision}),t(15)(r,o),e.number&&e.number.defaultType)throw new Error("setting `number.defaultType` is deprecated. Use `number` instead.");if(e.number&&e.number.precision)throw new Error("setting `number.precision` is deprecated. Use `precision` instead.");if(e.matrix&&e.matrix.defaultType)throw new Error("setting `matrix.defaultType` is deprecated. Use `matrix` instead.");if(e.matrix&&e.matrix.default)throw new Error("setting `matrix.default` is deprecated. Use `matrix` instead.");if(e.decimals)throw new Error("setting `decimals` is deprecated. Use `precision` instead.")}return n.clone(o)},r.create=create;var a=t(7).constructor();if(a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(e){return new a(e.value)},"function"!=typeof a.prototype.clone&&(a.prototype.clone=function(){return this}),"function"==typeof a.convert)throw new Error("Cannot add function convert to BigNumber: function already exists");return a.convert=function(e){return i(e)>15?e:new a(e)},r.error=t(21),r.type={},r.type.Complex=t(16),r.type.Range=t(24),r.type.Index=t(25),r.type.Matrix=t(26)(o),r.type.Unit=t(19),r.type.Help=t(27),r.type.ResultSet=t(28),r.type.BigNumber=a,r.collection=t(29)(r,o),r.type.CcsMatrix=t(30)(r,o),r.type.CrsMatrix=t(31)(r,o),r.type.DenseMatrix=t(32)(r,o),r.type.Matrix._storage.ccs=r.type.CcsMatrix,r.type.Matrix._storage.crs=r.type.CrsMatrix,r.type.Matrix._storage.dense=r.type.DenseMatrix,r.type.Matrix._storage.default=r.type.DenseMatrix,r.expression={},r.expression.node=t(33),r.expression.parse=t(50)(r,o),r.expression.Parser=t(51)(r,o),r.expression.docs=t(52),r.json={reviver:t(203)(r,o)},t(204)(r,o),t(205)(r,o),t(206)(r,o),t(207)(r,o),t(208)(r,o),t(209)(r,o),t(210)(r,o),t(211)(r,o),t(212)(r,o),t(213)(r,o),t(214)(r,o),t(215)(r,o),t(216)(r,o),t(217)(r,o),t(218)(r,o),t(219)(r,o),t(220)(r,o),t(221)(r,o),t(222)(r,o),t(223)(r,o),t(224)(r,o),t(225)(r,o),t(226)(r,o),t(227)(r,o),t(228)(r,o),t(229)(r,o),t(230)(r,o),t(231)(r,o),t(232)(r,o),t(233)(r,o),t(234)(r,o),t(235)(r,o),t(236)(r,o),t(237)(r,o),t(238)(r,o),t(239)(r,o),t(240)(r,o),t(241)(r,o),t(242)(r,o),t(243)(r,o),t(244)(r,o),t(245)(r,o),t(246)(r,o),t(247)(r,o),t(248)(r,o),t(249)(r,o),t(250)(r,o),t(251)(r,o),t(252)(r,o),t(253)(r,o),t(254)(r,o),t(255)(r,o),t(256)(r,o),t(257)(r,o),t(258)(r,o),t(259)(r,o),t(260)(r,o),t(261)(r,o),t(262)(r,o),t(263)(r,o),t(264)(r,o),t(265)(r,o),t(266)(r,o),t(267)(r,o),t(268)(r,o),t(2)(r,o),t(269)(r,o),t(270)(r,o),t(271)(r,o),t(272)(r,o),t(273)(r,o),t(274)(r,o),t(275)(r,o),t(276)(r,o),t(277)(r,o),t(278)(r,o),t(279)(r,o),t(280)(r,o),t(281)(r,o),t(282)(r,o),t(283)(r,o),t(285)(r,o),t(286)(r,o),t(287)(r,o),t(288)(r,o),t(289)(r,o),t(290)(r,o),t(291)(r,o),t(292)(r,o),t(293)(r,o),t(294)(r,o),t(295)(r,o),t(296)(r,o),t(297)(r,o),t(298)(r,o),t(299)(r,o),t(300)(r,o),t(301)(r,o),t(302)(r,o),t(303)(r,o),t(304)(r,o),t(305)(r,o),t(306)(r,o),t(307)(r,o),t(308)(r,o),t(309)(r,o),t(310)(r,o),t(311)(r,o),t(312)(r,o),t(313)(r,o),t(314)(r,o),t(315)(r,o),t(316)(r,o),t(317)(r,o),t(318)(r,o),t(319)(r,o),t(320)(r,o),t(321)(r,o),t(322)(r,o),t(323)(r,o),t(324)(r,o),t(325)(r,o),t(326)(r,o),t(327)(r,o),t(328)(r,o),t(329)(r,o),t(330)(r,o),t(331)(r,o),t(332)(r,o),t(333)(r,o),t(334)(r,o),t(335)(r,o),t(336)(r,o),t(339)(r,o),t(340)(r,o),t(341)(r,o),t(342)(r,o),t(343)(r,o),t(338)(r,o),r.ifElse=function(){throw new Error("Function ifElse is deprecated. Use the conditional operator instead.")},t(15)(r,o),r.expression.transform={concat:t(344)(r,o),filter:t(346)(r,o),forEach:t(347)(r,o),index:t(348)(r,o),map:t(349)(r,o),max:t(350)(r,o),mean:t(351)(r,o),min:t(352)(r,o),range:t(353)(r,o),subset:t(354)(r,o)},r.chaining={},r.chaining.Chain=t(355)(r,o),r.chaining.Selector=r.chaining.Chain,r.config(o),r.config(e),r}();"undefined"!=typeof window&&(window.mathjs=o),e.exports=o},function(e,r,t){"use strict";e.exports=function(e){var r=t(3),n=e.type.Matrix;function _dot(t,n){var i=r.size(t),o=r.size(n),a=i[0];if(1!==i.length||1!==o.length)throw new RangeError("Vector expected");if(i[0]!=o[0])throw new RangeError("Vectors must have equal length ("+i[0]+" != "+o[0]+")");if(0==a)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var s=0,u=0;u<a;u++)s=e.add(s,e.multiply(t[u],n[u]));return s}e.dot=function dot(r,t){if(r instanceof n){if(t instanceof n)return _dot(r.toArray(),t.toArray());if(Array.isArray(t))return _dot(r.toArray(),t)}else if(Array.isArray(r)){if(t instanceof n)return _dot(r,t.toArray());if(Array.isArray(t))return _dot(r,t)}throw new e.error.UnsupportedTypeError("dot",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";var n=t(5),i=t(9),o=t(12),a=(t(4),t(13)),s=t(14),u=Array.isArray;function _validate(e,r,t){var n,i=e.length;if(i!=r[t])throw new a(i,r[t]);if(t<r.length-1){var o=t+1;for(n=0;n<i;n++){var s=e[n];if(!u(s))throw new a(r.length-1,r.length,"<");_validate(e[n],r,o)}}else for(n=0;n<i;n++)if(u(e[n]))throw new a(r.length+1,r.length,">")}function _resize(e,t,n,i){var a,s,c=e.length,l=t[n],f=Math.min(c,l);if(e.length=l,n<t.length-1){var p=n+1;for(a=0;a<f;a++)s=e[a],u(s)||(s=[s],e[a]=s),_resize(s,t,p,i);for(a=f;a<l;a++)s=[],e[a]=s,_resize(s,t,p,i)}else{for(a=0;a<f;a++)for(;u(e[a]);)e[a]=e[a][0];if(i!==r.UNINITIALIZED)for(a=f;a<l;a++)e[a]=o.clone(i)}}function _squeeze(e,r,t){var n,i;if(t<r){var o=t+1;for(n=0,i=e.length;n<i;n++)e[n]=_squeeze(e[n],r,o)}else for(;u(e);)e=e[0];return e}function _unsqueeze(e,r,t){var n,i;if(u(e)){var o=t+1;for(n=0,i=e.length;n<i;n++)e[n]=_unsqueeze(e[n],r,o)}else for(var a=t;a<r;a++)e=[e];return e}r.size=function(e){var t=function _size(e){for(var r=[];u(e);)r.push(e.length),e=e[0];return r}(e);return r.validate(e,t),t},r.validate=function(e,r){if(0==r.length){if(u(e))throw new a(e.length,0)}else _validate(e,r,0)},r.validateIndex=function(e,r){if(!n.isNumber(e)||!n.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0)throw new s(e);if(void 0!==r&&e>=r)throw new s(e,r)},r.UNINITIALIZED={},r.resize=function(e,r,t){if(!u(e)||!u(r))throw new TypeError("Array expected");if(0===r.length)throw new Error("Resizing to scalar is not supported");return r.forEach((function(e){if(!n.isNumber(e)||!n.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+i.format(r)+")")})),_resize(e,r,0,void 0!==t?t:0),e},r.squeeze=function(e,t){for(var n=t||r.size(e);u(e)&&1===e.length;)e=e[0],n.shift();for(var i=n.length;1===n[i-1];)i--;return i<n.length&&(e=_squeeze(e,i,0),n.length=i),e},r.unsqueeze=function(e,t,n,i){var o=i||r.size(e);if(n)for(var a=0;a<n;a++)e=[e],o.unshift(1);for(e=_unsqueeze(e,t,0);o.length<t;)o.push(1);return e},r.flatten=function(e){if(!Array.isArray(e))return e;var r=[];return e.forEach((function callback(e){Array.isArray(e)?e.forEach(callback):r.push(e)})),r},r.argsToArray=function(e){for(var r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},r.isArray=u},function(e,r,t){"use strict";r.type=function(e){var r=typeof e;if("object"===r){if(null===e)return"null";if(e instanceof Boolean)return"boolean";if(e instanceof Number)return"number";if(e instanceof String)return"string";if(Array.isArray(e))return"array";if(e instanceof Date)return"date";if(e instanceof Function)return"function";if(e instanceof RegExp)return"regexp"}return r}},function(e,r,t){"use strict";var n=t(6);r.isNumber=function(e){return e instanceof Number||"number"==typeof e},r.isInteger=function(e){return e==Math.round(e)},r.sign=function(e){return e>0?1:e<0?-1:0},r.format=function(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n="auto",i=void 0;switch(t&&(t.notation&&(n=t.notation),r.isNumber(t)?i=t:t.precision&&(i=t.precision)),n){case"fixed":return r.toFixed(e,i);case"exponential":return r.toExponential(e,i);case"auto":return r.toPrecision(e,i,t&&t.exponential).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],r=arguments[4];return"."!==e?e+r:r}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},r.toExponential=function(e,r){return new n(e).toExponential(r)},r.toFixed=function(e,r){return new n(e).toFixed(r)},r.toPrecision=function(e,r,t){return new n(e).toPrecision(r,t)},r.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},r.DBL_EPSILON=Number.EPSILON||2220446049250313e-31,r.nearlyEqual=function(e,t,n){if(null==n)return e==t;if(e==t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var i=Math.abs(e-t);return i<r.DBL_EPSILON||i<=Math.max(Math.abs(e),Math.abs(t))*n}return!1},r.isPositiveInteger=function(e){var n=t(7);return!!(r.isNumber(e)&&r.isInteger(e)&&e>=0)||!!(e instanceof n&&e.isInteger()&&e.gte(0))}},function(e,r,t){"use strict";function NumberFormatter(e){var r=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number");var t=r[1],n=r[2],i=parseFloat(r[4]||"0"),o=n.indexOf(".");i+=-1!==o?o-1:n.length-1,this.sign=t,this.coefficients=n.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)})),0===this.coefficients.length&&(this.coefficients.push(0),i++),this.exponent=i}function zeros(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}NumberFormatter.prototype.toFixed=function(e){var r=this.roundDigits(this.exponent+1+(e||0)),t=r.coefficients,n=r.exponent+1,i=n+(e||0);return t.length<i&&(t=t.concat(zeros(i-t.length))),n<0&&(t=zeros(1-n).concat(t),n=1),e&&t.splice(n,0,0===n?"0.":"."),this.sign+t.join("")},NumberFormatter.prototype.toExponential=function(e){var r=e?this.roundDigits(e):this.clone(),t=r.coefficients,n=r.exponent;t.length<e&&(t=t.concat(zeros(e-t.length)));var i=t.shift();return this.sign+i+(t.length>0?"."+t.join(""):"")+"e"+(n>=0?"+":"")+n},NumberFormatter.prototype.toPrecision=function(e,r){var t=r&&void 0!==r.lower?r.lower:.001,n=r&&void 0!==r.upper?r.upper:1e5,i=Math.abs(Math.pow(10,this.exponent));if(i<t||i>=n)return this.toExponential(e);var o=e?this.roundDigits(e):this.clone(),a=o.coefficients,s=o.exponent;a.length<e&&(a=a.concat(zeros(e-a.length))),a=a.concat(zeros(s-a.length+1+(a.length<e?e-a.length:0)));var u=s>0?s:0;return u<(a=zeros(-s).concat(a)).length-1&&a.splice(u+1,0,"."),this.sign+a.join("")},NumberFormatter.prototype.clone=function(){var e=new NumberFormatter("0");return e.sign=this.sign,e.coefficients=this.coefficients.slice(0),e.exponent=this.exponent,e},NumberFormatter.prototype.roundDigits=function(e){for(var r=this.clone(),t=r.coefficients;e<=0;)t.unshift(0),r.exponent++,e++;if(t.length>e&&t.splice(e)[0]>=5){var n=e-1;for(t[n]++;10===t[n];)t.pop(),0===n&&(t.unshift(0),r.exponent++,n++),t[--n]++}return r},e.exports=NumberFormatter},function(e,r,t){var n=t(8);e.exports=n},function(e,r,t){var n;/*! decimal.js v4.0.2 https://github.com/MikeMcl/decimal.js/LICENCE */!function(i){"use strict";var o,a,s,u=i.crypto,c=!0,l=0,f=Math.floor,p=Math.pow,h=Object.prototype.toString,m=1e7,g=7,d="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",x={},y=9e15,w=1e9,v="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058";function coefficientToString(e){for(var r,t,n=1,i=e.length,o=e[0]+"";n<i;n++){for(r=e[n]+"",t=g-r.length;t--;)r="0"+r;o+=r}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function checkRoundingDigits(e,r,t,n){var i,o,a,s,u;for(o=1,a=e[0];a>=10;a/=10,o++);return(a=r-o)<0?(a+=g,i=0):(i=Math.ceil((a+1)/g),a%=g),o=p(10,g-a),u=e[i]%o|0,null==n?a<3?(0==a?u=u/100|0:1==a&&(u=u/10|0),s=t<4&&99999==u||t>3&&49999==u||5e4==u||0==u):s=(t<4&&u+1==o||t>3&&u+1==o/2)&&(e[i+1]/o/100|0)==p(10,a-2)-1||(u==o/2||0==u)&&0==(e[i+1]/o/100|0):a<4?(0==a?u=u/1e3|0:1==a?u=u/100|0:2==a&&(u=u/10|0),s=(n||t<4)&&9999==u||!n&&t>3&&4999==u):s=((n||t<4)&&u+1==o||!n&&t>3&&u+1==o/2)&&(e[i+1]/o/1e3|0)==p(10,a-3)-1,s}function checkRM(e,r,t){var n=e.constructor;return null==r||((s=r<0||r>8)||0!==r&&(n.errors?parseInt:parseFloat)(r)!=r)&&!ifExceptionsThrow(n,"rounding mode",r,t,0)?n.rounding:0|r}function checkArg(e,r,t,n){var i=e.constructor;return!(s=r<(n||0)||r>=w+1)&&(0===r||(i.errors?parseInt:parseFloat)(r)==r)||ifExceptionsThrow(i,"argument",r,t,0)}x.absoluteValue=x.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),rnd(e)},x.ceil=function(){return rnd(new this.constructor(this),this.e+1,2)},x.comparedTo=x.cmp=function(e,r){var t,n=this,i=n.c,o=(l=-l,(e=new n.constructor(e,r)).c),a=n.s,s=e.s,u=n.e,c=e.e;if(!a||!s)return null;if(t=i&&!i[0],r=o&&!o[0],t||r)return t?r?0:-s:a;if(a!=s)return a;if(t=a<0,!i||!o)return u==c?0:!i^t?1:-1;if(u!=c)return u>c^t?1:-1;for(a=-1,s=(u=i.length)<(c=o.length)?u:c;++a<s;)if(i[a]!=o[a])return i[a]>o[a]^t?1:-1;return u==c?0:u>c^t?1:-1},x.decimalPlaces=x.dp=function(){var e,r,t=null;if(e=this.c){if(t=((r=e.length-1)-f(this.e/g))*g,r=e[r])for(;r%10==0;r/=10,t--);t<0&&(t=0)}return t},x.dividedBy=x.div=function(e,r){return l=2,b(this,new this.constructor(e,r))},x.dividedToIntegerBy=x.divToInt=function(e,r){var t=this.constructor;return l=18,rnd(b(this,new t(e,r),0,1,1),t.precision,t.rounding)},x.equals=x.eq=function(e,r){return l=3,0===this.cmp(e,r)},x.exponential=x.exp=function(){return exp(this)},x.floor=function(){return rnd(new this.constructor(this),this.e+1,3)},x.greaterThan=x.gt=function(e,r){return l=4,this.cmp(e,r)>0},x.greaterThanOrEqualTo=x.gte=function(e,r){return l=5,1==(r=this.cmp(e,r))||0===r},x.isFinite=function(){return!!this.c},x.isInteger=x.isInt=function(){return!!this.c&&f(this.e/g)>this.c.length-2},x.isNaN=function(){return!this.s},x.isNegative=x.isNeg=function(){return this.s<0},x.isZero=function(){return!!this.c&&0==this.c[0]},x.lessThan=x.lt=function(e,r){return l=6,this.cmp(e,r)<0},x.lessThanOrEqualTo=x.lte=function(e,r){return l=7,-1==(r=this.cmp(e,r))||0===r},x.logarithm=x.log=function(e,r){var t,n,i,o,a,s,u,f,p,h=this,m=h.constructor,g=m.precision,d=m.rounding;if(null==e)e=new m(10),t=!0;else{if(l=15,n=(e=new m(e,r)).c,e.s<0||!n||!n[0]||!e.e&&1==n[0]&&1==n.length)return new m(NaN);t=e.eq(10)}if(n=h.c,h.s<0||!n||!n[0]||!h.e&&1==n[0]&&1==n.length)return new m(n&&!n[0]?-1/0:1!=h.s?NaN:n?0:1/0);if(a=t&&(o=n[0],n.length>1||1!=o&&10!=o&&100!=o&&1e3!=o&&1e4!=o&&1e5!=o&&1e6!=o),c=!1,f=(u=g+5)+10,s=ln(h,u),t?(f>v.length&&ifExceptionsThrow(m,1,f,"log"),i=new m(v.slice(0,f))):i=ln(e,u),checkRoundingDigits((p=b(s,i,u,1)).c,o=g,d))do{if(s=ln(h,u+=10),t?((f=u+10)>v.length&&ifExceptionsThrow(m,1,f,"log"),i=new m(v.slice(0,f))):i=ln(e,u),p=b(s,i,u,1),!a){+coefficientToString(p.c).slice(o+1,o+15)+1==1e14&&(p=rnd(p,g+1,0));break}}while(checkRoundingDigits(p.c,o+=10,d));return c=!0,rnd(p,g,d)},x.minus=function(e,r){var t,n,i,o,a=this,s=a.constructor,u=a.s;if(l=8,r=(e=new s(e,r)).s,!u||!r)return new s(NaN);if(u!=r)return e.s=-r,a.plus(e);var p=a.c,h=e.c,d=f(e.e/g),x=f(a.e/g),y=s.precision,w=s.rounding;if(!x||!d){if(!p||!h)return p?(e.s=-r,e):new s(h?a:NaN);if(!p[0]||!h[0])return a=h[0]?(e.s=-r,e):new s(p[0]?a:3==w?-0:0),c?rnd(a,y,w):a}if(n=(p=p.slice()).length,u=x-d){for((o=u<0)?(u=-u,t=p,n=h.length):(d=x,t=h),(x=Math.ceil(y/g))>n&&(n=x),u>(n+=2)&&(u=n,t.length=1),t.reverse(),r=u;r--;t.push(0));t.reverse()}else for((o=n<(i=h.length))&&(i=n),u=r=0;r<i;r++)if(p[r]!=h[r]){o=p[r]<h[r];break}if(o&&(t=p,p=h,h=t,e.s=-e.s),(r=-((i=p.length)-h.length))>0)for(;r--;p[i++]=0);for(x=m-1,r=h.length;r>u;){if(p[--r]<h[r]){for(n=r;n&&!p[--n];p[n]=x);--p[n],p[r]+=m}p[r]-=h[r]}for(;0==p[--i];p.pop());for(;0==p[0];p.shift(),--d);for(p[0]||(p=[d=0],e.s=3==w?-1:1),e.c=p,u=1,r=p[0];r>=10;r/=10,u++);return e.e=u+d*g-1,c?rnd(e,y,w):e},x.modulo=x.mod=function(e,r){var t,n,i=this,o=i.constructor,a=o.modulo;return l=9,r=(e=new o(e,r)).s,(t=!i.c||!r||e.c&&!e.c[0])||!e.c||i.c&&!i.c[0]?t?new o(NaN):rnd(new o(i),o.precision,o.rounding):(c=!1,9==a?(e.s=1,n=b(i,e,0,3,1),e.s=r,n.s*=r):n=b(i,e,0,a,1),n=n.times(e),c=!0,i.minus(n))},x.naturalLogarithm=x.ln=function(){return ln(this)},x.negated=x.neg=function(){var e=new this.constructor(this);return e.s=-e.s||null,rnd(e)},x.plus=function(e,r){var t,n=this,i=n.constructor,o=n.s;if(l=10,r=(e=new i(e,r)).s,!o||!r)return new i(NaN);if(o!=r)return e.s=-r,n.minus(e);var a=n.c,s=e.c,u=f(e.e/g),p=f(n.e/g),h=i.precision,d=i.rounding;if(!p||!u){if(!a||!s)return new i(o/0);if(!a[0]||!s[0])return n=s[0]?e:new i(a[0]?n:0*o),c?rnd(n,h,d):n}if(a=a.slice(),o=p-u){for(o<0?(o=-o,t=a,r=s.length):(u=p,t=s,r=a.length),(p=Math.ceil(h/g))>r&&(r=p),o>++r&&(o=r,t.length=1),t.reverse();o--;t.push(0));t.reverse()}for(a.length-s.length<0&&(t=s,s=a,a=t),o=s.length,r=0,p=m;o;a[o]%=p)r=(a[--o]=a[o]+s[o]+r)/p|0;for(r&&(a.unshift(r),++u),o=a.length;0==a[--o];a.pop());for(e.c=a,o=1,r=a[0];r>=10;r/=10,o++);return e.e=o+u*g-1,c?rnd(e,h,d):e},x.precision=x.sd=function(e){var r=null,t=this;return e!=r&&e!==!!e&&1!==e&&0!==e&&ifExceptionsThrow(t.constructor,"argument",e,"precision",1),t.c&&(r=getCoeffLength(t.c),e&&t.e+1>r&&(r=t.e+1)),r},x.round=function(){var e=this,r=e.constructor;return rnd(new r(e),e.e+1,r.rounding)},x.squareRoot=x.sqrt=function(){var e,r,t,n,i,o,a=this,s=a.c,u=a.s,l=a.e,p=a.constructor,h=new p(.5);if(1!==u||!s||!s[0])return new p(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);for(c=!1,0==(u=Math.sqrt(+a))||u==1/0?(((r=coefficientToString(s)).length+l)%2==0&&(r+="0"),u=Math.sqrt(r),l=f((l+1)/2)-(l<0||l%2),n=new p(r=u==1/0?"1e"+l:(r=u.toExponential()).slice(0,r.indexOf("e")+1)+l)):n=new p(u.toString()),t=(l=p.precision)+3;;)if(o=n,n=h.times(o.plus(b(a,o,t+2,1))),coefficientToString(o.c).slice(0,t)===(r=coefficientToString(n.c)).slice(0,t)){if("9999"!=(r=r.slice(t-3,t+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(rnd(n,l+1,1),e=!n.times(n).eq(a));break}if(!i&&(rnd(o,l+1,0),o.times(o).eq(a))){n=o;break}t+=4,i=1}return c=!0,rnd(n,l,p.rounding,e)},x.times=function(e,r){var t,n,i=this,o=i.constructor,a=i.c,s=(l=11,(e=new o(e,r)).c),u=f(i.e/g),p=f(e.e/g),h=i.s;if(r=e.s,e.s=h==r?1:-1,!((u||a&&a[0])&&(p||s&&s[0])))return new o(!h||!r||a&&!a[0]&&!s||s&&!s[0]&&!a?NaN:a&&s?0*e.s:e.s/0);for(n=u+p,(h=a.length)<(r=s.length)&&(t=a,a=s,s=t,p=h,h=r,r=p),p=h+r,t=[];p--;t.push(0));for(u=r-1;u>-1;u--){for(r=0,p=h+u;p>u;)r=t[p]+s[u]*a[p-u-1]+r,t[p--]=r%m|0,r=r/m|0;t[p]=(t[p]+r)%m|0}for(r?++n:t[0]||t.shift(),p=t.length;!t[--p];t.pop());for(e.c=t,h=1,r=t[0];r>=10;r/=10,h++);return e.e=h+n*g-1,c?rnd(e,o.precision,o.rounding):e},x.toDecimalPlaces=x.toDP=function(e,r){var t=this;return t=new t.constructor(t),null!=e&&checkArg(t,e,"toDP")?rnd(t,(0|e)+t.e+1,checkRM(t,r,"toDP")):t},x.toExponential=function(e,r){var t=this;return t.c?format(t,null!=e&&checkArg(t,e,"toExponential")?0|e:null,null!=e&&checkRM(t,r,"toExponential"),1):t.toString()},x.toFixed=function(e,r){var t,n=this,i=n.constructor,o=i.toExpNeg,a=i.toExpPos;return null!=e&&(e=checkArg(n,e,t="toFixed")?n.e+(0|e):null,r=checkRM(n,r,t)),i.toExpNeg=-(i.toExpPos=1/0),null!=e&&n.c?(t=format(n,e,r),n.s<0&&n.c&&(n.c[0]?t.indexOf("-")<0&&(t="-"+t):t=t.replace("-",""))):t=n.toString(),i.toExpNeg=o,i.toExpPos=a,t},x.toFormat=function(e,r){var t=this;if(!t.c)return t.toString();var n,i=t.s<0,o=t.constructor.format,a=o.groupSeparator,s=+o.groupSize,u=+o.secondaryGroupSize,c=t.toFixed(e,r).split("."),l=c[0],f=c[1],p=i?l.slice(1):l,h=p.length;if(u&&(h-=(n=s,s=u,u=n)),s>0&&h>0){for(n=h%s||s,l=p.substr(0,n);n<h;n+=s)l+=a+p.substr(n,s);u>0&&(l+=a+p.slice(n)),i&&(l="-"+l)}return f?l+o.decimalSeparator+((u=+o.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+o.fractionGroupSeparator):f):l},x.toFraction=function(e){var r,t,n,i,o,a,u,h,m=this,d=m.constructor,x=r=new d(d.ONE),y=a=new d(0),w=m.c,v=new d(y);if(!w)return m.toString();for(n=v.e=getCoeffLength(w)-m.e-1,v.c[0]=p(10,(u=n%g)<0?g+u:u),(null==e||(!(l=12,o=new d(e)).s||(s=o.cmp(x)<0||!o.c)||d.errors&&f(o.e/g)<o.c.length-1)&&!ifExceptionsThrow(d,"max denominator",e,"toFraction",0)||(e=o).cmp(v)>0)&&(e=n>0?v:x),c=!1,o=new d(coefficientToString(w)),u=d.precision,d.precision=n=w.length*g*2;h=b(o,v,0,1,1),1!=(t=r.plus(h.times(y))).cmp(e);)r=y,y=t,x=a.plus(h.times(t=x)),a=t,v=o.minus(h.times(t=v)),o=t;return t=b(e.minus(r),y,0,1,1),a=a.plus(t.times(x)),r=r.plus(t.times(y)),a.s=x.s=m.s,i=b(x,y,n,1).minus(m).abs().cmp(b(a,r,n,1).minus(m).abs())<1?[x+"",y+""]:[a+"",r+""],c=!0,d.precision=u,i},x.toNearest=function(e,r){var t=this,n=t.constructor;return t=new n(t),null==e?(e=new n(n.ONE),r=n.rounding):(l=17,e=new n(e),r=checkRM(t,r,"toNearest")),e.c?t.c&&(e.c[0]?(c=!1,t=b(t,e,0,r<4?[4,5,7,8][r]:r,1).times(e),c=!0,rnd(t)):t.c=[t.e=0]):t.s&&(e.s&&(e.s=t.s),t=e),t},x.toNumber=function(){var e=this;return+e||(e.s?0*e.s:NaN)},x.toPower=x.pow=function(e,r){var t,n,i,o,a=this,s=a.constructor,u=a.s,h=(l=13,+(e=new s(e,r))),m=h<0?-h:h,d=s.precision,x=s.rounding;if(!a.c||!e.c||(i=!a.c[0])||!e.c[0])return new s(p(i?0*u:+a,h));if(t=(a=new s(a)).c.length,!a.e&&a.c[0]==a.s&&1==t)return a;if(r=e.c.length-1,e.e||e.c[0]!=e.s||r)if(!(i=(n=f(e.e/g))>=r)&&u<0)o=new s(NaN);else{if(i&&t*g*m<3e3){if(o=intPow(s,a,m),e.s<0)return s.ONE.div(o)}else{if(u=u<0&&1&e.c[Math.max(n,r)]?-1:1,(n=0!=(r=p(+a,h))&&isFinite(r)?new s(r+"").e:f(h*(Math.log("0."+coefficientToString(a.c))/Math.LN10+a.e+1)))>s.maxE+1||n<s.minE-1)return new s(n>0?u/0:0);c=!1,s.rounding=a.s=1,m=Math.min(12,(n+"").length),checkRoundingDigits((o=rnd(o=exp(e.times(ln(a,d+m)),d),d+5,1)).c,d,x)&&(n=d+10,+coefficientToString((o=rnd(exp(e.times(ln(a,n+m)),n),n+5,1)).c).slice(d+1,d+15)+1==1e14&&(o=rnd(o,d+1,0))),o.s=u,c=!0,s.rounding=x}o=rnd(o,d,x)}else o=rnd(a,d,x);return o},x.toPrecision=function(e,r){var t=this;return null!=e&&checkArg(t,e,"toPrecision",1)&&t.c?format(t,0|--e,checkRM(t,r,"toPrecision"),2):t.toString()},x.toSignificantDigits=x.toSD=function(e,r){var t=this,n=t.constructor;return t=new n(t),null!=e&&checkArg(t,e,"toSD",1)?rnd(t,0|e,checkRM(t,r,"toSD")):rnd(t,n.precision,n.rounding)},x.toString=function(e){var r,t,n,i=this,a=i.constructor,u=i.e;if(null===u)t=i.s?"Infinity":"NaN";else{if(e===r&&(u<=a.toExpNeg||u>=a.toExpPos))return format(i,null,a.rounding,1);if(t=coefficientToString(i.c),u<0){for(;++u;t="0"+t);t="0."+t}else if(n=t.length,u>0)if(++u>n)for(u-=n;u--;t+="0");else u<n&&(t=t.slice(0,u)+"."+t.slice(u));else if(r=t.charAt(0),n>1)t=r+"."+t.slice(1);else if("0"==r)return r;if(null!=e)if((s=!(e>=2&&e<65))||e!=(0|e)&&a.errors)ifExceptionsThrow(a,"base",e,"toString",0);else if("0"==(t=o(a,t,0|e,10,i.s)))return t}return i.s<0?"-"+t:t},x.truncated=x.trunc=function(){return rnd(new this.constructor(this),this.e+1,1)},x.valueOf=x.toJSON=function(){return this.toString()},o=function(){function toBaseOut(e,r,t){for(var n,i,o=[0],a=0,s=e.length;a<s;){for(i=o.length;i--;o[i]*=r);for(o[n=0]+=d.indexOf(e.charAt(a++));n<o.length;n++)o[n]>t-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/t|0,o[n]%=t)}return o.reverse()}return function(e,r,t,n,i){var o,a,s,u,c,l,f=r.indexOf("."),p=e.precision,h=e.rounding;for(n<37&&(r=r.toLowerCase()),f>=0&&(r=r.replace(".",""),l=new e(n),u=intPow(e,l,r.length-f),l.c=toBaseOut(u.toFixed(),10,t),l.e=l.c.length),o=a=(c=toBaseOut(r,n,t)).length;0==c[--a];c.pop());if(!c[0])return"0";if(f<0?o--:(u.c=c,u.e=o,u.s=i,c=(u=b(u,l,p,h,0,t)).c,s=u.r,o=u.e),f=c[p],a=t/2,s=s||null!=c[p+1],h<4?(null!=f||s)&&(0==h||h==(u.s<0?3:2)):f>a||f==a&&(4==h||s||6==h&&1&c[p-1]||h==(u.s<0?8:7)))for(c.length=p,--t;++c[--p]>t;)c[p]=0,p||(++o,c.unshift(1));else c.length=p;for(a=c.length;!c[--a];);for(f=0,r="";f<=a;r+=d.charAt(c[f++]));if(o<0){for(;++o;r="0"+r);r="0."+r}else if(++o>(f=r.length))for(o-=f;o--;r+="0");else o<f&&(r=r.slice(0,o)+"."+r.slice(o));return r}}();var b=function(){function multiplyInteger(e,r,t){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*r+i,e[o]=n%t|0,i=n/t|0;return i&&e.unshift(i),e}function compare(e,r,t,n){var i,o;if(t!=n)o=t>n?1:-1;else for(i=o=0;i<t;i++)if(e[i]!=r[i]){o=e[i]>r[i]?1:-1;break}return o}function subtract(e,r,t,n){for(var i=0;t--;)e[t]-=i,i=e[t]<r[t]?1:0,e[t]=i*n+e[t]-r[t];for(;!e[0]&&e.length>1;e.shift());}return function(e,r,t,n,i,o){var a,s,u,c,l,p,h,d,x,y,w,v,b,N,E,_,M,A,T,S=e.constructor,C=e.s==r.s?1:-1,O=e.c,z=r.c;if(!(O&&O[0]&&z&&z[0]))return new S(e.s&&r.s&&(O?!z||O[0]!=z[0]:z)?O&&0==O[0]||!z?0*C:C/0:NaN);for(o?(c=1,s=e.e-r.e):(o=m,c=g,s=f(e.e/c)-f(r.e/c)),A=z.length,_=O.length,y=(x=new S(C)).c=[],u=0;z[u]==(O[u]||0);u++);if(z[u]>(O[u]||0)&&s--,null==t?(C=t=S.precision,n=S.rounding):C=i?t+(e.e-r.e)+1:t,C<0)y.push(1),l=!0;else{if(C=C/c+2|0,u=0,1==A){for(p=0,z=z[0],C++;(u<_||p)&&C--;u++)N=p*o+(O[u]||0),y[u]=N/z|0,p=N%z|0;l=p||u<_}else{for((p=o/(z[0]+1)|0)>1&&(z=multiplyInteger(z,p,o),O=multiplyInteger(O,p,o),A=z.length,_=O.length),E=A,v=(w=O.slice(0,A)).length;v<A;w[v++]=0);(T=z.slice()).unshift(0),M=z[0],z[1]>=o/2&&M++;do{p=0,(a=compare(z,w,A,v))<0?(b=w[0],A!=v&&(b=b*o+(w[1]||0)),(p=b/M|0)>1?(p>=o&&(p=o-1),1==(a=compare(h=multiplyInteger(z,p,o),w,d=h.length,v=w.length))&&(p--,subtract(h,A<d?T:z,d,o))):(0==p&&(a=p=1),h=z.slice()),(d=h.length)<v&&h.unshift(0),subtract(w,h,v,o),-1==a&&(a=compare(z,w,A,v=w.length))<1&&(p++,subtract(w,A<v?T:z,v,o)),v=w.length):0===a&&(p++,w=[0]),y[u++]=p,a&&w[0]?w[v++]=O[E]||0:(w=[O[E]],v=1)}while((E++<_||null!=w[0])&&C--);l=null!=w[0]}y[0]||y.shift()}if(1==c)x.e=s,x.r=+l;else{for(u=1,C=y[0];C>=10;C/=10,u++);x.e=u+s*c-1,rnd(x,i?t+x.e+1:t,n,l)}return x}}();function exp(e,r){var t,n,i,o,a,s,u,l=0,f=0,h=0,m=e.constructor,g=m.ONE,d=m.rounding,x=m.precision;if(!e.c||!e.c[0]||e.e>17)return new m(e.c?e.c[0]?e.s<0?0:1/0:g:e.s?e.s<0?0:e:NaN);for(null==r?(c=!1,a=x):a=r,u=new m(.03125);e.e>-2;)e=e.times(u),h+=5;for(a+=n=Math.log(p(2,h))/Math.LN10*2+5|0,t=o=s=new m(g),m.precision=a;;){if(o=rnd(o.times(e),a,1),t=t.times(++f),coefficientToString((u=s.plus(b(o,t,a,1))).c).slice(0,a)===coefficientToString(s.c).slice(0,a)){for(i=h;i--;)s=rnd(s.times(s),a,1);if(null!=r)return m.precision=x,s;if(!(l<3&&checkRoundingDigits(s.c,a-n,d,l)))return rnd(s,m.precision=x,d,c=!0);m.precision=a+=10,t=o=u=new m(g),f=0,l++}s=u}}function format(e,r,t,n){var i,o,a=e.constructor,s=(e=new a(e)).e;if(null==r?t=0:(rnd(e,++r,t),t=n?r:r+e.e-s),s=e.e,i=coefficientToString(e.c),1==n||2==n&&(r<=s||s<=a.toExpNeg)){for(;i.length<t;i+="0");i.length>1&&(i=i.charAt(0)+"."+i.slice(1)),i+=(s<0?"e":"e+")+s}else{if(n=i.length,s<0){for(o=t-n;++s;i="0"+i);i="0."+i}else if(++s>n){for(o=t-s,s-=n;s--;i+="0");o>0&&(i+=".")}else o=t-n,s<n?i=i.slice(0,s)+"."+i.slice(s):o>0&&(i+=".");if(o>0)for(;o--;i+="0");}return e.s<0&&e.c[0]?"-"+i:i}function getCoeffLength(e){var r=e.length-1,t=r*g+1;if(r=e[r]){for(;r%10==0;r/=10,t--);for(r=e[0];r>=10;r/=10,t++);}return t}function ifExceptionsThrow(e,r,t,n,i){if(e.errors){var o=new Error((n||["new Decimal","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFraction","pow","random","log","sqrt","toNearest","divToInt"][l?l<0?-l:l:1/l<0?1:0])+"() "+(["number type has more than 15 significant digits","LN10 out of digits"][r]||r+([s?" out of range":" not an integer"," not a boolean or binary digit"][i]||""))+": "+t);throw o.name="Decimal Error",s=l=0,o}}function intPow(e,r,t){var n=new e(e.ONE);for(c=!1;1&t&&(n=n.times(r)),t>>=1;)r=r.times(r);return c=!0,n}function ln(e,r){var t,n,i,o,a,s,u,l,f,p,h,m=1,g=e,d=g.c,x=g.constructor,y=x.ONE,w=x.rounding,N=x.precision;if(g.s<0||!d||!d[0]||!g.e&&1==d[0]&&1==d.length)return new x(d&&!d[0]?-1/0:1!=g.s?NaN:d?0:g);if(null==r?(c=!1,u=N):u=r,x.precision=u+=10,n=(t=coefficientToString(d)).charAt(0),!(Math.abs(o=g.e)<15e14))return g=new x(n+"."+t.slice(1)),u+2>v.length&&ifExceptionsThrow(x,1,u+2,"ln"),g=ln(g,u-10).plus(new x(v.slice(0,u+2)).times(o+"")),x.precision=N,null==r?rnd(g,N,w,c=!0):g;for(;n<7&&1!=n||1==n&&t.charAt(1)>3;)n=(t=coefficientToString((g=g.times(e)).c)).charAt(0),m++;for(o=g.e,n>1?(g=new x("0."+t),o++):g=new x(n+"."+t.slice(1)),p=g,l=a=g=b(g.minus(y),g.plus(y),u,1),h=rnd(g.times(g),u,1),i=3;;){if(a=rnd(a.times(h),u,1),coefficientToString((f=l.plus(b(a,new x(i),u,1))).c).slice(0,u)===coefficientToString(l.c).slice(0,u)){if(l=l.times(2),0!==o&&(u+2>v.length&&ifExceptionsThrow(x,1,u+2,"ln"),l=l.plus(new x(v.slice(0,u+2)).times(o+""))),l=b(l,new x(m),u,1),null!=r)return x.precision=N,l;if(!checkRoundingDigits(l.c,u-10,w,s))return rnd(l,x.precision=N,w,c=!0);x.precision=u+=10,f=a=g=b(p.minus(y),p.plus(y),u,1),h=rnd(g.times(g),u,1),i=s=1}l=f,i+=2}}function rnd(e,r,t,n){var i,o,a,s,u,l,h,d,x=e.constructor;e:if(null!=r){if(!(h=e.c))return e;for(i=1,s=h[0];s>=10;s/=10,i++);if((o=r-i)<0)o+=g,a=r,l=(u=h[d=0])/p(10,i-a-1)%10|0;else if((d=Math.ceil((o+1)/g))>=h.length){if(!n)break e;for(;h.length<=d;h.push(0));u=l=0,i=1,a=(o%=g)-g+1}else{for(u=s=h[d],i=1;s>=10;s/=10,i++);l=(a=(o%=g)-g+i)<0?0:f(u/p(10,i-a-1)%10)}if(n=n||r<0||null!=h[d+1]||(a<0?u:u%p(10,i-a-1)),n=t<4?(l||n)&&(0==t||t==(e.s<0?3:2)):l>5||5==l&&(4==t||n||6==t&&(o>0?a>0?u/p(10,i-a):0:h[d-1])%10&1||t==(e.s<0?8:7)),r<1||!h[0])return h.length=0,n?(r-=e.e+1,h[0]=p(10,r%g),e.e=-r||0):h[0]=e.e=0,e;if(0==o?(h.length=d,s=1,d--):(h.length=d+1,s=p(10,g-o),h[d]=a>0?(u/p(10,i-a)%p(10,a)|0)*s:0),n)for(;;){if(0==d){for(o=1,a=h[0];a>=10;a/=10,o++);for(a=h[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(e.e++,h[0]==m&&(h[0]=1));break}if(h[d]+=s,h[d]!=m)break;h[d--]=0,s=1}for(o=h.length;0===h[--o];h.pop());}return c&&(e.e>x.maxE?e.c=e.e=null:e.e<x.minE&&(e.c=[e.e=0])),e}a=function(){function config(e){var r,t,n,i=this,o="config",a=i.errors?parseInt:parseFloat;return e==t||"object"!=typeof e&&!ifExceptionsThrow(i,"object expected",e,o)||((n=e[r="precision"])!=t&&((s=n<1||n>w)||a(n)!=n?ifExceptionsThrow(i,r,n,o,0):i[r]=0|n),(n=e[r="rounding"])!=t&&((s=n<0||n>8)||a(n)!=n?ifExceptionsThrow(i,r,n,o,0):i[r]=0|n),(n=e[r="toExpNeg"])!=t&&((s=n<-y||n>0)||a(n)!=n?ifExceptionsThrow(i,r,n,o,0):i[r]=f(n)),(n=e[r="toExpPos"])!=t&&((s=n<0||n>y)||a(n)!=n?ifExceptionsThrow(i,r,n,o,0):i[r]=f(n)),(n=e[r="minE"])!=t&&((s=n<-y||n>0)||a(n)!=n?ifExceptionsThrow(i,r,n,o,0):i[r]=f(n)),(n=e[r="maxE"])!=t&&((s=n<0||n>y)||a(n)!=n?ifExceptionsThrow(i,r,n,o,0):i[r]=f(n)),(n=e[r="errors"])!=t&&(n===!!n||1===n||0===n?(s=l=0,i[r]=!!n):ifExceptionsThrow(i,r,n,o,1)),(n=e[r="crypto"])!=t&&(n===!!n||1===n||0===n?i[r]=!(!n||!u||"object"!=typeof u):ifExceptionsThrow(i,r,n,o,1)),(n=e[r="modulo"])!=t&&((s=n<0||n>9)||a(n)!=n?ifExceptionsThrow(i,r,n,o,0):i[r]=0|n),(e=e[r="format"])!=t&&("object"==typeof e?i[r]=e:ifExceptionsThrow(i,"format object expected",e,o))),i}function exp(e){return new this(e).exp()}function ln(e){return new this(e).ln()}function log(e,r){return new this(e).log(r)}function maxOrMin(e,r,t){var n,i,o=0;for("[object Array]"==h.call(r[0])&&(r=r[0]),n=new e(r[0]);++o<r.length;){if(!(i=new e(r[o])).s){n=i;break}n[t](i)&&(n=i)}return n}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}var e,r,t=(e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},function(t,n,i,a){var u,f,p,m,x,y;if("string"!=typeof i&&(i=(m="number"==typeof i||"[object Number]"==h.call(i))&&0===i&&1/i<0?"-0":i+""),x=i,null==a&&e.test(i))n.s=45===i.charCodeAt(0)?(i=i.slice(1),-1):1;else{if(10==a)return rnd(new t(i),t.precision,t.rounding);if(i=r.call(i).replace(/^\+(?!-)/,""),n.s=45===i.charCodeAt(0)?(i=i.replace(/^-(?!-)/,""),-1):1,null!=a?a!=(0|a)&&t.errors||(s=!(a>=2&&a<65))?(ifExceptionsThrow(t,"base",a,0,0),y=e.test(i)):(u="["+d.slice(0,a|=0)+"]+",i=i.replace(/\.$/,"").replace(/^\./,"0."),(y=new RegExp("^"+u+"(?:\\."+u+")?$",a<37?"i":"").test(i))?(m&&(i.replace(/^0\.0*|\./,"").length>15&&ifExceptionsThrow(t,0,x),m=!m),i=o(t,i,10,a,n.s)):"Infinity"!=i&&"NaN"!=i&&(ifExceptionsThrow(t,"not a base "+a+" number",x),i="NaN")):y=e.test(i),!y)return n.c=n.e=null,"Infinity"!=i&&("NaN"!=i&&ifExceptionsThrow(t,"not a number",x),n.s=null),l=0,n}for((f=i.indexOf("."))>-1&&(i=i.replace(".","")),(p=i.search(/e/i))>0?(f<0&&(f=p),f+=+i.slice(p+1),i=i.substring(0,p)):f<0&&(f=i.length),p=0;48===i.charCodeAt(p);p++);for(a=i.length;48===i.charCodeAt(--a););if(i=i.slice(p,a+1)){if(a=i.length,m&&a>15&&ifExceptionsThrow(t,0,x),n.e=f=f-p-1,n.c=[],p=(f+1)%g,f<0&&(p+=g),p<a){for(p&&n.c.push(+i.slice(0,p)),a-=g;p<a;)n.c.push(+i.slice(p,p+=g));i=i.slice(p),p=g-i.length}else p-=a;for(;p--;i+="0");n.c.push(+i),c&&(n.e>t.maxE?n.c=n.e=null:n.e<t.minE&&(n.c=[n.e=0]))}else n.c=[n.e=0];return l=0,n});function pow(e,r){return new this(e).pow(r)}function random(e){var r,t,n,i=0,o=[],a=this,s=new a(a.ONE);if(null!=e&&checkArg(s,e,"random")?e|=0:e=a.precision,t=Math.ceil(e/g),a.crypto)if(u&&u.getRandomValues)for(r=u.getRandomValues(new Uint32Array(t));i<t;)(n=r[i])>=429e7?r[i]=u.getRandomValues(new Uint32Array(1))[0]:o[i++]=n%1e7;else if(u&&u.randomBytes){for(r=u.randomBytes(t*=4);i<t;)(n=r[i]+(r[i+1]<<8)+(r[i+2]<<16)+((127&r[i+3])<<24))>=214e7?u.randomBytes(4).copy(r,i):(o.push(n%1e7),i+=4);i=t/4}else ifExceptionsThrow(a,"crypto unavailable",u,"random");if(!i)for(;i<t;)o[i++]=1e7*Math.random()|0;for(t=o[--i],e%=g,t&&e&&(n=p(10,g-e),o[i]=(t/n|0)*n);0===o[i];i--)o.pop();if(i<0)o=[t=0];else{for(t=-1;0===o[0];)o.shift(),t-=g;for(i=1,n=o[0];n>=10;)n/=10,i++;i<g&&(t-=g-i)}return s.e=t,s.c=o,s}function sqrt(e){return new this(e).sqrt()}return function decimalFactory(e){function Decimal(e,r){var n=this;if(!(n instanceof Decimal))return ifExceptionsThrow(Decimal,"Decimal called without new",e),new Decimal(e,r);if(n.constructor=Decimal,e instanceof Decimal){if(null==r)return l=0,n.s=e.s,n.e=e.e,n.c=(e=e.c)?e.slice():e,n;if(10==r)return rnd(new Decimal(e),Decimal.precision,Decimal.rounding);e+=""}return t(Decimal,n,e,r)}return Decimal.precision=20,Decimal.rounding=4,Decimal.modulo=1,Decimal.toExpNeg=-7,Decimal.toExpPos=21,Decimal.minE=-y,Decimal.maxE=y,Decimal.errors=!0,Decimal.crypto=!1,Decimal.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},Decimal.prototype=x,Decimal.ONE=new Decimal(1),Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.EUCLID=9,Decimal.config=config,Decimal.constructor=decimalFactory,Decimal.exp=exp,Decimal.ln=ln,Decimal.log=log,Decimal.max=max,Decimal.min=min,Decimal.pow=pow,Decimal.sqrt=sqrt,Decimal.random=random,null!=e&&Decimal.config(e),Decimal}()}(),void 0===(n=function(){return a}.call(r,t,r,e))||(e.exports=n)}(this)},function(e,r,t){"use strict";var n=t(5),i=t(10),o=t(7);function formatArray(e,t){if(Array.isArray(e)){for(var n="[",i=e.length,o=0;o<i;o++)0!=o&&(n+=", "),n+=formatArray(e[o],t);return n+="]"}return r.format(e,t)}r.isString=function(e){return e instanceof String||"string"==typeof e},r.endsWith=function(e,r){var t=e.length-r.length,n=e.length;return e.substring(t,n)===r},r.format=function(e,t){return n.isNumber(e)?n.format(e,t):e instanceof o?i.format(e,t):Array.isArray(e)?formatArray(e,t):r.isString(e)?'"'+e+'"':"function"==typeof e?e.syntax?e.syntax+"":"function":e instanceof Object?"function"==typeof e.format?e.format(t):e.toString():String(e)}},function(e,r,t){"use strict";var n=t(7),i=t(5).isNumber,o=(t(5).digits,t(11).memoize);function bitwise(e,t,n){var i,o,a,s,u,c=e.constructor,l=+(e.s<0),f=+(t.s<0);if(l){i=decCoefficientToBinaryString(r.not(e));for(var p=0;p<i.length;++p)i[p]^=1}else i=decCoefficientToBinaryString(e);if(f){o=decCoefficientToBinaryString(r.not(t));for(p=0;p<o.length;++p)o[p]^=1}else o=decCoefficientToBinaryString(t);i.length<=o.length?(a=i,s=o,u=l):(a=o,s=i,u=f);var h=a.length,m=s.length,g=1^n(l,f),d=new c(1^g),x=c.ONE,y=new c(2),w=c.precision;for(c.config({precision:1e9});h>0;)n(a[--h],s[--m])==g&&(d=d.plus(x)),x=x.times(y);for(;m>0;)n(u,s[--m])==g&&(d=d.plus(x)),x=x.times(y);return c.config({precision:w}),0==g&&(d.s=-d.s),d}function decCoefficientToBinaryString(e){for(var r=e.c,t=r[0]+"",n=1;n<r.length;++n){for(var i=r[n]+"",o=7-i.length;o--;)i="0"+i;t+=i}for(f=t.length-1;"0"==t.charAt(f);--f);var a=e.e,s=t.slice(0,f+1||1),u=s.length;if(a>0)if(++a>u)for(a-=u;a--;s+="0");else a<u&&(s=s.slice(0,a)+"."+s.slice(a));var c=[0];for(n=0;n<s.length;){for(var l=c.length;l--;c[l]*=10);c[0]+=s.charAt(n++)<<0;for(var f=0;f<c.length;++f)c[f]>1&&(null==c[f+1]&&(c[f+1]=0),c[f+1]+=c[f]>>1,c[f]&=1)}return c.reverse()}function arctan_taylor(e){for(var r=e,t=NaN,n=e.times(e),i=e,o=!0,a=3;!r.equals(t);a+=2)i=i.times(n),t=r,r=(o=!o)?r.plus(i.div(a)):r.minus(i.div(a));return r}function cos_sin_taylor(e,r){for(var t=e.constructor.ONE,n=e,i=NaN,o=e.times(e),a=r?n:n=t,s=t,u=!0,c=r;!n.equals(i);c+=2)a=a.times(o),s=s.times(c+1).times(c+2),i=n,n=(u=!u)?n.plus(a.div(s)):n.minus(a.div(s));return n}function reduceToPeriod(e,t,n){var i=r.pi(t+2),o=r.tau(t);if(e.abs().lte(i.toDP(e.dp())))return[e,!1];var a=e.constructor;if(e.div(i.toDP(e.dp())).toNumber()%2==0)return[new a(1^n),!0];var s=e.mod(o);return s.toDP(e.dp(),1).isZero()?[new a(1^n),!0]:(s.gt(i)&&(n?(s=s.minus(i)).s=-s.s:s=o.minus(s)),s.constructor=a,[s,!1])}function sinToCos(e){var r=e.constructor,t=r.precision;r.config({precision:t+2});var n=r.ONE.minus(e.times(e)).sqrt();return r.config({precision:t}),n.toDP(t-1)}r.isBigNumber=function(e){return e instanceof n},r.e=o((function(e){return new(n.constructor({precision:e}))(1).exp()})),r.phi=o((function(e){var r=n.constructor({precision:e});return new r(1).plus(new r(5).sqrt()).div(2)})),r.pi=o((function(e){var r=n.constructor({precision:e+4}),t=new r(4).times(arctan_taylor(new r(1).div(5))).minus(arctan_taylor(new r(1).div(239)));return r.config({precision:e}),new r(4).times(t)})),r.tau=o((function(e){var t=r.pi(e+2);return new(n.constructor({precision:e}))(2).times(t)})),r.and=function(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Parameters in function bitAnd must be integer numbers");var t=e.constructor;if(e.isNaN()||r.isNaN())return new t(NaN);if(e.isZero()||r.eq(-1)||e.eq(r))return e;if(r.isZero()||e.eq(-1))return r;if(!e.isFinite()||!r.isFinite()){if(!e.isFinite()&&!r.isFinite())return e.isNegative()==r.isNegtive()?e:new t(0);if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r;if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e}return bitwise(e,r,(function(e,r){return e&r}))},r.leftShift=function(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Parameters in function leftShift must be integer numbers");var t=e.constructor;return e.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new t(NaN):e.isZero()||r.isZero()?e:e.isFinite()||r.isFinite()?r.lt(55)?e.times(Math.pow(2,r.toNumber())+""):e.times(new t(2).pow(r)):new t(NaN)},r.not=function(e){if(e.isFinite()&&!e.isInteger())throw new Error("Parameter in function bitNot must be integer numbers");var r=e.constructor,t=r.precision;return r.config({precision:1e9}),(e=e.plus(r.ONE)).s=-e.s||null,r.config({precision:t}),e},r.or=function(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Parameters in function bitOr must be integer numbers");var t=e.constructor;if(e.isNaN()||r.isNaN())return new t(NaN);var n=new t(-1);return e.isZero()||r.eq(n)||e.eq(r)?r:r.isZero()||e.eq(n)?e:e.isFinite()&&r.isFinite()?bitwise(e,r,(function(e,r){return e|r})):!e.isFinite()&&!e.isNegative()&&r.isNegative()||e.isNegative()&&!r.isNegative()&&!r.isFinite()?n:e.isNegative()&&r.isNegative()?e.isFinite()?e:r:e.isFinite()?r:e},r.rightShift=function(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Parameters in function rightArithShift must be integer numbers");var t=e.constructor;return e.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new t(NaN):e.isZero()||r.isZero()?e:r.isFinite()?r.lt(55)?e.div(Math.pow(2,r.toNumber())+"").floor():e.div(new t(2).pow(r)).floor():e.isNegative()?new t(-1):e.isFinite()?new t(0):new t(NaN)},r.xor=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function bitXor must be integer numbers");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new n(0);var i=new n(-1);return e.eq(i)?r.not(t):t.eq(i)?r.not(e):e.isFinite()&&t.isFinite()?bitwise(e,t,(function(e,r){return e^r})):e.isFinite()||t.isFinite()?new n(e.isNegative()==t.isNegative()?1/0:-1/0):i},r.arccos_arcsec=function(e,t,n){var i=t.precision;if(n){if(e.abs().lt(t.ONE))throw new Error("asec() only has non-complex values for |x| >= 1.")}else if(e.abs().gt(t.ONE))throw new Error("acos() only has non-complex values for |x| <= 1.");if(e.eq(-1))return r.pi(i);t.config({precision:i+4}),n&&(e=t.ONE.div(e));var o=r.arctan_arccot(t.ONE.minus(e.times(e)).sqrt().div(e.plus(t.ONE)),t).times(2);return t.config({precision:i}),o.toDP(i-1)},r.arcsin_arccsc=function(e,t,n){if(e.isNaN())return new t(NaN);var i=t.precision,o=e.abs();if(n){if(o.lt(t.ONE))throw new Error("acsc() only has non-complex values for |x| >= 1.");t.config({precision:i+2}),e=t.ONE.div(e),t.config({precision:i}),o=e.abs()}else if(o.gt(t.ONE))throw new Error("asin() only has non-complex values for |x| <= 1.");if(o.gt(.8)){t.config({precision:i+4});var a=e.s;return(e=r.pi(i+4).div(2).minus(r.arcsin_arccsc(t.ONE.minus(e.times(e)).sqrt(),t))).s=a,e.constructor=t,t.config({precision:i}),e.toDP(i-1)}var s=o.gt(.58);s&&(t.config({precision:i+8}),e=e.div(new t(2).sqrt().times(t.ONE.minus(e.times(e)).sqrt().plus(t.ONE).sqrt())),t.config({precision:i}));var u=i<=60||e.dp()<=Math.log(i)&&e.lt(.05)?function arcsin_taylor(e,r){var t=e.constructor;t.config({precision:r+Math.log(r)|4});for(var n=new t(1),i=e,o=NaN,a=e.times(e),s=e,u=new t(n),c=new t(n),l=new t(n),f=3;!i.equals(o);f+=2)s=s.times(a),u=u.times(l),c=c.times(l.plus(n)),o=i,l=new t(f),i=i.plus(s.times(u).div(l.times(c)));return t.config({precision:r}),i.toDP(r-1)}(e,i):function arcsin_newton(e,t){var n=t.precision,i=-(n+4),o=n+8-e.e,a=25-e.e,s=Math.max(1.442695*Math.log(n+2)|5,5);t.config({precision:a});var u=0,c=new t(Math.asin(e.toNumber())+"");do{var l=r.cos_sin_sec_csc(c,t,1,!1),f=sinToCos(l);l.isZero()||(l.s=c.s);var p=l.minus(e).div(f);c=c.minus(p),a=Math.min(2*a,o),t.config({precision:a})}while(2*p.e>=i&&!p.isZero()&&++u<=s);if(u==s)throw new Error("asin() failed to converge to the requested accuracy.Try with a higher precision.");return t.config({precision:n}),c.toDP(n-1)}(e,t);return s?u.times(2):u},r.arctan_arccot=function(e,t,n){if(e.isNaN())return new t(NaN);if(!n&&e.isZero()||n&&!e.isFinite())return new t(0);var i=t.precision;if(!n&&!e.isFinite()||n&&e.isZero())return(o=r.pi(i+2).div(2).toDP(i-1)).constructor=t,o.s=e.s,o;t.config({precision:i+4}),n&&(e=t.ONE.div(e));var o,a,s=e.abs();return s.lte(.875)?((a=arctan_taylor(e)).constructor=t,t.config({precision:i}),a.toDP(t.precision-1)):s.gte(1.143)?((a=(o=r.pi(i+4).div(2)).minus(arctan_taylor(t.ONE.div(s)))).s=e.s,a.constructor=t,t.config({precision:i}),a.toDP(t.precision-1)):(e=e.div(e.times(e).plus(1).sqrt()),t.config({precision:i}),r.arcsin_arccsc(e,t))},r.arctan2=function(e,t,n){var i=n.precision;if(t.isZero()){if(e.isZero())return new n(NaN);var o=r.pi(i+2).div(2).toDP(i-1);return o.constructor=n,o.s=e.s,o}n.config({precision:i+2});var a=r.arctan_arccot(e.div(t),n,!1);if(t.isNegative()){var s=r.pi(i+2);a=e.isNegative()?a.minus(s):a.plus(s)}return a.constructor=n,n.config({precision:i}),a.toDP(i-1)},r.acosh_asinh_asech_acsch=function(e,r,t,n){if(e.isNaN())return new r(NaN);if(n&&e.isZero())return new r(1/0);if(!t)if(n){if(e.isNegative()||e.gt(r.ONE))throw new Error("asech() only has non-complex values for 0 <= x <= 1.")}else if(e.lt(r.ONE))throw new Error("acosh() only has non-complex values for x >= 1.");var i=r.precision;r.config({precision:i+4});var o=new r(e);o.constructor=r,n&&(o=r.ONE.div(o));var a=t?o.times(o).plus(r.ONE):o.times(o).minus(r.ONE),s=o.plus(a.sqrt()).ln();return r.config({precision:i}),new r(s.toPrecision(i))},r.atanh_acoth=function(e,r,t){if(e.isNaN())return new r(NaN);var n=e.abs();if(n.eq(r.ONE))return new r(e.isNegative()?-1/0:1/0);if(n.gt(r.ONE)){if(!t)throw new Error("atanh() only has non-complex values for |x| <= 1.")}else if(t)throw new Error("acoth() has complex values for |x| < 1.");if(e.isZero())return new r(0);var i=r.precision;r.config({precision:i+4});var o=new r(e);o.constructor=r,t&&(o=r.ONE.div(o));var a=r.ONE.plus(o).div(r.ONE.minus(o)).ln().div(2);return r.config({precision:i}),new r(a.toPrecision(i))},r.cos_sin_sec_csc=function(e,r,t,n){if(e.isNaN()||!e.isFinite())return new r(NaN);var i=r.precision,o=new r(e),a=o.isNegative();a&&(o.s=-o.s);var s,u=i+(0|Math.log(i))+3;if(r.config({precision:u}),(o=reduceToPeriod(o,u,t))[0].constructor=r,o[1])return o=o[0],n&&o.isZero()&&(o=new r(1/0)),r.config({precision:i}),o;if(o=o[0],t){s=cos_sin_taylor(o.div(3125),t),r.config({precision:Math.min(u,i+15)});for(var c=new r(5),l=new r(16),f=new r(20),p=0;p<5;++p){var h=(y=s.times(s)).times(s),m=h.times(y);s=l.times(m).minus(f.times(h)).plus(c.times(s))}a&&(s.s=-s.s)}else{var g,d;o.abs().lt(r.ONE)?(g=64,d=3):(g=256,d=4),s=cos_sin_taylor(o.div(g),t),r.config({precision:Math.min(u,i+8)});for(var x=new r(8);d>0;--d){var y,w=(y=s.times(s)).times(y);s=x.times(w.minus(y)).plus(r.ONE)}}return n&&(s=s.e<=-i?new r(1/0):r.ONE.div(s)),r.config({precision:i}),s.toDP(i-1)},r.tan_cot=function(e,t,n){if(e.isNaN())return new t(NaN);var i=t.precision,o=r.pi(i+2),a=o.div(2).toDP(i-1);o=o.toDP(i-1);var s=reduceToPeriod(e,i,1)[0];if(s.abs().eq(o))return new t(1/0);t.config({precision:i+4});var u=r.cos_sin_sec_csc(s,t,1,!1),c=sinToCos(u);u=u.toDP(i),c=c.toDP(i),s.eq(e)?s.gt(a)&&(c.s=-c.s):o.minus(s.abs()).gt(a)&&(c.s=-c.s);var l=n?c.div(u):u.div(c);return t.config({precision:i}),new t(l.toPrecision(i))},r.cosh_sinh_csch_sech=function(e,r,t,n){if(e.isNaN())return new r(NaN);if(!e.isFinite())return new r(n?0:t?e:1/0);var i=r.precision;r.config({precision:i+4});var o=new r(e);return o.constructor=r,o=o.exp(),o=t?o.minus(r.ONE.div(o)):o.plus(r.ONE.div(o)),o=n?new r(2).div(o):o.div(2),r.config({precision:i}),new r(o.toPrecision(i))},r.tanh_coth=function(e,r,t){if(e.isNaN())return new r(NaN);if(!e.isFinite())return new r(e.s);var n=r.precision;r.config({precision:n+4});var i=new r(e);i.constructor=r;var o=i.exp(),a=r.ONE.div(o),s=o.minus(a);return s=t?o.plus(a).div(s):s.div(o.plus(a)),r.config({precision:n}),s.toDP(n-1)},r.format=function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",o=void 0;switch(void 0!==t&&(t.notation&&(n=t.notation),i(t)?o=t:t.precision&&(o=t.precision)),n){case"fixed":return r.toFixed(e,o);case"exponential":return r.toExponential(e,o);case"auto":var a=.001,s=1e5;t&&t.exponential&&(void 0!==t.exponential.lower&&(a=t.exponential.lower),void 0!==t.exponential.upper&&(s=t.exponential.upper));e.constructor.toExpNeg,e.constructor.toExpPos;if(e.constructor.config({toExpNeg:Math.round(Math.log(a)/Math.LN10),toExpPos:Math.round(Math.log(s)/Math.LN10)}),e.isZero())return"0";var u=e.abs();return(u.gte(a)&&u.lt(s)?e.toSignificantDigits(o).toFixed():r.toExponential(e,o)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],r=arguments[4];return"."!==e?e+r:r}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},r.toExponential=function(e,r){return void 0!==r?e.toExponential(r-1):e.toExponential()},r.toFixed=function(e,r){return e.toFixed(r||0)},r.isPositiveInteger=function(e){return!!(e instanceof n&&e.isInteger()&&e.gt(0))||!!(i(e)&&e.isInteger()&&e>0)}},function(e,r,t){r.memoize=function(e){return function memoize(){"object"!=typeof memoize.cache&&(memoize.cache={});var r=JSON.stringify(arguments);return r in memoize.cache?memoize.cache[r]:memoize.cache[r]=e.apply(e,arguments)}}},function(e,r,t){"use strict";r.clone=function clone(e){var r=typeof e;if("number"===r||"string"===r||"boolean"===r||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return clone(e)}));if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=clone(e[n]));return t},r.extend=function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e},r.deepExtend=function deepExtend(e,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var t in r)if(r.hasOwnProperty(t))if(r[t]&&r[t].constructor===Object)void 0===e[t]&&(e[t]={}),e[t].constructor===Object?deepExtend(e[t],r[t]):e[t]=r[t];else{if(Array.isArray(r[t]))throw new TypeError("Arrays are not supported by deepExtend");e[t]=r[t]}return e},r.deepEqual=function deepEqual(e,t){var n,i,o;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!=t.length)return!1;for(i=0,o=e.length;i<o;i++)if(!r.deepEqual(e[i],t[i]))return!1;return!0}if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!r.deepEqual(e[n],t[n]))return!1;for(n in t)if(!r.deepEqual(e[n],t[n]))return!1;return!0}return typeof e==typeof t&&e==t},r.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{}),!0}catch(e){}return!1},r.lazy=function(e,t,n){if(r.canDefineProperty()){var i,o=!0;Object.defineProperty(e,t,{get:function(){return o&&(i=n(),o=!1),i},set:function(e){i=e,o=!1},configurable:!0})}else e[t]=n()}},function(e,r,t){"use strict";function DimensionError(e,r,t){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=(new Error).stack}DimensionError.prototype=new RangeError,DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",e.exports=DimensionError},function(e,r,t){"use strict";function IndexError(e,r,t){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}IndexError.prototype=new RangeError,IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError",e.exports=IndexError},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(12),i=t(10),o=t(16),a=e.type.BigNumber;e.true=!0,e.false=!1,e.null=null,e.uninitialized=t(3).UNINITIALIZED,"bignumber"===r.number?(e[1/0]=new a(1/0),e.NaN=new a(NaN),n.lazy(e,"pi",(function(){return i.pi(r.precision)})),n.lazy(e,"tau",(function(){return i.tau(r.precision)})),n.lazy(e,"e",(function(){return i.e(r.precision)})),n.lazy(e,"phi",(function(){return i.phi(r.precision)})),n.lazy(e,"E",(function(){return e.e})),n.lazy(e,"LN2",(function(){return new a(2).ln()})),n.lazy(e,"LN10",(function(){return new a(10).ln()})),n.lazy(e,"LOG2E",(function(){return new a(1).div(new a(2).ln())})),n.lazy(e,"LOG10E",(function(){return new a(1).div(new a(10).ln())})),n.lazy(e,"PI",(function(){return e.pi})),n.lazy(e,"SQRT1_2",(function(){return new a("0.5").sqrt()})),n.lazy(e,"SQRT2",(function(){return new a(2).sqrt()}))):(e[1/0]=1/0,e.NaN=NaN,e.pi=Math.PI,e.tau=2*Math.PI,e.e=Math.E,e.phi=1.618033988749895,e.E=e.e,e.LN2=Math.LN2,e.LN10=Math.LN10,e.LOG2E=Math.LOG2E,e.LOG10E=Math.LOG10E,e.PI=e.pi,e.SQRT1_2=Math.SQRT1_2,e.SQRT2=Math.SQRT2),e.i=new o(0,1),e.version=t(20)}},function(e,r,t){"use strict";var n,i,o,a=t(17),s=t(19),u=a.number,c=a.number.isNumber,l=s.isUnit,f=a.string.isString;function Complex(e,r){if(!(this instanceof Complex))throw new SyntaxError("Constructor must be called with the new operator");switch(arguments.length){case 0:this.re=0,this.im=0;break;case 1:var t=arguments[0];if("object"==typeof t){if("re"in t&&"im"in t){var n=new Complex(t.re,t.im);this.re=n.re,this.im=n.im;break}if("r"in t&&"phi"in t){n=Complex.fromPolar(t.r,t.phi);this.re=n.re,this.im=n.im;break}}throw new SyntaxError("Object with the re and im or r and phi properties expected.");case 2:if(!c(e)||!c(r))throw new TypeError("Two numbers expected in Complex constructor");this.re=e,this.im=r;break;default:throw new SyntaxError("One, two or three arguments expected in Complex constructor")}}function skipWhitespace(){for(;" "==o||"\t"==o;)next()}function isDigit(e){return e>="0"&&e<="9"}function next(){i++,o=n.charAt(i)}function revert(e){i=e,o=n.charAt(i)}function parseNumber(){var e,r="";if(e=i,"+"==o?next():"-"==o&&(r+=o,next()),!function isDigitDot(e){return e>="0"&&e<="9"||"."==e}(o))return revert(e),null;if("."==o){if(r+=o,next(),!isDigit(o))return revert(e),null}else{for(;isDigit(o);)r+=o,next();"."==o&&(r+=o,next())}for(;isDigit(o);)r+=o,next();if("E"==o||"e"==o){if(r+=o,next(),"+"!=o&&"-"!=o||(r+=o,next()),!isDigit(o))return revert(e),null;for(;isDigit(o);)r+=o,next()}return r}function parseComplex(){var e=n.charAt(i+1);if("I"==o||"i"==o)return next(),"1";if(!("+"!=o&&"-"!=o||"I"!=e&&"i"!=e)){var r="+"==o?"1":"-1";return next(),next(),r}return null}Complex.isComplex=function(e){return e instanceof Complex},Complex.parse=function(e){if(i=-1,o="",!f(n=e))return null;next(),skipWhitespace();var r=parseNumber();if(r){if("I"==o||"i"==o)return next(),skipWhitespace(),o?null:new Complex(0,Number(r));skipWhitespace();var t=o;if("+"!=t&&"-"!=t)return skipWhitespace(),o?null:new Complex(Number(r),0);next(),skipWhitespace();var a=parseNumber();if(a){if("I"!=o&&"i"!=o)return null;next()}else if(!(a=parseComplex()))return null;return"-"==t&&(a="-"==a[0]?"+"+a.substring(1):"-"+a),next(),skipWhitespace(),o?null:new Complex(Number(r),Number(a))}return(r=parseComplex())?(skipWhitespace(),o?null:new Complex(0,Number(r))):null},Complex.fromPolar=function(e){switch(arguments.length){case 1:var r=arguments[0];if("object"==typeof r)return Complex.fromPolar(r.r,r.phi);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],n=arguments[1];if(c(t)){if(l(n)&&n.hasBase(s.BASE_UNITS.ANGLE)&&(n=n.toNumber("rad")),c(n))return new Complex(t*Math.cos(n),t*Math.sin(n));throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Complex.prototype.toPolar=function(){return{r:Math.sqrt(this.re*this.re+this.im*this.im),phi:Math.atan2(this.im,this.re)}},Complex.prototype.clone=function(){return new Complex(this.re,this.im)},Complex.prototype.equals=function(e){return this.re===e.re&&this.im===e.im},Complex.prototype.format=function(e){var r=this.im,t=this.re,n=u.format(this.re,e),i=u.format(this.im,e),o=c(e)?e:e?e.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(t/r)<a&&(t=0),Math.abs(r/t)<a&&(r=0)}return 0==r?n:0==t?1==r?"i":-1==r?"-i":i+"i":r>0?1==r?n+" + i":n+" + "+i+"i":-1==r?n+" - i":n+" - "+i.substring(1)+"i"},Complex.prototype.toString=function(){return this.format()},Complex.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Complex.fromJSON=function(e){return new Complex(e)},Complex.prototype.valueOf=Complex.prototype.toString,e.exports=Complex},function(e,r,t){"use strict";r.array=t(3),r.boolean=t(18),r.number=t(5),r.bignumber=t(10),r.object=t(12),r.string=t(9),r.types=t(4)},function(e,r,t){"use strict";r.isBoolean=function(e){return e instanceof Boolean||"boolean"==typeof e}},function(e,r,t){"use strict";var n,i,o,a=t(17),s=a.number,u=a.string,c=a.number.isNumber,l=a.string.isString;function Unit(e,r){if(!(this instanceof Unit))throw new Error("Constructor must be called with the new operator");if(null!=e&&!c(e))throw new TypeError("First parameter in Unit constructor must be a number");if(null!=r&&(!l(r)||""==r))throw new TypeError("Second parameter in Unit constructor must be a string");if(null!=r){var t=_findUnit(r);if(!t)throw new SyntaxError('Unknown unit "'+r+'"');this.unit=t.unit,this.prefix=t.prefix}else this.unit=m,this.prefix=p;this.value=null!=e?this._normalize(e):null,this.fixPrefix=!1}function skipWhitespace(){for(;" "==o||"\t"==o;)next()}function isDigit(e){return e>="0"&&e<="9"}function next(){i++,o=n.charAt(i)}function revert(e){i=e,o=n.charAt(i)}function parseUnit(){var e="";for(skipWhitespace();o&&" "!=o&&"\t"!=o;)e+=o,next();return e||null}function _findUnit(e){for(var r in g)if(g.hasOwnProperty(r)&&u.endsWith(e,r)){var t=g[r],n=e.length-r.length,i=e.substring(0,n),o=t.prefixes[i];if(void 0!==o)return{unit:t,prefix:o}}return null}Unit.parse=function(e){if(i=-1,o="",!l(n=e))return null;next(),skipWhitespace();var r,t=function parseNumber(){var e,r="";if(e=i,"+"==o?next():"-"==o&&(r+=o,next()),!function isDigitDot(e){return e>="0"&&e<="9"||"."==e}(o))return revert(e),null;if("."==o){if(r+=o,next(),!isDigit(o))return revert(e),null}else{for(;isDigit(o);)r+=o,next();"."==o&&(r+=o,next())}for(;isDigit(o);)r+=o,next();if("E"==o||"e"==o){if(r+=o,next(),"+"!=o&&"-"!=o||(r+=o,next()),!isDigit(o))return revert(e),null;for(;isDigit(o);)r+=o,next()}return r}();if(t){if(r=parseUnit(),next(),skipWhitespace(),o)return null;if(t&&r)try{return new Unit(Number(t),r)}catch(e){}}else{if(r=parseUnit(),next(),skipWhitespace(),o)return null;if(r)try{return new Unit(null,r)}catch(e){}}return null},Unit.isUnit=function(e){return e instanceof Unit},Unit.prototype.clone=function(){var e=new Unit;for(var r in this)this.hasOwnProperty(r)&&(e[r]=this[r]);return e},Unit.prototype._normalize=function(e){return(e+this.unit.offset)*this.unit.value*this.prefix.value},Unit.prototype._denormalize=function(e,r){return null==r?e/this.unit.value/this.prefix.value-this.unit.offset:e/this.unit.value/r-this.unit.offset},Unit.isValuelessUnit=function(e){return null!=_findUnit(e)},Unit.prototype.hasBase=function(e){return this.unit.base===e},Unit.prototype.equalBase=function(e){return this.unit.base===e.unit.base},Unit.prototype.equals=function(e){return this.equalBase(e)&&this.value==e.value},Unit.prototype.to=function(e){var r,t=null==this.value?this._normalize(1):this.value;if(l(e)){if(r=new Unit(null,e),!this.equalBase(r))throw new Error("Units do not match");return r.value=t,r.fixPrefix=!0,r}if(e instanceof Unit){if(!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(r=e.clone()).value=t,r.fixPrefix=!0,r}throw new Error("String or Unit expected as parameter")},Unit.prototype.toNumber=function(e){var r=this.to(e);return r._denormalize(r.value,r.prefix.value)},Unit.prototype.toString=function(){return this.format()},Unit.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.prefix.name+this.unit.name,fixPrefix:this.fixPrefix}},Unit.fromJSON=function(e){var r=new Unit(e.value,e.unit);return r.fixPrefix=e.fixPrefix||!1,r},Unit.prototype.valueOf=Unit.prototype.toString,Unit.prototype.format=function(e){var r,t;if(null===this.value||this.fixPrefix)r=this._denormalize(this.value),t=null!==this.value?s.format(r,e)+" ":"",t+=this.prefix.name+this.unit.name;else{var n=this._bestPrefix();r=this._denormalize(this.value,n.value),t=s.format(r,e)+" ",t+=n.name+this.unit.name}return t},Unit.prototype._bestPrefix=function(){var e=Math.abs(this.value/this.unit.value),r=p,t=Math.abs(Math.log(e/r.value)/Math.LN10-1.2),n=this.unit.prefixes;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o.scientific){var a=Math.abs(Math.log(e/o.value)/Math.LN10-1.2);a<t&&(r=o,t=a)}}return r};var f={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-42,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}}},p={name:"",value:1,scientific:!0},h={NONE:{},LENGTH:{},MASS:{},TIME:{},CURRENT:{},TEMPERATURE:{},LUMINOUS_INTENSITY:{},AMOUNT_OF_SUBSTANCE:{},FORCE:{},SURFACE:{},VOLUME:{},ANGLE:{},BIT:{}},m={name:"",base:{},value:1,offset:0},g={meter:{name:"meter",base:h.LENGTH,prefixes:f.LONG,value:1,offset:0},inch:{name:"inch",base:h.LENGTH,prefixes:f.NONE,value:.0254,offset:0},foot:{name:"foot",base:h.LENGTH,prefixes:f.NONE,value:.3048,offset:0},yard:{name:"yard",base:h.LENGTH,prefixes:f.NONE,value:.9144,offset:0},mile:{name:"mile",base:h.LENGTH,prefixes:f.NONE,value:1609.344,offset:0},link:{name:"link",base:h.LENGTH,prefixes:f.NONE,value:.201168,offset:0},rod:{name:"rod",base:h.LENGTH,prefixes:f.NONE,value:5.02921,offset:0},chain:{name:"chain",base:h.LENGTH,prefixes:f.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:h.LENGTH,prefixes:f.NONE,value:1e-10,offset:0},m:{name:"m",base:h.LENGTH,prefixes:f.SHORT,value:1,offset:0},in:{name:"in",base:h.LENGTH,prefixes:f.NONE,value:.0254,offset:0},ft:{name:"ft",base:h.LENGTH,prefixes:f.NONE,value:.3048,offset:0},yd:{name:"yd",base:h.LENGTH,prefixes:f.NONE,value:.9144,offset:0},mi:{name:"mi",base:h.LENGTH,prefixes:f.NONE,value:1609.344,offset:0},li:{name:"li",base:h.LENGTH,prefixes:f.NONE,value:.201168,offset:0},rd:{name:"rd",base:h.LENGTH,prefixes:f.NONE,value:5.02921,offset:0},ch:{name:"ch",base:h.LENGTH,prefixes:f.NONE,value:20.1168,offset:0},mil:{name:"mil",base:h.LENGTH,prefixes:f.NONE,value:254e-7,offset:0},m2:{name:"m2",base:h.SURFACE,prefixes:f.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:h.SURFACE,prefixes:f.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:h.SURFACE,prefixes:f.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:h.SURFACE,prefixes:f.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:h.SURFACE,prefixes:f.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:h.SURFACE,prefixes:f.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:h.SURFACE,prefixes:f.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:h.SURFACE,prefixes:f.NONE,value:6.4516e-10,offset:0},m3:{name:"m3",base:h.VOLUME,prefixes:f.CUBIC,value:1,offset:0},L:{name:"L",base:h.VOLUME,prefixes:f.SHORT,value:.001,offset:0},l:{name:"l",base:h.VOLUME,prefixes:f.SHORT,value:.001,offset:0},litre:{name:"litre",base:h.VOLUME,prefixes:f.LONG,value:.001,offset:0},cuin:{name:"cuin",base:h.VOLUME,prefixes:f.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:h.VOLUME,prefixes:f.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:h.VOLUME,prefixes:f.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:h.VOLUME,prefixes:f.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:h.VOLUME,prefixes:f.NONE,value:15e-6,offset:0},drop:{name:"drop",base:h.VOLUME,prefixes:f.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:h.VOLUME,prefixes:f.NONE,value:5e-8,offset:0},minim:{name:"minim",base:h.VOLUME,prefixes:f.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:h.VOLUME,prefixes:f.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:h.VOLUME,prefixes:f.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:h.VOLUME,prefixes:f.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:h.VOLUME,prefixes:f.NONE,value:1e-6,offset:0},cup:{name:"cup",base:h.VOLUME,prefixes:f.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:h.VOLUME,prefixes:f.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:h.VOLUME,prefixes:f.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:h.VOLUME,prefixes:f.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:h.VOLUME,prefixes:f.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:h.VOLUME,prefixes:f.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:h.VOLUME,prefixes:f.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:h.VOLUME,prefixes:f.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:h.VOLUME,prefixes:f.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:h.VOLUME,prefixes:f.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:h.VOLUME,prefixes:f.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:h.VOLUME,prefixes:f.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:h.VOLUME,prefixes:f.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:h.VOLUME,prefixes:f.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:h.VOLUME,prefixes:f.NONE,value:.1173478,offset:0},obl:{name:"obl",base:h.VOLUME,prefixes:f.NONE,value:.1589873,offset:0},g:{name:"g",base:h.MASS,prefixes:f.SHORT,value:.001,offset:0},gram:{name:"gram",base:h.MASS,prefixes:f.LONG,value:.001,offset:0},ton:{name:"ton",base:h.MASS,prefixes:f.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:h.MASS,prefixes:f.SHORT,value:1e3,offset:0},grain:{name:"grain",base:h.MASS,prefixes:f.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:h.MASS,prefixes:f.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:h.MASS,prefixes:f.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:h.MASS,prefixes:f.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:h.MASS,prefixes:f.NONE,value:45.359237,offset:0},stick:{name:"stick",base:h.MASS,prefixes:f.NONE,value:.115,offset:0},stone:{name:"stone",base:h.MASS,prefixes:f.NONE,value:6350,offset:0},gr:{name:"gr",base:h.MASS,prefixes:f.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:h.MASS,prefixes:f.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:h.MASS,prefixes:f.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:h.MASS,prefixes:f.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:h.MASS,prefixes:f.NONE,value:45.359237,offset:0},s:{name:"s",base:h.TIME,prefixes:f.SHORT,value:1,offset:0},min:{name:"min",base:h.TIME,prefixes:f.NONE,value:60,offset:0},h:{name:"h",base:h.TIME,prefixes:f.NONE,value:3600,offset:0},second:{name:"second",base:h.TIME,prefixes:f.LONG,value:1,offset:0},sec:{name:"sec",base:h.TIME,prefixes:f.LONG,value:1,offset:0},minute:{name:"minute",base:h.TIME,prefixes:f.NONE,value:60,offset:0},hour:{name:"hour",base:h.TIME,prefixes:f.NONE,value:3600,offset:0},day:{name:"day",base:h.TIME,prefixes:f.NONE,value:86400,offset:0},rad:{name:"rad",base:h.ANGLE,prefixes:f.NONE,value:1,offset:0},deg:{name:"deg",base:h.ANGLE,prefixes:f.NONE,value:.017453292519943295,offset:0},grad:{name:"grad",base:h.ANGLE,prefixes:f.NONE,value:.015707963267948967,offset:0},cycle:{name:"cycle",base:h.ANGLE,prefixes:f.NONE,value:6.283185307179586,offset:0},A:{name:"A",base:h.CURRENT,prefixes:f.SHORT,value:1,offset:0},ampere:{name:"ampere",base:h.CURRENT,prefixes:f.LONG,value:1,offset:0},K:{name:"K",base:h.TEMPERATURE,prefixes:f.NONE,value:1,offset:0},degC:{name:"degC",base:h.TEMPERATURE,prefixes:f.NONE,value:1,offset:273.15},degF:{name:"degF",base:h.TEMPERATURE,prefixes:f.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:h.TEMPERATURE,prefixes:f.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:h.TEMPERATURE,prefixes:f.NONE,value:1,offset:0},celsius:{name:"celsius",base:h.TEMPERATURE,prefixes:f.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:h.TEMPERATURE,prefixes:f.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:h.TEMPERATURE,prefixes:f.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:h.AMOUNT_OF_SUBSTANCE,prefixes:f.NONE,value:1,offset:0},mole:{name:"mole",base:h.AMOUNT_OF_SUBSTANCE,prefixes:f.NONE,value:1,offset:0},cd:{name:"cd",base:h.LUMINOUS_INTENSITY,prefixes:f.NONE,value:1,offset:0},candela:{name:"candela",base:h.LUMINOUS_INTENSITY,prefixes:f.NONE,value:1,offset:0},N:{name:"N",base:h.FORCE,prefixes:f.SHORT,value:1,offset:0},newton:{name:"newton",base:h.FORCE,prefixes:f.LONG,value:1,offset:0},lbf:{name:"lbf",base:h.FORCE,prefixes:f.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:h.FORCE,prefixes:f.NONE,value:4.4482216152605,offset:0},b:{name:"b",base:h.BIT,prefixes:f.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:h.BIT,prefixes:f.BINARY_LONG,value:1,offset:0},B:{name:"B",base:h.BIT,prefixes:f.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:h.BIT,prefixes:f.BINARY_LONG,value:8,offset:0}},d={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",litres:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",seconds:"second",minutes:"minute",hours:"hour",days:"day",radians:"rad",degrees:"deg",gradients:"grad",cycles:"cycle",amperes:"ampere",moles:"mole"};for(var x in d)if(d.hasOwnProperty(x)){var y=g[d[x]],w=Object.create(y);w.name=x,g[x]=w}g.lt=g.l,g.liter=g.litre,g.liters=g.litres,g.lb=g.lbm,g.lbs=g.lbm,Unit.PREFIXES=f,Unit.BASE_UNITS=h,Unit.UNITS=g,e.exports=Unit},function(e,r,t){e.exports="1.7.0"},function(e,r,t){"use strict";r.ArgumentsError=t(22),r.DimensionError=t(13),r.IndexError=t(14),r.UnsupportedTypeError=t(23)},function(e,r,t){"use strict";function ArgumentsError(e,r,t,n){if(!(this instanceof ArgumentsError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=r,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+r+" provided, "+t+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack}ArgumentsError.prototype=new Error,ArgumentsError.prototype.constructor=Error,ArgumentsError.prototype.name="ArgumentsError",e.exports=ArgumentsError},function(e,r,t){"use strict";function UnsupportedTypeError(e,r){if(!(this instanceof UnsupportedTypeError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.types=Array.prototype.splice.call(arguments,1),e?0==this.types.length?this.message="Unsupported type of argument in function "+e:this.message="Function "+e+"("+this.types.join(", ")+") not supported":this.message="Unsupported type of argument",this.stack=(new Error).stack}UnsupportedTypeError.prototype=new TypeError,UnsupportedTypeError.prototype.constructor=TypeError,UnsupportedTypeError.prototype.name="UnsupportedTypeError",e.exports=UnsupportedTypeError},function(e,r,t){"use strict";var n=t(17),i=n.number,o=n.string;n.array;function Range(e,r,t){if(!(this instanceof Range))throw new SyntaxError("Constructor must be called with the new operator");if(null!=e&&!i.isNumber(e))throw new TypeError("Parameter start must be a number");if(null!=r&&!i.isNumber(r))throw new TypeError("Parameter end must be a number");if(null!=t&&!i.isNumber(t))throw new TypeError("Parameter step must be a number");this.start=null!=e?parseFloat(e):0,this.end=null!=r?parseFloat(r):0,this.step=null!=t?parseFloat(t):1}Range.parse=function(e){if(!o.isString(e))return null;var r=e.split(":").map((function(e){return parseFloat(e)}));if(r.some((function(e){return isNaN(e)})))return null;switch(r.length){case 2:return new Range(r[0],r[1]);case 3:return new Range(r[0],r[2],r[1]);default:return null}},Range.prototype.clone=function(){return new Range(this.start,this.end,this.step)},Range.isRange=function(e){return e instanceof Range},Range.prototype.size=function(){var e=0,r=this.start,t=this.step,n=this.end-r;return i.sign(t)==i.sign(n)?e=Math.ceil(n/t):0==n&&(e=0),isNaN(e)&&(e=0),[e]},Range.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},Range.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},Range.prototype.forEach=function(e){var r=this.start,t=this.step,n=this.end,i=0;if(t>0)for(;r<n;)e(r,i,this),r+=t,i++;else if(t<0)for(;r>n;)e(r,i,this),r+=t,i++},Range.prototype.map=function(e){var r=[];return this.forEach((function(t,n,i){r[n]=e(t,n,i)})),r},Range.prototype.toArray=function(){var e=[];return this.forEach((function(r,t){e[t]=r})),e},Range.prototype.valueOf=function(){return this.toArray()},Range.prototype.format=function(e){var r=i.format(this.start,e);return 1!=this.step&&(r+=":"+i.format(this.step,e)),r+=":"+i.format(this.end,e)},Range.prototype.toString=function(){return this.format()},Range.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},Range.fromJSON=function(e){return new Range(e.start,e.end,e.step)},e.exports=Range},function(e,r,t){"use strict";var n=t(17),i=t(24),o=n.number,a=o.isNumber,s=o.isInteger,u=Array.isArray;function Index(e){if(!(this instanceof Index))throw new SyntaxError("Constructor must be called with the new operator");this._ranges=[],this._isScalar=!0;for(var r=0,t=arguments.length;r<t;r++){var n=arguments[r];if(n instanceof i)this._ranges.push(n),this._isScalar=!1;else if(u(n))this._ranges.push(_createRange(n)),this._isScalar=!1;else if(a(n))this._ranges.push(_createRange([n,n+1]));else{var o=n.valueOf();if(!u(o))throw new TypeError("Ranges must be an Array, Number, or Range");this._ranges.push(_createRange(o)),this._isScalar=!1}}}function _createRange(e){for(var r=e.length,t=0;t<r;t++)if(!a(e[t])||!s(e[t]))throw new TypeError("Index parameters must be integer numbers");switch(e.length){case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);default:throw new SyntaxError("Wrong number of arguments in Index (2 or 3 expected)")}}Index.prototype.clone=function(){var e=new Index;return e._ranges=n.object.clone(this._ranges),e._isScalar=this._isScalar,e},Index.isIndex=function(e){return e instanceof Index},Index.create=function(e){var r=new Index;return Index.apply(r,e),r},Index.prototype.size=function(){for(var e=[],r=0,t=this._ranges.length;r<t;r++){var n=this._ranges[r];e[r]=n.size()[0]}return e},Index.prototype.max=function(){for(var e=[],r=0,t=this._ranges.length;r<t;r++){var n=this._ranges[r];e[r]=n.max()}return e},Index.prototype.min=function(){for(var e=[],r=0,t=this._ranges.length;r<t;r++){var n=this._ranges[r];e[r]=n.min()}return e},Index.prototype.forEach=function(e){for(var r=0,t=this._ranges.length;r<t;r++)e(this._ranges[r],r,this)},Index.prototype.range=function(e){return this._ranges[e]||null},Index.prototype.isScalar=function(){return this._isScalar},Index.prototype.toArray=function(){for(var e=[],r=0,t=this._ranges.length;r<t;r++){var n=this._ranges[r],i=[],o=n.start,a=n.end,s=n.step;if(s>0)for(;o<a;)i.push(o),o+=s;else if(s<0)for(;o>a;)i.push(o),o+=s;e.push(i)}return e},Index.prototype.valueOf=Index.prototype.toArray,Index.prototype.toString=function(){for(var e=[],r=0,t=this._ranges.length;r<t;r++){var n=this._ranges[r],i=o.format(n.start);1!=n.step&&(i+=":"+o.format(n.step)),i+=":"+o.format(n.end),e.push(i)}return"["+e.join(", ")+"]"},Index.prototype.toJSON=function(){return{mathjs:"Index",ranges:this._ranges}},Index.fromJSON=function(e){return Index.create(e.ranges)},e.exports=Index},function(e,r,t){"use strict";var n=t(9).isString;e.exports=function(e){function Matrix(){if(!(this instanceof Matrix))throw new SyntaxError("Constructor must be called with the new operator")}return Matrix.isMatrix=function(e){return e instanceof Matrix},Matrix.storage=function(e){if(!n(e))throw new TypeError("format must be a string value");var r=Matrix._storage[e];if(!r)throw new SyntaxError("Unsupported matrix storage format: "+e);return r},Matrix._storage={},Matrix.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},Matrix.prototype.subset=function(e,r,t){throw new Error("Cannot invoke subset on a Matrix interface")},Matrix.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},Matrix.prototype.set=function(e,r,t){throw new Error("Cannot invoke set on a Matrix interface")},Matrix.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},Matrix.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},Matrix.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},Matrix.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},Matrix.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},Matrix.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},Matrix.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},Matrix.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},Matrix.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},Matrix.prototype.transpose=function(){throw new Error("Cannot invoke transpose on a Matrix interface")},Matrix.prototype.trace=function(){throw new Error("Cannot invoke transpose on a Matrix interface")},Matrix.prototype.multiply=function(e){throw new Error("Cannot invoke multiply on a Matrix interface")},Matrix}},function(e,r,t){"use strict";var n=t(17),i=n.object,o=n.string;function Help(e){if(!(this instanceof Help))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}Help.isHelp=function(e){return e instanceof Help},Help.prototype.toText=function(e){var r=this.doc||{},t="\n";if(r.name&&(t+="Name: "+r.name+"\n\n"),r.category&&(t+="Category: "+r.category+"\n\n"),r.description&&(t+="Description:\n    "+r.description+"\n\n"),r.syntax&&(t+="Syntax:\n    "+r.syntax.join("\n    ")+"\n\n"),r.examples){var n=e&&e.parser();t+="Examples:\n";for(var i=0;i<r.examples.length;i++){var a=r.examples[i];if(t+="    "+a+"\n",n){var s;try{s=n.eval(a)}catch(e){s=e}void 0===s||s instanceof Help||(t+="        "+o.format(s,{precision:14})+"\n")}}t+="\n"}return r.seealso&&(t+="See also: "+r.seealso.join(", ")+"\n"),t},Help.prototype.toString=function(){return this.toText()},Help.prototype.toJSON=function(){var e=i.clone(this.doc);return e.mathjs="Help",e},Help.fromJSON=function(e){var r={};for(var t in e)"mathjs"!==t&&(r[t]=e[t]);return new Help(r)},Help.prototype.valueOf=Help.prototype.toString,e.exports=Help},function(e,r,t){"use strict";function ResultSet(e){if(!(this instanceof ResultSet))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}ResultSet.prototype.valueOf=function(){return this.entries},ResultSet.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},ResultSet.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},ResultSet.fromJSON=function(e){return new ResultSet(e.entries)},e.exports=ResultSet},function(e,r,t){"use strict";var n=t(17),i=t(14),o=t(13),a=n.array,s=n.array.isArray;e.exports=function(e){var r=e.type.Matrix,t={};function _reduce(e,r,t){var n,i,o,a;if(r<=0){if(s(e[0])){for(a=function _switch(e){var r,t,n=e.length,i=e[0].length,o=[];for(t=0;t<i;t++){var a=[];for(r=0;r<n;r++)a.push(e[r][t]);o.push(a)}return o}(e),i=[],n=0;n<a.length;n++)i[n]=_reduce(a[n],r-1,t);return i}for(o=e[0],n=1;n<e.length;n++)o=t(o,e[n]);return o}for(i=[],n=0;n<e.length;n++)i[n]=_reduce(e[n],r-1,t);return i}return t.argsToArray=function(e){if(0===e.length)return[];if(1==e.length){var t=e[0];return t instanceof r&&(t=t.valueOf()),s(t)||(t=[t]),t}return n.array.argsToArray(e)},t.isCollection=function(e){return s(e)||e instanceof r},t.deepMap=function deepMap(e,r,t){return e&&"function"==typeof e.map?e.map((function(e){return deepMap(e,r,t)})):r(e)},t.deepMap2=function deepMap2(t,n,i){var a,u,c;if(s(t))if(s(n)){if(t.length!=n.length)throw new o(t.length,n.length);for(a=[],u=t.length,c=0;c<u;c++)a[c]=deepMap2(t[c],n[c],i)}else{if(n instanceof r)return a=deepMap2(t,n.valueOf(),i),e.matrix(a);for(a=[],u=t.length,c=0;c<u;c++)a[c]=deepMap2(t[c],n,i)}else{if(t instanceof r)return n instanceof r?(a=deepMap2(t.valueOf(),n.valueOf(),i),e.matrix(a)):(a=deepMap2(t.valueOf(),n,i),e.matrix(a));if(s(n))for(a=[],u=n.length,c=0;c<u;c++)a[c]=deepMap2(t,n[c],i);else{if(n instanceof r)return a=deepMap2(t,n.valueOf(),i),e.matrix(a);a=i(t,n)}}return a},t.reduce=function(t,n,o){var u=s(t)?a.size(t):t.size();if(n<0)throw new i(n);if(n>=u.length)throw new i(n,u.length);return t instanceof r?e.matrix(_reduce(t.valueOf(),n,o)):_reduce(t,n,o)},t.deepForEach=function deepForEach(e,t){e instanceof r&&(e=e.valueOf());for(var n=0,i=e.length;n<i;n++){var o=e[n];s(o)?deepForEach(o,t):t(o)}},t}},function(e,r,t){"use strict";var n=t(17),i=t(13),o=n.array,a=n.object,s=n.string,u=n.number,c=Array.isArray,l=n.number.isNumber,f=n.number.isInteger,p=o.validateIndex;e.exports=function(e){var r=e.type.Index,t=e.type.BigNumber,h=e.type.Matrix;function CcsMatrix(e){if(!(this instanceof CcsMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(e instanceof h)"CcsMatrix"===e.type?(this._values=a.clone(e._values),this._index=a.clone(e._index),this._ptr=a.clone(e._ptr),this._size=a.clone(e._size)):_createFromArray(this,e.valueOf());else if(e&&c(e.values)&&c(e.index)&&c(e.ptr)&&c(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size;else if(c(e))_createFromArray(this,e);else{if(e)throw new TypeError("Unsupported type of data ("+n.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0]}}var _createFromArray=function(r,t){r._values=[],r._index=[],r._ptr=[];var n=t.length,i=0;if(n>0){var o=0;do{r._ptr.push(r._values.length);for(var a=0;a<n;a++){var s=t[a];if(c(s)){if(0===o&&i<s.length&&(i=s.length),o<s.length){var u=s[o];e.equal(u,0)||(r._values.push(u),r._index.push(a))}}else 0===o&&i<1&&(i=1),e.equal(s,0)||(r._values.push(s),r._index.push(a))}o++}while(o<i)}r._ptr.push(r._values.length),r._size=[n,i]};CcsMatrix.prototype=new e.type.Matrix,CcsMatrix.prototype.type="CcsMatrix",CcsMatrix.prototype.storage=function(){return"ccs"},CcsMatrix.prototype.subset=function(e,r,t){switch(arguments.length){case 1:return _getsubset(this,e);case 2:case 3:return _setsubset(this,e,r,t);default:throw new SyntaxError("Wrong number of arguments")}};var _getsubset=function(e,t){if(!(t instanceof r))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n=t.size();if(n.length!=e._size.length)throw new i(n.length,e._size.length);for(var o=t.min(),a=t.max(),s=0,u=e._size.length;s<u;s++)p(o[s],e._size[s]),p(a[s],e._size[s]);return _map(e,o[0],a[0],o[1],a[1],(function(e){return e}),!1)},_setsubset=function(e,t,n,s){if(!(t instanceof r))throw new TypeError("Invalid index");var u,c=t.size(),l=t.isScalar();if(n instanceof h?(u=n.size(),n=n.toArray()):u=o.size(n),l){if(0!==u.length)throw new TypeError("Scalar expected");e.set(t.min(),n,s)}else{if(1!==c.length&&2!==c.length)throw new i(c.length,e._size.length,"<");if(u.length<c.length){for(var f=0,p=0;1===c[f]&&1===u[f];)f++;for(;1===c[f];)p++,f++;n=o.unsqueeze(n,c.length,p,u)}if(!a.deepEqual(c,u))throw new i(c,u,">");for(var m=t.min()[0],g=t.min()[1],d=u[0],x=u[1],y=0;y<d;y++)for(var w=0;w<x;w++){var v=n[y][w];e.set([y+m,w+g],v,s)}}return e};CcsMatrix.prototype.get=function(e){if(!c(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new i(e.length,this._size.length);var r=e[0],t=e[1];p(r,this._size[0]),p(t,this._size[1]);var n=_getValueIndex(r,this._ptr[t],this._ptr[t+1],this._index);return n<this._ptr[t+1]&&this._index[n]===r?a.clone(this._values[n]):0},CcsMatrix.prototype.set=function(r,t,n){if(!c(r))throw new TypeError("Array expected");if(r.length!=this._size.length)throw new i(r.length,this._size.length);var o=r[0],a=r[1],s=this._size[0],u=this._size[1];(o>s-1||a>u-1)&&(_resize(this,Math.max(o+1,s),Math.max(a+1,u),n),s=this._size[0],u=this._size[1]),p(o,s),p(a,u);var l=_getValueIndex(o,this._ptr[a],this._ptr[a+1],this._index);return l<this._ptr[a+1]&&this._index[l]===o?e.equal(t,0)?_remove(l,a,this._values,this._index,this._ptr):this._values[l]=t:_insert(l,o,a,t,this._values,this._index,this._ptr),this};var _getValueIndex=function(e,r,t,n){if(t-r==0||e>n[t-1])return t;for(;r<t;){var i=~~((r+t)/2),o=n[i];if(e<o)t=i;else{if(!(e>o))return i;r=i+1}}return r},_remove=function(e,r,t,n,i){t.splice(e,1),n.splice(e,1);for(var o=r+1;o<i.length;o++)i[o]--},_insert=function(e,r,t,n,i,o,a){i.splice(e,0,n),o.splice(e,0,r);for(var s=t+1;s<a.length;s++)a[s]++};CcsMatrix.prototype.resize=function(e,r,t){if(!c(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");e.forEach((function(r){if(!u.isNumber(r)||!u.isInteger(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(e)+")")}));var n=t?this.clone():this;return _resize(n,e[0],e[1],r)};var _resize=function(r,t,n,i){var o,a,s,u=i||0,c=!e.equal(u,0),l=r._size[0],f=r._size[1];if(n>f){for(a=f;a<n;a++)if(r._ptr[a]=r._values.length,c)for(o=0;o<l;o++)r._values.push(u),r._index.push(o);r._ptr[n]=r._values.length}else n<f&&(r._ptr.splice(n+1,f-n),r._values.splice(r._ptr[n],r._values.length),r._index.splice(r._ptr[n],r._index.length));if(f=n,t>l){if(c){var p=0;for(a=0;a<f;a++){r._ptr[a]=r._ptr[a]+p,s=r._ptr[a+1]+p;var h=0;for(o=l;o<t;o++,h++)r._values.splice(s+h,0,u),r._index.splice(s+h,0,o),p++}r._ptr[f]=r._values.length}}else if(t<l){var m=0;for(a=0;a<f;a++){r._ptr[a]=r._ptr[a]-m;var g=r._ptr[a],d=r._ptr[a+1]-m;for(s=g;s<d;s++)(o=r._index[s])>t-1&&(r._values.splice(s,1),r._index.splice(s,1),m++)}r._ptr[a]=r._values.length}return r._size[0]=t,r._size[1]=n,r};CcsMatrix.prototype.clone=function(){return new CcsMatrix({values:a.clone(this._values),index:a.clone(this._index),ptr:a.clone(this._ptr),size:a.clone(this._size)})},CcsMatrix.prototype.size=function(){return a.clone(this._size)},CcsMatrix.prototype.map=function(e,r){var t=this,n=this._size[0],i=this._size[1];return _map(this,0,n-1,0,i-1,(function(r,n,i){return e(r,[n,i],t)}),r)};var _map=function(r,t,n,i,o,a,s){for(var u=[],c=[],l=[],invoke=function(r,t,n){r=a(r,t,n),e.equal(r,0)||(u.push(r),c.push(t))},f=i;f<=o;f++){l.push(u.length);for(var p=r._ptr[f],h=r._ptr[f+1],m=t,g=p;g<h;g++){var d=r._index[g];if(d>=t&&d<=n){if(!s)for(var x=m;x<d;x++)invoke(0,x-t,f-i);invoke(r._values[g],d-t,f-i)}m=d+1}if(!s)for(var y=m;y<=n;y++)invoke(0,y-t,f-i)}return l.push(u.length),new CcsMatrix({values:u,index:c,ptr:l,size:[n-t+1,o-i+1]})};CcsMatrix.prototype.forEach=function(e,r){for(var t=this,n=this._size[0],i=this._size[1],o=0;o<i;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,c=a;c<s;c++){var l=this._index[c];if(!r)for(var f=u;f<l;f++)e(0,[f,o],t);e(this._values[c],[l,o],t),u=l+1}if(!r)for(var p=u;p<n;p++)e(0,[p,o],t)}},CcsMatrix.prototype.toArray=function(){return _toArray(this,!0)},CcsMatrix.prototype.valueOf=function(){return _toArray(this,!1)};var _toArray=function(e,r){for(var t=[],n=e._size[0],i=e._size[1],o=0;o<i;o++){for(var s=e._ptr[o],u=e._ptr[o+1],c=0,l=s;l<u;l++){for(var f=e._index[l],p=c;p<f;p++)(t[p]=t[p]||[])[o]=0;(t[f]=t[f]||[])[o]=r?a.clone(e._values[l]):e._values[l],c=f+1}for(var h=c;h<n;h++)(t[h]=t[h]||[])[o]=0}return t};CcsMatrix.prototype.format=function(e){for(var r=this._size[0],t=this._size[1],n="CCS ["+s.format(r,e)+" x "+s.format(t,e)+"] density: "+s.format(this._values.length/(r*t),e)+"\n",i=0;i<t;i++)for(var o=this._ptr[i],a=this._ptr[i+1],u=o;u<a;u++){var c=this._index[u];n+="\n    ("+s.format(c,e)+", "+s.format(i,e)+") ==> "+s.format(this._values[u],e)}return n},CcsMatrix.prototype.toString=function(){return s.format(this.toArray())},CcsMatrix.prototype.toJSON=function(){return{mathjs:"CcsMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size}},CcsMatrix.prototype.transpose=function(){var r=this._size[0],t=this._size[1];if(0===t)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+s.format(this._size)+")");return new e.type.CrsMatrix({values:a.clone(this._values),index:a.clone(this._index),ptr:a.clone(this._ptr),size:[t,r]})},CcsMatrix.prototype.diagonal=function(e){if(e){if(e instanceof t&&(e=e.toNumber()),!l(e)||!f(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var r=e>0?e:0,n=e<0?-e:0,i=this._size[0],o=this._size[1],s=Math.min(i-n,o-r),u=[],c=r;c<o&&u.length<s;c++){for(var p=this._ptr[c],h=this._ptr[c+1],m=!1,g=p;g<h;g++){var d=this._index[g];if(d===c-r+n){m=!0,u.push(a.clone(this._values[g]));break}if(d>c-r+n)break}!m&&u.length<s&&u.push(0)}return u},CcsMatrix.fromJSON=function(e){return new CcsMatrix(e)},CcsMatrix.diagonal=function(r,n,i){if(!c(r))throw new TypeError("Array expected, size parameter");if(2!==r.length)throw new Error("Only two dimensions matrix are supported");if(r=r.map((function(e){if(e instanceof t&&(e=e.toNumber()),!l(e)||!f(e)||e<1)throw new Error("Size values must be positive integers");return e})),i){if(i instanceof t&&(i=i.toNumber()),!l(i)||!f(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var o,a=i>0?i:0,s=i<0?-i:0,u=r[0],p=r[1],h=Math.min(u-s,p-a);if(c(n)){if(n.length!==h)throw new Error("Invalid value array length");o=function(e){return n[e]}}else o=function(){return n};for(var m=[],g=[],d=[],x=0;x<p;x++){d.push(m.length);var y=x-a;if(y>=0&&y<h){var w=o(y);e.equal(w,0)||(g.push(y+s),m.push(w))}}return d.push(m.length),new CcsMatrix({values:m,index:g,ptr:d,size:[u,p]})},CcsMatrix.prototype.trace=function(){var r=this._size,t=r[0],n=r[1];if(t===n){var i=0;if(this._values.length>0)for(var o=0;o<n;o++)for(var a=this._ptr[o],u=this._ptr[o+1],c=a;c<u;c++){var l=this._index[c];if(l===o){i=e.add(i,this._values[c]);break}if(l>o)break}return i}throw new RangeError("Matrix must be square (size: "+s.format(r)+")")},CcsMatrix.prototype.multiply=function(r){var t=this._size[0],n=this._size[1];if(r instanceof h){var i=r.size();if(1===i.length)return _multiply(this,i[0],1,(function(e){return r.get([e])}));if(2===i.length)return _multiply(this,i[0],i[1],(function(e,t){return r.get([e,t])}));throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+i.length+" dimensions)")}if(c(r)){var a=o.size(r);if(1===a.length)return _multiply(this,a[0],1,(function(e){return r[e]}));if(2===a.length)return _multiply(this,a[0],a[1],(function(e,t){return r[e][t]}));throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+a.length+" dimensions)")}return _map(this,0,t-1,0,n-1,(function(t){return e.multiply(t,r)}),!1)};var _multiply=function(r,t,n,i){var o=r._size[0],a=r._size[1];if(a!==t)throw new RangeError("Dimension mismatch in multiplication. Columns of A must match length of B (A is "+o+"x"+a+", B is "+t+", "+a+" != "+t+")");for(var s=[],u=[],c=[],l=[],f=0;f<o;f++)l[f]=0;for(var p=0;p<n;p++){c.push(s.length);for(var h=0;h<a;h++)for(var m=r._ptr[h],g=r._ptr[h+1],d=m;d<g;d++){var x=r._index[d];l[x]=e.add(l[x],e.multiply(r._values[d],i(h,p)))}for(var y=0;y<o;y++)e.equal(l[y],0)||(s.push(l[y]),u.push(y)),l[y]=0}return c.push(s.length),1===o&&1===n?1===s.length?s[0]:0:new CcsMatrix({values:s,index:u,ptr:c,size:[o,n]})};return CcsMatrix}},function(e,r,t){"use strict";var n=t(17),i=t(13),o=n.array,a=n.object,s=n.string,u=n.number,c=Array.isArray,l=n.number.isNumber,f=n.number.isInteger,p=o.validateIndex;e.exports=function(e){var r=e.type.Index,t=e.type.BigNumber,h=e.type.Matrix;function CrsMatrix(e){if(!(this instanceof CrsMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(e instanceof h)"CrsMatrix"===e.type?(this._values=a.clone(e._values),this._index=a.clone(e._index),this._ptr=a.clone(e._ptr),this._size=a.clone(e._size)):_createFromArray(this,e.valueOf());else if(e&&c(e.values)&&c(e.index)&&c(e.ptr)&&c(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size;else if(c(e))_createFromArray(this,e);else{if(e)throw new TypeError("Unsupported type of data ("+n.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0]}}var _createFromArray=function(r,t){r._values=[],r._index=[],r._ptr=[];for(var n=t.length,i=0,o=0;o<n;o++){r._ptr.push(r._values.length);var a=t[o];if(c(a)){a.length>i&&(i=a.length);for(var s=0;s<a.length;s++){var u=a[s];e.equal(u,0)||(r._values.push(u),r._index.push(s))}}else 0===o&&i<1&&(i=1),e.equal(a,0)||(r._values.push(a),r._index.push(0))}r._ptr.push(r._values.length),r._size=[n,i]};CrsMatrix.prototype=new e.type.Matrix,CrsMatrix.prototype.type="CrsMatrix",CrsMatrix.prototype.storage=function(){return"crs"},CrsMatrix.prototype.subset=function(e,r,t){switch(arguments.length){case 1:return _getsubset(this,e);case 2:case 3:return _setsubset(this,e,r,t);default:throw new SyntaxError("Wrong number of arguments")}};var _getsubset=function(e,t){if(!(t instanceof r))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n=t.size();if(n.length!=e._size.length)throw new i(n.length,e._size.length);for(var o=t.min(),a=t.max(),s=0,u=e._size.length;s<u;s++)p(o[s],e._size[s]),p(a[s],e._size[s]);return _map(e,o[0],a[0],o[1],a[1],(function(e){return e}),!1)},_setsubset=function(e,t,n,s){if(!(t instanceof r))throw new TypeError("Invalid index");var u,c=t.size(),l=t.isScalar();if(n instanceof h?(u=n.size(),n=n.toArray()):u=o.size(n),l){if(0!==u.length)throw new TypeError("Scalar expected");e.set(t.min(),n,s)}else{if(1!==c.length&&2!==c.length)throw new i(c.length,e._size.length,"<");if(u.length<c.length){for(var f=0,p=0;1===c[f]&&1===u[f];)f++;for(;1===c[f];)p++,f++;n=o.unsqueeze(n,c.length,p,u)}if(!a.deepEqual(c,u))throw new i(c,u,">");for(var m=t.min()[0],g=t.min()[1],d=u[0],x=u[1],y=0;y<d;y++)for(var w=0;w<x;w++){var v=n[y][w];e.set([y+m,w+g],v,s)}}return e};CrsMatrix.prototype.get=function(e){if(!c(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new i(e.length,this._size.length);var r=e[0],t=e[1];p(r,this._size[0]),p(t,this._size[1]);var n=_getValueIndex(t,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===t?a.clone(this._values[n]):0},CrsMatrix.prototype.set=function(r,t,n){if(!c(r))throw new TypeError("Array expected");if(r.length!=this._size.length)throw new i(r.length,this._size.length);var o=r[0],a=r[1],s=this._size[0],u=this._size[1];(o>s-1||a>u-1)&&(_resize(this,Math.max(o+1,s),Math.max(a+1,u),n),s=this._size[0],u=this._size[1]),p(o,s),p(a,u);var l=_getValueIndex(a,this._ptr[o],this._ptr[o+1],this._index);return l<this._ptr[o+1]&&this._index[l]===a?e.equal(t,0)?_remove(l,o,this._values,this._index,this._ptr):this._values[l]=t:_insert(l,o,a,t,this._values,this._index,this._ptr),this};var _getValueIndex=function(e,r,t,n){if(t-r==0||e>n[t-1])return t;for(;r<t;){var i=~~((r+t)/2),o=n[i];if(e<o)t=i;else{if(!(e>o))return i;r=i+1}}return r},_remove=function(e,r,t,n,i){t.splice(e,1),n.splice(e,1);for(var o=r+1;o<i.length;o++)i[o]--},_insert=function(e,r,t,n,i,o,a){i.splice(e,0,n),o.splice(e,0,t);for(var s=r+1;s<a.length;s++)a[s]++};CrsMatrix.prototype.resize=function(e,r,t){if(!c(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");e.forEach((function(r){if(!u.isNumber(r)||!u.isInteger(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(e)+")")}));var n=t?this.clone():this;return _resize(n,e[0],e[1],r)};var _resize=function(r,t,n,i){var o,a,s,u=i||0,c=!e.equal(u,0),l=r._size[0],f=r._size[1];if(t>l){for(o=l;o<t;o++)if(r._ptr[o]=r._values.length,c)for(a=0;a<f;a++)r._values.push(u),r._index.push(a);r._ptr[t]=r._values.length}else t<l&&(r._ptr.splice(t+1,l-t),r._values.splice(r._ptr[t],r._values.length),r._index.splice(r._ptr[t],r._index.length));if(l=t,n>f){if(c){var p=0;for(o=0;o<l;o++){r._ptr[o]=r._ptr[o]+p,s=r._ptr[o+1]+p;var h=0;for(a=f;a<n;a++,h++)r._values.splice(s+h,0,u),r._index.splice(s+h,0,a),p++}r._ptr[l]=r._values.length}}else if(n<f){var m=0;for(o=0;o<l;o++){r._ptr[o]=r._ptr[o]-m;var g=r._ptr[o],d=r._ptr[o+1]-m;for(s=g;s<d;s++)(a=r._index[s])>n-1&&(r._values.splice(s,1),r._index.splice(s,1),m++)}r._ptr[o]=r._values.length}return r._size[0]=t,r._size[1]=n,r};CrsMatrix.prototype.clone=function(){return new CrsMatrix({values:a.clone(this._values),index:a.clone(this._index),ptr:a.clone(this._ptr),size:a.clone(this._size)})},CrsMatrix.prototype.size=function(){return a.clone(this._size)},CrsMatrix.prototype.map=function(e,r){var t=this,n=this._size[0],i=this._size[1];return _map(this,0,n-1,0,i-1,(function(r,n,i){return e(r,[n,i],t)}),r)};var _map=function(r,t,n,i,o,a,s){for(var u=[],c=[],l=[],invoke=function(r,t,n){r=a(r,t,n),e.equal(r,0)||(u.push(r),c.push(n))},f=t;f<=n;f++){l.push(u.length);for(var p=r._ptr[f],h=r._ptr[f+1],m=i,g=p;g<h;g++){var d=r._index[g];if(d>=i&&d<=o){if(!s)for(var x=m;x<d;x++)invoke(0,f-t,x-i);invoke(r._values[g],f-t,d-i)}m=d+1}if(!s)for(var y=m;y<=o;y++)invoke(0,f-t,y-i)}return l.push(u.length),new CrsMatrix({values:u,index:c,ptr:l,size:[n-t+1,o-i+1]})};CrsMatrix.prototype.forEach=function(e,r){for(var t=this,n=this._size[0],i=this._size[1],o=0;o<n;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,c=a;c<s;c++){var l=this._index[c];if(!r)for(var f=u;f<l;f++)e(0,[o,f],t);e(this._values[c],[o,l],t),u=l+1}if(!r)for(var p=u;p<i;p++)e(0,[o,p],t)}},CrsMatrix.prototype.toArray=function(){return _toArray(this,!0)},CrsMatrix.prototype.valueOf=function(){return _toArray(this,!1)};var _toArray=function(e,r){for(var t=[],n=e._size[0],i=e._size[1],o=0;o<n;o++){for(var s=t[o]=[],u=e._ptr[o],c=e._ptr[o+1],l=0,f=u;f<c;f++){for(var p=e._index[f],h=l;h<p;h++)s[h]=0;s[p]=r?a.clone(e._values[f]):e._values[f],l=p+1}for(var m=l;m<i;m++)s[m]=0}return t};CrsMatrix.prototype.format=function(e){for(var r=this._size[0],t=this._size[1],n="CRS ["+s.format(r,e)+" x "+s.format(t,e)+"] density: "+s.format(this._values.length/(r*t),e)+"\n",i=0;i<r;i++)for(var o=this._ptr[i],a=this._ptr[i+1],u=o;u<a;u++){var c=this._index[u];n+="\n    ("+s.format(i,e)+", "+s.format(c,e)+") ==> "+s.format(this._values[u],e)}return n},CrsMatrix.prototype.toString=function(){return s.format(this.toArray())},CrsMatrix.prototype.toJSON=function(){return{mathjs:"CrsMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size}},CrsMatrix.prototype.transpose=function(){var r=this._size[0],t=this._size[1];if(0===t)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+s.format(this._size)+")");return new e.type.CcsMatrix({values:a.clone(this._values),index:a.clone(this._index),ptr:a.clone(this._ptr),size:[t,r]})},CrsMatrix.prototype.diagonal=function(e){if(e){if(e instanceof t&&(e=e.toNumber()),!l(e)||!f(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var r=e>0?e:0,n=e<0?-e:0,i=this._size[0],o=this._size[1],s=Math.min(i-n,o-r),u=[],c=n;c<i&&u.length<s;c++){for(var p=this._ptr[c],h=this._ptr[c+1],m=!1,g=p;g<h;g++){var d=this._index[g];if(d===c+r-n){m=!0,u.push(a.clone(this._values[g]));break}if(d>c+r-n)break}!m&&u.length<s&&u.push(0)}return u},CrsMatrix.fromJSON=function(e){return new CrsMatrix(e)},CrsMatrix.diagonal=function(r,n,i){if(!c(r))throw new TypeError("Array expected, size parameter");if(2!==r.length)throw new Error("Only two dimensions matrix are supported");if(r=r.map((function(e){if(e instanceof t&&(e=e.toNumber()),!l(e)||!f(e)||e<1)throw new Error("Size values must be positive integers");return e})),i){if(i instanceof t&&(i=i.toNumber()),!l(i)||!f(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var o,a=i>0?i:0,s=i<0?-i:0,u=r[0],p=r[1],h=Math.min(u-s,p-a);if(c(n)){if(n.length!==h)throw new Error("Invalid value array length");o=function(e){return n[e]}}else o=function(){return n};for(var m=[],g=[],d=[],x=0;x<u;x++){d.push(m.length);var y=x-s;if(y>=0&&y<h){var w=o(y);e.equal(w,0)||(g.push(y+a),m.push(w))}}return d.push(m.length),new CrsMatrix({values:m,index:g,ptr:d,size:[u,p]})},CrsMatrix.prototype.trace=function(){var r=this._size,t=r[0];if(t===r[1]){var n=0;if(this._values.length>0)for(var i=0;i<t;i++)for(var o=this._ptr[i],a=this._ptr[i+1],u=o;u<a;u++){var c=this._index[u];if(i===c){n=e.add(n,this._values[u]);break}if(c>i)break}return n}throw new RangeError("Matrix must be square (size: "+s.format(r)+")")},CrsMatrix.prototype.multiply=function(r){var t=this._size[0],n=this._size[1];if(r instanceof h){var i=r.size();if(1===i.length)return _multiply(this,i[0],1,(function(e){return r.get([e])}));if(2===i.length)return _multiply(this,i[0],i[1],(function(e,t){return r.get([e,t])}));throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+i.length+" dimensions)")}if(c(r)){var a=o.size(r);if(1===a.length)return _multiply(this,a[0],1,(function(e){return r[e]}));if(2===a.length)return _multiply(this,a[0],a[1],(function(e,t){return r[e][t]}));throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+a.length+" dimensions)")}return _map(this,0,t-1,0,n-1,(function(t){return e.multiply(t,r)}),!1)};var _multiply=function(r,t,n,i){var o=r._size[0],a=r._size[1];if(a!==t)throw new RangeError("Dimension mismatch in multiplication. Columns of A must match length of B (A is "+o+"x"+a+", B is "+t+", "+a+" != "+t+")");for(var s=[],u=[],c=[],l=0;l<o;l++){c.push(s.length);for(var f=r._ptr[l],p=r._ptr[l+1],h=0;h<n;h++){for(var m=0,g=f;g<p;g++){var d=r._index[g];m=e.add(m,e.multiply(r._values[g],i(d,h)))}e.equal(m,0)||(s.push(m),u.push(h))}}return c.push(s.length),1===o&&1===n?1===s.length?s[0]:0:new CrsMatrix({values:s,index:u,ptr:c,size:[o,n]})};return CrsMatrix}},function(e,r,t){"use strict";var n=t(17),i=t(13),o=n.string,a=n.array,s=n.object,u=Array.isArray,c=n.number.isNumber,l=n.number.isInteger,f=a.validateIndex;e.exports=function(e){var r=e.type.Index,t=e.type.BigNumber,p=e.type.Matrix;function DenseMatrix(e){if(!(this instanceof DenseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(e instanceof p)"DenseMatrix"===e.type?(this._data=s.clone(e._data),this._size=s.clone(e._size)):(this._data=e.toArray(),this._size=e.size());else if(e&&u(e.data)&&u(e.size))this._data=e.data,this._size=e.size;else if(u(e))this._data=preprocess(e),this._size=a.size(this._data);else{if(e)throw new TypeError("Unsupported type of data ("+n.types.type(e)+")");this._data=[],this._size=[0]}}function _getSubmatrix(e,r,t,n){var i=n==t-1,o=r.range(n);return i?o.map((function(r){return e[r]})):o.map((function(i){return _getSubmatrix(e[i],r,t,n+1)}))}function _setSubmatrix(e,r,t,n,i){var o=i==n-1,a=r.range(i);o?a.forEach((function(r,n){f(r),e[r]=t[n]})):a.forEach((function(o,a){f(o),_setSubmatrix(e[o],r,t[a],n,i+1)}))}DenseMatrix.prototype=new e.type.Matrix,DenseMatrix.prototype.type="DenseMatrix",DenseMatrix.prototype.storage=function(){return"dense"},DenseMatrix.prototype.subset=function(t,n,o){switch(arguments.length){case 1:return function _get(e,t){if(!(t instanceof r))throw new TypeError("Invalid index");var n=t.isScalar();if(n)return e.get(t.min());var o=t.size();if(o.length!=e._size.length)throw new i(o.length,e._size.length);for(var a=t.min(),s=t.max(),u=0,c=e._size.length;u<c;u++)f(a[u],e._size[u]),f(s[u],e._size[u]);return new DenseMatrix(_getSubmatrix(e._data,t,o.length,0))}(this,t);case 2:case 3:return function _set(t,n,o,u){if(!(n instanceof r))throw new TypeError("Invalid index");var c,l=n.size(),f=n.isScalar();o instanceof e.type.Matrix?(c=o.size(),o=o.valueOf()):c=a.size(o);if(f){if(0!==c.length)throw new TypeError("Scalar expected");t.set(n.min(),o,u)}else{if(l.length<t._size.length)throw new i(l.length,t._size.length,"<");if(c.length<l.length){for(var p=0,h=0;1===l[p]&&1===c[p];)p++;for(;1===l[p];)h++,p++;o=a.unsqueeze(o,l.length,h,c)}if(!s.deepEqual(l,c))throw new i(l,c,">");var m=n.max().map((function(e){return e+1}));_fit(t,m,u);var g=l.length,d=0;_setSubmatrix(t._data,n,o,g,d)}return t}(this,t,n,o);default:throw new SyntaxError("Wrong number of arguments")}},DenseMatrix.prototype.get=function(e){if(!u(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new i(e.length,this._size.length);for(var r=0;r<e.length;r++)f(e[r],this._size[r]);for(var t=this._data,n=0,o=e.length;n<o;n++){var a=e[n];f(a,t.length),t=t[a]}return s.clone(t)},DenseMatrix.prototype.set=function(e,r,t){if(!u(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new i(e.length,this._size.length,"<");var n,o,a,s=e.map((function(e){return e+1}));_fit(this,s,t);var c=this._data;for(n=0,o=e.length-1;n<o;n++)a=e[n],f(a,c.length),c=c[a];return a=e[e.length-1],f(a,c.length),c[a]=r,this},DenseMatrix.prototype.resize=function(e,r,t){if(!u(e))throw new TypeError("Array expected");var n=t?this.clone():this;return _resize(n,e,r)};var _resize=function(e,r,t){if(0===r.length){for(var n=e._data;u(n);)n=n[0];return s.clone(n)}return e._size=s.clone(r),e._data=a.resize(e._data,e._size,t),e};function _fit(e,r,t){for(var n=s.clone(e._size),i=!1;n.length<r.length;)n.push(0),i=!0;for(var o=0,a=r.length;o<a;o++)r[o]>n[o]&&(n[o]=r[o],i=!0);i&&_resize(e,n,t)}DenseMatrix.prototype.clone=function(){return new DenseMatrix({data:s.clone(this._data),size:s.clone(this._size)})},DenseMatrix.prototype.size=function(){return this._size},DenseMatrix.prototype.map=function(e){var r=this,recurse=function(t,n){return u(t)?t.map((function(e,r){return recurse(e,n.concat(r))})):e(t,n,r)};return new DenseMatrix({data:recurse(this._data,[]),size:s.clone(this._size)})},DenseMatrix.prototype.forEach=function(e){var r=this,recurse=function(t,n){u(t)?t.forEach((function(e,r){recurse(e,n.concat(r))})):e(t,n,r)};recurse(this._data,[])},DenseMatrix.prototype.toArray=function(){return s.clone(this._data)},DenseMatrix.prototype.valueOf=function(){return this._data},DenseMatrix.prototype.format=function(e){return o.format(this._data,e)},DenseMatrix.prototype.toString=function(){return o.format(this._data)},DenseMatrix.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size}},DenseMatrix.prototype.transpose=function(){switch(this._size.length){case 1:return this.clone();case 2:var e=this._size[0],r=this._size[1];if(0===r)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+o.format(this._size)+")");for(var t,n=[],i=0;i<r;i++){t=n[i]=[];for(var a=0;a<e;a++)t[a]=s.clone(this._data[a][i])}return new DenseMatrix({data:n,size:[r,e]});default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(this._size)+")")}},DenseMatrix.prototype.diagonal=function(e){if(e){if(e instanceof t&&(e=e.toNumber()),!c(e)||!l(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var r=e>0?e:0,n=e<0?-e:0,i=this._size[0],o=this._size[1],a=Math.min(i-n,o-r),u=[],f=0;f<a;f++)u[f]=s.clone(this._data[f+n][f+r]);return u},DenseMatrix.diagonal=function(e,r,n,i){if(!u(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(e instanceof t&&(e=e.toNumber()),!c(e)||!l(e)||e<1)throw new Error("Size values must be positive integers");return e})),n){if(n instanceof t&&(n=n.toNumber()),!c(n)||!l(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o,s=n>0?n:0,f=n<0?-n:0,p=e[0],h=e[1],m=Math.min(p-f,h-s);if(u(r)){if(r.length!==m)throw new Error("Invalid value array length");o=function(e){return r[e]}}else o=function(){return r};var g=[];if(e.length>0){g=a.resize(g,e,i);for(var d=0;d<m;d++)g[d+f][d+s]=o(d)}return new DenseMatrix({data:g,size:[p,h]})},DenseMatrix.prototype.trace=function(){var r=this._size,t=this._data;switch(r.length){case 1:if(1==r[0])return s.clone(t[0]);throw new RangeError("Matrix must be square (size: "+o.format(r)+")");case 2:var n=r[0];if(n===r[1]){for(var i=0,a=0;a<n;a++)i=e.add(i,t[a][a]);return i}throw new RangeError("Matrix must be square (size: "+o.format(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(r)+")")}},DenseMatrix.fromJSON=function(e){return new DenseMatrix(e)},DenseMatrix.prototype.multiply=function(e){switch(this._size.length){case 1:return _multiplyVector(this,this._size[0],e);case 2:return _multiplyMatrix(this,this._size[0],this._size[1],e);default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (matrix has "+this._size.length+" dimensions)")}};var _multiplyVector=function(r,t,n){if(n instanceof p){var i=n.size();if(1===i.length){if(i[0]!==t)throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length.");return _multiplyVectorVector(r,t,(function(e){return n.get([e])}))}if(2===i.length){if(i[0]!==t)throw new RangeError("Dimension mismatch in multiplication. Matrix rows and Vector length must be equal.");return _multiplyVectorMatrix(r,t,i[1],(function(e,r){return n.get([e,r])}))}throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+i.length+" dimensions)")}if(u(n)){var o=a.size(n);if(1===o.length){if(o[0]!==t)throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length.");return _multiplyVectorVector(r,t,(function(e){return n[e]}))}if(2===o.length){if(o[0]!==t)throw new RangeError("Dimension mismatch in multiplication. Matrix rows and Vector length must be equal.");return _multiplyVectorMatrix(r,t,o[1],(function(e,r){return n[e][r]}))}throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+o.length+" dimensions)")}return r.map((function(r){return e.multiply(n,r)}))},_multiplyVectorVector=function(r,t,n){if(0===t)throw new Error("Cannot multiply two empty vectors");for(var i=0,o=0;o<t;o++)i=e.add(i,e.multiply(r._data[o],n(o)));return i},_multiplyVectorMatrix=function(r,t,n,i){for(var o=[],a=0;a<n;a++){for(var s=0,u=0;u<t;u++)s=e.add(s,e.multiply(r._data[u],i(u,a)));o[a]=s}return 1===n?o[0]:new DenseMatrix({data:o,size:[n]})},_multiplyMatrix=function(r,t,n,i){if(i instanceof p){var o=i.size();if(1===o.length){if(o[0]!==n)throw new RangeError("Dimension mismatch in multiplication. Matrix columns must match vector length.");return _multiplyMatrixVector(r,t,n,(function(e){return i.get([e])}))}if(2===o.length){if(o[0]!==n)throw new RangeError("Dimension mismatch in multiplication. Columns of A must match length of B (A is "+t+"x"+n+", B is "+o[0]+", "+n+" != "+o[0]+")");return _multiplyMatrixMatrix(r,t,n,o[1],(function(e,r){return i.get([e,r])}))}throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+o.length+" dimensions)")}if(u(i)){var s=a.size(i);if(1===s.length){if(s[0]!==n)throw new RangeError("Dimension mismatch in multiplication. Matrix columns must match vector length.");return _multiplyMatrixVector(r,t,n,(function(e){return i[e]}))}if(2===s.length){if(s[0]!==n)throw new RangeError("Dimension mismatch in multiplication. Columns of A must match length of B (A is "+t+"x"+n+", B is "+s[0]+", "+n+" != "+s[0]+")");return _multiplyMatrixMatrix(r,t,n,s[1],(function(e,r){return i[e][r]}))}throw new Error("Can only multiply a 1 or 2 dimensional matrix (value has "+s.length+" dimensions)")}return r.map((function(r){return e.multiply(i,r)}))},_multiplyMatrixVector=function(r,t,n,i){for(var o=[],a=0;a<t;a++){for(var s=r._data[a],u=0,c=0;c<n;c++)u=e.add(u,e.multiply(s[c],i(c)));o[a]=u}return 1===t?o[0]:new DenseMatrix({data:o,size:[t]})},_multiplyMatrixMatrix=function(r,t,n,i,o){for(var a=[],s=0;s<t;s++){var u=r._data[s];a[s]=[];for(var c=0;c<i;c++){for(var l=0,f=0;f<n;f++)l=e.add(l,e.multiply(u[f],o(f,c)));a[s][c]=l}}return 1===t&&1===i?a[0][0]:new DenseMatrix({data:a,size:[t,i]})};function preprocess(r){for(var t=0,n=r.length;t<n;t++){var i=r[t];u(i)?r[t]=preprocess(i):i instanceof e.type.Matrix&&(r[t]=preprocess(i.valueOf()))}return r}return DenseMatrix}},function(e,r,t){"use strict";r.ArrayNode=t(34),r.AssignmentNode=t(37),r.BlockNode=t(40),r.ConditionalNode=t(41),r.ConstantNode=t(42),r.IndexNode=t(43),r.FunctionAssignmentNode=t(46),r.FunctionNode=t(47),r.Node=t(35),r.OperatorNode=t(48),r.RangeNode=t(44),r.SymbolNode=t(45),r.UpdateNode=t(49)},function(e,r,t){"use strict";var n=t(35),i=t(9),o=Array.isArray,a=n.isNode;function ArrayNode(e){if(!(this instanceof ArrayNode))throw new SyntaxError("Constructor must be called with the new operator");if(this.nodes=e||[],!o(this.nodes)||!this.nodes.every(a))throw new TypeError("Array containing Nodes expected")}ArrayNode.prototype=new n,ArrayNode.prototype.type="ArrayNode",ArrayNode.prototype._compile=function(e){var r="array"!==e.math.config().matrix;return(r?"math.matrix([":"[")+this.nodes.map((function(r){return r._compile(e)})).join(",")+(r?"])":"]")},ArrayNode.prototype.forEach=function(e){for(var r=0;r<this.nodes.length;r++){e(this.nodes[r],"nodes["+r+"]",this)}},ArrayNode.prototype.map=function(e){for(var r=[],t=0;t<this.nodes.length;t++)r[t]=this._ifNode(e(this.nodes[t],"nodes["+t+"]",this));return new ArrayNode(r)},ArrayNode.prototype.clone=function(){return new ArrayNode(this.nodes.slice(0))},ArrayNode.prototype.toString=function(){return i.format(this.nodes)},ArrayNode.prototype._toTex=function(e){this.latexType=this.latexType||"bmatrix";var r="\\begin{"+this.latexType+"}";return this.nodes.forEach((function(t){t.nodes?r+=t.nodes.map((function(r){return r.toTex(e)})).join("&"):r+=t.toTex(e),r+="\\\\"})),r+="\\end{"+this.latexType+"}"},e.exports=ArrayNode},function(e,r,t){"use strict";var n=t(36);function Node(){if(!(this instanceof Node))throw new SyntaxError("Constructor must be called with the new operator")}function _validateScope(e){for(var r in e)if(e.hasOwnProperty(r)&&r in n)throw new Error('Scope contains an illegal symbol, "'+r+'" is a reserved keyword')}function _transform(e){var r=Object.create(e);if(e.expression&&e.expression.transform)for(var t in e.expression.transform)e.expression.transform.hasOwnProperty(t)&&(r[t]=e.expression.transform[t]);return r}Node.prototype.eval=function(){throw new Error("Node.eval is deprecated. Use Node.compile(math).eval([scope]) instead.")},Node.prototype.type="Node",Node.prototype.compile=function(e){if(!(e instanceof Object))throw new TypeError("Object expected for parameter math");var r={math:_transform(e),args:{},_validateScope:_validateScope},t=this._compile(r),n=Object.keys(r).map((function(e){return"    var "+e+' = defs["'+e+'"];'})).join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+t+";  }};";return new Function("defs",n)(r)},Node.prototype._compile=function(e){throw new Error("Cannot compile a Node interface")},Node.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},Node.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},Node.prototype._ifNode=function(e){if(!(e instanceof Node))throw new TypeError("Callback function must return a Node");return e},Node.prototype.traverse=function(e){e(this,null,null),function _traverse(e,r){e.forEach((function(e,t,n){r(e,t,n),_traverse(e,r)}))}(this,e)},Node.prototype.transform=function(e){return function _transform(e,r){return e.map((function(e,t,n){return _transform(r(e,t,n),r)}))}(e(this,null,null),e)},Node.prototype.filter=function(e){var r=[];return this.traverse((function(t,n,i){e(t,n,i)&&r.push(t)})),r},Node.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},Node.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},Node.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},Node.prototype.toString=function(){return""},Node.prototype.toTex=function(e){var r;if("ArrayNode"===this.type&&delete this.latexType,"object"==typeof e)"FunctionNode"===this.type&&e.hasOwnProperty(this.name)&&(r=e[this.name](this,e));else if("function"==typeof e)r=e(this,e);else if("string"==typeof e&&"ArrayNode"===this.type)this.latexType=e;else if(void 0!==e)throw new TypeError("Object or function expected as callback");return void 0!==r?r:this._toTex(e)},Node.prototype._toTex=function(){if("Node"===this.type)return"";throw new Error("_toTex not implemented for this Node")},Node.prototype.getIdentifier=function(){return this.type},Node.isNode=function(e){return e instanceof Node},e.exports=Node},function(e,r,t){"use strict";e.exports={end:!0}},function(e,r,t){"use strict";var n=t(35),i=(t(34),t(36)),o=t(38),a=t(39),s=t(9).isString;function AssignmentNode(e,r){if(!(this instanceof AssignmentNode))throw new SyntaxError("Constructor must be called with the new operator");if(!s(e))throw new TypeError('String expected for parameter "name"');if(!(r instanceof n))throw new TypeError('Node expected for parameter "expr"');if(e in i)throw new Error('Illegal symbol name, "'+e+'" is a reserved keyword');this.name=e,this.expr=r}AssignmentNode.prototype=new n,AssignmentNode.prototype.type="AssignmentNode",AssignmentNode.prototype._compile=function(e){return'scope["'+this.name+'"] = '+this.expr._compile(e)},AssignmentNode.prototype.forEach=function(e){e(this.expr,"expr",this)},AssignmentNode.prototype.map=function(e){return new AssignmentNode(this.name,this._ifNode(e(this.expr,"expr",this)))},AssignmentNode.prototype.clone=function(){return new AssignmentNode(this.name,this.expr)},AssignmentNode.prototype.toString=function(){var e=o.getPrecedence(this),r=o.getPrecedence(this.expr),t=this.expr.toString();return null!==r&&r<=e&&(t="("+t+")"),this.name+" = "+t},AssignmentNode.prototype._toTex=function(e){var r=o.getPrecedence(this),t=o.getPrecedence(this.expr),n=this.expr.toTex(e);return null!==t&&t<=r&&(n="\\left("+n+"\\right)"),a.toSymbol(this.name)+":="+n},e.exports=AssignmentNode},function(e,r,t){"use strict";var n=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function getPrecedence(e){for(var r=e.getIdentifier(),t=0;t<n.length;t++)if(r in n[t])return t;return null}e.exports.properties=n,e.exports.getPrecedence=getPrecedence,e.exports.getAssociativity=function getAssociativity(e){var r=e.getIdentifier(),t=getPrecedence(e);if(null===t)return null;var i=n[t][r];if(i.hasOwnProperty("associativity")){if("left"===i.associativity)return"left";if("right"===i.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+i.associativity+"'.")}return null},e.exports.isAssociativeWith=function isAssociativeWith(e,r){var t=e.getIdentifier(),i=r.getIdentifier(),o=getPrecedence(e);if(null===o)return null;var a=n[o][t];if(a.hasOwnProperty("associativeWith")&&a.associativeWith instanceof Array){for(var s=0;s<a.associativeWith.length;s++)if(a.associativeWith[s]===i)return!0;return!1}return null}},function(e,r,t){"use strict";r.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},r.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"};var n="\\mathrm{%name%}\\left(%*%\\right)";function expandTemplate(e,r,t){return e=e.replace(/%name%/g,r),t.forEach((function(r,t){e=e.replace(RegExp("%"+t+"%","g"),r)})),e=(e=e.replace("%*%",t.map((function(e){return e})).join(","))).replace("%%","%")}var i={abs:"\\left|%0%\\right|",add:"\\left(%0%+%1%\\right)",ceil:"\\left\\lceil%0%\\right\\rceil",cube:"\\left(%0%\\right)^3",divide:"\\frac{%0%}{%1%}",dotDivide:"\\left(%0%"+r.operators.dotDivide+"%1%\\right)",dotMultiply:"\\left(%0%"+r.operators.dotMultiply+"%1%\\right)",dotPow:"\\left(%0%"+r.operators.dotPow+"%1%\\right)",exp:"\\exp\\left(%0%\\right)",fix:n,floor:"\\left\\lfloor%0%\\right\\rfloor",gcd:"\\gcd\\left(%*%\\right)",lcm:n,log10:"\\log_{10}\\left(%0%\\right)",log:{1:"\\ln\\left(%0%\\right)",2:"\\log_{%1%}\\left(%0%\\right)"},mod:"\\left(%0%"+r.operators.mod+"%1%\\right)",multiply:"\\left(%0%"+r.operators.multiply+"%1%\\right)",norm:{1:"\\left\\|%0%\\right\\|",2:n},nthRoot:"\\sqrt[%1%]{%0%}",pow:"\\left(%0%\\right)"+r.operators.pow+"{%1%}",round:{1:"\\left\\lfloor%0%\\right\\rceil",2:n},sign:n,sqrt:"\\sqrt{%0%}",square:"\\left(%0%\\right)^2",subtract:"\\left(%0%"+r.operators.subtract+"%1%\\right)",unaryMinus:r.operators.unaryMinus+"\\left(%0%\\right)",unaryPlus:r.operators.unaryPlus+"\\left(%0%\\right)",xgcd:n,bitAnd:"\\left(%0%"+r.operators.bitAnd+"%1%\\right)",bitOr:"\\left(%0%"+r.operators.bitOr+"%1%\\right)",bitXor:"\\left(%0%"+r.operators.bitXor+"%1%\\right)",bitNot:r.operators.bitNot+"\\left(%0%\\right)",leftShift:"\\left(%0%"+r.operators.leftShift+"%1%\\right)",rightArithShift:"\\left(%0%"+r.operators.rightArithShift+"%1%\\right)",rightLogShift:"\\left(%0%"+r.operators.rightLogShift+"%1%\\right)",arg:"\\arg\\left(%0%\\right)",conj:"\\left(%0%\\right)^*",im:"\\Im\\left\\lbrace%0%\\right\\rbrace",re:"\\Re\\left\\lbrace%0%\\right\\rbrace",stirlingS2:"\\mathrm{S}\\left(%0%,%1%\\right)",bellNumbers:"\\mathrm{B}_{%0%}",composition:n,bignumber:{0:"0",1:"\\left(%0%\\right)"},boolean:n,chain:n,complex:{0:"0",1:"\\left(%0%\\right)",2:"\\left(\\left(%0%\\right)+"+r.symbols.i+"\\cdot\\left(%1%\\right)\\right)"},index:n,matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(%0%\\right)",2:"\\left(%0%\\right)"},number:{0:"0",1:"\\left(%0%\\right)",2:"\\left(\\left(%0%\\right)%1%\\right)"},parser:n,string:{0:'""',1:function(e){return'"'+e.args[0].toString()+'"'}},unit:{1:"\\left(%0%\\right)",2:"\\left(\\left(%0%\\right)%1%\\right)"},compile:n,eval:n,help:n,parse:n,and:"\\left(%0%"+r.operators.and+"%1%\\right)",not:r.operators.not+"\\left(%0%\\right)",or:"\\left(%0%"+r.operators.or+"%1%\\right)",xor:"\\left(%0%"+r.operators.xor+"%1%\\right)",concat:n,cross:"\\left(%0%\\right)\\times\\left(%1%\\right)",det:"\\det\\left(%0%\\right)",diag:n,dot:"\\left(%0%\\cdot%1%\\right)",eye:n,flatten:n,inv:"\\left(%0%\\right)^{-1}",ones:n,range:n,resize:n,size:n,squeeze:n,subset:n,trace:"\\mathrm{tr}\\left(%0%\\right)",transpose:"\\left(%0%\\right)"+r.operators.transpose,zeros:n,combinations:"\\binom{%0%}{%1%}",distribution:n,factorial:"\\left(%0%\\right)"+r.operators.factorial,gamma:"\\Gamma\\left(%0%\\right)",permutations:n,pickRandom:n,randomInt:n,random:n,compare:n,deepEqual:n,equal:"\\left(%0%"+r.operators.equal+"%1%\\right)",largerEq:"\\left(%0%"+r.operators.largerEq+"%1%\\right)",larger:"\\left(%0%"+r.operators.larger+"%1%\\right)",smallerEq:"\\left(%0%"+r.operators.smallerEq+"%1%\\right)",smaller:"\\left(%0%"+r.operators.smaller+"%1%\\right)",unequal:"\\left(%0%"+r.operators.unequal+"%1%\\right)",max:"\\max\\left(%*%\\right)",mean:n,median:n,min:"\\min\\left(%*%\\right)",prod:n,std:n,sum:n,var:"\\mathrm{Var}\\left(%*%\\right)",acosh:"\\cosh^{-1}\\left(%0%\\right)",acos:"\\cos^{-1}\\left(%0%\\right)",acoth:"\\coth^{-1}\\left(%0%\\right)",acot:"\\cot^{-1}\\left(%0%\\right)",acsch:"\\mathrm{csch}^{-1}\\left(%0%\\right)",acsc:"\\csc^{-1}\\left(%0%\\right)",asech:"\\mathrm{sech}^{-1}\\left(%0%\\right)",asec:"\\sec^{-1}\\left(%0%\\right)",asinh:"\\sinh^{-1}\\left(%0%\\right)",asin:"\\sin^{-1}\\left(%0%\\right)",atan2:"\\mathrm{atan2}\\left(%*%\\right)",atanh:"\\tanh^{-1}\\left(%0%\\right)",atan:"\\tan^{-1}\\left(%0%\\right)",cosh:"\\cosh\\left(%0%\\right)",cos:"\\cos\\left(%0%\\right)",coth:"\\coth\\left(%0%\\right)",cot:"\\cot\\left(%0%\\right)",csch:"\\mathrm{csch}\\left(%0%\\right)",csc:"\\csc\\left(%0%\\right)",sech:"\\mathrm{sech}\\left(%0%\\right)",sec:"\\sec\\left(%0%\\right)",sinh:"\\sinh\\left(%0%\\right)",sin:"\\sin\\left(%0%\\right)",tanh:"\\tanh\\left(%0%\\right)",tan:"\\tan\\left(%0%\\right)",to:"\\left(%0%"+r.operators.to+"%1%\\right)",clone:n,filter:n,forEach:n,format:n,import:n,map:n,print:n,sort:n,typeof:n},o={deg:"^\\circ"};r.toSymbol=function(e){if(o.hasOwnProperty(e))return o[e];if(r.symbols.hasOwnProperty(e))return r.symbols[e];if(-1!==e.indexOf("_")){var t=e.indexOf("_");return r.toSymbol(e.substring(0,t))+"_{"+r.toSymbol(e.substring(t+1))+"}"}return"\\mathrm{"+e+"}"},r.toFunction=function(e,r,t){var o=i[t],a=e.args.map((function(e){return e.toTex(r)}));switch(typeof o){case"function":return o(e,r);case"string":return expandTemplate(o,t,a);case"object":switch(typeof o[a.length]){case"function":return o[a.length](e,r);case"string":return expandTemplate(o[a.length],t,a)}default:return expandTemplate(n,t,a)}}},function(e,r,t){"use strict";var n=t(35),i=t(28),o=t(18).isBoolean;function BlockNode(e){if(!(this instanceof BlockNode))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map((function(e){var r=e&&e.node,t=!e||void 0===e.visible||e.visible;if(!(r instanceof n))throw new TypeError('Property "node" must be a Node');if(!o(t))throw new TypeError('Property "visible" must be a boolean');return{node:r,visible:t}}))}BlockNode.prototype=new n,BlockNode.prototype.type="BlockNode",BlockNode.prototype._compile=function(e){return e.ResultSet=i,"(function () {var results = [];"+this.blocks.map((function(r){var t=r.node._compile(e);return r.visible?"results.push("+t+");":t+";"})).join("")+"return new ResultSet(results);})()"},BlockNode.prototype.forEach=function(e){for(var r=0;r<this.blocks.length;r++)e(this.blocks[r].node,"blocks["+r+"].node",this)},BlockNode.prototype.map=function(e){for(var r=[],t=0;t<this.blocks.length;t++){var n=this.blocks[t],i=this._ifNode(e(n.node,"blocks["+t+"].node",this));r[t]={node:i,visible:n.visible}}return new BlockNode(r)},BlockNode.prototype.clone=function(){return new BlockNode(this.blocks.map((function(e){return{node:e.node,visible:e.visible}})))},BlockNode.prototype.toString=function(){return this.blocks.map((function(e){return e.node.toString()+(e.visible?"":";")})).join("\n")},BlockNode.prototype._toTex=function(e){return this.blocks.map((function(r){return r.node.toTex(e)+(r.visible?"":";")})).join("\n")},e.exports=BlockNode},function(e,r,t){"use strict";var n=t(35),i=(t(39),t(7)),o=t(16),a=t(19),s=t(17),u=t(38),c=s.string.isString,l=s.number.isNumber,f=s.boolean.isBoolean;function ConditionalNode(e,r,t){if(!(this instanceof ConditionalNode))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof n))throw new TypeError("Parameter condition must be a Node");if(!(r instanceof n))throw new TypeError("Parameter trueExpr must be a Node");if(!(t instanceof n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=r,this.falseExpr=t}ConditionalNode.prototype=new n,ConditionalNode.prototype.type="ConditionalNode",ConditionalNode.prototype._compile=function(e){return e.testCondition=function(r){if(l(r)||f(r)||c(r))return!!r;if(r instanceof i)return!r.isZero();if(r instanceof o)return!(!r.re&&!r.im);if(r instanceof a)return!!r.value;if(null==r)return!1;throw new TypeError('Unsupported type of condition "'+e.math.typeof(r)+'"')},"testCondition("+this.condition._compile(e)+") ? ( "+this.trueExpr._compile(e)+") : ( "+this.falseExpr._compile(e)+")"},ConditionalNode.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},ConditionalNode.prototype.map=function(e){return new ConditionalNode(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},ConditionalNode.prototype.clone=function(){return new ConditionalNode(this.condition,this.trueExpr,this.falseExpr)},ConditionalNode.prototype.toString=function(){var e=u.getPrecedence(this),r=this.condition.toString(),t=u.getPrecedence(this.condition);("OperatorNode"===this.condition.type||null!==t&&t<=e)&&(r="("+r+")");var n=this.trueExpr.toString(),i=u.getPrecedence(this.trueExpr);("OperatorNode"===this.trueExpr.type||null!==i&&i<=e)&&(n="("+n+")");var o=this.falseExpr.toString(),a=u.getPrecedence(this.falseExpr);return("OperatorNode"===this.falseExpr.type||null!==a&&a<=e)&&(o="("+o+")"),r+" ? "+n+" : "+o},ConditionalNode.prototype._toTex=function(e){return"\\left\\{\\begin{array}{l l}{"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if}\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{array}\\right."},e.exports=ConditionalNode},function(e,r,t){"use strict";var n=t(35),i=(t(7),t(4).type),o=t(9).isString;function ConstantNode(e,r){if(!(this instanceof ConstantNode))throw new SyntaxError("Constructor must be called with the new operator");if(r){if(!o(r))throw new TypeError('String expected for parameter "valueType"');if(!o(e))throw new TypeError('String expected for parameter "value"');this.value=e,this.valueType=r}else this.value=e+"",this.valueType=i(e);if(!a[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var a={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};ConstantNode.prototype=new n,ConstantNode.prototype.type="ConstantNode",ConstantNode.prototype._compile=function(e){switch(this.valueType){case"number":return"bignumber"===e.math.config().number?'math.bignumber("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,(function(e,r){return e.substring(r.length)}));case"string":return'"'+this.value+'"';case"boolean":case"undefined":case"null":return this.value;default:throw new TypeError('Unsupported type of constant "'+this.valueType+'"')}},ConstantNode.prototype.forEach=function(e){},ConstantNode.prototype.map=function(e){return this.clone()},ConstantNode.prototype.clone=function(){return new ConstantNode(this.value,this.valueType)},ConstantNode.prototype.toString=function(){return"string"===this.valueType?'"'+this.value+'"':this.value},ConstantNode.prototype._toTex=function(e){var r,t=this.value;switch(this.valueType){case"string":return"\\text{"+t+"}";case"number":return-1!==(r=t.toLowerCase().indexOf("e"))?t.substring(0,r)+"\\cdot10^{"+t.substring(r+1)+"}":t;default:return t}},e.exports=ConstantNode},function(e,r,t){"use strict";var n=t(35),i=t(44),o=t(45),a=t(7),s=t(24),u=n.isNode,c=Array.isArray;function IndexNode(e,r){if(!(this instanceof IndexNode))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof n))throw new TypeError('Node expected for parameter "object"');if(!c(r)||!r.every(u))throw new TypeError('Array containing Nodes expected for parameter "ranges"');this.object=e,this.ranges=r}IndexNode.prototype=new n,IndexNode.prototype.type="IndexNode",IndexNode.prototype._compile=function(e){return this.compileSubset(e)},IndexNode.prototype.compileSubset=function(e,r){function test(e){return e instanceof o&&"end"==e.name}var t=!1,n=this.ranges.map((function(e){var r=e.filter(test).length>0;return t=r||t,r}));e.range=function(e,r,t){return new s(e instanceof a?e.toNumber():e,r instanceof a?r.toNumber():r,t instanceof a?t.toNumber():t)};var u=this.ranges.map((function(r,t){var o=n[t];return r instanceof i?o?(e.args.end=!0,"(function () {  var end = size["+t+"];  return range(    "+r.start._compile(e)+",     "+r.end._compile(e)+",     "+(r.step?r.step._compile(e):"1")+"  );})()"):"range("+r.start._compile(e)+", "+r.end._compile(e)+", "+(r.step?r.step._compile(e):"1")+")":o?(e.args.end=!0,"(function () {  var end = size["+t+"];  return "+r._compile(e)+";})()"):r._compile(e)}));return t?"(function () {  var obj = "+this.object._compile(e)+";  var size = math.size(obj).valueOf();  return math.subset(    obj,     math.index("+u.join(", ")+")    "+(r?", "+r:"")+"  );})()":"math.subset("+this.object._compile(e)+",math.index("+u.join(", ")+")"+(r?", "+r:"")+")"},IndexNode.prototype.forEach=function(e){e(this.object,"object",this);for(var r=0;r<this.ranges.length;r++)e(this.ranges[r],"ranges["+r+"]",this)},IndexNode.prototype.map=function(e){for(var r=this._ifNode(e(this.object,"object",this)),t=[],n=0;n<this.ranges.length;n++)t[n]=this._ifNode(e(this.ranges[n],"ranges["+n+"]",this));return new IndexNode(r,t)},IndexNode.prototype.objectName=function(){return this.object.name},IndexNode.prototype.clone=function(){return new IndexNode(this.object,this.ranges.slice(0))},IndexNode.prototype.toString=function(){return this.object.toString()+"["+this.ranges.join(", ")+"]"},IndexNode.prototype._toTex=function(e){var r=this.ranges.map((function(r){return r.toTex(e)}));return this.object.toTex(e)+"_{\\left["+r.join(",")+"\\right]}"},e.exports=IndexNode},function(e,r,t){"use strict";var n=t(35),i=t(38),o=n.isNode;function RangeNode(e,r,t){if(!(this instanceof RangeNode))throw new SyntaxError("Constructor must be called with the new operator");if(!o(e))throw new TypeError("Node expected");if(!o(r))throw new TypeError("Node expected");if(t&&!o(t))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=r,this.step=t||null}RangeNode.prototype=new n,RangeNode.prototype.type="RangeNode",RangeNode.prototype._compile=function(e){return"math.range("+this.start._compile(e)+", "+this.end._compile(e)+(this.step?", "+this.step._compile(e):"")+")"},RangeNode.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},RangeNode.prototype.map=function(e){return new RangeNode(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},RangeNode.prototype.clone=function(){return new RangeNode(this.start,this.end,this.step&&this.step)},RangeNode.prototype.toString=function(){var e,r=i.getPrecedence(this),t=this.start.toString(),n=i.getPrecedence(this.start);if(null!==n&&n<=r&&(t="("+t+")"),e=t,this.step){var o=this.step.toString(),a=i.getPrecedence(this.step);null!==a&&a<=r&&(o="("+o+")"),e+=":"+o}var s=this.end.toString(),u=i.getPrecedence(this.end);return null!==u&&u<=r&&(s="("+s+")"),e+=":"+s},RangeNode.prototype._toTex=function(e){var r=this.start.toTex(e);return this.step&&(r+=":"+this.step.toTex(e)),r+=":"+this.end.toTex(e)},e.exports=RangeNode},function(e,r,t){"use strict";var n=t(35),i=t(19),o=t(39),a=t(9).isString;function SymbolNode(e){if(!(this instanceof SymbolNode))throw new SyntaxError("Constructor must be called with the new operator");if(!a(e))throw new TypeError('String expected for parameter "name"');this.name=e}function undef(e){throw new Error("Undefined symbol "+e)}SymbolNode.prototype=new n,SymbolNode.prototype.type="SymbolNode",SymbolNode.prototype._compile=function(e){return e.undef=undef,e.Unit=i,this.name in e.args?this.name:this.name in e.math?'("'+this.name+'" in scope ? scope["'+this.name+'"] : math["'+this.name+'"])':'("'+this.name+'" in scope ? scope["'+this.name+'"] : '+(i.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")"},SymbolNode.prototype.forEach=function(e){},SymbolNode.prototype.map=function(e){return this.clone()},SymbolNode.prototype.clone=function(){return new SymbolNode(this.name)},SymbolNode.prototype.toString=function(){return this.name},SymbolNode.prototype._toTex=function(e){var r=o.toSymbol(this.name);return"\\"===r[0]?r:" "+r},e.exports=SymbolNode},function(e,r,t){"use strict";var n=t(35),i=t(36),o=t(39),a=t(38),s=t(9).isString,u=Array.isArray;function FunctionAssignmentNode(e,r,t){if(!(this instanceof FunctionAssignmentNode))throw new SyntaxError("Constructor must be called with the new operator");if(!s(e))throw new TypeError('String expected for parameter "name"');if(!u(r)||!r.every(s))throw new TypeError('Array containing strings expected for parameter "params"');if(!(t instanceof n))throw new TypeError('Node expected for parameter "expr"');if(e in i)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=r,this.expr=t}FunctionAssignmentNode.prototype=new n,FunctionAssignmentNode.prototype.type="FunctionAssignmentNode",FunctionAssignmentNode.prototype._compile=function(e){return this.params.forEach((function(r){e.args[r]=!0})),'scope["'+this.name+'"] =   (function () {    var fn = function '+this.name+"("+this.params.join(",")+") {      if (arguments.length != "+this.params.length+') {        throw new SyntaxError("Wrong number of arguments in function '+this.name+' (" + arguments.length + " provided, '+this.params.length+' expected)");      }      return '+this.expr._compile(e)+'    };    fn.syntax = "'+this.name+"("+this.params.join(", ")+')";    return fn;  })();'},FunctionAssignmentNode.prototype.forEach=function(e){e(this.expr,"expr",this)},FunctionAssignmentNode.prototype.map=function(e){var r=this._ifNode(e(this.expr,"expr",this));return new FunctionAssignmentNode(this.name,this.params.slice(0),r)},FunctionAssignmentNode.prototype.clone=function(){return new FunctionAssignmentNode(this.name,this.params.slice(0),this.expr)},FunctionAssignmentNode.prototype.toString=function(){var e=a.getPrecedence(this),r=a.getPrecedence(this.expr),t=this.expr.toString();return null!==r&&r<=e&&(t="("+t+")"),"function "+this.name+"("+this.params.join(", ")+") = "+t},FunctionAssignmentNode.prototype._toTex=function(e){var r=a.getPrecedence(this),t=a.getPrecedence(this.expr),n=this.expr.toTex(e);return null!==t&&t<=r&&(n="\\left("+n+"\\right)"),o.toSymbol(this.name)+"\\left("+this.params.map(o.toSymbol).join(",")+"\\right):="+n},e.exports=FunctionAssignmentNode},function(e,r,t){"use strict";var n=t(35),i=t(45),o=t(39),a=n.isNode,s=Array.isArray;function FunctionNode(e,r){if(!(this instanceof FunctionNode))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "name"');if(!s(r)||!r.every(a))throw new TypeError('Array containing Nodes expected for parameter "args"');this.name=e,this.args=r||[]}FunctionNode.prototype=new n,FunctionNode.prototype.type="FunctionNode",FunctionNode.prototype._compile=function(e){var r=e.math[this.name],t="function"==typeof r&&1==r.rawArgs,n=this.args.map((function(r){return r._compile(e)}));if(t){var o;do{o="p"+Math.round(1e4*Math.random())}while(o in e);return e[o]=this.args,'("'+this.name+'" in scope ? scope["'+this.name+'"]('+n.join(", ")+') : math["'+this.name+'"]('+o+", math, scope))"}return new i(this.name)._compile(e)+"("+n.join(", ")+")"},FunctionNode.prototype.forEach=function(e){for(var r=0;r<this.args.length;r++)e(this.args[r],"args["+r+"]",this)},FunctionNode.prototype.map=function(e){for(var r=[],t=0;t<this.args.length;t++)r[t]=this._ifNode(e(this.args[t],"args["+t+"]",this));return new FunctionNode(this.name,r)},FunctionNode.prototype.clone=function(){return new FunctionNode(this.name,this.args.slice(0))},FunctionNode.prototype.toString=function(){return this.name+"("+this.args.join(", ")+")"},FunctionNode.prototype._toTex=function(e){return o.toFunction(this,e,this.name)},FunctionNode.prototype.getIdentifier=function(){return this.type+":"+this.name},e.exports=FunctionNode},function(e,r,t){"use strict";var n=t(35),i=(t(42),t(45),t(47),t(39)),o=t(38),a=Array.isArray,s=n.isNode;function OperatorNode(e,r,t){if(!(this instanceof OperatorNode))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof r)throw new TypeError('string expected for parameter "fn"');if(!a(t)||!t.every(s))throw new TypeError('Array containing Nodes expected for parameter "args"');this.op=e,this.fn=r,this.args=t||[]}function calculateNecessaryParentheses(e,r,t){var n=o.getPrecedence(e),i=o.getAssociativity(e);switch(r.length){case 1:var a=o.getPrecedence(r[0]);if(t&&null!==a){var s=r[0].getIdentifier(),u=e.getIdentifier();if(!1===o.properties[n][u].latexLeftParens)return[!1];if(!1===o.properties[a][s].latexParens)return[!1]}return null===a?[!1]:a<=n?[!0]:[!1];case 2:var c,l,f=o.getPrecedence(r[0]),p=o.isAssociativeWith(e,r[0]);c=null!==f&&(f===n&&"right"===i&&!p||f<n);var h=o.getPrecedence(r[1]),m=o.isAssociativeWith(e,r[1]);if(l=null!==h&&(h===n&&"left"===i&&!m||h<n),t){u=e.getIdentifier();var g=e.args[0].getIdentifier(),d=e.args[1].getIdentifier();null!==f&&(!1===o.properties[n][u].latexLeftParens&&(c=!1),!1===o.properties[f][g].latexParens&&(c=!1)),null!==h&&(!1===o.properties[n][u].latexRightParens&&(l=!1),!1===o.properties[h][d].latexParens&&(l=!1))}return[c,l];default:var x=[];return r.forEach((function(){x.push(!0)})),x}}OperatorNode.prototype=new n,OperatorNode.prototype.type="OperatorNode",OperatorNode.prototype._compile=function(e){if(!(this.fn in e.math))throw new Error("Function "+this.fn+' missing in provided namespace "math"');var r=this.args.map((function(r){return r._compile(e)}));return"math."+this.fn+"("+r.join(", ")+")"},OperatorNode.prototype.forEach=function(e){for(var r=0;r<this.args.length;r++)e(this.args[r],"args["+r+"]",this)},OperatorNode.prototype.map=function(e){for(var r=[],t=0;t<this.args.length;t++)r[t]=this._ifNode(e(this.args[t],"args["+t+"]",this));return new OperatorNode(this.op,this.fn,r)},OperatorNode.prototype.clone=function(){return new OperatorNode(this.op,this.fn,this.args.slice(0))},OperatorNode.prototype.toString=function(){var e=this.args,r=calculateNecessaryParentheses(this,e,!1);switch(e.length){case 1:var t=o.getAssociativity(this),n=e[0].toString();return r[0]&&(n="("+n+")"),"right"===t?this.op+n:n+this.op;case 2:var i=e[0].toString(),a=e[1].toString();return r[0]&&(i="("+i+")"),r[1]&&(a="("+a+")"),i+" "+this.op+" "+a;default:return this.fn+"("+this.args.join(", ")+")"}},OperatorNode.prototype._toTex=function(e){var r=this.args,t=calculateNecessaryParentheses(this,r,!0),n=i.operators[this.fn];switch(n=void 0===n?this.op:n,r.length){case 1:var a=o.getAssociativity(this),s=r[0].toTex(e);return t[0]&&(s="\\left("+s+"\\right)"),"right"===a?n+s:s+n;case 2:var u=r[0],c=u.toTex(e);t[0]&&(c="\\left("+c+"\\right)");var l=r[1].toTex(e);switch(t[1]&&(l="\\left("+l+"\\right)"),this.getIdentifier()){case"OperatorNode:divide":return n+"{"+c+"}{"+l+"}";case"OperatorNode:pow":switch(c="{"+c+"}",l="{"+l+"}",u.getIdentifier()){case"ConditionalNode":case"OperatorNode:divide":c="\\left("+c+"\\right)"}}return c+n+l;default:return"\\mathrm{"+this.fn+"}\\left("+r.map((function(r){return r.toTex(e)})).join(",")+"\\right)"}},OperatorNode.prototype.getIdentifier=function(){return this.type+":"+this.fn},e.exports=OperatorNode},function(e,r,t){"use strict";var n=t(35),i=t(43);function UpdateNode(e,r){if(!(this instanceof UpdateNode))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof i))throw new TypeError('Expected IndexNode for parameter "index"');if(!(r instanceof n))throw new TypeError('Expected Node for parameter "expr"');this.index=e,this.expr=r}UpdateNode.prototype=new n,UpdateNode.prototype.type="UpdateNode",UpdateNode.prototype._compile=function(e){return(this.index.objectName()in e.args?this.name+" = ":'scope["'+this.index.objectName()+'"]')+" = "+this.index.compileSubset(e,this.expr._compile(e))},UpdateNode.prototype.forEach=function(e){e(this.index,"index",this),e(this.expr,"expr",this)},UpdateNode.prototype.map=function(e){return new UpdateNode(this._ifNode(e(this.index,"index",this)),this._ifNode(e(this.expr,"expr",this)))},UpdateNode.prototype.clone=function(){return new UpdateNode(this.index,this.expr)},UpdateNode.prototype.toString=function(){return this.index.toString()+" = "+this.expr.toString()},UpdateNode.prototype._toTex=function(e){return this.index.toTex(e)+":="+this.expr.toTex(e)},e.exports=UpdateNode},function(e,r,t){"use strict";var n=t(17),i=t(22),o=n.string.isString,a=Array.isArray,s=t(34),u=t(37),c=t(40),l=t(41),f=t(42),p=t(46),h=t(43),m=t(48),g=t(47),d=t(44),x=t(45),y=t(49);e.exports=function(e){var r=e.type.Matrix,t=e.collection;var n={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},w={",":!0,"(":!0,")":!0,"[":!0,"]":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},v={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},b={},N="",E=0,_="",M="",A=n.NULL,T=0,S=null;function next(){E++,_=N.charAt(E)}function nextPreview(){return N.charAt(E+1)}function getToken(){for(A=n.NULL,M="";" "==_||"\t"==_||"\n"==_&&T;)next();if("#"==_)for(;"\n"!=_&&""!=_;)next();if(""!=_){if("\n"==_&&!T)return A=n.DELIMITER,M=_,void next();var e=_+nextPreview(),r=e+function nextNextPreview(){return N.charAt(E+2)}();if(3==r.length&&w[r])return A=n.DELIMITER,M=r,next(),next(),void next();if(2==e.length&&w[e])return A=n.DELIMITER,M=e,next(),void next();if(w[_])return A=n.DELIMITER,M=_,void next();if(function isDigitDot(e){return e>="0"&&e<="9"||"."==e}(_)){if(A=n.NUMBER,"."==_)M+=_,next(),isDigit(_)||(A=n.UNKNOWN);else{for(;isDigit(_);)M+=_,next();"."==_&&(M+=_,next())}for(;isDigit(_);)M+=_,next();if(e=nextPreview(),("E"==_||"e"==_)&&(isDigit(e)||"-"==e||"+"==e))for(M+=_,next(),"+"!=_&&"-"!=_||(M+=_,next()),isDigit(_)||(A=n.UNKNOWN);isDigit(_);)M+=_,next()}else{if(!isAlpha(_)){for(A=n.UNKNOWN;""!=_;)M+=_,next();throw createSyntaxError('Syntax error in part "'+M+'"')}for(;isAlpha(_)||isDigit(_);)M+=_,next();A=v[M]?n.DELIMITER:n.SYMBOL}}else A=n.DELIMITER}function getTokenSkipNewline(){do{getToken()}while("\n"==M)}function openParams(){T++}function closeParams(){T--}function isAlpha(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"==e}function isDigit(e){return e>="0"&&e<="9"}function parseStart(){!function first(){E=0,_=N.charAt(0),T=0,S=null}(),getToken();var e=function parseBlock(){var e,r,t=[];if(""==M)return new f("undefined","undefined");"\n"!=M&&";"!=M&&(e=parseFunctionAssignment());for(;"\n"==M||";"==M;)0==t.length&&e&&(r=";"!=M,t.push({node:e,visible:r})),getToken(),"\n"!=M&&";"!=M&&""!=M&&(e=parseFunctionAssignment(),r=";"!=M,t.push({node:e,visible:r}));return t.length>0?new c(t):e}();if(""!=M)throw A==n.DELIMITER?createError("Unexpected operator "+M):createSyntaxError('Unexpected part "'+M+'"');return e}function parseFunctionAssignment(){if(A==n.SYMBOL&&"function"==M)throw createSyntaxError('Deprecated keyword "function". Functions can now be assigned without it, like "f(x) = x^2".');return parseAssignment()}function parseAssignment(){var e,r,t,n,i=parseConditional();if("="==M){if(i instanceof x)return e=i.name,getTokenSkipNewline(),t=parseAssignment(),new u(e,t);if(i instanceof h)return getTokenSkipNewline(),t=parseAssignment(),new y(i,t);if(i instanceof g&&(n=!0,r=[],e=i.name,i.args.forEach((function(e,t){e instanceof x?r[t]=e.name:n=!1})),n))return getTokenSkipNewline(),t=parseAssignment(),new p(e,r,t);throw createSyntaxError("Invalid left hand side of assignment operator =")}return i}function parseConditional(){for(var e=parseLogicalOr();"?"==M;){var r=S;S=T,getTokenSkipNewline();var t=e,n=parseLogicalOr();if(":"!=M)throw createSyntaxError("False part of conditional expression expected");S=null,getTokenSkipNewline();var i=parseConditional();e=new l(t,n,i),S=r}return e}function parseLogicalOr(){for(var e=parseLogicalXor();"or"==M;)getTokenSkipNewline(),e=new m("or","or",[e,parseLogicalXor()]);return e}function parseLogicalXor(){for(var e=parseLogicalAnd();"xor"==M;)getTokenSkipNewline(),e=new m("xor","xor",[e,parseLogicalAnd()]);return e}function parseLogicalAnd(){for(var e=parseBitwiseOr();"and"==M;)getTokenSkipNewline(),e=new m("and","and",[e,parseBitwiseOr()]);return e}function parseBitwiseOr(){for(var e=parseBitwiseXor();"|"==M;)getTokenSkipNewline(),e=new m("|","bitOr",[e,parseBitwiseXor()]);return e}function parseBitwiseXor(){for(var e=parseBitwiseAnd();"^|"==M;)getTokenSkipNewline(),e=new m("^|","bitXor",[e,parseBitwiseAnd()]);return e}function parseBitwiseAnd(){for(var e=parseRelational();"&"==M;)getTokenSkipNewline(),e=new m("&","bitAnd",[e,parseRelational()]);return e}function parseRelational(){var e,r,t,n,i;for(e=parseShift(),r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};M in r;)n=r[t=M],getTokenSkipNewline(),i=[e,parseShift()],e=new m(t,n,i);return e}function parseShift(){var e,r,t,n,i;for(e=parseConversion(),r={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};M in r;)n=r[t=M],getTokenSkipNewline(),i=[e,parseConversion()],e=new m(t,n,i);return e}function parseConversion(){var e,r,t,n,i;for(e=parseRange(),r={to:"to",in:"to"};M in r;)n=r[t=M],getTokenSkipNewline(),i=[e,parseRange()],e=new m(t,n,i);return e}function parseRange(){var e,r=[];if(e=":"==M?new f("1","number"):parseAddSubtract(),":"==M&&S!==T){for(r.push(e);":"==M&&r.length<3;)getTokenSkipNewline(),")"==M||"]"==M||","==M||""==M?r.push(new x("end")):r.push(parseAddSubtract());e=3==r.length?new d(r[0],r[2],r[1]):new d(r[0],r[1])}return e}function parseAddSubtract(){var e,r,t,n,i;for(e=parseMultiplyDivide(),r={"+":"add","-":"subtract"};M in r;)n=r[t=M],getTokenSkipNewline(),i=[e,parseMultiplyDivide()],e=new m(t,n,i);return e}function parseMultiplyDivide(){var e,r,t,i,o;if(e=parseUnary(),M in(r={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"}))for(;M in r;)i=r[t=M],getTokenSkipNewline(),o=[e,parseUnary()],e=new m(t,i,o);return(A==n.SYMBOL||"in"==M&&e instanceof f||A==n.NUMBER&&!(e instanceof f)||"("==M||"["==M)&&(e=new m("*","multiply",[e,parseMultiplyDivide()])),e}function parseUnary(){var e,r,t={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"}[M];return t?(e=M,getTokenSkipNewline(),r=[parseUnary()],new m(e,t,r)):function parsePow(){var e,r,t,i;e=function parseLeftHandOperators(){var e,r,t,i;e=function parseCustomNodes(){var e,r=[];if(A==n.SYMBOL&&b[M]){if(e=b[M],getToken(),"("==M){if(r=[],openParams(),getToken(),")"!=M)for(r.push(parseConditional());","==M;)getToken(),r.push(parseConditional());if(")"!=M)throw createSyntaxError("Parenthesis ) expected");closeParams(),getToken()}return new e(r)}return function parseSymbol(){var e,r;if(A==n.SYMBOL||A==n.DELIMITER&&M in v)return r=M,getToken(),e=function parseFunctions(e){var r;if("("==M){if(r=[],openParams(),getToken(),")"!=M)for(r.push(parseConditional());","==M;)getToken(),r.push(parseConditional());if(")"!=M)throw createSyntaxError("Parenthesis ) expected");return closeParams(),getToken(),new g(e,r)}return new x(e)}(r),e=parseIndex(e);return function parseString(){var e,r;if('"'==M){for(e="",r="";""!=_&&('"'!=_||"\\"==r);)e+=_,r=_,next();if(getToken(),'"'!=M)throw createSyntaxError('End of string " expected');return getToken(),parseIndex(new f(e,"string"))}return function parseMatrix(){var e,r,t,i;if("["==M){if(openParams(),getToken(),"]"!=M){var o=parseRow();if(";"==M){for(t=1,r=[o];";"==M;)getToken(),r[t]=parseRow(),t++;if("]"!=M)throw createSyntaxError("End of matrix ] expected");closeParams(),getToken(),i=r[0].nodes.length;for(var a=1;a<t;a++)if(r[a].nodes.length!=i)throw createError("Column dimensions mismatch ("+r[a].nodes.length+" != "+i+")");e=new s(r)}else{if("]"!=M)throw createSyntaxError("End of matrix ] expected");closeParams(),getToken(),e=o}}else closeParams(),getToken(),e=new s([]);return e}return function parseNumber(){var e;if(A==n.NUMBER)return e=M,getToken(),new f(e,"number");return function parseParentheses(){var e;if("("==M){if(openParams(),getToken(),e=parseAssignment(),")"!=M)throw createSyntaxError("Parenthesis ) expected");return closeParams(),getToken(),e}return function parseEnd(){throw createSyntaxError(""==M?"Unexpected end of expression":"Value expected")}()}()}()}()}()}()}(),r={"!":"factorial","'":"transpose"};for(;M in r;)i=r[t=M],getToken(),e=new m(t,i,[e]);return e}(),("^"==M||".^"==M)&&(t="^"==(r=M)?"pow":"dotPow",getTokenSkipNewline(),i=[e,parseUnary()],e=new m(r,t,i));return e}()}function parseIndex(e){for(var r;"["==M;){if(r=[],openParams(),getToken(),"]"!=M)for(r.push(parseConditional());","==M;)getToken(),r.push(parseConditional());if("]"!=M)throw createSyntaxError("Parenthesis ] expected");closeParams(),getToken(),e=new h(e,r)}return e}function parseRow(){for(var e=[parseAssignment()],r=1;","==M;)getToken(),e[r]=parseAssignment(),r++;return new s(e)}function col(){return E-M.length+1}function createSyntaxError(e){var r=col(),t=new SyntaxError(e+" (char "+r+")");return t.char=r,t}function createError(e){var r=col(),t=new Error(e+" (char "+r+")");return t.char=r,t}return function parse(e,n){if(1!=arguments.length&&2!=arguments.length)throw new i("parse",arguments.length,1,2);if(b=n&&n.nodes?n.nodes:{},o(e))return N=e,parseStart();if(a(e)||e instanceof r)return t.deepMap(e,(function(e){if(!o(e))throw new TypeError("String expected");return N=e,parseStart()}));throw new TypeError("String or matrix expected")}}},function(e,r,t){"use strict";e.exports=function(e){var r=e.expression.parse;function Parser(){if(!(this instanceof Parser))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return Parser.prototype.parse=function(e){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},Parser.prototype.compile=function(e){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},Parser.prototype.eval=function(t){return r(t).compile(e).eval(this.scope)},Parser.prototype.get=function(e){return this.scope[e]},Parser.prototype.set=function(e,r){return this.scope[e]=r},Parser.prototype.remove=function(e){delete this.scope[e]},Parser.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},Parser}},function(e,r,t){r.e=t(54),r.E=t(54),r.false=t(55),r.i=t(56),r[1/0]=t(57),r.LN2=t(58),r.LN10=t(59),r.LOG2E=t(60),r.LOG10E=t(61),r.NaN=t(62),r.null=t(63),r.pi=t(64),r.PI=t(64),r.phi=t(65),r.SQRT1_2=t(66),r.SQRT2=t(67),r.tau=t(68),r.true=t(69),r.version=t(70),r.abs=t(71),r.add=t(72),r.ceil=t(73),r.cube=t(74),r.divide=t(75),r.dotDivide=t(76),r.dotMultiply=t(77),r.dotPow=t(78),r.exp=t(79),r.fix=t(80),r.floor=t(81),r.gcd=t(82),r.lcm=t(83),r.log=t(84),r.log10=t(85),r.mod=t(86),r.multiply=t(87),r.norm=t(88),r.nthRoot=t(89),r.pow=t(90),r.round=t(91),r.sign=t(92),r.sqrt=t(93),r.square=t(94),r.subtract=t(95),r.unaryMinus=t(96),r.unaryPlus=t(97),r.xgcd=t(98),r.bitAnd=t(99),r.bitNot=t(100),r.bitOr=t(101),r.bitXor=t(102),r.leftShift=t(103),r.rightArithShift=t(104),r.rightLogShift=t(105),r.bellNumbers=t(106),r.composition=t(107),r.stirlingS2=t(108),r.arg=t(109),r.conj=t(110),r.re=t(111),r.im=t(112),r.bignumber=t(113),r.boolean=t(114),r.complex=t(115),r.index=t(116),r.matrix=t(117),r.number=t(118),r.string=t(119),r.unit=t(120),r.eval=t(121),r.help=t(122),r.and=t(123),r.not=t(124),r.or=t(125),r.xor=t(126),r.concat=t(127),r.cross=t(53),r.det=t(128),r.diag=t(129),r.dot=t(130),r.eye=t(131),r.flatten=t(132),r.inv=t(133),r.ones=t(134),r.range=t(135),r.resize=t(136),r.size=t(137),r.squeeze=t(138),r.subset=t(139),r.trace=t(140),r.transpose=t(141),r.zeros=t(142),r.combinations=t(143),r.factorial=t(144),r.gamma=t(145),r.multinomial=t(146),r.permutations=t(147),r.pickRandom=t(148),r.random=t(149),r.randomInt=t(150),r.compare=t(151),r.deepEqual=t(152),r.equal=t(153),r.larger=t(154),r.largerEq=t(155),r.smaller=t(156),r.smallerEq=t(157),r.unequal=t(158),r.max=t(159),r.mean=t(160),r.median=t(161),r.min=t(162),r.prod=t(163),r.quantileSeq=t(164),r.std=t(165),r.sum=t(166),r.var=t(167),r.acos=t(168),r.acosh=t(169),r.acot=t(170),r.acoth=t(171),r.acsc=t(172),r.acsch=t(173),r.asec=t(174),r.asech=t(175),r.asin=t(176),r.asinh=t(177),r.atan=t(178),r.atanh=t(179),r.atan2=t(180),r.cos=t(181),r.cosh=t(182),r.cot=t(183),r.coth=t(184),r.csc=t(185),r.csch=t(186),r.sec=t(187),r.sech=t(188),r.sin=t(189),r.sinh=t(190),r.tan=t(191),r.tanh=t(192),r.to=t(193),r.clone=t(194),r.map=t(195),r.partitionSelect=t(196),r.filter=t(197),r.forEach=t(198),r.format=t(199),r.import=t(200),r.sort=t(201),r.typeof=t(202)},function(e,r,t){e.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},function(e,r,t){e.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},function(e,r,t){e.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},function(e,r,t){e.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},function(e,r,t){e.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},function(e,r,t){e.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},function(e,r,t){e.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},function(e,r,t){e.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},function(e,r,t){e.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},function(e,r,t){e.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},function(e,r,t){e.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},function(e,r,t){e.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},function(e,r,t){e.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]}},function(e,r,t){e.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},function(e,r,t){e.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},function(e,r,t){e.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},function(e,r,t){e.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},function(e,r,t){e.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},function(e,r,t){e.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},function(e,r,t){e.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i",'"hello" + " world"',"3 cm + 2 inch"],seealso:["subtract"]}},function(e,r,t){e.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},function(e,r,t){e.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},function(e,r,t){e.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},function(e,r,t){e.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},function(e,r,t){e.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},function(e,r,t){e.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},function(e,r,t){e.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},function(e,r,t){e.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},function(e,r,t){e.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},function(e,r,t){e.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},function(e,r,t){e.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},function(e,r,t){e.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},function(e,r,t){e.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},function(e,r,t){e.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},function(e,r,t){e.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},function(e,r,t){e.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]}},function(e,r,t){e.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},function(e,r,t){e.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},function(e,r,t){e.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},function(e,r,t){e.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},function(e,r,t){e.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},function(e,r,t){e.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},function(e,r,t){e.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},function(e,r,t){e.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},function(e,r,t){e.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},function(e,r,t){e.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},function(e,r,t){e.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,r,t){e.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,r,t){e.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,r,t){e.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},function(e,r,t){e.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},function(e,r,t){e.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},function(e,r,t){e.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},function(e,r,t){e.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},function(e,r,t){e.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},function(e,r,t){e.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},function(e,r,t){e.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},function(e,r,t){e.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},function(e,r,t){e.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},function(e,r,t){e.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},function(e,r,t){e.exports={name:"bignumber",category:"Type",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","index","matrix","string","unit"]}},function(e,r,t){e.exports={name:"boolean",category:"Type",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},function(e,r,t){e.exports={name:"complex",category:"Type",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},function(e,r,t){e.exports={name:"index",category:"Type",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},function(e,r,t){e.exports={name:"matrix",category:"Type",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()","matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])"],seealso:["bignumber","boolean","complex","index","number","string","unit"]}},function(e,r,t){e.exports={name:"number",category:"Type",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},function(e,r,t){e.exports={name:"string",category:"Type",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},function(e,r,t){e.exports={name:"unit",category:"Type",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},function(e,r,t){e.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},function(e,r,t){e.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},function(e,r,t){e.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},function(e,r,t){e.exports={name:"not",category:"Logical",syntax:["!x","not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["!true","not false","!2","!0"],seealso:["and","or","xor"]}},function(e,r,t){e.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},function(e,r,t){e.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]}},function(e,r,t){e.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,r,t){e.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,r,t){e.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,r,t){e.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},function(e,r,t){e.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,r,t){e.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},function(e,r,t){e.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,r,t){e.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,r,t){e.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},function(e,r,t){e.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze"]}},function(e,r,t){e.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},function(e,r,t){e.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},function(e,r,t){e.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},function(e,r,t){e.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},function(e,r,t){e.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(e,r,t){e.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},function(e,r,t){e.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},function(e,r,t){e.exports={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},function(e,r,t){e.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},function(e,r,t){e.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},function(e,r,t){e.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},function(e,r,t){e.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])"],seealso:["random","randomInt"]}},function(e,r,t){e.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},function(e,r,t){e.exports={name:"randInt",category:"Probability",syntax:["randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]}},function(e,r,t){e.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]}},function(e,r,t){e.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},function(e,r,t){e.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e,r,t){e.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(e,r,t){e.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]}},function(e,r,t){e.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},function(e,r,t){e.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},function(e,r,t){e.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e,r,t){e.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},function(e,r,t){e.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},function(e,r,t){e.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var"]}},function(e,r,t){e.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},function(e,r,t){e.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},function(e,r,t){e.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},function(e,r,t){e.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},function(e,r,t){e.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},function(e,r,t){e.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},function(e,r,t){e.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},function(e,r,t){e.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},function(e,r,t){e.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},function(e,r,t){e.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(0.5)"],seealso:["acsch","asech"]}},function(e,r,t){e.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(0.5)","acsc(csc(0.5))","acsc(2)"],seealso:["csc","asin","asec"]}},function(e,r,t){e.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},function(e,r,t){e.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},function(e,r,t){e.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},function(e,r,t){e.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]}},function(e,r,t){e.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},function(e,r,t){e.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},function(e,r,t){e.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},function(e,r,t){e.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},function(e,r,t){e.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},function(e,r,t){e.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},function(e,r,t){e.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},function(e,r,t){e.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},function(e,r,t){e.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},function(e,r,t){e.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},function(e,r,t){e.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},function(e,r,t){e.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},function(e,r,t){e.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},function(e,r,t){e.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},function(e,r,t){e.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},function(e,r,t){e.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},function(e,r,t){e.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},function(e,r,t){e.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},function(e,r,t){e.exports={name:"map",category:"Utils",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]}},function(e,r,t){e.exports={name:"partitionSelect",category:"Utils",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},function(e,r,t){e.exports={name:"filter",category:"Utils",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},function(e,r,t){e.exports={name:"forEach",category:"Utils",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},function(e,r,t){e.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},function(e,r,t){e.exports={name:"import",category:"Utils",syntax:["import(string)"],description:"Import functions from a file.",examples:['import("numbers")','import("./mylib.js")'],seealso:[]}},function(e,r,t){e.exports={name:"sort",category:"Utils",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]}},function(e,r,t){e.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},function(e,r,t){"use strict";e.exports=function(e){return function reviver(r,t){var n=t&&t.mathjs,i=e.type[n];return i&&i.fromJSON?i.fromJSON(t):t}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=e.collection,o=i.isCollection,a=r.number.isNumber,s=r.string.isString,u=r.boolean.isBoolean;e.bignumber=function bignumber(r){if(arguments.length>1)throw new e.error.ArgumentsError("bignumber",arguments.length,0,1);if(r instanceof n||a(r)||s(r))return new n(r);if(u(r)||null===r)return new n(+r);if(o(r))return i.deepMap(r,bignumber);if(0==arguments.length)return new n(0);throw new e.error.UnsupportedTypeError("bignumber",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=e.collection,o=i.isCollection,a=r.number.isNumber,s=r.string.isString;e.boolean=function bool(r){if(1!=arguments.length)throw new e.error.ArgumentsError("boolean",arguments.length,0,1);if("true"===r||!0===r)return!0;if("false"===r||!1===r||null===r)return!1;if(r instanceof Boolean)return 1==r;if(a(r))return 0!==r;if(r instanceof n)return!r.isZero();if(s(r)){var t=r.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var u=Number(r);if(""!=r&&!isNaN(u))return 0!==u}if(o(r))return i.deepMap(r,bool);throw new SyntaxError(r.toString()+" is no valid boolean")}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=o.isCollection,s=r.number.isNumber,u=r.string.isString,c=i.isComplex;e.complex=function complex(r){switch(arguments.length){case 0:return new i(0,0);case 1:var t=arguments[0];if(s(t))return new i(t,0);if(t instanceof n)return new i(t.toNumber(),0);if(c(t))return t.clone();if(u(t)){var l=i.parse(t);if(l)return l;throw new SyntaxError('String "'+t+'" is no valid complex number')}if(a(t))return o.deepMap(t,complex);if("object"==typeof t){if("re"in t&&"im"in t)return new i(t.re,t.im);if("r"in t&&"phi"in t)return i.fromPolar(t.r,t.phi)}throw new TypeError("Two numbers, single string or an fitting object expected in function complex");case 2:var f=arguments[0],p=arguments[1];if(f instanceof n&&(f=f.toNumber()),p instanceof n&&(p=p.toNumber()),s(f)&&s(p))return new i(f,p);throw new TypeError("Two numbers or a single string expected in function complex");default:throw new e.error.ArgumentsError("complex",arguments.length,0,2)}}}},function(e,r,t){"use strict";e.exports=function(e){t(17);var r=e.type.BigNumber,n=t(25);e.index=function(e){var t=Array.prototype.slice.apply(arguments).map((function(e){return e instanceof r?e.toNumber():Array.isArray(e)?e.map((function(e){return e instanceof r?e.toNumber():e})):e})),i=new n;return n.apply(i,t),i}}},function(e,r,t){"use strict";var n=t(9),i=Array.isArray,o=n.isString;e.exports=function(e){var r=e.type.Matrix;e.matrix=function matrix(t,n){switch(arguments.length){case 0:t=[],n="default";break;case 1:i(t)?n="default":t instanceof r?n=t.storage():o(t)&&(n=t,t=[]);break;case 2:if(!(i(t)||t instanceof r))throw new TypeError("data must be an array value or Matrix instance");break;default:throw new e.error.ArgumentsError("matrix",arguments.length,0,2)}return new(r.storage(n))(t)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=e.type.Unit,o=e.collection,a=o.isCollection,s=r.number.isNumber,u=r.boolean.isBoolean,c=r.string.isString;e.number=function number(r,t){switch(arguments.length){case 0:return 0;case 1:if(a(r))return o.deepMap(r,number);if(r instanceof n)return r.toNumber();if(c(r)){var l=Number(r);if(isNaN(l)&&(l=Number(r.valueOf())),isNaN(l))throw new SyntaxError(r.toString()+" is no valid number");return l}if(u(r)||null===r)return+r;if(s(r))return r;if(r instanceof i)throw new Error("Second argument with valueless unit expected");throw new e.error.UnsupportedTypeError("number",e.typeof(r));case 2:if(r instanceof i&&c(t)||t instanceof i)return r.toNumber(t);throw new e.error.UnsupportedTypeError("number",e.typeof(r),e.typeof(t));default:throw new e.error.ArgumentsError("number",arguments.length,0,1)}}}},function(e,r,t){"use strict";e.exports=function(e){var r=e.expression.Parser;e.parser=function parser(){return new r}}},function(e,r,t){"use strict";e.exports=function(e){e.chain=function(r){return new e.chaining.Chain(r)},e.select=function(r){return console&&"function"==typeof console.log&&console.log('WARNING: Function "select" is renamed to "chain". It will be deprecated in v2.0.'),e.select=e.chain,e.chaining.Chain.prototype.select=e.select,e.chain(r)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.collection,i=r.number,o=r.number.isNumber,a=n.isCollection;e.string=function string(r){switch(arguments.length){case 0:return"";case 1:return o(r)?i.format(r):a(r)?n.deepMap(r,string):null===r?"null":r.toString();default:throw new e.error.ArgumentsError("string",arguments.length,0,1)}}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(19),o=e.collection,a=o.isCollection,s=r.string.isString;e.unit=function unit(r){switch(arguments.length){case 1:var t=arguments[0];if(t instanceof i)return t.clone();if(s(t)){if(i.isValuelessUnit(t))return new i(null,t);var u=i.parse(t);if(u)return u;throw new SyntaxError('String "'+t+'" is no valid unit')}if(a(r))return o.deepMap(r,unit);throw new TypeError("A string or a number and string expected in function unit");case 2:return new i(arguments[0]instanceof n?arguments[0].toNumber():arguments[0],arguments[1]);default:throw new e.error.ArgumentsError("unit",arguments.length,1,2)}}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.expression.parse,o=e.collection,a=n.string.isString,s=o.isCollection;e.compile=function compile(r){if(1!=arguments.length)throw new e.error.ArgumentsError("compile",arguments.length,1);if(a(r))return i(r).compile(e);if(s(r))return o.deepMap(r,(function(r){return i(r).compile(e)}));throw new TypeError("String, array, or matrix expected")}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.expression.parse,i=e.collection,o=r.string.isString,a=i.isCollection;e.eval=function _eval(r,t){if(1!=arguments.length&&2!=arguments.length)throw new e.error.ArgumentsError("eval",arguments.length,1,2);if(t=t||{},o(r))return n(r).compile(e).eval(t);if(a(r))return i.deepMap(r,(function(r){return n(r).compile(e).eval(t)}));throw new TypeError("String, array, or matrix expected")}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(27);e.help=function help(t){if(1!=arguments.length)throw new SyntaxError("Wrong number of arguments in function help ("+arguments.length+" provided, 1 expected)");var n,i=null;if(t instanceof String||"string"==typeof t)i=t;else for(n in e)if(e.hasOwnProperty(n)&&t===e[n]){i=n;break}var o=e.expression.docs[i];if(!i)throw new Error('Cannot find "'+t+'" in math.js');if(!o)throw new Error('No documentation found on "'+i+'"');return new r(o)}}},function(e,r,t){"use strict";e.exports=function(e,r){var t=e.expression.parse;e.parse=function parse(e,r){return t.apply(t,arguments)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection;e.abs=function abs(r){if(1!=arguments.length)throw new e.error.ArgumentsError("abs",arguments.length,1);if(a(r))return Math.abs(r);if(u(r)){var t=Math.abs(r.re),i=Math.abs(r.im);if(t<1e3&&i<1e3)return Math.sqrt(t*t+i*i);if(t>=i){var l=i/t;return t*Math.sqrt(1+l*l)}var f=t/i;return i*Math.sqrt(1+f*f)}if(r instanceof n)return r.abs();if(c(r))return o.deepMap(r,abs,!0);if(s(r)||null===r)return Math.abs(r);throw new e.error.UnsupportedTypeError("abs",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.boolean.isBoolean,u=r.number.isNumber,c=r.string.isString,l=i.isComplex,f=o.isUnit,p=a.isCollection;e.add=function add(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("add",arguments.length,2);if(u(r)){if(u(t))return r+t;if(l(t))return new i(r+t.re,t.im)}if(l(r)){if(l(t))return new i(r.re+t.re,r.im+t.im);if(u(t))return new i(r.re+t,r.im)}if(f(r)&&f(t)){if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(t))throw new Error("Units do not match");var o=r.clone();return o.value+=t.value,o.fixPrefix=!1,o}if(r instanceof n)return u(t)?t=n.convert(t):(s(t)||null===t)&&(t=new n(t?1:0)),t instanceof n?r.plus(t):add(r.toNumber(),t);if(t instanceof n)return u(r)?r=n.convert(r):(s(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?r.plus(t):add(r,t.toNumber());if(p(r)||p(t))return a.deepMap2(r,t,add);if(c(r)||c(t))return r+t;if(s(r)||null===r)return add(+r,t);if(s(t)||null===t)return add(r,+t);throw new e.error.UnsupportedTypeError("add",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=o.isCollection,c=i.isComplex;e.ceil=function ceil(r){if(1!=arguments.length)throw new e.error.ArgumentsError("ceil",arguments.length,1);if(a(r))return Math.ceil(r);if(c(r))return new i(Math.ceil(r.re),Math.ceil(r.im));if(r instanceof n)return r.ceil();if(u(r))return o.deepMap(r,ceil,!0);if(s(r)||null===r)return Math.ceil(r);throw new e.error.UnsupportedTypeError("ceil",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection;e.cube=function cube(r){if(1!=arguments.length)throw new e.error.ArgumentsError("cube",arguments.length,1);if(a(r))return r*r*r;if(u(r))return e.multiply(e.multiply(r,r),r);if(r instanceof n)return r.times(r).times(r);if(c(r))return o.deepMap(r,cube);if(s(r)||null===r)return cube(+r);throw new e.error.UnsupportedTypeError("cube",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=(e.type.Matrix,t(19)),a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isUnit;function _divideComplex(e,r){var t=r.re*r.re+r.im*r.im;return 0!=t?new i((e.re*r.re+e.im*r.im)/t,(e.im*r.re-e.re*r.im)/t):new i(0!=e.re?e.re/0:0,0!=e.im?e.im/0:0)}e._divide=function _divide(r,t){if(a(r)){if(a(t))return r/t;if(u(t))return _divideComplex(new i(r,0),t)}if(u(r)){if(u(t))return _divideComplex(r,t);if(a(t))return _divideComplex(r,new i(t,0))}if(r instanceof n)return a(t)?t=n.convert(t):(s(t)||null===t)&&(t=new n(t?1:0)),t instanceof n?r.div(t):_divide(r.toNumber(),t);if(t instanceof n)return a(r)?r=n.convert(r):(s(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?r.div(t):_divide(r,t.toNumber());if(c(r)&&a(t)){var o=r.clone();return o.value=(null===o.value?o._normalize(1):o.value)/t,o}if(s(r)||null===r)return _divide(+r,t);if(s(t)||null===t)return _divide(r,+t);throw new e.error.UnsupportedTypeError("divide",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=e.collection,t=r.isCollection;e.divide=function(n,i){if(2!=arguments.length)throw new e.error.ArgumentsError("divide",arguments.length,2);return t(n)?t(i)?e.multiply(n,e.inv(i)):r.deepMap2(n,i,e._divide):t(i)?e.multiply(n,e.inv(i)):e._divide(n,i)}}},function(e,r,t){"use strict";e.exports=function(e){var r=e.collection;e.dotDivide=function dotDivide(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("dotDivide",arguments.length,2);return r.deepMap2(t,n,e.divide)},e.edivide=function(){throw new Error("Function edivide is renamed to dotDivide")}}},function(e,r,t){"use strict";e.exports=function(e){t(17);var r=e.collection;e.dotMultiply=function dotMultiply(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("dotMultiply",arguments.length,2);return r.deepMap2(t,n,e.multiply)},e.emultiply=function(){throw new Error("Function emultiply is renamed to dotMultiply")}}},function(e,r,t){"use strict";e.exports=function(e){t(17);var r=e.collection;e.dotPow=function dotPow(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("dotPow",arguments.length,2);return r.deepMap2(t,n,e.pow)},e.epow=function(){throw new Error("Function epow is renamed to dotPow")}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=(e.type.Matrix,e.collection),a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection;e.exp=function exp(r){if(1!=arguments.length)throw new e.error.ArgumentsError("exp",arguments.length,1);if(a(r))return Math.exp(r);if(u(r)){var t=Math.exp(r.re);return new i(t*Math.cos(r.im),t*Math.sin(r.im))}if(r instanceof n)return r.exp();if(c(r))return o.deepMap(r,exp);if(s(r)||null===r)return Math.exp(r);throw new e.error.UnsupportedTypeError("exp",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection;e.fix=function fix(r){if(1!=arguments.length)throw new e.error.ArgumentsError("fix",arguments.length,1);if(a(r))return r>0?Math.floor(r):Math.ceil(r);if(u(r))return new i(r.re>0?Math.floor(r.re):Math.ceil(r.re),r.im>0?Math.floor(r.im):Math.ceil(r.im));if(r instanceof n)return r.isNegative()?r.ceil():r.floor();if(c(r))return o.deepMap(r,fix,!0);if(s(r)||null===r)return fix(+r);throw new e.error.UnsupportedTypeError("fix",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection;e.floor=function floor(r){if(1!=arguments.length)throw new e.error.ArgumentsError("floor",arguments.length,1);if(a(r))return Math.floor(r);if(u(r))return new i(Math.floor(r.re),Math.floor(r.im));if(r instanceof n)return r.floor();if(c(r))return o.deepMap(r,floor,!0);if(s(r)||null===r)return floor(+r);throw new e.error.UnsupportedTypeError("floor",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=e.collection,o=r.number.isNumber,a=r.boolean.isBoolean,s=r.number.isInteger,u=i.isCollection;function _bigGcd(e,r){if(!e.isInt()||!r.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var t=new n(0);!r.isZero();){var i=e.mod(r);e=r,r=i}return e.lt(t)?e.neg():e}e.gcd=function gcd(r){var t,c=arguments[0],l=arguments[1];if(2==arguments.length){if(o(c)&&o(l)){if(!s(c)||!s(l))throw new Error("Parameters in function gcd must be integer numbers");for(;0!=l;)t=c%l,c=l,l=t;return c<0?-c:c}if(u(c)||u(l))return i.deepMap2(c,l,gcd);if(c instanceof n)return o(l)?l=n.convert(l):(a(l)||null===l)&&(l=new n(l?1:0)),l instanceof n?_bigGcd(c,l):gcd(c.toNumber(),l);if(l instanceof n)return o(c)?c=n.convert(c):(a(c)||null===c)&&(c=new n(c?1:0)),c instanceof n?_bigGcd(c,l):gcd(c.toNumber(),l);if(a(c)||null===c)return gcd(+c,l);if(a(l)||null===l)return gcd(c,+l);throw new e.error.UnsupportedTypeError("gcd",e.typeof(c),e.typeof(l))}if(arguments.length>2){for(var f=1;f<arguments.length;f++)c=gcd(c,arguments[f]);return c}throw new SyntaxError("Function gcd expects two or more arguments")}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=e.collection,o=r.number.isNumber,a=r.boolean.isBoolean,s=r.number.isInteger,u=i.isCollection;function _bigLcm(e,r){if(!e.isInt()||!r.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero()||r.isZero())return new n(0);for(var t=e.times(r);!r.isZero();){var i=r;r=e.mod(i),e=i}return t.div(e).abs()}e.lcm=function lcm(r){var t,c=arguments[0],l=arguments[1];if(2==arguments.length){if(o(c)&&o(l)){if(!s(c)||!s(l))throw new Error("Parameters in function lcm must be integer numbers");if(0==c||0==l)return 0;for(var f=c*l;0!=l;)l=c%(t=l),c=t;return Math.abs(f/c)}if(u(c)||u(l))return i.deepMap2(c,l,lcm);if(c instanceof n)return o(l)?l=n.convert(l):(a(l)||null===l)&&(l=new n(l?1:0)),l instanceof n?_bigLcm(c,l):lcm(c.toNumber(),l);if(l instanceof n)return o(c)?c=n.convert(c):(a(c)||null===c)&&(c=new n(c?1:0)),c instanceof n?_bigLcm(c,l):lcm(c.toNumber(),l);if(a(c)||null===c)return lcm(+c,l);if(a(l)||null===l)return lcm(c,+l);throw new e.error.UnsupportedTypeError("lcm",e.typeof(c),e.typeof(l))}if(arguments.length>2){for(var p=1;p<arguments.length;p++)c=lcm(c,arguments[p]);return c}throw new SyntaxError("Function lcm expects two or more arguments")}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection;e.log=function log(r,t){if(1==arguments.length){if(a(r))return r>=0?Math.log(r):log(new i(r,0));if(u(r))return new i(Math.log(Math.sqrt(r.re*r.re+r.im*r.im)),Math.atan2(r.im,r.re));if(r instanceof n)return r.isNegative()?log(r.toNumber()):r.ln();if(c(r))return o.deepMap(r,log);if(s(r)||null===r)return log(+r);throw new e.error.UnsupportedTypeError("log",e.typeof(r))}if(2==arguments.length)return e.divide(log(r),log(t));throw new e.error.ArgumentsError("log",arguments.length,1,2)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection;e.log10=function log10(r){if(1!=arguments.length)throw new e.error.ArgumentsError("log10",arguments.length,1);if(a(r))return r>=0?Math.log(r)/Math.LN10:log10(new i(r,0));if(r instanceof n)return r.isNegative()?log10(r.toNumber()):r.log();if(u(r))return new i(Math.log(Math.sqrt(r.re*r.re+r.im*r.im))/Math.LN10,Math.atan2(r.im,r.re)/Math.LN10);if(c(r))return o.deepMap(r,log10);if(s(r)||null===r)return log10(+r);throw new e.error.UnsupportedTypeError("log10",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=e.collection,o=r.number.isNumber,a=r.boolean.isBoolean,s=i.isCollection;e.mod=function mod(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("mod",arguments.length,2);if(o(r)&&o(t))return function _mod(e,r){if(r>0)return e-r*Math.floor(e/r);if(0==r)return e;throw new Error("Cannot calculate mod for a negative divisor")}(r,t);if(r instanceof n)return o(t)?t=n.convert(t):(a(t)||null===t)&&(t=new n(t?1:0)),t instanceof n?t.isZero()?r:r.mod(t):mod(r.toNumber(),t);if(t instanceof n)return o(r)?r=n.convert(r):(a(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?t.isZero()?r:r.mod(t):mod(r,t.toNumber());if(s(r)||s(t))return i.deepMap2(r,t,mod);if(a(r)||null===r)return mod(+r,t);if(a(t)||null===t)return mod(r,+t);throw new e.error.UnsupportedTypeError("mod",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.type.Matrix,a=t(19),s=e.collection,u=r.number.isNumber,c=r.boolean.isBoolean,l=i.isComplex,f=Array.isArray,p=a.isUnit;function _multiplyComplex(e,r){return 0==e.im?0==r.im?new i(e.re*r.re,0):0==r.re?new i(0,e.re*r.im):new i(e.re*r.re,e.re*r.im):0==e.re?0==r.im?new i(0,e.im*r.re):0==r.re?new i(-e.im*r.im,0):new i(-e.im*r.im,e.im*r.re):0==r.im?new i(e.re*r.re,e.im*r.re):0==r.re?new i(-e.im*r.im,e.re*r.im):new i(e.re*r.re-e.im*r.im,e.re*r.im+e.im*r.re)}e.multiply=function multiply(r,t){var a;if(2!=arguments.length)throw new e.error.ArgumentsError("multiply",arguments.length,2);if(u(r)){if(u(t))return r*t;if(l(t))return _multiplyComplex(new i(r,0),t);if(p(t))return(a=t.clone()).value=null===a.value?a._normalize(r):a.value*r,a}if(l(r)){if(u(t))return _multiplyComplex(r,new i(t,0));if(l(t))return _multiplyComplex(r,t)}if(r instanceof n)return u(t)?t=n.convert(t):(c(t)||null===t)&&(t=new n(t?1:0)),t instanceof n?r.times(t):multiply(r.toNumber(),t);if(t instanceof n)return u(r)?r=n.convert(r):(c(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?r.times(t):multiply(r,t.toNumber());if(p(r)&&u(t))return(a=r.clone()).value=null===a.value?a._normalize(t):a.value*t,a;if(f(r)){var h=e.matrix(r).multiply(t);return h instanceof o?t instanceof o?h:h.valueOf():h}if(r instanceof o)return r.multiply(t);if(f(t))return s.deepMap2(r,t,multiply);if(t instanceof o){return s.deepMap(t,(function(e){return multiply(r,e)}),!0)}if(c(r)||null===r)return multiply(+r,t);if(c(t)||null===t)return multiply(r,+t);throw new e.error.UnsupportedTypeError("multiply",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.type.Matrix,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=Array.isArray;e.norm=function norm(r,t){if(arguments.length<1||arguments.length>2)throw new e.error.ArgumentsError("abs",arguments.length,1,2);if(a(r))return Math.abs(r);if(u(r)){var i=Math.abs(r.re),l=Math.abs(r.im);if(i>=l){var f=l/i;return i*Math.sqrt(1+f*f)}var p=i/l;return l*Math.sqrt(1+p*p)}if(r instanceof n)return r.abs();if(s(r)||null===r)return Math.abs(r);if(c(r))return norm(e.matrix(r),t);if(r instanceof o){var h=r.size();if(null==t&&(t=2),1==h.length){if(t===Number.POSITIVE_INFINITY||"inf"===t)return r.forEach((function(r){var t=e.abs(r);m&&!e.larger(t,m)||(m=t)}),!0),m;if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return r.forEach((function(r){var t=e.abs(r);m&&!e.smaller(t,m)||(m=t)}),!0),m;if("fro"===t)return norm(r);if(a(t)&&!isNaN(t)){if(!e.equal(t,0)){var m=0;return r.forEach((function(r){m=e.add(e.pow(e.abs(r),t),m)}),!0),e.pow(m,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==h.length){if(1==t){var g=[];return r.forEach((function(r,t){var n=t[1];g[n]=e.add(g[n]||0,e.abs(r))}),!0),e.max(g)}if(t==Number.POSITIVE_INFINITY||"inf"===t){var d=[];return r.forEach((function(r,t){var n=t[0];d[n]=e.add(d[n]||0,e.abs(r))}),!0),e.max(d)}if("fro"===t)return e.sqrt(r.transpose().multiply(r).trace());if(2==t)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}throw new e.error.UnsupportedTypeError("norm",r)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),i=e.type.BigNumber,o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=o.isCollection;function _nthRoot(e,r){var t=null!=r?r:2,n=t<0;if(n&&(t=-t),0==t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==e)return 0;if(!Number.isFinite(e))return n?0:e;var i=1,o=0;do{var a=(e/Math.pow(i,t-1)-i)/t;i+=a,o++}while(Math.abs(a)>1e-16&&o<100);return n?1/i:i}function _nthRootBig(e,r){var t=null!=r?r:new i(2),n=new i(0),o=new i(1),a=t.isNegative();if(a&&(t=t.negated()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return n;if(!e.isFinite())return a?n:e;var s=o,u=0;do{var c=s,l=e.div(s.pow(t.minus(1))).minus(s).div(t);s=s.plus(l),u++}while(!s.equals(c)&&u<100);return a?o.div(s):s}e.nthRoot=function nthRoot(r,t){if(1!=arguments.length&&2!=arguments.length)throw new e.error.ArgumentsError("nthRoot",arguments.length,1,2);switch(arguments.length){case 1:if(a(r))return _nthRoot(r);if(r instanceof i)return _nthRootBig(r);if(u(r))return o.deepMap(x,nthRoot);if(s(r)||null===r)return nthRoot(+r);break;case 2:if(a(r)){if(a(t))return _nthRoot(r,t);if(t instanceof i)return(r=i.convert(r))instanceof i?_nthRootBig(r,t):_nthRoot(r,t.toNumber())}else{if(r instanceof i)return a(t)&&(t=i.convert(t)),t instanceof i?_nthRootBig(r,t):_nthRoot(r.toNumber(),t);if(u(r)&&!u(t))return o.deepMap2(r,t,nthRoot)}if(s(r)||null===r)return nthRoot(+r,t);if(s(t)||null===t)return nthRoot(r,+t);break;default:throw new e.error.ArgumentsError("nthRoot",arguments.length,1,2)}if(s(x)||null===x)return 2==arguments.length?nthRoot(+x,n):nthRoot(+x);throw new e.error.UnsupportedTypeError("nthRoot",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.type.Matrix,a=r.array,s=r.number.isNumber,u=r.boolean.isBoolean,c=Array.isArray,l=r.number.isInteger,f=i.isComplex;function powComplex(r,t){var n=e.log(r),i=e.multiply(n,t);return e.exp(i)}e.pow=function pow(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("pow",arguments.length,2);if(s(r)){if(s(t))return l(t)||r>=0?Math.pow(r,t):powComplex(new i(r,0),new i(t,0));if(f(t))return powComplex(new i(r,0),t)}if(f(r)){if(s(t))return powComplex(r,new i(t,0));if(f(t))return powComplex(r,t)}if(r instanceof n)return s(t)?t=n.convert(t):(u(t)||null===t)&&(t=new n(t?1:0)),t instanceof n?t.isInteger()||!r.isNegative()?r.pow(t):pow(r.toNumber(),t.toNumber()):pow(r.toNumber(),t);if(t instanceof n)return s(r)?r=n.convert(r):(u(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?t.isInteger()&&!r.isNegative()?r.pow(t):pow(r.toNumber(),t.toNumber()):pow(r,t.toNumber());if(c(r)){if(!s(t)||!l(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var p=a.size(r);if(2!=p.length)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!=p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");for(var h=e.eye(p[0]).valueOf(),m=r;t>=1;)1==(1&t)&&(h=e.multiply(m,h)),t>>=1,m=e.multiply(m,m);return h}if(r instanceof o)return e.matrix(pow(r.valueOf(),t));if(u(r)||null===r)return pow(+r,t);if(u(t)||null===t)return pow(r,+t);throw new e.error.UnsupportedTypeError("pow",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.number.isInteger,u=r.boolean.isBoolean,c=i.isComplex,l=o.isCollection,f=r.number.toFixed;function roundNumber(e,r){return parseFloat(f(e,r))}e.round=function round(r,t){if(1!=arguments.length&&2!=arguments.length)throw new e.error.ArgumentsError("round",arguments.length,1,2);if(null==t){if(a(r))return Math.round(r);if(c(r))return new i(Math.round(r.re),Math.round(r.im));if(r instanceof n)return r.toDecimalPlaces(0);if(l(r))return o.deepMap(r,round);if(u(r)||null===r)return Math.round(r);throw new e.error.UnsupportedTypeError("round",e.typeof(r))}if(!a(t)||!s(t)){if(!(t instanceof n)){if(u(t)||null===r)return round(r,+t);throw new TypeError("Number of decimals in function round must be an integer")}t=parseFloat(t.valueOf())}if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");if(a(r))return roundNumber(r,t);if(c(r))return new i(roundNumber(r.re,t),roundNumber(r.im,t));if(r instanceof n)return r.toDecimalPlaces(t);if(l(r)||l(t))return o.deepMap2(r,t,round);if(u(r)||null===r)return round(+r,t);throw new e.error.UnsupportedTypeError("round",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=o.isCollection;e.sign=function sign(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sign",arguments.length,1);if(s(r))return a.sign(r);if(c(r)){var t=Math.sqrt(r.re*r.re+r.im*r.im);return new i(r.re/t,r.im/t)}if(r instanceof n)return new n(r.cmp(0));if(l(r))return o.deepMap(r,sign,!0);if(u(r)||null===r)return a.sign(r);throw new e.error.UnsupportedTypeError("sign",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection;e.sqrt=function sqrt(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sqrt",arguments.length,1);if(a(r))return r>=0?Math.sqrt(r):sqrt(new i(r,0));if(u(r)){var t,l,f=Math.sqrt(r.re*r.re+r.im*r.im);return t=r.re>=0?.5*Math.sqrt(2*(f+r.re)):Math.abs(r.im)/Math.sqrt(2*(f-r.re)),l=r.re<=0?.5*Math.sqrt(2*(f-r.re)):Math.abs(r.im)/Math.sqrt(2*(f+r.re)),r.im>=0?new i(t,l):new i(t,-l)}if(r instanceof n)return r.isNegative()?sqrt(r.toNumber()):r.sqrt();if(c(r))return o.deepMap(r,sqrt,!0);if(s(r)||null===r)return sqrt(+r);throw new e.error.UnsupportedTypeError("sqrt",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection;e.square=function square(r){if(1!=arguments.length)throw new e.error.ArgumentsError("square",arguments.length,1);if(a(r))return r*r;if(u(r))return e.multiply(r,r);if(r instanceof n)return r.times(r);if(c(r))return o.deepMap(r,square,!0);if(s(r)||null===r)return r*r;throw new e.error.UnsupportedTypeError("square",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=(e.type.Matrix,t(19)),a=e.collection,s=r.boolean.isBoolean,u=r.number.isNumber,c=i.isComplex,l=o.isUnit,f=a.isCollection;e.subtract=function subtract(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("subtract",arguments.length,2);if(u(r)){if(u(t))return r-t;if(c(t))return new i(r-t.re,-t.im)}else if(c(r)){if(u(t))return new i(r.re-t,r.im);if(c(t))return new i(r.re-t.re,r.im-t.im)}if(r instanceof n)return u(t)?t=n.convert(t):(s(t)||null===t)&&(t=new n(t?1:0)),t instanceof n?r.minus(t):subtract(r.toNumber(),t);if(t instanceof n)return u(r)?r=n.convert(r):(s(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?r.minus(t):subtract(r,t.toNumber());if(l(r)&&l(t)){if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(t))throw new Error("Units do not match");var o=r.clone();return o.value-=t.value,o.fixPrefix=!1,o}if(f(r)||f(t))return a.deepMap2(r,t,subtract);if(s(r)||null===r)return subtract(+r,t);if(s(t)||null===t)return subtract(r,+t);throw new e.error.UnsupportedTypeError("subtract",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.boolean.isBoolean,l=n.string.isString,f=o.isComplex,p=a.isUnit,h=s.isCollection;e.unaryMinus=function unaryMinus(t){if(1!=arguments.length)throw new e.error.ArgumentsError("unaryMinus",arguments.length,1);if(u(t))return-t;if(f(t))return new o(-t.re,-t.im);if(t instanceof i)return t.neg();if(p(t)){var n=t.clone();return n.value=-t.value,n}if(h(t))return s.deepMap(t,unaryMinus,!0);if(c(t)||l(t)||null===t)return"bignumber"==r.number?new i(-t):-t;throw new e.error.UnsupportedTypeError("unaryMinus",e.typeof(t))},e.unary=function unary(){throw new Error("Function unary is deprecated. Use unaryMinus instead.")}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.boolean.isBoolean,l=n.string.isString,f=o.isComplex,p=a.isUnit,h=s.isCollection;e.unaryPlus=function unaryPlus(t){if(1!=arguments.length)throw new e.error.ArgumentsError("unaryPlus",arguments.length,1);if(u(t))return t;if(f(t))return t.clone();if(t instanceof i)return t;if(p(t))return t.clone();if(h(t))return s.deepMap(t,unaryPlus,!0);if(c(t)||l(t)||null===t)return"bignumber"==r.number?new i(+t):+t;throw new e.error.UnsupportedTypeError("unaryPlus",e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=(e.type.Matrix,e.type.BigNumber),o=n.number.isNumber,a=n.boolean.isBoolean,s=n.number.isInteger;function _bigXgcd(t,n){for(var o,a,s,u,c=new i(0),l=new i(0),f=new i(1),p=new i(1),h=new i(0);!n.isZero();)a=t.div(n).floor(),s=t.mod(n),o=l,l=f.minus(a.times(l)),f=o,o=p,p=h.minus(a.times(p)),h=o,t=n,n=s;return u=t.lt(c)?[t.neg(),f.neg(),h.neg()]:[t,t.isZero()?0:f,h],"array"===r.matrix?u:e.matrix(u)}e.xgcd=function xgcd(t,n){if(2==arguments.length){if(o(t)&&o(n)){if(!s(t)||!s(n))throw new Error("Parameters in function xgcd must be integer numbers");return function _xgcd(t,n){var i,o,a,s,u=0,c=1,l=1,f=0;for(;n;)a=t%n,i=u,u=c-(o=Math.floor(t/n))*u,c=i,i=l,l=f-o*l,f=i,t=n,n=a;s=t<0?[-t,-c,-f]:[t,t?c:0,f];return"array"===r.matrix?s:e.matrix(s)}(t,n)}if(t instanceof i)return o(n)?n=i.convert(n):(a(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?_bigXgcd(t,n):xgcd(t.toNumber(),n);if(n instanceof i)return o(t)?t=i.convert(t):(a(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?_bigXgcd(t,n):xgcd(t.toNumber(),n);if(a(t)||null===t)return xgcd(+t,n);if(a(n)||null===n)return xgcd(t,+n);throw new e.error.UnsupportedTypeError("xgcd",e.typeof(t),e.typeof(n))}throw new SyntaxError("Function xgcd expects two arguments")}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=(e.type.Matrix,t(19),e.collection),a=n.boolean.isBoolean,s=n.number.isInteger,u=n.number.isNumber,c=o.isCollection,l=n.bignumber.and;e.bitAnd=function bitAnd(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("bitAnd",arguments.length,2);if(u(r)&&u(t)){if(!s(r)||!s(t))throw new Error("Parameters in function bitAnd must be integer numbers");return r&t}if(c(r)||c(t))return o.deepMap2(r,t,bitAnd);if(a(r)||null===r)return bitAnd(+r,t);if(a(t)||null===t)return bitAnd(r,+t);if(r instanceof i)return u(t)&&(t=i.convert(t)),t instanceof i?l(r,t):bitAnd(r.toNumber(),t);if(t instanceof i)return u(r)&&(r=i.convert(r)),r instanceof i?l(r,t):bitAnd(r,t.toNumber());throw new e.error.UnsupportedTypeError("bitAnd",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=(e.type.Matrix,t(19),e.collection),a=n.boolean.isBoolean,s=n.number.isInteger,u=n.number.isNumber,c=o.isCollection,l=n.bignumber.not;e.bitNot=function bitNot(r){if(1!=arguments.length)throw new e.error.ArgumentsError("bitNot",arguments.length,1);if(u(r)){if(!s(r))throw new Error("Parameter in function bitNot must be integer numbers");return~r}if(r instanceof i)return l(r);if(c(r))return o.deepMap(r,bitNot);if(a(r)||null===r)return bitNot(+r);throw new e.error.UnsupportedTypeError("bitNot",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=(e.type.Matrix,t(19),e.collection),a=n.boolean.isBoolean,s=n.number.isInteger,u=n.number.isNumber,c=o.isCollection,l=n.bignumber.or;e.bitOr=function bitOr(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("bitOr",arguments.length,2);if(u(r)&&u(t)){if(!s(r)||!s(t))throw new Error("Parameters in function bitOr must be integer numbers");return r|t}if(c(r)||c(t))return o.deepMap2(r,t,bitOr);if(a(r)||null===r)return bitOr(+r,t);if(a(t)||null===t)return bitOr(r,+t);if(r instanceof i)return u(t)&&(t=i.convert(t)),t instanceof i?l(r,t):bitOr(r.toNumber(),t);if(t instanceof i)return u(r)&&(r=i.convert(r)),r instanceof i?l(r,t):bitOr(r,t.toNumber());throw new e.error.UnsupportedTypeError("bitOr",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=(e.type.Matrix,t(19),e.collection),a=n.boolean.isBoolean,s=n.number.isInteger,u=n.number.isNumber,c=o.isCollection,l=n.bignumber.xor;e.bitXor=function bitXor(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("bitXor",arguments.length,2);if(u(r)&&u(t)){if(!s(r)||!s(t))throw new Error("Parameters in function bitXor must be integer numbers");return r^t}if(c(r)||c(t))return o.deepMap2(r,t,bitXor);if(a(r)||null===r)return bitXor(+r,t);if(a(t)||null===t)return bitXor(r,+t);if(r instanceof i)return u(t)&&(t=i.convert(t)),t instanceof i?l(r,t):bitXor(r.toNumber(),t);if(t instanceof i)return u(r)&&(r=i.convert(r)),r instanceof i?l(r,t):bitXor(r,t.toNumber());throw new e.error.UnsupportedTypeError("bitXor",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=(e.type.Matrix,t(19),e.collection),a=n.boolean.isBoolean,s=n.number.isInteger,u=n.number.isNumber,c=o.isCollection,l=n.bignumber.leftShift;e.leftShift=function leftShift(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("leftShift",arguments.length,2);if(u(r)){if(u(t)){if(!s(r)||!s(t))throw new Error("Parameters in function leftShift must be integer numbers");return r<<t}if(t instanceof i)return l(i.convert(r),t)}if(u(t)){if(isFinite(t)&&!s(t))throw new Error("Parameters in function leftShift must be integer numbers");if(r instanceof i){if(r.isFinite()&&!r.isInteger())throw new Error("Parameters in function leftShift must be integer numbers");return r.isNaN()||isNaN(t)||t<0?new i(NaN):0==t||r.isZero()?r:t!=1/0||r.isFinite()?t<55?r.times(Math.pow(2,t)+""):(t=i.convert(t),l(r,t)):new i(NaN)}}if(c(r)&&u(t))return o.deepMap2(r,t,leftShift);if(a(r)||null===r)return leftShift(+r,t);if(a(t)||null===t)return leftShift(r,+t);if(r instanceof i)return t instanceof i?l(r,t):leftShift(r.toNumber(),t);if(t instanceof i)return leftShift(r,t.toNumber());throw new e.error.UnsupportedTypeError("leftShift",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=(e.type.Matrix,t(19),e.collection),a=n.boolean.isBoolean,s=n.number.isInteger,u=n.number.isNumber,c=o.isCollection,l=n.bignumber.rightShift;e.rightArithShift=function rightArithShift(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("rightArithShift",arguments.length,2);if(u(r)){if(u(t)){if(!s(r)||!s(t))throw new Error("Parameters in function rightArithShift must be integer numbers");return r>>t}if(t instanceof i)return l(i.convert(r),t)}if(u(t)){if(isFinite(t)&&!s(t))throw new Error("Parameters in function rightArithShift must be integer numbers");if(r instanceof i){if(r.isFinite()&&!r.isInteger())throw new Error("Parameters in function rightArithShift must be integer numbers");return r.isNaN()||isNaN(t)||t<0?new i(NaN):t==1/0?r.isNegative()?new i(-1):r.isFinite()?new i(0):new i(NaN):t<55?r.div(Math.pow(2,t)+"").floor():(t=i.convert(t),l(r,t))}}if(c(r)&&u(t))return o.deepMap2(r,t,rightArithShift);if(a(r)||null===r)return rightArithShift(+r,t);if(a(t)||null===t)return rightArithShift(r,+t);if(r instanceof i)return t instanceof i?l(r,t):rightArithShift(r.toNumber(),t);if(t instanceof i)return rightArithShift(r,t.toNumber());throw new e.error.UnsupportedTypeError("rightArithShift",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=(e.type.Matrix,t(19),e.collection),o=n.boolean.isBoolean,a=n.number.isInteger,s=n.number.isNumber,u=i.isCollection;e.rightLogShift=function rightLogShift(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("rightLogShift",arguments.length,2);if(s(r)&&s(t)){if(!a(r)||!a(t))throw new Error("Parameters in function rightLogShift must be integer numbers");return r>>>t}if(u(r)&&s(t))return i.deepMap2(r,t,rightLogShift);if(o(r)||null===r)return rightLogShift(+r,t);if(o(t)||null===t)return rightLogShift(r,+t);throw new e.error.UnsupportedTypeError("rightLogShift",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=r.number.isNumber,o=r.number.isPositiveInteger;e.stirlingS2=function stirlingS2(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("stirlingS2",arguments.length,2);if(i(r)&&i(t)||r instanceof n){if(!o(r)||!o(t))throw new TypeError("Positive integer value expected in function stirlingS2");if(t>r)throw new TypeError("k must be less than or equal to n");r instanceof n&&(t=n.convert(t));for(var a=e.factorial(t),s=(e.divide(1,a),0),u=0;u<=t;u++){var c=e.pow(-1,e.subtract(t,u)),l=e.combinations(t,u),f=Math.pow(u,r);s=e.chain(l).multiply(f).multiply(c).add(s).done()}return e.divide(s,a)}throw new TypeError("Integer values are expected in stirlingS2")}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=r.number.isNumber,o=r.number.isPositiveInteger;e.bellNumbers=function bellNumbers(r){var t=0;if(1!=arguments.length)throw new e.error.ArgumentsError("bellNumbers",arguments.length,1);if(i(r)||r instanceof n){if(!o(r))throw new TypeError("Positive integer value expected in function bellNumbers");for(var a=0;a<=r;a++)t=e.add(t,e.stirlingS2(r,a));return t}throw new e.error.UnsupportedTypeError("bellNumbers",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=r.number.isNumber,o=r.number.isInteger;e.composition=function composition(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("composition",arguments.length,2);if(i(r)&&i(t)||r instanceof n){if(!o(r)||r<0||!o(t)||t<0)throw new TypeError("Positive integer value expected in function composition");if(t>r)throw new TypeError("k must be less than or equal to n");return e.combinations(r-1,t-1)}if(r instanceof n){if(!((t=n.convert(t))instanceof n&&isPositiveInteger(r)&&isPositiveInteger(t)))throw new TypeError("Positive integer value expected in function composition");if(t.gt(r))throw new TypeError("k must be less than n in function composition");return e.combinations(r.minus(1),t.minus(1))}throw new TypeError("Integer values are expected in composition")};var isPositiveInteger=function(e){return e.isInteger()&&e.gte(0)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=o.isCollection,c=i.isComplex;e.arg=function arg(r){if(1!=arguments.length)throw new e.error.ArgumentsError("arg",arguments.length,1);if(a(r))return Math.atan2(0,r);if(c(r))return Math.atan2(r.im,r.re);if(u(r))return o.deepMap(r,arg);if(s(r)||null===r)return arg(+r);if(r instanceof n)return arg(r.toNumber());throw new e.error.UnsupportedTypeError("arg",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.object,s=r.number.isNumber,u=r.boolean.isBoolean,c=o.isCollection,l=i.isComplex;e.conj=function conj(r){if(1!=arguments.length)throw new e.error.ArgumentsError("conj",arguments.length,1);return s(r)?r:r instanceof n?new n(r):l(r)?new i(r.re,-r.im):c(r)?o.deepMap(r,conj):u(r)||null===r?+r:a.clone(r)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.object,s=r.number.isNumber,u=r.boolean.isBoolean,c=o.isCollection,l=i.isComplex;e.re=function re(r){if(1!=arguments.length)throw new e.error.ArgumentsError("re",arguments.length,1);return s(r)?r:r instanceof n?new n(r):l(r)?r.re:c(r)?o.deepMap(r,re):u(r)||null===r?+r:a.clone(r)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=o.isCollection,c=i.isComplex;e.im=function im(r){if(1!=arguments.length)throw new e.error.ArgumentsError("im",arguments.length,1);return a(r)?0:r instanceof n?new n(0):c(r)?r.im:u(r)?o.deepMap(r,im):(s(r),0)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=o.isUnit,f=a.isCollection;e.and=function and(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("and",arguments.length,2);if((s(r)||u(r)||null===r)&&(s(t)||u(t)||null===t))return!(!r||!t);if(c(r))return(0!=r.re||0!=r.im)&&and(!0,t);if(c(t))return(0!=t.re||0!=t.im)&&and(r,!0);if(r instanceof n)return!r.isZero()&&!r.isNaN()&&and(!0,t);if(t instanceof n)return!t.isZero()&&!t.isNaN()&&and(r,!0);if(l(r))return null!==r.value&&0!=r.value&&and(!0,t);if(l(t))return null!==t.value&&0!=t.value&&and(r,!0);if(f(r)||f(t))return a.deepMap2(r,t,and);throw new e.error.UnsupportedTypeError("and",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=o.isUnit,f=a.isCollection;e.not=function not(r){if(1!=arguments.length)throw new e.error.ArgumentsError("not",arguments.length,1);if(s(r)||u(r)||null===r)return!r;if(c(r))return 0==r.re&&0==r.im;if(r instanceof n)return r.isZero()||r.isNaN();if(l(r))return null===r.value||0==r.value;if(f(r))return a.deepMap(r,not);throw new e.error.UnsupportedTypeError("not",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=o.isUnit,f=a.isCollection;e.or=function or(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("or",arguments.length,2);if((s(r)||u(r)||null===r)&&(s(t)||u(t)||null===t))return!(!r&&!t);if(c(r))return 0!=r.re||0!=r.im||or(!1,t);if(c(t))return 0!=t.re||0!=t.im||or(r,!1);if(r instanceof n)return!r.isZero()&&!r.isNaN()||or(!1,t);if(t instanceof n)return!t.isZero()&&!t.isNaN()||or(r,!1);if(l(r))return null!==r.value&&0!=r.value||or(!1,t);if(l(t))return null!==t.value&&0!=t.value||or(r,!1);if(f(r)||f(t))return a.deepMap2(r,t,or);throw new e.error.UnsupportedTypeError("or",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=o.isUnit,f=a.isCollection;e.xor=function xor(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("xor",arguments.length,2);if((s(r)||u(r)||null===r)&&(s(t)||u(t)||null===t))return!!(!!r^!!t);if(c(r))return xor(!(0==r.re&&0==r.im),t);if(c(t))return xor(r,!(0==t.re&&0==t.im));if(r instanceof n)return xor(!(r.isZero()||r.isNaN()),t);if(t instanceof n)return xor(r,!(t.isZero()||t.isNaN()));if(l(r))return xor(!(null===r.value||0==r.value),t);if(l(t))return xor(r,!(null===t.value||0==t.value));if(f(r)||f(t))return a.deepMap2(r,t,xor);throw new e.error.UnsupportedTypeError("xor",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=t(7),i=e.type.Matrix,o=e.collection,a=r.object,s=r.array,u=r.number.isNumber,c=r.number.isInteger,l=o.isCollection;function _concat(r,t,n,i){if(i<n){if(r.length!=t.length)throw new e.error.DimensionError(r.length,t.length);for(var o=[],a=0;a<r.length;a++)o[a]=_concat(r[a],t[a],n,i+1);return o}return r.concat(t)}e.concat=function concat(r){var t,o,f=arguments.length,p=-1,h=!1,m=[];for(t=0;t<f;t++){var g=arguments[t];if(g instanceof i&&(h=!0),t==f-1&&(u(g)||g instanceof n)){if(o=p,p=g.valueOf(),!c(p))throw new TypeError("Integer number expected for dimension");if(p<0)throw new e.error.IndexError(p);if(t>0&&p>o)throw new e.error.IndexError(p,o+1)}else{if(!l(g))throw new e.error.UnsupportedTypeError("concat",e.typeof(g));var d=a.clone(g).valueOf(),x=s.size(g.valueOf());if(m[t]=d,o=p,p=x.length-1,t>0&&p!=o)throw new e.error.DimensionError(o+1,p+1)}}if(0==m.length)throw new SyntaxError("At least one matrix expected");for(var y=m.shift();m.length;)y=_concat(y,m.shift(),p,0);return h?e.matrix(y):y}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(3),n=e.type.Matrix;function _cross(t,n){var i=r.size(t),o=r.size(n);if(1!=i.length||1!=o.length||3!=i[0]||3!=o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+i.join(", ")+"], B = ["+o.join(", ")+"])");return[e.subtract(e.multiply(t[1],n[2]),e.multiply(t[2],n[1])),e.subtract(e.multiply(t[2],n[0]),e.multiply(t[0],n[2])),e.subtract(e.multiply(t[0],n[1]),e.multiply(t[1],n[0]))]}e.cross=function cross(r,t){if(r instanceof n){if(t instanceof n)return e.matrix(_cross(r.toArray(),t.toArray()));if(Array.isArray(t))return e.matrix(_cross(r.toArray(),t))}else if(Array.isArray(r)){if(t instanceof n)return e.matrix(_cross(r,t.toArray()));if(Array.isArray(t))return _cross(r,t)}throw new e.error.UnsupportedTypeError("cross",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.Matrix,i=r.object,o=r.string;e.det=function det(r){if(1!=arguments.length)throw new e.error.ArgumentsError("det",arguments.length,1);var t;switch((t=r instanceof n?r.size():r instanceof Array?(r=e.matrix(r)).size():[]).length){case 0:return i.clone(r);case 1:if(1==t[0])return i.clone(r.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+o.format(t)+")");case 2:var a=t[0],s=t[1];if(a==s)return function _det(r,t,n){if(1==t)return i.clone(r[0][0]);if(2==t)return e.subtract(e.multiply(r[0][0],r[1][1]),e.multiply(r[1][0],r[0][1]));for(var compute_mu=function(r){var t,n,i=new Array(r.length),o=0;for(t=1;t<r.length;t++)o=e.add(o,r[t][t]);for(t=0;t<r.length;t++){for(i[t]=new Array(r.length),i[t][t]=e.unaryMinus(o),n=0;n<t;n++)i[t][n]=0;for(n=t+1;n<r.length;n++)i[t][n]=r[t][n];t+1<r.length&&(o=e.subtract(o,r[t+1][t+1]))}return i},o=r,a=0;a<t-1;a++)o=e.multiply(compute_mu(o),r);return t%2==0?e.unaryMinus(o[0][0]):o[0][0]}(r.clone().valueOf(),a);throw new RangeError("Matrix must be square (size: "+o.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(t)+")")}}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=e.type.Matrix,o=r.object,a=r.array,s=a.isArray,u=r.number.isNumber,c=r.string.isString,l=r.number.isInteger;e.diag=function diag(r,t,f){if(0===arguments.length||arguments.length>3)throw new e.error.ArgumentsError("diag",arguments.length,1,3);switch(arguments.length){case 1:t=0,f=void 0;break;case 2:c(arguments[1])&&(f=arguments[1],t=0)}if(!(r instanceof i||s(r)))throw new TypeError("First parameter in function diag must be a Matrix or Array");if(t instanceof n&&(t=t.toNumber()),!u(t)||!l(t))throw new TypeError("Second parameter in function diag must be an integer");if(f&&!c(f))throw new TypeError("Third parameter in function diag must be a String");var p,h,m,g,d,x,y=t>0?t:0,w=t<0?-t:0;if(r instanceof i?(g=r.valueOf(),f=f||r.storage(),p=r.size()):(g=r,p=a.size(r)),f){if(1===p.length){h=g[0]instanceof n?new n(0):0;var v=[g.length+w,g.length+y];return i.storage(f).diagonal(v,g,t,h)}if(2===p.length)return m=r.diagonal(t),e.matrix(m,f);throw new RangeError("Matrix for function diag must be 2 dimensional")}switch(p.length){case 1:h=g[0]instanceof n?new n(0):0;var b=[];for(a.resize(b,[g.length+w,g.length+y],h),x=g.length,d=0;d<x;d++)b[d+w][d+y]=o.clone(g[d]);return b;case 2:for(m=[],x=Math.min(p[0]-w,p[1]-y),d=0;d<x;d++)m[d]=o.clone(g[d+w][d+y]);return m;default:throw new RangeError("Matrix for function diag must be 2 dimensional")}}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=e.type.Matrix,a=e.collection,s=n.array,u=n.number.isNumber,c=n.number.isInteger,l=n.string.isString,f=Array.isArray;e.eye=function eye(t,n){var p,h=a.argsToArray(arguments);if(h.length>0&&l(h[h.length-1])?(p=h[h.length-1],h=a.argsToArray(h.slice(0,h.length-1))):t instanceof o?p=t.storage():f(t)||"matrix"!==r.matrix||(p="default"),1==h.length)h[1]=h[0];else if(h.length>2)throw new e.error.ArgumentsError("eye",h.length,0,2);var m=!1;h=h.map((function(e){if(e instanceof i&&(m=!0,e=e.toNumber()),!u(e)||!c(e)||e<0)throw new Error("Parameters in function eye must be positive integers");return e}));var g=m?new i(1):1,d=m?new i(0):0;if(p)return 0===h.length?e.matrix(p):o.storage(p).diagonal(h,g,0,d);var x=[];if(h.length>0){x=s.resize(x,h,d);for(var y=e.min(h),w=0;w<y;w++)x[w][w]=g}return x}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.Matrix,o=n.object,a=n.array,s=Array.isArray;e.flatten=function flatten(r){if(1!==arguments.length)throw new e.error.ArgumentsError("flatten",arguments.length,1);if(r instanceof i){var t=o.clone(r.toArray()),n=a.flatten(t);return e.matrix(n)}if(s(r))return a.flatten(o.clone(r));throw new e.error.UnsupportedTypeError("flatten",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.Matrix;function _inv(r,t,n){var i,o,a,s,u;if(1==t){if(0==(s=r[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[e._divide(1,s)]]}if(2==t){var c=e.det(r);if(0==c)throw Error("Cannot calculate inverse, determinant is zero");return[[e._divide(r[1][1],c),e._divide(e.unaryMinus(r[0][1]),c)],[e._divide(e.unaryMinus(r[1][0]),c),e._divide(r[0][0],c)]]}var l=r.concat();for(i=0;i<t;i++)l[i]=l[i].concat();for(var f=e.eye(t).valueOf(),p=0;p<n;p++){for(i=p;i<t&&0==l[i][p];)i++;if(i==t||0==l[i][p])throw Error("Cannot calculate inverse, determinant is zero");i!=p&&(u=l[p],l[p]=l[i],l[i]=u,u=f[p],f[p]=f[i],f[i]=u);var h=l[p],m=f[p];for(i=0;i<t;i++){var g=l[i],d=f[i];if(i!=p){if(0!=g[p]){for(a=e._divide(e.unaryMinus(g[p]),h[p]),o=p;o<n;o++)g[o]=e.add(g[o],e.multiply(a,h[o]));for(o=0;o<n;o++)d[o]=e.add(d[o],e.multiply(a,m[o]))}}else{for(a=h[p],o=p;o<n;o++)g[o]=e._divide(g[o],a);for(o=0;o<n;o++)d[o]=e._divide(d[o],a)}}}return f}e.inv=function inv(t){if(1!=arguments.length)throw new e.error.ArgumentsError("inv",arguments.length,1);var i=e.size(t).valueOf();switch(i.length){case 0:return e._divide(1,t);case 1:if(1==i[0])return t instanceof n?e.matrix([e._divide(1,t.valueOf()[0])]):[e._divide(1,t[0])];throw new RangeError("Matrix must be square (size: "+r.string.format(i)+")");case 2:var o=i[0],a=i[1];if(o==a)return t instanceof n?e.matrix(_inv(t.valueOf(),o,a),t.storage()):_inv(t,o,a);throw new RangeError("Matrix must be square (size: "+r.string.format(i)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+r.string.format(i)+")")}}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=e.type.Matrix,a=e.collection,s=n.array,u=n.number.isNumber,c=n.number.isInteger,l=n.string.isString,f=Array.isArray;e.ones=function ones(t,n){var p,h=a.argsToArray(arguments);h.length>0&&l(h[h.length-1])?(p=h[h.length-1],h=a.argsToArray(h.slice(0,h.length-1))):t instanceof o?p=t.storage():f(t)||"matrix"!==r.matrix||(p="default");var m=!1;h=h.map((function(e){if(e instanceof i&&(m=!0,e=e.toNumber()),!u(e)||!c(e)||e<0)throw new Error("Parameters in function eye must be positive integers");return e}));var g=m?new i(1):1;if(p){var d=e.matrix(p);return h.length>0?d.resize(h,g):d}var x=[];return h.length>0?s.resize(x,h,g):x}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=(e.type.Matrix,e.collection,n.boolean.isBoolean),a=n.string.isString,s=n.number.isNumber;function _range(e,r,t){var n=[],i=e;if(t>0)for(;i<r;)n.push(i),i+=t;else if(t<0)for(;i>r;)n.push(i),i+=t;return n}function _rangeInc(e,r,t){var n=[],i=e;if(t>0)for(;i<=r;)n.push(i),i+=t;else if(t<0)for(;i>=r;)n.push(i),i+=t;return n}function _bigRange(e,r,t){var n=[],o=e.clone(),a=new i(0);if(t.gt(a))for(;o.lt(r);)n.push(o),o=o.plus(t);else if(t.lt(a))for(;o.gt(r);)n.push(o),o=o.plus(t);return n}function _bigRangeInc(e,r,t){var n=[],o=e.clone(),a=new i(0);if(t.gt(a))for(;o.lte(r);)n.push(o),o=o.plus(t);else if(t.lt(a))for(;o.gte(r);)n.push(o),o=o.plus(t);return n}e.range=function range(t){var n,u,c,l=Array.prototype.slice.call(arguments),f=!1;switch(o(l[l.length-1])&&(f=!!l.pop()),l.length){case 1:if(!a(l[0]))throw new TypeError("Two or three numbers or a single string expected in function range");var p=function _parse(e){var t=e.split(":"),n=null;if("bignumber"===r.number)try{n=t.map((function(e){return new i(e)}))}catch(e){return null}else{if((n=t.map((function(e){return Number(e)}))).some((function(e){return isNaN(e)})))return null}switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}(l[0]);if(!p)throw new SyntaxError('String "'+l[0]+'" is no valid range');n=p.start,u=p.end,c=p.step;break;case 2:n=l[0],u=l[1],c=1;break;case 3:n=l[0],u=l[1],c=l[2];break;case 4:throw new TypeError("Parameter includeEnd must be a boolean");default:throw new e.error.ArgumentsError("range",arguments.length,2,4)}if(!(s(n)||n instanceof i))throw new TypeError("Parameter start must be a number");if(!(s(u)||u instanceof i))throw new TypeError("Parameter end must be a number");if(!(s(c)||c instanceof i))throw new TypeError("Parameter step must be a number");if(n instanceof i||u instanceof i||c instanceof i){var h=!0;n instanceof i||(n=i.convert(n)),u instanceof i||(u=i.convert(u)),c instanceof i||(c=i.convert(c)),n instanceof i&&u instanceof i&&c instanceof i||(h=!1,n instanceof i&&(n=n.toNumber()),u instanceof i&&(u=u.toNumber()),c instanceof i&&(c=c.toNumber()))}var m=(h?f?_bigRangeInc:_bigRange:f?_rangeInc:_range)(n,u,c);return"array"===r.matrix?m:e.matrix(m)}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=e.type.Matrix,a=n.array,s=n.object.clone,u=n.string,c=n.string.isString,l=n.number.isNumber,f=n.number.isInteger,p=a.isArray;e.resize=function resize(t,n,h){if(2!=arguments.length&&3!=arguments.length)throw new e.error.ArgumentsError("resize",arguments.length,2,3);if(n instanceof o&&(n=n.valueOf()),n.length&&n[0]instanceof i&&(n=n.map((function(e){return e instanceof i?e.toNumber():e}))),t instanceof o)return t.resize(n,h,!0);if(c(t))return function _resizeString(r,t,n){if(void 0!==n){if(!c(n)||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==t.length)throw new e.error.DimensionError(t.length,1);var i=t[0];if(!l(i)||!f(i))throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")");if(r.length>i)return r.substring(0,i);if(r.length<i){for(var o=r,a=0,s=i-r.length;a<s;a++)o+=n;return o}return r}(t,n,h);var m=!p(t)&&"array"!==r.matrix;if(0==n.length){for(;p(t);)t=t[0];return s(t)}p(t)||(t=[t]),t=s(t);var g=a.resize(t,n,h);return m?e.matrix(g):g}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.type.Matrix,u=n.array,c=n.number.isNumber,l=n.boolean.isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit;e.size=function size(t){if(1!=arguments.length)throw new e.error.ArgumentsError("size",arguments.length,1);var n="array"===r.matrix;if(c(t)||p(t)||h(t)||l(t)||null==t||t instanceof i)return n?[]:e.matrix([]);if(f(t))return n?[t.length]:e.matrix([t.length]);if(Array.isArray(t))return u.size(t);if(t instanceof s)return e.matrix(t.size());throw new e.error.UnsupportedTypeError("size",e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.Matrix,i=r.object,o=r.array,a=Array.isArray;e.squeeze=function squeeze(r){if(1!=arguments.length)throw new e.error.ArgumentsError("squeeze",arguments.length,1);if(a(r))return o.squeeze(i.clone(r));if(r instanceof n){var t=o.squeeze(r.toArray());return a(t)?e.matrix(t):t}return i.clone(r)}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.Matrix,o=t(25),a=n.array,s=n.string.isString,u=Array.isArray;e.subset=function subset(r,t,n,c){switch(arguments.length){case 2:return function _getSubset(r,t){var n;if(u(r))return(n=e.matrix(r).subset(t))&&n.valueOf();if(r instanceof i)return r.subset(t);if(s(r))return function _getSubstring(r,t){if(!(t instanceof o))throw new TypeError("Index expected");if(1!=t.size().length)throw new e.error.DimensionError(t.size().length,1);var n=r.length;a.validateIndex(t.min()[0],n),a.validateIndex(t.max()[0],n);var i=t.range(0),s="";return i.forEach((function(e){s+=r.charAt(e)})),s}(r,t);throw new e.error.UnsupportedTypeError("subset",e.typeof(r))}(arguments[0],arguments[1]);case 3:case 4:return function _setSubset(r,t,n,c){var l;if(u(r))return(l=e.matrix(e.clone(r))).subset(t,n,c),l.valueOf();if(r instanceof i)return r.clone().subset(t,n,c);if(s(r))return function _setSubstring(r,t,n,i){if(!(t instanceof o))throw new TypeError("Index expected");if(1!=t.size().length)throw new e.error.DimensionError(t.size().length,1);if(void 0!==i){if(!s(i)||1!==i.length)throw new TypeError("Single character expected as defaultValue")}else i=" ";var u=t.range(0),c=u.size()[0];if(c!=n.length)throw new e.error.DimensionError(u.size()[0],n.length);var l=r.length;a.validateIndex(t.min()[0]),a.validateIndex(t.max()[0]);for(var f=[],p=0;p<l;p++)f[p]=r.charAt(p);if(u.forEach((function(e,r){f[e]=n.charAt(r)})),f.length>l)for(p=l-1,c=f.length;p<c;p++)f[p]||(f[p]=i);return f.join("")}(r,t,n,c);throw new e.error.UnsupportedTypeError("subset",e.typeof(r))}(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw new e.error.ArgumentsError("subset",arguments.length,2,4)}}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.Matrix,i=r.object,o=r.array,a=r.string;e.trace=function trace(r){if(1!=arguments.length)throw new e.error.ArgumentsError("trace",arguments.length,1);if(r instanceof n)return r.trace();var t;switch((t=r instanceof Array?o.size(r):[]).length){case 0:return i.clone(r);case 1:if(1==t[0])return i.clone(r[0]);throw new RangeError("Array must be square (size: "+a.format(t)+")");case 2:if(t[0]==t[1]){for(var s=0,u=0;u<r.length;u++)s=e.add(s,r[u][u]);return s}throw new RangeError("Array must be square (size: "+a.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(t)+")")}}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.Matrix,i=r.object,o=r.string;e.transpose=function transpose(r){if(1!=arguments.length)throw new e.error.ArgumentsError("transpose",arguments.length,1);var t=e.size(r).valueOf();switch(t.length){case 0:case 1:return i.clone(r);case 2:if(r instanceof n)return r.transpose();var a,s=t[1],u=t[0],c=r.valueOf(),l=[],f=i.clone;if(0===s)throw new RangeError("Cannot transpose a 2D matrix with no rows(size: "+o.format(t)+")");for(var p=0;p<s;p++){a=l[p]=[];for(var h=0;h<u;h++)a[h]=f(c[h][p])}return l;default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(t)+")")}}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=e.type.Matrix,a=e.collection,s=n.array,u=n.number.isNumber,c=n.number.isInteger,l=n.string.isString,f=Array.isArray;e.zeros=function zeros(t){var n,p=a.argsToArray(arguments);p.length>0&&l(p[p.length-1])?(n=p[p.length-1],p=a.argsToArray(p.slice(0,p.length-1))):t instanceof o?n=t.storage():f(t)||"matrix"!==r.matrix||(n="default");var h=!1;p=p.map((function(e){if(e instanceof i&&(h=!0,e=e.toNumber()),!u(e)||!c(e)||e<0)throw new Error("Parameters in function zeros must be positive integers");return e}));var m=h?new i(0):0;if(n){var g=e.matrix(n);return p.length>0?g.resize(p,m):g}var d=[];return p.length>0?s.resize(d,p,m):d}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=e.collection,a=n.number.isNumber,s=n.boolean.isBoolean,u=(n.number.isInteger,o.isCollection);e.factorial=function factorial(t){var f,p,h;if(1!=arguments.length)throw new e.error.ArgumentsError("factorial",arguments.length,1);if(a(t))return t!==Number.POSITIVE_INFINITY?e.gamma(t+1):Math.sqrt(2*Math.PI);if(t instanceof i){if(!isNonNegativeInteger(t))return t.isNegative()||t.isFinite()?e.gamma(t.plus(1)):n.bignumber.tau(r.precision).sqrt();if((t=t.toNumber())<l.length)return i.convert(l[t]).toSD(r.precision);var m=r.precision+(0|Math.log(t)),g=i.constructor({precision:m});if(t-=l.length,h=c[m]){if(h[t])return new i(h[t].toPrecision(r.precision));p=h[h.length-1]}else h=c[m]=[],p=new g(l[l.length-1]).toSD(m);var d=new g(1);f=new g(h.length+l.length);for(var x=h.length;x<t;++x)h[x]=p=p.times(f),f=f.plus(d);return h[t]=p.times(f),new i(h[t].toPrecision(r.precision))}if(s(t)||null===t)return 1;if(u(t))return o.deepMap(t,factorial);throw new e.error.UnsupportedTypeError("factorial",e.typeof(t))};var isNonNegativeInteger=function(e){return e.isInteger()&&(!e.isNegative()||e.isZero())},c=[],l=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,0x1b02b9306890000,243290200817664e4]}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=e.collection,s=n.boolean.isBoolean,u=o.isComplex,c=n.number.isNumber,l=n.number.isInteger,f=a.isCollection;e.gamma=function gamma(r){var t,n,h=4.7421875;if(1!=arguments.length)throw new e.error.ArgumentsError("gamma",arguments.length,1);if(c(r)){if(l(r)){if(r<=0)return isFinite(r)?1/0:NaN;if(r>171)return 1/0;for(var m=r-2,g=r-1;m>1;)g*=m,m--;return 0==g&&(g=1),g}if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*gamma(1-r));if(r>=171.35)return 1/0;if(r>85){var d=r*r,x=d*r,y=x*r,w=y*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*d)-139/(51840*x)-571/(2488320*y)+163879/(209018880*w)+5246819/(75246796800*w*r))}--r,n=p[0];for(var v=1;v<p.length;++v)n+=p[v]/(r+v);return t=r+h+.5,Math.sqrt(2*Math.PI)*Math.pow(t,r+.5)*Math.exp(-t)*n}if(u(r)){if(0==r.im)return gamma(r.re);r=new o(r.re-1,r.im),n=new o(p[0],0);for(v=1;v<p.length;++v){var b=r.re+v,N=b*b+r.im*r.im;0!=N?(n.re+=p[v]*b/N,n.im+=-p[v]*r.im/N):n.re=p[v]<0?-1/0:1/0}t=new o(r.re+h+.5,r.im);var E=Math.sqrt(2*Math.PI);r.re+=.5;var _=e.pow(t,r);0==_.im?_.re*=E:(0==_.re||(_.re*=E),_.im*=E);var M=Math.exp(-t.re);return t.re=M*Math.cos(-t.im),t.im=M*Math.sin(-t.im),e.multiply(e.multiply(_,t),n)}if(r instanceof i){if(r.isInteger())return r.isNegative()||r.isZero()?new i(1/0):e.factorial(r.minus(1));if(!r.isFinite())return new i(r.isNegative()?NaN:1/0)}if(s(r)||null===r)return r?1:1/0;if(f(r))return a.deepMap(r,gamma);throw new e.error.UnsupportedTypeError("gamma",e.typeof(r))};var p=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22]}},function(e,r,t){"use strict";e.exports=function(e){var r=t(284)(e);e.random=r("uniform").random}},function(e,r,t){"use strict";e.exports=function(e){var r=e.type.Matrix,n=t(3),i=e.collection.isCollection;var o={uniform:function(){return Math.random},normal:function(){return function(){for(var e,r,t=-1;t<0||t>1;)e=Math.random(),r=Math.random(),t=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*r)+.5;return t}}};return function distribution(t){if(!o.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var a=Array.prototype.slice.call(arguments,1);return function(t){var o={random:function(t,n,o){var a,s,u;if(arguments.length>3)throw new e.error.ArgumentsError("random",arguments.length,0,3);if(1===arguments.length?i(t)?a=t:u=t:2===arguments.length?i(t)?(a=t,u=n):(s=t,u=n):(a=t,s=n,u=o),void 0===u&&(u=1),void 0===s&&(s=0),void 0!==a){var c=_randomDataForMatrix(a.valueOf(),s,u,_random);return a instanceof r?e.matrix(c):c}return _random(s,u)},randomInt:function(t,n,o){var a,s,u;if(arguments.length>3||arguments.length<1)throw new e.error.ArgumentsError("randomInt",arguments.length,1,3);if(1===arguments.length?i(t)?a=t:u=t:2===arguments.length?i(t)?(a=t,u=n):(s=t,u=n):(a=t,s=n,u=o),void 0===s&&(s=0),void 0!==a){var c=_randomDataForMatrix(a.valueOf(),s,u,_randomInt);return a instanceof r?e.matrix(c):c}return _randomInt(s,u)},pickRandom:function(t){if(1!==arguments.length)throw new e.error.ArgumentsError("pickRandom",arguments.length,1);if(t instanceof r)t=t.valueOf();else if(!Array.isArray(t))throw new e.error.UnsupportedTypeError("pickRandom",e.typeof(t));if(n.size(t).length>1)throw new Error("Only one dimensional vectors supported");return t[Math.floor(Math.random()*t.length)]}},_random=function(e,r){return e+t()*(r-e)},_randomInt=function(e,r){return Math.floor(e+t()*(r-e))},_randomDataForMatrix=function(e,r,t,n){var i,o,a=[];if((e=e.slice(0)).length>1)for(o=0,i=e.shift();o<i;o++)a.push(_randomDataForMatrix(e,r,t,n));else for(o=0,i=e.shift();o<i;o++)a.push(n(r,t));return a};return o}(o[t].apply(this,a))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(284)(e);e.randomInt=r("uniform").randomInt}},function(e,r,t){"use strict";e.exports=function(e){var r=t(284)(e);e.pickRandom=r("uniform").pickRandom}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=r.number.isNumber,o=r.number.isInteger;e.permutations=function permutations(r,t){var a,s,u=arguments.length;if(u>2)throw new e.error.ArgumentsError("permutations",arguments.length,2);if(i(r)){if(!o(r)||r<0)throw new TypeError("Positive integer value expected in function permutations");if(1==u)return e.factorial(r);if(2==u&&i(t)){if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>r)throw new TypeError("second argument k must be less than or equal to first argument n");for(a=1,s=r-t+1;s<=r;s++)a*=s;return a}}if(r instanceof n){if(void 0===t&&isPositiveInteger(r))return e.factorial(r);if(!((t=n.convert(t))instanceof n&&isPositiveInteger(r)&&isPositiveInteger(t)))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(r))throw new TypeError("second argument k must be less than or equal to first argument n");for(a=new n(1),s=r.minus(t).plus(1);s.lte(r);s=s.plus(1))a=a.times(s);return a}throw new e.error.UnsupportedTypeError("permutations",e.typeof(r))};var isPositiveInteger=function(e){return e.isInteger()&&e.gte(0)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=(e.collection,r.number.isNumber),o=r.number.isInteger;e.combinations=function combinations(r,t){var a,s,u,c;if(2!=arguments.length)throw new e.error.ArgumentsError("combinations",arguments.length,2);if(i(r)){if(!o(r)||r<0)throw new TypeError("Positive integer value enpected in function combinations");if(t>r)throw new TypeError("k must be less than or equal to n");for(a=Math.max(t,r-t),s=1,u=1;u<=r-a;u++)s=s*(a+u)/u;return s}if(r instanceof n){if(!((t=n.convert(t))instanceof n&&isPositiveInteger(r)&&isPositiveInteger(t)))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(r))throw new TypeError("k must be less than n in function combinations");for(a=r.minus(t),t.lt(a)&&(a=t),s=new n(1),u=new n(1),c=r.minus(a);u.lte(c);u=u.plus(1))s=s.times(a.plus(u)).dividedBy(u);return s}throw new e.error.UnsupportedTypeError("combinations",e.typeof(r))};var isPositiveInteger=function(e){return e.isInteger()&&e.gte(0)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=(e.type.BigNumber,Array.isArray,e.collection),i=(r.number.isInteger,r.number.isPositiveInteger);e.multinomial=function multinomial(r){if(1!=arguments.length)throw new e.error.ArgumentsError("multinomial",arguments.length,1);if(!Array.isArray(r))throw new e.error.UnsupportedTypeError("multinomial",e.typeof(r));var t=0,o=1;return n.deepForEach(r,(function(r){if(!i(r))throw new TypeError("Positive integer value expected in function multinomial");t=e.add(t,r),o=e.multiply(o,e.factorial(r))})),e.divide(e.factorial(t),o)}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.number.nearlyEqual,l=n.boolean.isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,m=s.isCollection;e.compare=function compare(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("compare",arguments.length,2);if(u(t)&&u(n))return c(t,n,r.epsilon)?0:t>n?1:-1;if(t instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?new i(t.cmp(n)):compare(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(l(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?new i(t.cmp(n)):compare(t,n.toNumber());if(h(t)&&h(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value>n.value?1:t.value<n.value?-1:0}if(m(t)||m(n))return s.deepMap2(t,n,compare);if(f(t)||f(n))return t>n?1:t<n?-1:0;if(l(t)||null===t)return compare(+t,n);if(l(n)||null===n)return compare(t,+n);if(p(t)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("compare",e.typeof(t),e.typeof(n))}}},function(e,r,t){"use strict";e.exports=function(e){var r=e.collection.isCollection,t=Array.isArray;function _deepEqual(r,n){if(t(r)){if(t(n)){var i=r.length;if(i!==n.length)return!1;for(var o=0;o<i;o++)if(!_deepEqual(r[o],n[o]))return!1;return!0}return!1}return!t(n)&&e.equal(r,n)}e.deepEqual=function deepEqual(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("deepEqual",arguments.length,2);return r(t)||r(n)?_deepEqual(t.valueOf(),n.valueOf()):e.equal(t,n)}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.number.nearlyEqual,l=n.boolean.isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,m=s.isCollection;e.equal=function equal(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("equal",arguments.length,2);if(u(t)){if(u(n))return c(t,n,r.epsilon);if(p(n))return c(t,n.re,r.epsilon)&&c(n.im,0,r.epsilon)}if(p(t)){if(u(n))return c(t.re,n,r.epsilon)&&c(t.im,0,r.epsilon);if(p(n))return c(t.re,n.re,r.epsilon)&&c(t.im,n.im,r.epsilon)}if(t instanceof i)return u(n)?n=i.convert(n):l(n)&&(n=new i(n?1:0)),n instanceof i?t.eq(n):equal(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):l(t)&&(t=new i(t?1:0)),t instanceof i?t.eq(n):equal(t,n.toNumber());if(h(t)&&h(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value==n.value}if(m(t)||m(n))return s.deepMap2(t,n,equal);if(f(t)||f(n))return t==n;if(l(t))return equal(+t,n);if(l(n))return equal(t,+n);if(null===t)return null===n;if(null===n)return null===t;if(void 0===t)return void 0===n;if(void 0===n)return void 0===t;throw new e.error.UnsupportedTypeError("equal",e.typeof(t),e.typeof(n))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.number.nearlyEqual,l=n.boolean.isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,m=s.isCollection;e.larger=function larger(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("larger",arguments.length,2);if(u(t)&&u(n))return!c(t,n,r.epsilon)&&t>n;if(t instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?t.gt(n):larger(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(l(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?t.gt(n):larger(t,n.toNumber());if(h(t)&&h(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value>n.value}if(m(t)||m(n))return s.deepMap2(t,n,larger);if(f(t)||f(n))return t>n;if(l(t)||null===t)return larger(+t,n);if(l(n)||null===n)return larger(t,+n);if(p(t)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("larger",e.typeof(t),e.typeof(n))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.number.nearlyEqual,l=n.boolean.isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,m=s.isCollection;e.largerEq=function largerEq(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("largerEq",arguments.length,2);if(u(t)&&u(n))return c(t,n,r.epsilon)||t>n;if(t instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?t.gte(n):largerEq(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(l(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?t.gte(n):largerEq(t,n.toNumber());if(h(t)&&h(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value>=n.value}if(m(t)||m(n))return s.deepMap2(t,n,largerEq);if(f(t)||f(n))return t>=n;if(l(t)||null===t)return largerEq(+t,n);if(l(n)||null===n)return largerEq(t,+n);if(p(t)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("largerEq",e.typeof(t),e.typeof(n))},e.largereq=function(){throw new Error("Function largereq is renamed to largerEq")}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.number.nearlyEqual,l=n.boolean.isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,m=s.isCollection;e.smaller=function smaller(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("smaller",arguments.length,2);if(u(t)&&u(n))return!c(t,n,r.epsilon)&&t<n;if(t instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?t.lt(n):smaller(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(l(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?t.lt(n):smaller(t,n.toNumber());if(h(t)&&h(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value<n.value}if(m(t)||m(n))return s.deepMap2(t,n,smaller);if(f(t)||f(n))return t<n;if(l(t)||null===t)return smaller(+t,n);if(l(n)||null===n)return smaller(t,+n);if(p(t)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("smaller",e.typeof(t),e.typeof(n))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.number.nearlyEqual,l=n.boolean.isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,m=s.isCollection;e.smallerEq=function smallerEq(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("smallerEq",arguments.length,2);if(u(t)&&u(n))return c(t,n,r.epsilon)||t<n;if(t instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?t.lte(n):smallerEq(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):(l(t)||null===t)&&(t=new i(t?1:0)),t instanceof i?t.lte(n):smallerEq(t,n.toNumber());if(h(t)&&h(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value<=n.value}if(m(t)||m(n))return s.deepMap2(t,n,smallerEq);if(f(t)||f(n))return t<=n;if(l(t)||null===t)return smallerEq(+t,n);if(l(n)||null===n)return smallerEq(t,+n);if(p(t)||p(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new e.error.UnsupportedTypeError("smallerEq",e.typeof(t),e.typeof(n))},e.smallereq=function(){throw new Error("Function smallereq is renamed to smallerEq")}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.number.nearlyEqual,l=n.boolean.isBoolean,f=n.string.isString,p=o.isComplex,h=a.isUnit,m=s.isCollection;e.unequal=function unequal(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("unequal",arguments.length,2);if(u(t)){if(u(n))return!c(t,n,r.epsilon);if(p(n))return!c(t,n.re,r.epsilon)||!c(n.im,0,r.epsilon)}if(p(t)){if(u(n))return!c(t.re,n,r.epsilon)||!c(t.im,0,r.epsilon);if(p(n))return!c(t.re,n.re,r.epsilon)||!c(t.im,n.im,r.epsilon)}if(t instanceof i)return u(n)?n=i.convert(n):l(n)&&(n=new i(n?1:0)),n instanceof i?!t.eq(n):unequal(t.toNumber(),n);if(n instanceof i)return u(t)?t=i.convert(t):l(t)&&(t=new i(t?1:0)),t instanceof i?!t.eq(n):unequal(t,n.toNumber());if(h(t)&&h(n)){if(!t.equalBase(n))throw new Error("Cannot compare units with different base");return t.value!=n.value}if(m(t)||m(n))return s.deepMap2(t,n,unequal);if(f(t)||f(n))return t!=n;if(l(t))return unequal(+t,n);if(l(n))return unequal(t,+n);if(null===t)return null!==n;if(null===n)return null!==t;if(void 0===t)return void 0!==n;if(void 0===n)return void 0!==t;throw new e.error.UnsupportedTypeError("unequal",e.typeof(t),e.typeof(n))}}},function(e,r,t){"use strict";e.exports=function(e){e.type.Matrix;var r=e.collection,t=r.isCollection;function _getSmaller(r,t){return e.smaller(r,t)?r:t}function _min(t){var n=void 0;if(r.deepForEach(t,(function(r){(void 0===n||e.smaller(r,n))&&(n=r)})),void 0===n)throw new Error("Cannot calculate min of an empty array");return n}e.min=function min(e){if(0==arguments.length)throw new SyntaxError("Function min requires one or more parameters (0 provided)");if(t(e)){if(1==arguments.length)return _min(e);if(2==arguments.length)return r.reduce(arguments[0],arguments[1],_getSmaller);throw new SyntaxError("Wrong number of parameters")}return _min(arguments)}}},function(e,r,t){"use strict";e.exports=function(e){e.type.Matrix;var r=e.collection,t=r.isCollection;function _getLarger(r,t){return e.larger(r,t)?r:t}function _max(t){var n=void 0;if(r.deepForEach(t,(function(r){(void 0===n||e.larger(r,n))&&(n=r)})),void 0===n)throw new Error("Cannot calculate max of an empty array");return n}e.max=function max(e){if(0==arguments.length)throw new SyntaxError("Function max requires one or more parameters (0 provided)");if(t(e)){if(1==arguments.length)return _max(e);if(2==arguments.length)return r.reduce(arguments[0],arguments[1],_getLarger);throw new SyntaxError("Wrong number of parameters")}return _max(arguments)}}},function(e,r,t){"use strict";e.exports=function(e){e.type.Matrix;var r=e.collection,n=r.isCollection,i=t(3).size,o=Array.isArray;function _mean(t){var n=0,i=0;if(r.deepForEach(t,(function(r){n=e.add(n,r),i++})),0===i)throw new Error("Cannot calculate mean of an empty array");return e.divide(n,i)}e.mean=function mean(t){if(0==arguments.length)throw new SyntaxError("Function mean requires one or more parameters (0 provided)");if(n(t)){if(1==arguments.length)return _mean(t);if(2==arguments.length)return function _nmean(t,n){var a=r.reduce(t,n,e.add),s=o(t)?i(t):t.size();return e.divide(a,s[n])}(arguments[0],arguments[1]);throw new SyntaxError("Wrong number of parameters")}return _mean(arguments)}}},function(e,r,t){"use strict";e.exports=function(e){e.type.Matrix;var r=t(19),n=e.type.BigNumber,i=e.collection,o=t(5).isNumber,a=i.isCollection,s=t(3).flatten;function _median(t,i){i||(t=s(t));var a=t.length;if(0==a)throw new Error("Cannot calculate median of an empty array");if(a%2==0){for(var u=a/2-1,c=e.partitionSelect(t,u+1),l=t[u],f=0;f<u;++f)e.compare(t[f],l)>0&&(l=t[f]);if(!(o(l)||l instanceof n||l instanceof r))throw new e.error.UnsupportedTypeError("median",e.typeof(l));if(!(o(c)||c instanceof n||c instanceof r))throw new e.error.UnsupportedTypeError("median",e.typeof(c));return e.divide(e.add(l,c),2)}var p=e.partitionSelect(t,(a-1)/2);if(!(o(p)||p instanceof n||p instanceof r))throw new e.error.UnsupportedTypeError("median",e.typeof(p));return p}e.median=function median(e){if(0==arguments.length)throw new SyntaxError("Function median requires one or more parameters (0 provided)");if(a(e)){if(1==arguments.length)return _median(e.valueOf(),!1);throw 2==arguments.length?new Error("median(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters")}for(var r=new Array(arguments.length),t=0;t<r.length;++t)r[t]=arguments[t];return _median(r,!0)}}},function(e,r,t){"use strict";e.exports=function(e){e.type.Matrix;var r=e.collection,t=r.isCollection;function _prod(t){var n=void 0;if(r.deepForEach(t,(function(r){n=void 0===n?r:e.multiply(n,r)})),void 0===n)throw new Error("Cannot calculate prod of an empty array");return n}e.prod=function prod(e){if(0==arguments.length)throw new SyntaxError("Function prod requires one or more parameters (0 provided)");if(t(e)){if(1==arguments.length)return _prod(e);throw 2==arguments.length?new Error("prod(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters")}return _prod(arguments)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.collection,i=e.type.BigNumber,o=t(19),a=Array.isArray,s=r.boolean.isBoolean,u=n.isCollection,c=r.number.isInteger,l=r.number.isNumber,f=e.add,p=r.array.flatten,h=e.multiply;function _quantileSeq(r,t,n){var i=p(r),o=i.length;if(0===o)throw new Error("Cannot calculate quantile of an empty sequence");if(l(t)){var a,s;if(0===(d=(a=t*(o-1))%1))return typecheck(s=n?i[a]:e.partitionSelect(i,a)),s;var u=Math.floor(a);if(n)m=i[u],g=i[u+1];else{g=e.partitionSelect(i,u+1),m=i[u];for(var c=0;c<u;++c)e.compare(i[c],m)>0&&(m=i[c])}return typecheck(m,g),f(h(m,1-d),h(g,d))}if((a=t.times(o-1)).isInteger())return a=a.toNumber(),typecheck(s=n?i[a]:e.partitionSelect(i,a)),s;u=a.floor();var m,g,d=a.minus(u),x=u.toNumber();if(n)m=i[x],g=i[x+1];else{g=e.partitionSelect(i,x+1),m=i[x];for(c=0;c<x;++c)e.compare(i[c],m)>0&&(m=i[c])}typecheck(m,g);var y=d.constructor.ONE;return f(h(m,y.minus(d)),h(g,d))}function typecheck(r,t){if(!(l(r)||r instanceof i||r instanceof o))throw new e.error.UnsupportedTypeError("quantileSeq",e.typeof(r));if(!(void 0===t||l(t)||t instanceof i||t instanceof o))throw new e.error.UnsupportedTypeError("quantileSeq",e.typeof(t))}e.quantileSeq=function quantileSeq(r,t,n){var o,f,p;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(u(r)){if(s(n=n||!1)){if(f=r.valueOf(),l(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return _quantileSeq(f,t,n);if(t>1){if(!c(t))throw new Error("N must be a positive integer");var h=t+1;o=new Array(t);for(var m=0;m<t;)o[m]=_quantileSeq(f,++m/h,n);return o}}if(t instanceof i){if(t.isNegative())throw new Error("N/prob must be non-negative");if(p=t.constructor.ONE,t.lte(p))return _quantileSeq(f,t,n);if(t.gt(p)){if(!t.isInteger())throw new Error("N must be a positive integer");var g=t.toNumber();if(g>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");h=new i(g+1);o=new Array(g);for(m=0;m<g;)o[m]=_quantileSeq(f,new i(++m).div(h),n);return o}}if(a(t)){o=new Array(t.length);for(m=0;m<o.length;++m){var d=t[m];if(l(d)){if(d<0||d>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!(d instanceof i))throw new e.error.UnsupportedTypeError("quantileSeq",e.typeof(d));if(p=d.constructor.ONE,d.isNegative()||d.gt(p))throw new Error("Probability must be between 0 and 1, inclusive")}o[m]=_quantileSeq(f,d,n)}return o}throw new e.error.UnsupportedTypeError("quantileSeq",e.typeof(t))}throw new e.error.UnsupportedTypeError("quantileSeq",e.typeof(n))}throw new e.error.UnsupportedTypeError("quantileSeq",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){e.std=function std(r,t){if(0==arguments.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");var n=e.var.apply(null,arguments);return e.sqrt(n)}}},function(e,r,t){"use strict";e.exports=function(e){e.type.Matrix;var r=e.collection,t=r.isCollection;function _sum(t){var n=void 0;if(r.deepForEach(t,(function(r){n=void 0===n?r:e.add(n,r)})),void 0===n)throw new Error("Cannot calculate sum of an empty array");return n}e.sum=function sum(e){if(0==arguments.length)throw new SyntaxError("Function sum requires one or more parameters (0 provided)");if(t(e)){if(1==arguments.length)return _sum(e);throw 2==arguments.length?new Error("sum(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters")}return _sum(arguments)}}},function(e,r,t){"use strict";e.exports=function(e){e.type.Matrix;var r=e.type.BigNumber,n=e.collection,i=n.isCollection,o=t(9).isString,a="unbiased";function _var(t,i){var o=0,a=0;if(n.deepForEach(t,(function(r){o=e.add(o,r),a++})),0===a)throw new Error("Cannot calculate var of an empty array");var s=e.divide(o,a);switch(o=0,n.deepForEach(t,(function(r){var t=e.subtract(r,s);o=e.add(o,e.multiply(t,t))})),i){case"uncorrected":return e.divide(o,a);case"biased":return e.divide(o,a+1);case"unbiased":var u=o instanceof r?new r(0):0;return 1==a?u:e.divide(o,a-1);default:throw new Error('Unknown normalization "'+i+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}e.var=function variance(e,r){if(0==arguments.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(i(e)){if(1==arguments.length)return _var(e,a);if(2==arguments.length){if(!o(r))throw new Error("String expected for parameter normalization");return _var(e,r)}throw new SyntaxError("Wrong number of parameters")}return _var(arguments,a)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection,l=r.bignumber.arccos_arcsec;e.acos=function acos(r){if(1!=arguments.length)throw new e.error.ArgumentsError("acos",arguments.length,1);if(a(r))return r>=-1&&r<=1?Math.acos(r):acos(new i(r,0));if(u(r)){var t=new i(r.im*r.im-r.re*r.re+1,-2*r.re*r.im),f=e.sqrt(t),p=new i(f.re-r.im,f.im+r.re),h=e.log(p);return new i(1.5707963267948966-h.im,h.re)}if(c(r))return o.deepMap(r,acos);if(s(r)||null===r)return Math.acos(r);if(r instanceof n)return l(r,n,!1);throw new e.error.UnsupportedTypeError("acos",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=(o.isUnit,a.isCollection),f=r.bignumber.acosh_asinh_asech_acsch;e.acosh=function acosh(r){if(1!=arguments.length)throw new e.error.ArgumentsError("acosh",arguments.length,1);if(s(r))return r>=1?Math.log(Math.sqrt(r*r-1)+r):r<=-1?new i(Math.log(Math.sqrt(r*r-1)-r),Math.PI):acosh(new i(r,0));if(c(r)){var t,o=e.acos(r);return o.im<=0?(t=o.re,o.re=-o.im,o.im=t):(t=o.im,o.im=-o.re,o.re=t),o}if(l(r))return a.deepMap(r,acosh);if(u(r)||null===r)return r?0:new i(0,1.5707963267948966);if(r instanceof n)return f(r,n,!1,!1);throw new e.error.UnsupportedTypeError("acosh",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection,l=r.bignumber.arctan_arccot;e.acot=function acot(r){if(1!=arguments.length)throw new e.error.ArgumentsError("acot",arguments.length,1);if(a(r))return r?Math.atan(1/r):f;if(u(r)){if(0==r.im)return new i(r.re?Math.atan(1/r.re):f,0);var t=r.re*r.re+r.im*r.im;return r=0!=t?new i(r.re=r.re/t,r.im=-r.im/t):new i(0!=r.re?r.re/0:0,0!=r.im?-r.im/0:0),e.atan(r)}if(c(r))return o.deepMap(r,acot);if(s(r)||null===r)return r?.7853981633974483:f;if(r instanceof n)return l(r,n,!0);throw new e.error.UnsupportedTypeError("acot",e.typeof(r))};var f=1.5707963267948966}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=(o.isUnit,a.isCollection),f=r.bignumber.atanh_acoth;e.acoth=function acoth(r){if(1!=arguments.length)throw new e.error.ArgumentsError("acoth",arguments.length,1);if(s(r))return r>=1||r<=-1?isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0:r?acoth(new i(r,0)):new i(0,p);if(c(r)){if(0==r.re&&0==r.im)return new i(0,p);var t=r.re*r.re+r.im*r.im;return r=0!=t?new i(r.re/t,-r.im/t):new i(0!=r.re?r.re/0:0,0!=r.im?-r.im/0:0),e.atanh(r)}if(l(r))return a.deepMap(r,acoth);if(u(r)||null===r)return r?1/0:new i(0,p);if(r instanceof n)return f(r,n,!0);throw new e.error.UnsupportedTypeError("acoth",e.typeof(r))};var p=1.5707963267948966}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection,l=r.bignumber.arcsin_arccsc;e.acsc=function acsc(r){if(1!=arguments.length)throw new e.error.ArgumentsError("acsc",arguments.length,1);if(a(r))return r<=-1||r>=1?Math.asin(1/r):acsc(new i(r,0));if(u(r)){if(0==r.re&&0==r.im)return new i(f,1/0);var t=r.re*r.re+r.im*r.im;return r=0!=t?new i(r.re=r.re/t,r.im=-r.im/t):new i(0!=r.re?r.re/0:0,0!=r.im?-r.im/0:0),e.asin(r)}if(c(r))return o.deepMap(r,acsc);if(s(r)||null===r)return r?f:new i(f,1/0);if(r instanceof n)return l(r,n,!0);throw new e.error.UnsupportedTypeError("acsc",e.typeof(r))};var f=1.5707963267948966}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=(o.isUnit,a.isCollection),f=r.bignumber.acosh_asinh_asech_acsch;e.acsch=function acsch(r){if(1!=arguments.length)throw new e.error.ArgumentsError("acsch",arguments.length,1);if(s(r))return r=1/r,Math.log(r+Math.sqrt(r*r+1));if(c(r)){if(0==r.im)return r=0!=r.re?Math.log(r.re+Math.sqrt(r.re*r.re+1)):1/0,new i(r,0);var t=r.re*r.re+r.im*r.im;return r=0!=t?new i(r.re/t,-r.im/t):new i(0!=r.re?r.re/0:0,0!=r.im?-r.im/0:0),e.asinh(r)}if(l(r))return a.deepMap(r,acsch);if(u(r)||null===r)return r?.881373587019543:1/0;if(r instanceof n)return f(r,n,!0,!0);throw new e.error.UnsupportedTypeError("acsch",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection,l=r.bignumber.arccos_arcsec;e.asec=function asec(r){if(1!=arguments.length)throw new e.error.ArgumentsError("asec",arguments.length,1);if(a(r))return r<=-1||r>=1?Math.acos(1/r):asec(new i(r,0));if(u(r)){if(0==r.re&&0==r.im)return new i(0,1/0);var t=r.re*r.re+r.im*r.im;return r=0!=t?new i(r.re=r.re/t,r.im=-r.im/t):new i(0!=r.re?r.re/0:0,0!=r.im?-r.im/0:0),e.acos(r)}if(c(r))return o.deepMap(r,asec);if(s(r)||null===r)return r?0:new i(0,1/0);if(r instanceof n)return l(r,n,!0);throw new e.error.UnsupportedTypeError("asec",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=(o.isUnit,a.isCollection),f=r.bignumber.acosh_asinh_asech_acsch;e.asech=function asech(r){if(1!=arguments.length)throw new e.error.ArgumentsError("asech",arguments.length,1);if(s(r)){if(r<=1&&r>=-1){r=1/r;var t=Math.sqrt(r*r-1);return r>0?Math.log(t+r):new i(Math.log(t-r),Math.PI)}return asech(new i(r,0))}if(c(r)){if(0==r.re&&0==r.im)return new i(1/0,0);var o=r.re*r.re+r.im*r.im;return r=0!=o?new i(r.re/o,-r.im/o):new i(0!=r.re?r.re/0:0,0!=r.im?-r.im/0:0),e.acosh(r)}if(l(r))return a.deepMap(r,asech);if(u(r)||null===r)return r?0:1/0;if(r instanceof n)return f(r,n,!1,!0);throw new e.error.UnsupportedTypeError("asech",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection,l=r.bignumber.arcsin_arccsc;e.asin=function asin(r){if(1!=arguments.length)throw new e.error.ArgumentsError("asin",arguments.length,1);if(a(r))return r>=-1&&r<=1?Math.asin(r):asin(new i(r,0));if(u(r)){var t=r.re,f=r.im,p=new i(f*f-t*t+1,-2*t*f),h=e.sqrt(p),m=new i(h.re-f,h.im+t),g=e.log(m);return new i(g.im,-g.re)}if(c(r))return o.deepMap(r,asin,!0);if(s(r)||null===r)return Math.asin(r);if(r instanceof n)return l(r,n,!1);throw new e.error.UnsupportedTypeError("asin",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=(o.isUnit,a.isCollection),f=r.bignumber.acosh_asinh_asech_acsch;e.asinh=function asinh(r){if(1!=arguments.length)throw new e.error.ArgumentsError("asinh",arguments.length,1);if(s(r))return Math.log(Math.sqrt(r*r+1)+r);if(c(r)){var t=r.im;r.im=-r.re,r.re=t;var i=e.asin(r);return r.re=-r.im,r.im=t,t=i.re,i.re=-i.im,i.im=t,i}if(l(r))return a.deepMap(r,asinh,!0);if(u(r)||null===r)return r?.881373587019543:0;if(r instanceof n)return f(r,n,!0,!1);throw new e.error.UnsupportedTypeError("asinh",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=i.isComplex,c=o.isCollection,l=r.bignumber.arctan_arccot;e.atan=function atan(r){if(1!=arguments.length)throw new e.error.ArgumentsError("atan",arguments.length,1);if(a(r))return Math.atan(r);if(u(r)){if(0==r.re){if(1==r.im)return new i(0,1/0);if(-1==r.im)return new i(0,-1/0)}var t=r.re,f=r.im,p=t*t+(1-f)*(1-f),h=new i((1-f*f-t*t)/p,-2*t/p),m=e.log(h);return new i(-.5*m.im,.5*m.re)}if(c(r))return o.deepMap(r,atan,!0);if(s(r)||null===r)return Math.atan(r);if(r instanceof n)return l(r,n,!1);throw new e.error.UnsupportedTypeError("atan",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=e.collection,a=r.number.isNumber,s=r.boolean.isBoolean,u=(i.isComplex,o.isCollection),c=r.bignumber.arctan2;e.atan2=function atan2(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("atan2",arguments.length,2);if(a(r)){if(a(t))return Math.atan2(r,t);if(t instanceof n)return c(new n(r),t,n)}if(u(r)||u(t))return o.deepMap2(r,t,atan2);if(s(r)||null===r)return atan2(r?1:0,t);if(s(t)||null===t)return atan2(r,t?1:0);if(r instanceof n)return a(t)?c(r,new n(t),n):t instanceof n?c(r,t,n):atan2(r.toNumber(),t);if(t instanceof n)return r instanceof n?c(r,t,n):atan2(r,t.toNumber());throw new e.error.UnsupportedTypeError("atan2",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=(o.isUnit,a.isCollection),f=r.bignumber.atanh_acoth;e.atanh=function atanh(r){if(1!=arguments.length)throw new e.error.ArgumentsError("atanh",arguments.length,1);if(s(r))return r<=1&&r>=-1?Math.log((1+r)/(1-r))/2:atanh(new i(r,0));if(c(r)){var t=r.re>1&&0==r.im,o=1-r.re,p=1+r.re,h=o*o+r.im*r.im,m=(r=0!=h?new i((p*o-r.im*r.im)/h,(r.im*o+p*r.im)/h):new i(-1!=r.re?r.re/0:0,0!=r.im?r.im/0:0)).re;return r.re=Math.log(Math.sqrt(r.re*r.re+r.im*r.im))/2,r.im=Math.atan2(r.im,m)/2,t&&(r.im=-r.im),r}if(l(r))return a.deepMap(r,atanh,!0);if(u(r)||null===r)return r?1/0:0;if(r instanceof n)return f(r,n,!1);throw new e.error.UnsupportedTypeError("atanh",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.boolean.isBoolean,l=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.cos_sin_sec_csc;e.cos=function cos(r){if(1!=arguments.length)throw new e.error.ArgumentsError("cos",arguments.length,1);if(u(r))return Math.cos(r);if(l(r))return new o(Math.cos(r.re)*e.cosh(-r.im),Math.sin(r.re)*e.sinh(-r.im));if(f(r)){if(!r.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return Math.cos(r.value)}if(p(r))return s.deepMap(r,cos);if(c(r)||null===r)return Math.cos(r);if(r instanceof i)return h(r,i,0,!1);throw new e.error.UnsupportedTypeError("cos",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=o.isUnit,f=a.isCollection,p=r.bignumber.cosh_sinh_csch_sech;e.cosh=function cosh(r){if(1!=arguments.length)throw new e.error.ArgumentsError("cosh",arguments.length,1);if(s(r))return(Math.exp(r)+Math.exp(-r))/2;if(c(r)){var t=Math.exp(r.re),h=Math.exp(-r.re);return new i(Math.cos(r.im)*(t+h)/2,Math.sin(r.im)*(t-h)/2)}if(l(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return cosh(r.value)}if(f(r))return a.deepMap(r,cosh);if(u(r)||null===r)return cosh(r?1:0);if(r instanceof n)return p(r,n,!1,!1);throw new e.error.UnsupportedTypeError("cosh",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.boolean.isBoolean,l=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.tan_cot;e.cot=function cot(r){if(1!=arguments.length)throw new e.error.ArgumentsError("cot",arguments.length,1);if(u(r))return 1/Math.tan(r);if(l(r)){var t=Math.exp(-4*r.im)-2*Math.exp(-2*r.im)*Math.cos(2*r.re)+1;return new o(2*Math.exp(-2*r.im)*Math.sin(2*r.re)/t,(Math.exp(-4*r.im)-1)/t)}if(f(r)){if(!r.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return 1/Math.tan(r.value)}if(p(r))return s.deepMap(r,cot);if(c(r)||null===r)return cot(+r);if(r instanceof i)return h(r,i,!0);throw new e.error.UnsupportedTypeError("cot",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=o.isUnit,f=a.isCollection,p=r.bignumber.tanh_coth;e.coth=function coth(r){if(1!=arguments.length)throw new e.error.ArgumentsError("coth",arguments.length,1);if(s(r)){var t=Math.exp(2*r);return(t+1)/(t-1)}if(c(r)){var h=Math.exp(2*r.re),m=h*Math.cos(2*r.im),g=h*Math.sin(2*r.im),d=(m-1)*(m-1)+g*g;return new i(((m+1)*(m-1)+g*g)/d,-2*g/d)}if(l(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return coth(r.value)}if(f(r))return a.deepMap(r,coth);if(u(r)||null===r)return coth(r?1:0);if(r instanceof n)return p(r,n,!0);throw new e.error.UnsupportedTypeError("coth",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.boolean.isBoolean,l=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.cos_sin_sec_csc;e.csc=function csc(r){if(1!=arguments.length)throw new e.error.ArgumentsError("csc",arguments.length,1);if(u(r))return 1/Math.sin(r);if(l(r)){var t=.25*(Math.exp(-2*r.im)+Math.exp(2*r.im))-.5*Math.cos(2*r.re);return new o(.5*Math.sin(r.re)*(Math.exp(-r.im)+Math.exp(r.im))/t,.5*Math.cos(r.re)*(Math.exp(-r.im)-Math.exp(r.im))/t)}if(f(r)){if(!r.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return 1/Math.sin(r.value)}if(p(r))return s.deepMap(r,csc);if(c(r)||null===r)return csc(+r);if(r instanceof i)return h(r,i,1,!0);throw new e.error.UnsupportedTypeError("csc",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number,u=r.number.isNumber,c=r.boolean.isBoolean,l=i.isComplex,f=o.isUnit,p=a.isCollection,h=r.bignumber.cosh_sinh_csch_sech;e.csch=function csch(r){if(1!=arguments.length)throw new e.error.ArgumentsError("csch",arguments.length,1);if(u(r))return 0==r?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*s.sign(r);if(l(r)){var t=Math.exp(r.re),m=Math.exp(-r.re),g=Math.cos(r.im)*(t-m),d=Math.sin(r.im)*(t+m),x=g*g+d*d;return new i(2*g/x,-2*d/x)}if(f(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return csch(r.value)}if(p(r))return a.deepMap(r,csch);if(c(r)||null===r)return csch(r?1:0);if(r instanceof n)return h(r,n,!0,!0);throw new e.error.UnsupportedTypeError("csch",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.boolean.isBoolean,l=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.cos_sin_sec_csc;e.sec=function sec(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sec",arguments.length,1);if(u(r))return 1/Math.cos(r);if(l(r)){var t=.25*(Math.exp(-2*r.im)+Math.exp(2*r.im))+.5*Math.cos(2*r.re);return new o(.5*Math.cos(r.re)*(Math.exp(-r.im)+Math.exp(r.im))/t,.5*Math.sin(r.re)*(Math.exp(r.im)-Math.exp(-r.im))/t)}if(f(r)){if(!r.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return 1/Math.cos(r.value)}if(p(r))return s.deepMap(r,sec);if(c(r)||null===r)return sec(+r);if(r instanceof i)return h(r,i,0,!0);throw new e.error.UnsupportedTypeError("sec",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=o.isUnit,f=a.isCollection,p=r.bignumber.cosh_sinh_csch_sech;e.sech=function sech(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sech",arguments.length,1);if(s(r))return 2/(Math.exp(r)+Math.exp(-r));if(c(r)){var t=Math.exp(r.re),h=Math.exp(-r.re),m=Math.cos(r.im)*(t+h),g=Math.sin(r.im)*(t-h),d=m*m+g*g;return new i(2*m/d,-2*g/d)}if(l(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return sech(r.value)}if(f(r))return a.deepMap(r,sech);if(u(r)||null===r)return sech(r?1:0);if(r instanceof n)return p(r,n,!1,!0);throw new e.error.UnsupportedTypeError("sech",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.boolean.isBoolean,l=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.cos_sin_sec_csc;e.sin=function sin(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sin",arguments.length,1);if(u(r))return Math.sin(r);if(l(r))return new o(Math.sin(r.re)*e.cosh(-r.im),Math.cos(r.re)*e.sinh(r.im));if(f(r)){if(!r.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return Math.sin(r.value)}if(p(r))return s.deepMap(r,sin,!0);if(c(r)||null===r)return Math.sin(r);if(r instanceof i)return h(r,i,1,!1);throw new e.error.UnsupportedTypeError("sin",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=o.isUnit,f=a.isCollection,p=r.bignumber.cosh_sinh_csch_sech;e.sinh=function sinh(r){if(1!=arguments.length)throw new e.error.ArgumentsError("sinh",arguments.length,1);if(s(r))return Math.abs(r)<1?r+r*r*r/6+r*r*r*r*r/120:(Math.exp(r)-Math.exp(-r))/2;if(c(r)){var t=Math.cos(r.im),h=Math.sin(r.im),m=Math.exp(r.re),g=Math.exp(-r.re);return new i(t*(m-g)/2,h*(m+g)/2)}if(l(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return sinh(r.value)}if(f(r))return a.deepMap(r,sinh,!0);if(u(r)||null===r)return sinh(r?1:0);if(r instanceof n)return p(r,n,!0,!1);throw new e.error.UnsupportedTypeError("sinh",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e,r){var n=t(17),i=e.type.BigNumber,o=t(16),a=t(19),s=e.collection,u=n.number.isNumber,c=n.boolean.isBoolean,l=o.isComplex,f=a.isUnit,p=s.isCollection,h=n.bignumber.tan_cot;e.tan=function tan(r){if(1!=arguments.length)throw new e.error.ArgumentsError("tan",arguments.length,1);if(u(r))return Math.tan(r);if(l(r)){var t=Math.exp(-4*r.im)+2*Math.exp(-2*r.im)*Math.cos(2*r.re)+1;return new o(2*Math.exp(-2*r.im)*Math.sin(2*r.re)/t,(1-Math.exp(-4*r.im))/t)}if(f(r)){if(!r.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return Math.tan(r.value)}if(p(r))return s.deepMap(r,tan,!0);if(c(r)||null===r)return Math.tan(r);if(r instanceof i)return h(r,i,!1);throw new e.error.UnsupportedTypeError("tan",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.BigNumber,i=t(16),o=t(19),a=e.collection,s=r.number.isNumber,u=r.boolean.isBoolean,c=i.isComplex,l=o.isUnit,f=a.isCollection,p=r.bignumber.tanh_coth;e.tanh=function tanh(r){if(1!=arguments.length)throw new e.error.ArgumentsError("tanh",arguments.length,1);if(s(r)){var t=Math.exp(2*r);return(t-1)/(t+1)}if(c(r)){var h=Math.exp(2*r.re),m=h*Math.cos(2*r.im),g=h*Math.sin(2*r.im),d=(m+1)*(m+1)+g*g;return new i(((m-1)*(m+1)+g*g)/d,2*g/d)}if(l(r)){if(!r.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return tanh(r.value)}if(f(r))return a.deepMap(r,tanh,!0);if(u(r)||null===r)return tanh(r?1:0);if(r instanceof n)return p(r,n,!1);throw new e.error.UnsupportedTypeError("tanh",e.typeof(r))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=t(19),i=e.collection,o=r.string.isString,a=n.isUnit,s=i.isCollection;e.to=function to(r,t){if(2!=arguments.length)throw new e.error.ArgumentsError("to",arguments.length,2);if(a(r)&&(a(t)||o(t)))return r.to(t);if(s(r)||s(t))return i.deepMap2(r,t,to);throw new e.error.UnsupportedTypeError("to",e.typeof(r),e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17).object;e.clone=function clone(t){if(1!=arguments.length)throw new e.error.ArgumentsError("clone",arguments.length,1);return r.clone(t)}}},function(e,r,t){"use strict";e.exports=function(e){var r=e.type.Matrix;function _filter(e,r){if("function"==typeof r)return e.filter((function(e){return r(e)}));if(r instanceof RegExp)return e.filter((function(e){return r.test(e)}));throw new TypeError("Function or RegExp expected")}e.filter=function(t,n){if(2!==arguments.length)throw new e.error.ArgumentsError("filter",arguments.length,2);if(t instanceof r){if(t.size().length>1)throw new Error("Only one dimensional matrices supported");return e.matrix(_filter(t.toArray(),n))}if(Array.isArray(t))return _filter(t,n);throw new e.error.UnsupportedTypeError("filter",e.typeof(t),e.typeof(compare))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17).string;e.format=function format(t,n){var i=arguments.length;if(1!==i&&2!==i)throw new e.error.ArgumentsError("format",i,1,2);return r.format(t,n)}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=t(16),i=t(19),o=r.number.isNumber,a=r.string.isString,s=n.isComplex,u=i.isUnit;function _import(r,t,n){(n.override||void 0===e[r])&&(n.wrap&&"function"==typeof t?(e[r]=function(){for(var r=[],n=0,i=arguments.length;n<i;n++){var o=arguments[n];r[n]=o&&o.valueOf()}return t.apply(e,r)},t&&t.transform&&(e[r].transform=t.transform)):e[r]=t,t&&t.transform&&(e.expression.transform[r]=t.transform),e.chaining.Chain.createProxy(r,t))}function isSupportedType(e){return"function"==typeof e||o(e)||a(e)||s(e)||u(e)}e.import=function math_import(r,n){var i,o=arguments.length;if(1!=o&&2!=o)throw new e.error.ArgumentsError("import",o,1,2);var s={override:n&&n.override||!1,wrap:n&&n.wrap||!1};if(a(r)){math_import(t(337)(r),n)}else{if("object"!=typeof r)throw new TypeError("Object or module name expected");for(i in r)if(r.hasOwnProperty(i)){var u=r[i];isSupportedType(u)?_import(i,u,s):math_import(u,n)}}}}},function(e,r,t){var n={"./clone":333,"./clone.js":333,"./filter":334,"./filter.js":334,"./forEach":338,"./forEach.js":338,"./format":335,"./format.js":335,"./import":336,"./import.js":336,"./map":339,"./map.js":339,"./partitionSelect":340,"./partitionSelect.js":340,"./print":341,"./print.js":341,"./sort":342,"./sort.js":342,"./typeof":343,"./typeof.js":343};function webpackContext(e){return t(webpackContextResolve(e))}function webpackContextResolve(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}webpackContext.keys=function webpackContextKeys(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=337},function(e,r,t){"use strict";e.exports=function(e){var r=e.type.Matrix;e.forEach=function(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("forEach",arguments.length,2);if(Array.isArray(t))return function _forEachArray(e,r){var recurse=function(t,n){Array.isArray(t)?t.forEach((function(e,r){recurse(e,n.concat(r))})):r(t,n,e)};recurse(e,[])}(t,n);if(t instanceof r)return t.forEach(n);throw new e.error.UnsupportedTypeError("forEach",e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=e.type.Matrix;e.map=function(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("map",arguments.length,2);if(Array.isArray(t))return function _mapArray(e,r){var recurse=function(t,n){return Array.isArray(t)?t.map((function(e,r){return recurse(e,n.concat(r))})):r(t,n,e)};return recurse(e,[])}(t,n);if(t instanceof r)return t.map(n);throw new e.error.UnsupportedTypeError("map",e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17),n=e.type.Matrix,i=r.number.isNumber,o=r.number.isInteger;function quickselect(e,r,t){if(r>=e.length)throw new Error("k out of bounds");for(var n=0,i=e.length-1;n<i;){for(var o=n,a=i,s=e[Math.floor(Math.random()*(i-n+1))+n];o<a;)if(t(e[o],s)>=0){var u=e[a];e[a]=e[o],e[o]=u,--a}else++o;t(e[o],s)>0&&--o,r<=o?i=o:n=o+1}return e[r]}e.partitionSelect=function(r,t,a){var s;if(2===arguments.length)s=e.compare;else{if(3!==arguments.length)throw new e.error.ArgumentsError("partitionSelect",arguments.length,2,3);if("function"==typeof a)s=a;else if("asc"===a)s=e.compare;else{if("desc"!==a)throw new e.error.UnsupportedTypeError("partitionSelect",e.typeof(a));s=function(r,t){return-e.compare(r,t)}}}if(i(t)){if(o(t)&&t>=0){if(r instanceof n){if(r.size().length>1)throw new Error("Only one dimensional matrices supported");return quickselect(r.valueOf(),t,s)}if(Array.isArray(r))return quickselect(r,t,s);throw new e.error.UnsupportedTypeError("partitionSelect",e.typeof(r))}throw new Error("k must be a non-negative integer")}throw new e.error.UnsupportedTypeError("partitionSelect",e.typeof(t))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(17).string.isString;e.print=function print(t,n,i){var o=arguments.length;if(2!=o&&3!=o)throw new e.error.ArgumentsError("print",o,2,3);if(!r(t))throw new TypeError("String expected as first parameter in function format");if(!(n instanceof Object))throw new TypeError("Object expected as second parameter in function format");return t.replace(/\$([\w\.]+)/g,(function(t,o){for(var a=o.split("."),s=n[a.shift()];a.length&&void 0!==s;){var u=a.shift();s=u?s[u]:s+"."}return void 0!==s?r(s)?s:e.format(s,i):t}))}}},function(e,r,t){"use strict";e.exports=function(e){var r=e.type.Matrix;e.sort=function(t,n){var i=null;if(1===arguments.length)i=e.compare;else{if(2!==arguments.length)throw new e.error.ArgumentsError("sort",arguments.length,1,2);if("function"==typeof n)i=n;else if("asc"===n)i=e.compare;else{if("desc"!==n)throw new e.error.UnsupportedTypeError("sort",e.typeof(t),e.typeof(n));i=function(r,t){return-e.compare(r,t)}}}if(t instanceof r){if(t.size().length>1)throw new Error("Only one dimensional matrices supported");return e.matrix(t.toArray().sort(i))}if(Array.isArray(t))return t.sort(i);throw new e.error.UnsupportedTypeError("sort",e.typeof(t),e.typeof(n))}}},function(e,r,t){"use strict";e.exports=function(e){var r=t(4),n=t(16),i=e.type.Matrix,o=t(19),a=t(25),s=t(24),u=t(27);e.typeof=function _typeof(t){if(1!=arguments.length)throw new e.error.ArgumentsError("typeof",arguments.length,1);var c=r.type(t);if("object"===c){if(t instanceof n)return"complex";if(t instanceof i)return"matrix";if(t instanceof o)return"unit";if(t instanceof a)return"index";if(t instanceof s)return"range";if(t instanceof u)return"help";if(t instanceof e.type.BigNumber)return"bignumber";if(t instanceof e.chaining.Chain)return"chain"}return c}}},function(e,r,t){"use strict";var n=t(7),i=t(345).transform,o=t(5).isNumber,a=t(3).argsToArray;e.exports=function(e){var transform=function(){var r=a(arguments),t=r.length-1,s=r[t];o(s)?r[t]=s-1:s instanceof n&&(r[t]=s.minus(1));try{return e.concat.apply(e,r)}catch(e){throw i(e)}};return e.concat.transform=transform,transform}},function(e,r,t){t(13);var n=t(14);r.transform=function(e){return e instanceof n?new n(e.index+1,e.min+1,e.max+1):e}},function(e,r,t){"use strict";var n=t(45),i=(t(18).isBoolean,t(3).argsToArray,t(22));e.exports=function(e){var r=e.filter,transform=function(e,t,o){if(2!==e.length)throw new i("filter",arguments.length,2);var a,s=e[0].compile(t).eval(o);if(e[1]instanceof n)a=e[1].compile(t).eval(o);else{var u=o||{},c=e[1].filter((function(e){return e instanceof n&&!(e.name in t)&&!(e.name in u)}))[0],l=Object.create(u),f=e[1].compile(t);if(!c)throw new Error("No undefined variable found in filter equation");var p=c.name;a=function(e){return l[p]=e,f.eval(l)}}return r(s,a)};return transform.rawArgs=!0,e.filter.transform=transform,transform}},function(e,r,t){"use strict";e.exports=function(e){var r=e.type.Matrix,transform=function(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("forEach",arguments.length,2);if(Array.isArray(t))_forEachArray(t,n,t);else{if(!(t instanceof r))throw new e.error.UnsupportedTypeError("forEach",e.typeof(t));_forEachArray(t.valueOf(),n,t)}};function _forEachArray(e,r,t){var recurse=function(e,n){Array.isArray(e)?e.forEach((function(e,r){recurse(e,n.concat(r+1))})):r(e,n,t)};recurse(e,[])}return e.forEach.transform=transform,transform}},function(e,r,t){"use strict";var n=t(7),i=t(24),o=t(25),a=t(5).isNumber;e.exports=function(e){var transform=function(){for(var e=[],r=0,t=arguments.length;r<t;r++){var s=arguments[r];if(s instanceof i)s.start--,s.end-=s.step>0?0:2;else if(a(s))s--;else{if(!(s instanceof n))throw new TypeError("Ranges must be a Number or Range");s=s.toNumber()-1}e[r]=s}var u=new o;return o.apply(u,e),u};return e.index.transform=transform,transform}},function(e,r,t){"use strict";e.exports=function(e){var r=e.type.Matrix,transform=function(t,n){if(2!=arguments.length)throw new e.error.ArgumentsError("map",arguments.length,2);if(Array.isArray(t))return _mapArray(t,n,t);if(t instanceof r)return e.matrix(_mapArray(t.valueOf(),n,t));throw new e.error.UnsupportedTypeError("map",e.typeof(t))};function _mapArray(e,r,t){var recurse=function(e,n){return Array.isArray(e)?e.map((function(e,r){return recurse(e,n.concat(r+1))})):r(e,n,t)};return recurse(e,[])}return e.map.transform=transform,transform}},function(e,r,t){"use strict";var n=t(7),i=t(345).transform,o=t(5).isNumber,a=t(3).argsToArray;e.exports=function(e){var r=e.collection.isCollection,transform=function(){var t=a(arguments);if(2==t.length&&r(t[0])){var s=t[1];o(s)?t[1]=s-1:s instanceof n&&(t[1]=s.minus(1))}try{return e.max.apply(e,t)}catch(e){throw i(e)}};return e.max.transform=transform,transform}},function(e,r,t){"use strict";var n=t(7),i=t(345).transform,o=t(5).isNumber,a=t(3).argsToArray;e.exports=function(e){var r=e.collection.isCollection,transform=function(){var t=a(arguments);if(2==t.length&&r(t[0])){var s=t[1];o(s)?t[1]=s-1:s instanceof n&&(t[1]=s.minus(1))}try{return e.mean.apply(e,t)}catch(e){throw i(e)}};return e.mean.transform=transform,transform}},function(e,r,t){"use strict";var n=t(7),i=t(345).transform,o=t(5).isNumber,a=t(3).argsToArray;e.exports=function(e){var r=e.collection.isCollection,transform=function(){var t=a(arguments);if(2==t.length&&r(t[0])){var s=t[1];o(s)?t[1]=s-1:s instanceof n&&(t[1]=s.minus(1))}try{return e.min.apply(e,t)}catch(e){throw i(e)}};return e.min.transform=transform,transform}},function(e,r,t){"use strict";var n=t(18).isBoolean,i=t(3).argsToArray;e.exports=function(e){var transform=function(){var r=i(arguments),t=r[r.length-1];return n(t)||r.push(!0),e.range.apply(e,r)};return e.range.transform=transform,transform}},function(e,r,t){"use strict";var n=t(345).transform,i=(t(18).isBoolean,t(3).argsToArray);e.exports=function(e){var transform=function(){try{return e.subset.apply(e,i(arguments))}catch(e){throw n(e)}};return e.subset.transform=transform,transform}},function(e,r,t){"use strict";e.exports=function(e){var r=t(9);function Chain(e){if(!(this instanceof Chain))throw new SyntaxError("Constructor must be called with the new operator");this.value=e instanceof Chain?e.value:e}function createProxy(e,r){var t=Array.prototype.slice;Chain.prototype[e]="function"==typeof r?function(){var e=[this.value].concat(t.call(arguments,0));return new Chain(r.apply(this,e))}:new Chain(r)}for(var n in Chain.prototype.done=function(){return this.value},Chain.prototype.valueOf=function(){return this.value},Chain.prototype.toString=function(){return r.format(this.value)},Chain.createProxy=createProxy,e)e.hasOwnProperty(n)&&createProxy(n,e[n]);return Chain}}])}));