define(["sugar-web/graphics/palette"],(function(t){"use strict";var e={Parapalette:function(e,a,n){t.Palette.call(this,e,a),this.paraEvent=document.createEvent("CustomEvent"),this.paraEvent.initCustomEvent("para",!0,!0,{}),this.remoteEvent=document.createEvent("CustomEvent"),this.remoteEvent.initCustomEvent("remote",!0,!0,{});var o=this;o.categories=[],o.buttons=[],this.setCategories=function(t){this.categories=t,this.buttons=[];for(var e=document.createElement("div"),a=0;a<t.length;a++){var n=document.createElement("button");n.className="toolbutton palette-button palette-button-notselected",n.setAttribute("id",t[a].id),n.setAttribute("title",t[a].title);var s="url(icons/"+t[a].cmd+".svg)";n.style.backgroundImage=s;t[a].id;n.onclick=function(){o.setPara(this.id)},this.buttons.push(n),e.appendChild(n)}this.setContent([e])},this.setPara=function(t){for(var e=-1,a=0;a<this.categories.length;a++)if(this.categories[a].id==t){e=a;break}if(-1!=e){for(a=0;a<this.buttons.length;a++)this.buttons[a].className="toolbutton palette-button palette-button-notselected";this.buttons[e].className="toolbutton palette-button palette-button-selected",o.getPalette().dispatchEvent(o.paraEvent)}}}};return e.Parapalette.prototype=Object.create(t.Palette.prototype,{addEventListener:{value:function(t,e,a){return this.getPalette().addEventListener(t,e,a)},enumerable:!0,configurable:!0,writable:!0}}),e.Parapalette.prototype.setCategories=function(t){this.setCategories(t)},e.Parapalette.prototype.setPara=function(t){this.setPara(t)},e.Parapalette.prototype.getPara=function(){for(var t=0;t<this.buttons.length;t++)if("toolbutton palette-button palette-button-selected"==this.buttons[t].className)return this.categories[t].id;return""},e}));