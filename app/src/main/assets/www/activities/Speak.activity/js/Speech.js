var Speech=function(){var e="",n="";function loadVoice(e,n){var t=meSpeak.getDefaultVoice();if(t!=e&&0!=t.indexOf(e)){var a="voices/"+e+".json";!function testVoice(e,n){var t=new XMLHttpRequest;t.url=e;try{t.open("GET",e),t.onreadystatechange=function(){4==t.readyState&&n((200==t.status||0==t.status)&&t.response.length>0)},t.send("")}catch(e){n(!1)}}(a,(function(e){e?meSpeak.loadVoice(a,n):(document.getElementById("speaklang").innerHTML="en",meSpeak.loadVoice("voices/en.json",n))}))}else n&&n()}function playSound(){var t=n,a=document.getElementById("pitch").innerHTML,o=document.getElementById("rate").innerHTML;function soundComplete(){document.getElementById("speaking").innerHTML="0"}if("2"==document.getElementById("mode").innerHTML&&(t=e,console.log(e)),/iPad|iPhone/.test(navigator.userAgent)){var i=meSpeak.speak(t,{speed:o,pitch:a,rawdata:"data-url"},soundComplete),d=new Audio(i);d.addEventListener("ended",(function(){document.getElementById("speaking").innerHTML="0"})),d.play()}else meSpeak.speak(t,{speed:o,pitch:a},soundComplete)}return function hiddenArray(){speakArray=[]}(),{init:function init(e){document.getElementById("speaklang").innerHTML=e.language,meSpeak.loadConfig("mespeak_config.json"),loadVoice(e.language)},playVoice:function playVoice(t,a){n=a;var o=document.createElement("OPTION");o.setAttribute("value",n),o.text=n,document.getElementById("combo-box").appendChild(o),document.getElementById("combo-box").value=n,speakArray.push(n),"2"==document.getElementById("mode").innerHTML?(!function getBotReply(n){var t=new AIMLInterpreter({name:"WireInterpreter",age:"42"}),a=["js/alice/star.aiml"],o=n.split(" "),d=new Array(256);for(i=0;i<256;i++)d[i]=0;for(i=0;i<o.length;i++)o[i][0]>="a"&&o[i][0]<="z"&&0==d[o[i].charCodeAt(0)+"A".charCodeAt(0)-"a".charCodeAt(0)]&&(d[o[i].charCodeAt(0)+"A".charCodeAt(0)-"a".charCodeAt(0)]=1,a.unshift("js/alice/"+String.fromCharCode(o[i].charCodeAt(0)+"A".charCodeAt(0)-"a".charCodeAt(0))+".aiml")),(o[i][0]>="A"&&o[i][0]<="Z"||o[i][0]>="0"&&o[i][0]<="9")&&0==d[o[i].charCodeAt(0)]&&(d[o[i].charCodeAt(0)]=1,a.unshift("js/alice/"+o[i][0]+".aiml"));t.loadAIMLFilesIntoArray(a),e="Please ask me something else",t.findAnswerInLoadedAIMLFiles(n,(function(n,t,a){null==n&&(n="Please ask me something else"),e=n.split(".")[0]}))}(a),setTimeout((function(){loadVoice(t,playSound)}),4e3)):loadVoice(t,playSound)}}};