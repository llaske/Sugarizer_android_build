define(["sugar-web/graphics/palette","util","colormyworld","print","l10n"],(function(e,t,n,o,l){"use strict";var i={ModePalette:function(t,o,a){e.Palette.call(this,t,o),this.modeEvent=document.createEvent("CustomEvent"),this.modeEvent.initCustomEvent("mode",!0,!0,{}),this.remoteEvent=document.createEvent("CustomEvent"),this.remoteEvent.initCustomEvent("remote",!0,!0,{});i.setMode=function(e){e<0?e=MODE_NAMES.length-1:e>MODE_NAMES.length-1&&(e=0),n.setMode(e),document.getElementById("modelabel").innerHTML=l.get(MODE_NAMES[e])};var r=document.createElement("div"),d=document.createElement("button");d.className="toolbutton palette-button palette-button-selected",d.setAttribute("id","mode-button-prev"),d.setAttribute("title","Previous Mode"),d.onclick=function(){i.setMode(n.getMode()+1)};var u=document.createElement("button");u.className="toolbutton palette-button palette-button-selected",u.setAttribute("id","mode-button-next"),u.setAttribute("title","Next Mode"),u.onclick=function(){i.setMode(n.getMode()-1)};var s=document.createElement("div");s.className="modelabel",s.id="modelabel",s.innerHTML=l.get(MODE_NAMES[0]);var c=document.createElement("table");(p=c.insertRow(-1)).insertCell(-1).appendChild(d),p.insertCell(-1).appendChild(s),p.insertCell(-1).appendChild(u),i.setRegion=function(e){e<0?e=REGION_NAMES.length-1:e>REGION_NAMES.length-1&&(e=0),n.change_areaCB(1,REGION_NAMES[e]),document.getElementById("regionlabel").src=REGION_ICONS[e]};var m=document.createElement("button");m.className="toolbutton palette-button palette-button-selected",m.setAttribute("id","region-button-prev"),m.setAttribute("title","Previous Region"),m.onclick=function(){i.setRegion(n.getRegion()+1)};var b=document.createElement("button");b.className="toolbutton palette-button palette-button-selected",b.setAttribute("id","region-button-next"),b.setAttribute("title","Next Region"),b.onclick=function(){i.setRegion(n.getRegion()-1)};var E=new Image;E.className="regionlabel",E.id="regionlabel",E.title=REGION_NAMES[0],E.src=REGION_ICONS[0];var p,g=document.createElement("table");(p=g.insertRow(-1)).insertCell(-1).appendChild(m),p.insertCell(-1).appendChild(E),p.insertCell(-1).appendChild(b),r.appendChild(c),r.appendChild(g),this.setContent([r])}};return i.ModePalette.prototype=Object.create(e.Palette.prototype,{addEventListener:{value:function(e,t,n){return this.getPalette().addEventListener(e,t,n)},enumerable:!0,configurable:!0,writable:!0}}),i}));