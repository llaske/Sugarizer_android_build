!function(e){e.fn.ruler=function(i){var s=e.extend({},{vRuleSize:18,hRuleSize:18,showCrosshair:!0,showMousePos:!0},i);return Modernizr.touch||(s.showCrosshair&&e("body").append('<div class="vMouse"></div>','<div class="hMouse"></div>'),s.showMousePos&&e("body").append('<div class="mousePosBox">x: 50%, y: 50%</div>'),(s.showCrosshair||s.showMousePos)&&e(window).mousemove((function(i){s.showCrosshair&&(e(".vMouse").css("top",i.pageY-e(document).scrollTop()+1),e(".hMouse").css("left",i.pageX+1)),s.showMousePos&&e(".mousePosBox").html("x:"+(i.pageX-s.vRuleSize)+", y:"+(i.pageY-s.hRuleSize)).css({top:i.pageY-e(document).scrollTop()+16,left:i.pageX+12})}))),e(window).resize((function(i){var o=e(".hRule"),l=e(".vRule");o.empty(),l.empty().height(0).outerHeight(l.parent().outerHeight());for(var p=s.vRuleSize,d="";p<=o.width();)(p-s.vRuleSize)%50==0?(d="<div class='tickLabel'>"+(p-s.vRuleSize)+"</div>",e(d).css("left",p+"px").appendTo(o)):(p-s.vRuleSize)%10==0?e(d="<div class='tickMajor'></div>").css("left",p+"px").appendTo(o):(p-s.vRuleSize)%5==0&&e(d="<div class='tickMinor'></div>").css("left",p+"px").appendTo(o),p+=5;for(p=s.hRuleSize,d="";p<=l.height();)(p-s.hRuleSize)%50==0?(d="<div class='tickLabel'><span>"+(p-s.hRuleSize)+"</span></div>",e(d).css("top",p+"px").appendTo(l)):(p-s.hRuleSize)%10==0?e(d="<div class='tickMajor'></div>").css("top",p+"px").appendTo(l):(p-s.hRuleSize)%5==0&&e(d="<div class='tickMinor'></div>").css("top",p+"px").appendTo(l),p+=5})),this.each((function(){var i=e(this);if(i.css("padding-top",s.hRuleSize+1+"px"),s.hRuleSize>0&&e('<div class="ruler hRule"></div>').height(s.hRuleSize).prependTo(i),s.vRuleSize>0){var o=i.outerWidth();i.css("padding-left",s.vRuleSize+1+"px").outerWidth(o),e('<div class="ruler vRule"></div>').width(s.vRuleSize).height(i.outerHeight()).prependTo(i)}s.vRuleSize>0&&s.hRuleSize>0&&e('<div class="ruler corner"></div>').css({width:s.vRuleSize,height:s.hRuleSize}).prependTo(i);for(var l=i.children(".hRule"),p=i.children(".vRule"),d=s.vRuleSize,u="";d<=l.width();)(d-s.vRuleSize)%50==0?(u="<div class='tickLabel'>"+(d-s.vRuleSize)+"</div>",e(u).css("left",d+"px").appendTo(l)):(d-s.vRuleSize)%10==0?e(u="<div class='tickMajor'></div>").css("left",d+"px").appendTo(l):(d-s.vRuleSize)%5==0&&e(u="<div class='tickMinor'></div>").css("left",d+"px").appendTo(l),d+=5;for(d=s.hRuleSize,u="";d<=p.height();)(d-s.hRuleSize)%50==0?(u="<div class='tickLabel'><span>"+(d-s.hRuleSize)+"</span></div>",e(u).css("top",d+"px").appendTo(p)):(d-s.hRuleSize)%10==0?e(u="<div class='tickMajor'></div>").css("top",d+"px").appendTo(p):(d-s.hRuleSize)%5==0&&e(u="<div class='tickMinor'></div>").css("top",d+"px").appendTo(p),d+=5}))}}(jQuery);