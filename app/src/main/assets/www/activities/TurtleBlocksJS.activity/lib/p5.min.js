/*! p5.js v0.5.8 March 25, 2017 */!function(_){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=_();else if("function"==typeof define&&define.amd)define([],_);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).p5=_()}}((function(){return function a(_,T,U){function e(X,W){if(!T[X]){if(!_[X]){var Z="function"==typeof require&&require;if(!W&&Z)return Z(X,!0);if(V)return V(X,!0);var $=new Error("Cannot find module '"+X+"'");throw $.code="MODULE_NOT_FOUND",$}var ee=T[X]={exports:{}};_[X][0].call(ee.exports,(function(T){var U=_[X][1][T];return e(U||T)}),ee,ee.exports,a,_,T,U)}return T[X].exports}for(var V="function"==typeof require&&require,X=0;X<U.length;X++)e(U[X]);return e}({1:[function(_,T,U){},{}],2:[function(_,T,U){(function(V,X){!function(_,V){"object"==typeof U&&void 0!==T?T.exports=V():_.ES6Promise=V()}(this,(function(){"use strict";function c(_){return"function"==typeof _}function l(){var _=setTimeout;return function(){return _(m,1)}}function m(){for(var _=0;_<U;_+=2)(0,ie[_])(ie[_+1]),ie[_]=void 0,ie[_+1]=void 0;U=0}function o(_,T){var U=arguments,V=this,X=new this.constructor(q);void 0===X[ae]&&J(X);var W=V._state;return W?function(){var _=U[W-1];Y((function(){return G(W,X,_,V._result)}))}():C(V,X,_,T),X}function p(_){if(_&&"object"==typeof _&&_.constructor===this)return _;var T=new this(q);return y(T,_),T}function q(){}function t(_){try{return _.then}catch(_){return ue.error=_,ue}}function x(_,T,U){T.constructor===_.constructor&&U===o&&T.constructor.resolve===p?function w(_,T){T._state===he?A(_,T._result):T._state===le?B(_,T._result):C(T,void 0,(function(T){return y(_,T)}),(function(T){return B(_,T)}))}(_,T):U===ue?B(_,ue.error):void 0===U?A(_,T):c(U)?function v(_,T,U){Y((function(_){var V=!1,X=function u(_,T,U,V){try{_.call(T,U,V)}catch(_){return _}}(U,T,(function(U){V||(V=!0,T!==U?y(_,U):A(_,U))}),(function(T){V||(V=!0,B(_,T))}),_._label);!V&&X&&(V=!0,B(_,X))}),_)}(_,T,U):A(_,T)}function y(_,T){_===T?B(_,function r(){return new TypeError("You cannot resolve a promise with itself")}()):function a(_){return"function"==typeof _||"object"==typeof _&&null!==_}(T)?x(_,T,t(T)):A(_,T)}function z(_){_._onerror&&_._onerror(_._result),D(_)}function A(_,T){_._state===se&&(_._result=T,_._state=he,0!==_._subscribers.length&&Y(D,_))}function B(_,T){_._state===se&&(_._state=le,_._result=T,Y(z,_))}function C(_,T,U,V){var X=_._subscribers,W=X.length;_._onerror=null,X[W]=T,X[W+he]=U,X[W+le]=V,0===W&&_._state&&Y(D,_)}function D(_){var T=_._subscribers,U=_._state;if(0!==T.length){for(var V=void 0,X=void 0,W=_._result,Z=0;Z<T.length;Z+=3)V=T[Z],X=T[Z+U],V?G(U,V,X,W):X(W);_._subscribers.length=0}}function E(){this.error=null}function G(_,T,U,V){var X=c(U),W=void 0,Z=void 0,$=void 0,ee=void 0;if(X){if((W=function F(_,T){try{return _(T)}catch(_){return pe.error=_,pe}}(U,V))===pe?(ee=!0,Z=W.error,W=null):$=!0,T===W)return void B(T,function s(){return new TypeError("A promises callback cannot return that same promise.")}())}else W=V,$=!0;T._state!==se||(X&&$?y(T,W):ee?B(T,Z):_===he?A(T,W):_===le&&B(T,W))}function J(_){_[ae]=ce++,_._state=void 0,_._result=void 0,_._subscribers=[]}function K(_,U){this._instanceConstructor=_,this.promise=new _(q),this.promise[ae]||J(this.promise),T(U)?(this._input=U,this.length=U.length,this._remaining=U.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):B(this.promise,function L(){return new Error("Array Methods must be provided an Array")}())}function R(_){this[ae]=function I(){return ce++}(),this._result=this._state=void 0,this._subscribers=[],q!==_&&("function"!=typeof _&&function P(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof R?function H(_,T){try{T((function(T){y(_,T)}),(function(T){B(_,T)}))}catch(T){B(_,T)}}(this,_):function Q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}var T=Array.isArray?Array.isArray:function(_){return"[object Array]"===Object.prototype.toString.call(_)},U=0,W=void 0,Z=void 0,Y=function(_,T){ie[U]=_,ie[U+1]=T,2===(U+=2)&&(Z?Z(m):oe())},$="undefined"!=typeof window?window:void 0,ee=$||{},te=ee.MutationObserver||ee.WebKitMutationObserver,re="undefined"==typeof self&&void 0!==V&&"[object process]"==={}.toString.call(V),ne="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ie=new Array(1e3),oe=void 0;oe=re?function h(){return function(){return V.nextTick(m)}}():te?function j(){var _=0,T=new te(m),U=document.createTextNode("");return T.observe(U,{characterData:!0}),function(){U.data=_=++_%2}}():ne?function k(){var _=new MessageChannel;return _.port1.onmessage=m,function(){return _.port2.postMessage(0)}}():void 0===$&&"function"==typeof _?function n(){try{var T=_("vertx");return W=T.runOnLoop||T.runOnContext,function i(){return void 0!==W?function(){W(m)}:l()}()}catch(_){return l()}}():l();var ae=Math.random().toString(36).substring(16),se=void 0,he=1,le=2,ue=new E,pe=new E,ce=0;return K.prototype._enumerate=function(){for(var _=this.length,T=this._input,U=0;this._state===se&&U<_;U++)this._eachEntry(T[U],U)},K.prototype._eachEntry=function(_,T){var U=this._instanceConstructor,V=U.resolve;if(V===p){var X=t(_);if(X===o&&_._state!==se)this._settledAt(_._state,T,_._result);else if("function"!=typeof X)this._remaining--,this._result[T]=_;else if(U===R){var W=new U(q);x(W,_,X),this._willSettleAt(W,T)}else this._willSettleAt(new U((function(T){return T(_)})),T)}else this._willSettleAt(V(_),T)},K.prototype._settledAt=function(_,T,U){var V=this.promise;V._state===se&&(this._remaining--,_===le?B(V,U):this._result[T]=U),0===this._remaining&&A(V,this._result)},K.prototype._willSettleAt=function(_,T){var U=this;C(_,void 0,(function(_){return U._settledAt(he,T,_)}),(function(_){return U._settledAt(le,T,_)}))},R.all=function M(_){return new K(this,_).promise},R.race=function N(_){var U=this;return new U(T(_)?function(T,V){for(var X=_.length,W=0;W<X;W++)U.resolve(_[W]).then(T,V)}:function(_,T){return T(new TypeError("You must pass an array to race."))})},R.resolve=p,R.reject=function O(_){var T=new this(q);return B(T,_),T},R._setScheduler=function d(_){Z=_},R._setAsap=function g(_){Y=_},R._asap=Y,R.prototype={constructor:R,then:o,catch:function(_){return this.then(null,_)}},R.polyfill=function S(){var _=void 0;if(void 0!==X)_=X;else if("undefined"!=typeof self)_=self;else try{_=Function("return this")()}catch(_){throw new Error("polyfill failed because global object is unavailable in this environment")}var T=_.Promise;if(T){var U=null;try{U=Object.prototype.toString.call(T.resolve())}catch(_){}if("[object Promise]"===U&&!T.cast)return}_.Promise=R},R.Promise=R,R}))}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:31}],3:[function(_,T,U){!function(_,V){if(void 0!==U&&void 0!==T)V(U,T);else{var X={exports:{}};V(X.exports,X),_.fetchJsonp=X.exports}}(this,(function(_,T){"use strict";function c(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function d(_){try{delete window[_]}catch(T){window[_]=void 0}}function e(_){var T=document.getElementById(_);document.getElementsByTagName("head")[0].removeChild(T)}var U={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};T.exports=function f(_){var T=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],V=_,X=T.timeout||U.timeout,W=T.jsonpCallback||U.jsonpCallback,Z=void 0;return new Promise((function(U,$){var ee=T.jsonpCallbackFunction||c(),te=W+"_"+ee;window[ee]=function(_){U({ok:!0,json:function(){return Promise.resolve(_)}}),Z&&clearTimeout(Z),e(te),d(ee)},V+=-1===V.indexOf("?")?"?":"&";var re=document.createElement("script");re.setAttribute("src",""+V+W+"="+ee),re.id=te,document.getElementsByTagName("head")[0].appendChild(re),Z=setTimeout((function(){$(new Error("JSONP request to "+_+" timed out")),d(ee),e(te)}),X)}))}}))},{}],4:[function(_,T,U){"use strict";U.argument=function(_,T){if(!_)throw new Error(T)},U.assert=U.argument},{}],5:[function(_,T,U){"use strict";U.line=function d(_,T,U,V,X){_.beginPath(),_.moveTo(T,U),_.lineTo(V,X),_.stroke()}},{}],6:[function(_,T,U){"use strict";function d(_){this.font=_}function e(_){this.cmap=_}function f(_,T){this.encoding=_,this.charset=T}function g(_){var T;switch(_.version){case 1:this.names=U.standardNames.slice();break;case 2:for(this.names=new Array(_.numberOfGlyphs),T=0;T<_.numberOfGlyphs;T++)_.glyphNameIndex[T]<U.standardNames.length?this.names[T]=U.standardNames[_.glyphNameIndex[T]]:this.names[T]=_.names[_.glyphNameIndex[T]-U.standardNames.length];break;case 2.5:for(this.names=new Array(_.numberOfGlyphs),T=0;T<_.numberOfGlyphs;T++)this.names[T]=U.standardNames[T+_.glyphNameIndex[T]];break;case 3:this.names=[]}}d.prototype.charToGlyphIndex=function(_){var T=_.charCodeAt(0),U=this.font.glyphs;if(!U)return null;for(var V=0;V<U.length;V+=1)for(var X=U.get(V),W=0;W<X.unicodes.length;W+=1)if(X.unicodes[W]===T)return V},e.prototype.charToGlyphIndex=function(_){return this.cmap.glyphIndexMap[_.charCodeAt(0)]||0},f.prototype.charToGlyphIndex=function(_){var T=_.charCodeAt(0),U=this.encoding[T];return this.charset.indexOf(U)},g.prototype.nameToGlyphIndex=function(_){return this.names.indexOf(_)},g.prototype.glyphIndexToName=function(_){return this.names[_]},U.cffStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],U.cffStandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],U.cffExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],U.standardNames=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"],U.DefaultEncoding=d,U.CmapEncoding=e,U.CffEncoding=f,U.GlyphNames=g,U.addGlyphNames=function h(_){for(var T,U=_.tables.cmap.glyphIndexMap,V=Object.keys(U),X=0;X<V.length;X+=1){var W=V[X],Z=U[W];(T=_.glyphs.get(Z)).addUnicode(parseInt(W))}for(X=0;X<_.glyphs.length;X+=1)T=_.glyphs.get(X),_.cffEncoding?T.name=_.cffEncoding.charset[X]:T.name=_.glyphNames.glyphIndexToName(X)}},{}],7:[function(_,T,U){"use strict";function d(_){_=_||{},this.names={fontFamily:{en:_.familyName||" "},fontSubfamily:{en:_.styleName||" "},designer:{en:_.designer||" "},designerURL:{en:_.designerURL||" "},manufacturer:{en:_.manufacturer||" "},manufacturerURL:{en:_.manufacturerURL||" "},license:{en:_.license||" "},licenseURL:{en:_.licenseURL||" "},version:{en:_.version||"Version 0.1"},description:{en:_.description||" "},copyright:{en:_.copyright||" "},trademark:{en:_.trademark||" "}},this.unitsPerEm=_.unitsPerEm||1e3,this.ascender=_.ascender,this.descender=_.descender,this.supported=!0,this.glyphs=new Z.GlyphSet(this,_.glyphs||[]),this.encoding=new W.DefaultEncoding(this),this.tables={}}var V=_("./path"),X=_("./tables/sfnt"),W=_("./encoding"),Z=_("./glyphset");d.prototype.hasChar=function(_){return null!==this.encoding.charToGlyphIndex(_)},d.prototype.charToGlyphIndex=function(_){return this.encoding.charToGlyphIndex(_)},d.prototype.charToGlyph=function(_){var T=this.charToGlyphIndex(_),U=this.glyphs.get(T);return U||(U=this.glyphs.get(0)),U},d.prototype.stringToGlyphs=function(_){for(var T=[],U=0;U<_.length;U+=1){var V=_[U];T.push(this.charToGlyph(V))}return T},d.prototype.nameToGlyphIndex=function(_){return this.glyphNames.nameToGlyphIndex(_)},d.prototype.nameToGlyph=function(_){var T=this.nametoGlyphIndex(_),U=this.glyphs.get(T);return U||(U=this.glyphs.get(0)),U},d.prototype.glyphIndexToName=function(_){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(_):""},d.prototype.getKerningValue=function(_,T){_=_.index||_,T=T.index||T;var U=this.getGposKerningValue;return U?U(_,T):this.kerningPairs[_+","+T]||0},d.prototype.forEachGlyph=function(_,T,U,V,X,W){T=void 0!==T?T:0,U=void 0!==U?U:0,V=void 0!==V?V:72;for(var Z=void 0===(X=X||{}).kerning||X.kerning,$=1/this.unitsPerEm*V,ee=this.stringToGlyphs(_),te=0;te<ee.length;te+=1){var re=ee[te];W(re,T,U,V,X),re.advanceWidth&&(T+=re.advanceWidth*$),Z&&te<ee.length-1&&(T+=this.getKerningValue(re,ee[te+1])*$)}},d.prototype.getPath=function(_,T,U,X,W){var Z=new V.Path;return this.forEachGlyph(_,T,U,X,W,(function(_,T,U,V){var X=_.getPath(T,U,V);Z.extend(X)})),Z},d.prototype.draw=function(_,T,U,V,X,W){this.getPath(T,U,V,X,W).draw(_)},d.prototype.drawPoints=function(_,T,U,V,X,W){this.forEachGlyph(T,U,V,X,W,(function(T,U,V,X){T.drawPoints(_,U,V,X)}))},d.prototype.drawMetrics=function(_,T,U,V,X,W){this.forEachGlyph(T,U,V,X,W,(function(T,U,V,X){T.drawMetrics(_,U,V,X)}))},d.prototype.getEnglishName=function(_){var T=this.names[_];if(T)return T.en},d.prototype.validate=function(){function a(T,U){T||_.push(U)}function b(_){var U=T.getEnglishName(_);a(U&&U.trim().length>0,"No English "+_+" specified.")}var _=[],T=this;b("fontFamily"),b("weightName"),b("manufacturer"),b("copyright"),b("version"),a(this.unitsPerEm>0,"No unitsPerEm specified.")},d.prototype.toTables=function(){return X.fontToTable(this)},d.prototype.toBuffer=function(){for(var _=this.toTables().encode(),T=new ArrayBuffer(_.length),U=new Uint8Array(T),V=0;V<_.length;V++)U[V]=_[V];return T},d.prototype.download=function(){var _=this.getEnglishName("fontFamily"),T=this.getEnglishName("fontSubfamily"),U=_.replace(/\s/g,"")+"-"+T+".otf",V=this.toBuffer();window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,V.byteLength,(function(_){_.root.getFile(U,{create:!0},(function(_){_.createWriter((function(T){var U=new DataView(V),X=new Blob([U],{type:"font/opentype"});T.write(X),T.addEventListener("writeend",(function(){location.href=_.toURL()}),!1)}))}))}),(function(_){throw _}))},U.Font=d},{"./encoding":6,"./glyphset":9,"./path":12,"./tables/sfnt":29}],8:[function(_,T,U){"use strict";function e(_){this.bindConstructorValues(_)}var V=_("./check"),X=_("./draw"),W=_("./path");e.prototype.bindConstructorValues=function(_){this.index=_.index||0,this.name=_.name||null,this.unicode=_.unicode||void 0,this.unicodes=_.unicodes||void 0!==_.unicode?[_.unicode]:[],_.xMin&&(this.xMin=_.xMin),_.yMin&&(this.yMin=_.yMin),_.xMax&&(this.xMax=_.xMax),_.yMax&&(this.yMax=_.yMax),_.advanceWidth&&(this.advanceWidth=_.advanceWidth),Object.defineProperty(this,"path",function d(_,T){var U=T||{commands:[]};return{configurable:!0,get:function(){return"function"==typeof U&&(U=U()),U},set:function(_){U=_}}}(0,_.path))},e.prototype.addUnicode=function(_){0===this.unicodes.length&&(this.unicode=_),this.unicodes.push(_)},e.prototype.getPath=function(_,T,U){_=void 0!==_?_:0,T=void 0!==T?T:0,U=void 0!==U?U:72;for(var V=1/this.path.unitsPerEm*U,X=new W.Path,Z=this.path.commands,$=0;$<Z.length;$+=1){var ee=Z[$];"M"===ee.type?X.moveTo(_+ee.x*V,T+-ee.y*V):"L"===ee.type?X.lineTo(_+ee.x*V,T+-ee.y*V):"Q"===ee.type?X.quadraticCurveTo(_+ee.x1*V,T+-ee.y1*V,_+ee.x*V,T+-ee.y*V):"C"===ee.type?X.curveTo(_+ee.x1*V,T+-ee.y1*V,_+ee.x2*V,T+-ee.y2*V,_+ee.x*V,T+-ee.y*V):"Z"===ee.type&&X.closePath()}return X},e.prototype.getContours=function(){if(void 0===this.points)return[];for(var _=[],T=[],U=0;U<this.points.length;U+=1){var X=this.points[U];T.push(X),X.lastPointOfContour&&(_.push(T),T=[])}return V.argument(0===T.length,"There are still points left in the current contour."),_},e.prototype.getMetrics=function(){for(var _=this.path.commands,T=[],U=[],V=0;V<_.length;V+=1){var X=_[V];"Z"!==X.type&&(T.push(X.x),U.push(X.y)),"Q"!==X.type&&"C"!==X.type||(T.push(X.x1),U.push(X.y1)),"C"===X.type&&(T.push(X.x2),U.push(X.y2))}var W={xMin:Math.min.apply(null,T),yMin:Math.min.apply(null,U),xMax:Math.max.apply(null,T),yMax:Math.max.apply(null,U),leftSideBearing:0};return isFinite(W.xMin)||(W.xMin=0),isFinite(W.xMax)||(W.xMax=this.advanceWidth),isFinite(W.yMin)||(W.yMin=0),isFinite(W.yMax)||(W.yMax=0),W.rightSideBearing=this.advanceWidth-W.leftSideBearing-(W.xMax-W.xMin),W},e.prototype.draw=function(_,T,U,V){this.getPath(T,U,V).draw(_)},e.prototype.drawPoints=function(_,T,U,V){function e(T,U,V,X){var W=2*Math.PI;_.beginPath();for(var Z=0;Z<T.length;Z+=1)_.moveTo(U+T[Z].x*X,V+T[Z].y*X),_.arc(U+T[Z].x*X,V+T[Z].y*X,2,0,W,!1);_.closePath(),_.fill()}T=void 0!==T?T:0,U=void 0!==U?U:0,V=void 0!==V?V:24;for(var X=1/this.path.unitsPerEm*V,W=[],Z=[],$=this.path,ee=0;ee<$.commands.length;ee+=1){var te=$.commands[ee];void 0!==te.x&&W.push({x:te.x,y:-te.y}),void 0!==te.x1&&Z.push({x:te.x1,y:-te.y1}),void 0!==te.x2&&Z.push({x:te.x2,y:-te.y2})}_.fillStyle="blue",e(W,T,U,X),_.fillStyle="red",e(Z,T,U,X)},e.prototype.drawMetrics=function(_,T,U,V){var W;T=void 0!==T?T:0,U=void 0!==U?U:0,V=void 0!==V?V:24,W=1/this.path.unitsPerEm*V,_.lineWidth=1,_.strokeStyle="black",X.line(_,T,-1e4,T,1e4),X.line(_,-1e4,U,1e4,U);var Z=this.xMin||0,$=this.yMin||0,ee=this.xMax||0,te=this.yMax||0,re=this.advanceWidth||0;_.strokeStyle="blue",X.line(_,T+Z*W,-1e4,T+Z*W,1e4),X.line(_,T+ee*W,-1e4,T+ee*W,1e4),X.line(_,-1e4,U+-$*W,1e4,U+-$*W),X.line(_,-1e4,U+-te*W,1e4,U+-te*W),_.strokeStyle="green",X.line(_,T+re*W,-1e4,T+re*W,1e4)},U.Glyph=e},{"./check":4,"./draw":5,"./path":12}],9:[function(_,T,U){"use strict";function d(_,T){if(this.font=_,this.glyphs={},Array.isArray(T))for(var U=0;U<T.length;U++)this.glyphs[U]=T[U];this.length=T&&T.length||0}var V=_("./glyph");d.prototype.get=function(_){return"function"==typeof this.glyphs[_]&&(this.glyphs[_]=this.glyphs[_]()),this.glyphs[_]},d.prototype.push=function(_,T){this.glyphs[_]=T,this.length++},U.GlyphSet=d,U.glyphLoader=function e(_,T){return new V.Glyph({index:T,font:_})},U.ttfGlyphLoader=function f(_,T,U,X,W,Z){return function(){var $=new V.Glyph({index:T,font:_});return $.path=function(){U($,X,W);var T=Z(_.glyphs,$);return T.unitsPerEm=_.unitsPerEm,T},$}},U.cffGlyphLoader=function g(_,T,U,X){return function(){var W=new V.Glyph({index:T,font:_});return W.path=function(){var T=U(_,W,X);return T.unitsPerEm=_.unitsPerEm,T},W}}},{"./glyph":8}],10:[function(_,T,U){"use strict";function d(_){for(var T=new ArrayBuffer(_.length),U=new Uint8Array(T),V=0;V<_.length;V+=1)U[V]=_[V];return T}function e(T,U){_("fs").readFile(T,(function(_,T){if(_)return U(_.message);U(null,d(T))}))}function f(_,T){var U=new XMLHttpRequest;U.open("get",_,!0),U.responseType="arraybuffer",U.onload=function(){return 200!==U.status?T("Font could not be loaded: "+U.statusText):T(null,U.response)},U.send()}function g(_){var T,U,W,$,me,ge,ye,ve,xe,be,_e=new X.Font,we=new DataView(_,0),Se=Z.getFixed(we,0);if(1===Se)_e.outlinesFormat="truetype";else{if("OTTO"!==(Se=Z.getTag(we,0)))throw new Error("Unsupported OpenType version "+Se);_e.outlinesFormat="cff"}for(var Te=Z.getUShort(we,4),Ce=12,Me=0;Me<Te;Me+=1){var Re=Z.getTag(we,Ce),Ee=Z.getULong(we,Ce+8);switch(Re){case"cmap":_e.tables.cmap=ee.parse(we,Ee),_e.encoding=new V.CmapEncoding(_e.tables.cmap);break;case"fvar":$=Ee;break;case"head":_e.tables.head=oe.parse(we,Ee),_e.unitsPerEm=_e.tables.head.unitsPerEm,T=_e.tables.head.indexToLocFormat;break;case"hhea":_e.tables.hhea=ae.parse(we,Ee),_e.ascender=_e.tables.hhea.ascender,_e.descender=_e.tables.hhea.descender,_e.numberOfHMetrics=_e.tables.hhea.numberOfHMetrics;break;case"hmtx":ye=Ee;break;case"ltag":U=le.parse(we,Ee);break;case"maxp":_e.tables.maxp=pe.parse(we,Ee),_e.numGlyphs=_e.tables.maxp.numGlyphs;break;case"name":be=Ee;break;case"OS/2":_e.tables.os2=fe.parse(we,Ee);break;case"post":_e.tables.post=de.parse(we,Ee),_e.glyphNames=new V.GlyphNames(_e.tables.post);break;case"glyf":me=Ee;break;case"loca":xe=Ee;break;case"CFF ":W=Ee;break;case"kern":ve=Ee;break;case"GPOS":ge=Ee}Ce+=16}if(_e.tables.name=ce.parse(we,be,U),_e.names=_e.tables.name,me&&xe){var Ae=0===T,Ie=ue.parse(we,xe,_e.numGlyphs,Ae);_e.glyphs=ne.parse(we,me,Ie,_e)}else{if(!W)throw new Error("Font doesn't contain TrueType or CFF outlines.");te.parse(we,W,_e)}return se.parse(we,ye,_e.numberOfHMetrics,_e.numGlyphs,_e.glyphs),V.addGlyphNames(_e),_e.kerningPairs=ve?he.parse(we,ve):{},ge&&ie.parse(we,ge,_e),$&&(_e.tables.fvar=re.parse(we,$,_e.names)),_e}var V=_("./encoding"),X=_("./font"),W=_("./glyph"),Z=_("./parse"),$=_("./path"),ee=_("./tables/cmap"),te=_("./tables/cff"),re=_("./tables/fvar"),ne=_("./tables/glyf"),ie=_("./tables/gpos"),oe=_("./tables/head"),ae=_("./tables/hhea"),se=_("./tables/hmtx"),he=_("./tables/kern"),le=_("./tables/ltag"),ue=_("./tables/loca"),pe=_("./tables/maxp"),ce=_("./tables/name"),fe=_("./tables/os2"),de=_("./tables/post");U._parse=Z,U.Font=X.Font,U.Glyph=W.Glyph,U.Path=$.Path,U.parse=g,U.load=function h(_,T){("undefined"==typeof window?e:f)(_,(function(_,U){return _?T(_):T(null,g(U))}))},U.loadSync=function i(T){return g(d(_("fs").readFileSync(T)))}},{"./encoding":6,"./font":7,"./glyph":8,"./parse":11,"./path":12,"./tables/cff":14,"./tables/cmap":15,"./tables/fvar":16,"./tables/glyf":17,"./tables/gpos":18,"./tables/head":19,"./tables/hhea":20,"./tables/hmtx":21,"./tables/kern":22,"./tables/loca":23,"./tables/ltag":24,"./tables/maxp":25,"./tables/name":26,"./tables/os2":27,"./tables/post":28,fs:1}],11:[function(_,T,U){"use strict";function d(_,T){this.data=_,this.offset=T,this.relativeOffset=0}U.getByte=function(_,T){return _.getUint8(T)},U.getCard8=U.getByte,U.getUShort=function(_,T){return _.getUint16(T,!1)},U.getCard16=U.getUShort,U.getShort=function(_,T){return _.getInt16(T,!1)},U.getULong=function(_,T){return _.getUint32(T,!1)},U.getFixed=function(_,T){return _.getInt16(T,!1)+_.getUint16(T+2,!1)/65535},U.getTag=function(_,T){for(var U="",V=T;V<T+4;V+=1)U+=String.fromCharCode(_.getInt8(V));return U},U.getOffset=function(_,T,U){for(var V=0,X=0;X<U;X+=1)V<<=8,V+=_.getUint8(T+X);return V},U.getBytes=function(_,T,U){for(var V=[],X=T;X<U;X+=1)V.push(_.getUint8(X));return V},U.bytesToString=function(_){for(var T="",U=0;U<_.length;U+=1)T+=String.fromCharCode(_[U]);return T};var V={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};d.prototype.parseByte=function(){var _=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},d.prototype.parseChar=function(){var _=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},d.prototype.parseCard8=d.prototype.parseByte,d.prototype.parseUShort=function(){var _=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},d.prototype.parseCard16=d.prototype.parseUShort,d.prototype.parseSID=d.prototype.parseUShort,d.prototype.parseOffset16=d.prototype.parseUShort,d.prototype.parseShort=function(){var _=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},d.prototype.parseF2Dot14=function(){var _=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,_},d.prototype.parseULong=function(){var _=U.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},d.prototype.parseFixed=function(){var _=U.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},d.prototype.parseOffset16List=d.prototype.parseUShortList=function(_){for(var T=new Array(_),V=this.data,X=this.offset+this.relativeOffset,W=0;W<_;W++)T[W]=U.getUShort(V,X),X+=2;return this.relativeOffset+=2*_,T},d.prototype.parseString=function(_){var T=this.data,U=this.offset+this.relativeOffset,V="";this.relativeOffset+=_;for(var X=0;X<_;X++)V+=String.fromCharCode(T.getUint8(U+X));return V},d.prototype.parseTag=function(){return this.parseString(4)},d.prototype.parseLongDateTime=function(){var _=U.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,_},d.prototype.parseFixed=function(){var _=U.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_/65536},d.prototype.parseVersion=function(){var _=U.getUShort(this.data,this.offset+this.relativeOffset),T=U.getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,_+T/4096/10},d.prototype.skip=function(_,T){void 0===T&&(T=1),this.relativeOffset+=V[_]*T},U.Parser=d},{}],12:[function(_,T,U){"use strict";function d(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}d.prototype.moveTo=function(_,T){this.commands.push({type:"M",x:_,y:T})},d.prototype.lineTo=function(_,T){this.commands.push({type:"L",x:_,y:T})},d.prototype.curveTo=d.prototype.bezierCurveTo=function(_,T,U,V,X,W){this.commands.push({type:"C",x1:_,y1:T,x2:U,y2:V,x:X,y:W})},d.prototype.quadTo=d.prototype.quadraticCurveTo=function(_,T,U,V){this.commands.push({type:"Q",x1:_,y1:T,x:U,y:V})},d.prototype.close=d.prototype.closePath=function(){this.commands.push({type:"Z"})},d.prototype.extend=function(_){_.commands&&(_=_.commands),Array.prototype.push.apply(this.commands,_)},d.prototype.draw=function(_){_.beginPath();for(var T=0;T<this.commands.length;T+=1){var U=this.commands[T];"M"===U.type?_.moveTo(U.x,U.y):"L"===U.type?_.lineTo(U.x,U.y):"C"===U.type?_.bezierCurveTo(U.x1,U.y1,U.x2,U.y2,U.x,U.y):"Q"===U.type?_.quadraticCurveTo(U.x1,U.y1,U.x,U.y):"Z"===U.type&&_.closePath()}this.fill&&(_.fillStyle=this.fill,_.fill()),this.stroke&&(_.strokeStyle=this.stroke,_.lineWidth=this.strokeWidth,_.stroke())},d.prototype.toPathData=function(_){function b(T){return Math.round(T)===T?""+Math.round(T):T.toFixed(_)}function c(){for(var _="",T=0;T<arguments.length;T+=1){var U=arguments[T];U>=0&&T>0&&(_+=" "),_+=b(U)}return _}_=void 0!==_?_:2;for(var T="",U=0;U<this.commands.length;U+=1){var V=this.commands[U];"M"===V.type?T+="M"+c(V.x,V.y):"L"===V.type?T+="L"+c(V.x,V.y):"C"===V.type?T+="C"+c(V.x1,V.y1,V.x2,V.y2,V.x,V.y):"Q"===V.type?T+="Q"+c(V.x1,V.y1,V.x,V.y):"Z"===V.type&&(T+="Z")}return T},d.prototype.toSVG=function(_){var T='<path d="';return T+=this.toPathData(_),T+='"',this.fill&"black"!==this.fill&&(T+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(T+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),T+"/>"},U.Path=d},{}],13:[function(_,T,U){"use strict";function d(_,T,U){var V;for(V=0;V<T.length;V+=1){var X=T[V];this[X.name]=X.value}if(this.tableName=_,this.fields=T,U){var W=Object.keys(U);for(V=0;V<W.length;V+=1){var Z=W[V],$=U[Z];void 0!==this[Z]&&(this[Z]=$)}}}var V=_("./check"),X=_("./types").encode,W=_("./types").sizeOf;d.prototype.sizeOf=function(){for(var _=0,T=0;T<this.fields.length;T+=1){var U=this.fields[T],X=this[U.name];if(void 0===X&&(X=U.value),"function"==typeof X.sizeOf)_+=X.sizeOf();else{var Z=W[U.type];V.assert("function"==typeof Z,"Could not find sizeOf function for field"+U.name),_+=Z(X)}}return _},d.prototype.encode=function(){return X.TABLE(this)},U.Table=d},{"./check":4,"./types":30}],14:[function(_,T,U){"use strict";function d(_,T){if(_===T)return!0;if(Array.isArray(_)&&Array.isArray(T)){if(_.length!==T.length)return!1;for(var U=0;U<_.length;U+=1)if(!d(_[U],T[U]))return!1;return!0}return!1}function e(_,T,U){var V,X,Z,$=[],ee=[],te=W.getCard16(_,T);if(0!==te){var re=W.getByte(_,T+2);X=T+(te+1)*re+2;var ne=T+3;for(V=0;V<te+1;V+=1)$.push(W.getOffset(_,ne,re)),ne+=re;Z=X+$[te]}else Z=T+2;for(V=0;V<$.length-1;V+=1){var ie=W.getBytes(_,X+$[V],X+$[V+1]);U&&(ie=U(ie)),ee.push(ie)}return{objects:ee,startOffset:T,endOffset:Z}}function g(_,T){if(28===T)return _.parseByte()<<8|_.parseByte();if(29===T)return _.parseByte()<<24|_.parseByte()<<16|_.parseByte()<<8|_.parseByte();if(30===T)return function f(_){for(var T="",U=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var V=_.parseByte(),X=V>>4,W=15&V;if(15===X)break;if(T+=U[X],15===W)break;T+=U[W]}return parseFloat(T)}(_);if(T>=32&&T<=246)return T-139;if(T>=247&&T<=250)return 256*(T-247)+_.parseByte()+108;if(T>=251&&T<=254)return 256*-(T-251)-_.parseByte()-108;throw new Error("Invalid b0 "+T)}function i(_,T,U){T=void 0!==T?T:0;var V=new W.Parser(_,T),X=[],Z=[];for(U=void 0!==U?U:_.length;V.relativeOffset<U;){var $=V.parseByte();$<=21?(12===$&&($=1200+V.parseByte()),X.push([$,Z]),Z=[]):Z.push(g(V,$))}return function h(_){for(var T={},U=0;U<_.length;U+=1){var V,X=_[U][0],W=_[U][1];if(V=1===W.length?W[0]:W,T.hasOwnProperty(X))throw new Error("Object "+T+" already has key "+X);T[X]=V}return T}(X)}function j(_,T){return T<=390?V.cffStandardStrings[T]:_[T-391]}function k(_,T,U){for(var V={},X=0;X<T.length;X+=1){var W=T[X],Z=_[W.op];void 0===Z&&(Z=void 0!==W.value?W.value:null),"SID"===W.type&&(Z=j(U,Z)),V[W.name]=Z}return V}function m(_,T){return k(i(_,0,_.byteLength),ee,T)}function n(_,T,U,V){return k(i(_,T,U),te,V)}function o(_,T,U,V){var X,Z,$,ee=new W.Parser(_,T);U-=1;var te=[".notdef"],re=ee.parseCard8();if(0===re)for(X=0;X<U;X+=1)Z=ee.parseSID(),te.push(j(V,Z));else if(1===re)for(;te.length<=U;)for(Z=ee.parseSID(),$=ee.parseCard8(),X=0;X<=$;X+=1)te.push(j(V,Z)),Z+=1;else{if(2!==re)throw new Error("Unknown charset format "+re);for(;te.length<=U;)for(Z=ee.parseSID(),$=ee.parseCard16(),X=0;X<=$;X+=1)te.push(j(V,Z)),Z+=1}return te}function q(_,T,U){function d(_,T){oe&&ee.closePath(),ee.moveTo(_,T),oe=!0}function e(){te.length%2!=0&&!ne&&(ie=te.shift()+_.nominalWidthX),re+=te.length>>1,te.length=0,ne=!0}var V,X,W,$,ee=new Z.Path,te=[],re=0,ne=!1,ie=_.defaultWidthX,oe=!1,ae=0,se=0;return function f(U){for(var Z,he,le,ue,pe,ce,fe,de,me,ge,ye,ve,xe=0;xe<U.length;){var be=U[xe];switch(xe+=1,be){case 1:case 3:e();break;case 4:te.length>1&&!ne&&(ie=te.shift()+_.nominalWidthX,ne=!0),se+=te.pop(),d(ae,se);break;case 5:for(;te.length>0;)ae+=te.shift(),se+=te.shift(),ee.lineTo(ae,se);break;case 6:for(;te.length>0&&(ae+=te.shift(),ee.lineTo(ae,se),0!==te.length);)se+=te.shift(),ee.lineTo(ae,se);break;case 7:for(;te.length>0&&(se+=te.shift(),ee.lineTo(ae,se),0!==te.length);)ae+=te.shift(),ee.lineTo(ae,se);break;case 8:for(;te.length>0;)V=ae+te.shift(),X=se+te.shift(),W=V+te.shift(),$=X+te.shift(),ae=W+te.shift(),se=$+te.shift(),ee.curveTo(V,X,W,$,ae,se);break;case 10:pe=te.pop()+_.subrsBias,(ce=_.subrs[pe])&&f(ce);break;case 11:return;case 12:switch(be=U[xe],xe+=1,be){case 35:V=ae+te.shift(),X=se+te.shift(),W=V+te.shift(),$=X+te.shift(),fe=W+te.shift(),de=$+te.shift(),me=fe+te.shift(),ge=de+te.shift(),ye=me+te.shift(),ve=ge+te.shift(),ae=ye+te.shift(),se=ve+te.shift(),te.shift(),ee.curveTo(V,X,W,$,fe,de),ee.curveTo(me,ge,ye,ve,ae,se);break;case 34:V=ae+te.shift(),X=se,W=V+te.shift(),$=X+te.shift(),fe=W+te.shift(),de=$,me=fe+te.shift(),ge=$,ye=me+te.shift(),ve=se,ae=ye+te.shift(),ee.curveTo(V,X,W,$,fe,de),ee.curveTo(me,ge,ye,ve,ae,se);break;case 36:V=ae+te.shift(),X=se+te.shift(),W=V+te.shift(),$=X+te.shift(),fe=W+te.shift(),de=$,me=fe+te.shift(),ge=$,ye=me+te.shift(),ve=ge+te.shift(),ae=ye+te.shift(),ee.curveTo(V,X,W,$,fe,de),ee.curveTo(me,ge,ye,ve,ae,se);break;case 37:V=ae+te.shift(),X=se+te.shift(),W=V+te.shift(),$=X+te.shift(),fe=W+te.shift(),de=$+te.shift(),me=fe+te.shift(),ge=de+te.shift(),ye=me+te.shift(),ve=ge+te.shift(),Math.abs(ye-ae)>Math.abs(ve-se)?ae=ye+te.shift():se=ve+te.shift(),ee.curveTo(V,X,W,$,fe,de),ee.curveTo(me,ge,ye,ve,ae,se);break;default:console.log("Glyph "+T.index+": unknown operator 1200"+be),te.length=0}break;case 14:te.length>0&&!ne&&(ie=te.shift()+_.nominalWidthX,ne=!0),oe&&(ee.closePath(),oe=!1);break;case 18:e();break;case 19:case 20:e(),xe+=re+7>>3;break;case 21:te.length>2&&!ne&&(ie=te.shift()+_.nominalWidthX,ne=!0),se+=te.pop(),d(ae+=te.pop(),se);break;case 22:te.length>1&&!ne&&(ie=te.shift()+_.nominalWidthX,ne=!0),d(ae+=te.pop(),se);break;case 23:e();break;case 24:for(;te.length>2;)V=ae+te.shift(),X=se+te.shift(),W=V+te.shift(),$=X+te.shift(),ae=W+te.shift(),se=$+te.shift(),ee.curveTo(V,X,W,$,ae,se);ae+=te.shift(),se+=te.shift(),ee.lineTo(ae,se);break;case 25:for(;te.length>6;)ae+=te.shift(),se+=te.shift(),ee.lineTo(ae,se);V=ae+te.shift(),X=se+te.shift(),W=V+te.shift(),$=X+te.shift(),ae=W+te.shift(),se=$+te.shift(),ee.curveTo(V,X,W,$,ae,se);break;case 26:for(te.length%2&&(ae+=te.shift());te.length>0;)V=ae,X=se+te.shift(),W=V+te.shift(),$=X+te.shift(),ae=W,se=$+te.shift(),ee.curveTo(V,X,W,$,ae,se);break;case 27:for(te.length%2&&(se+=te.shift());te.length>0;)V=ae+te.shift(),X=se,W=V+te.shift(),$=X+te.shift(),ae=W+te.shift(),se=$,ee.curveTo(V,X,W,$,ae,se);break;case 28:Z=U[xe],he=U[xe+1],te.push((Z<<24|he<<16)>>16),xe+=2;break;case 29:pe=te.pop()+_.gsubrsBias,(ce=_.gsubrs[pe])&&f(ce);break;case 30:for(;te.length>0&&(V=ae,X=se+te.shift(),W=V+te.shift(),$=X+te.shift(),ae=W+te.shift(),se=$+(1===te.length?te.shift():0),ee.curveTo(V,X,W,$,ae,se),0!==te.length);)V=ae+te.shift(),X=se,W=V+te.shift(),$=X+te.shift(),se=$+te.shift(),ae=W+(1===te.length?te.shift():0),ee.curveTo(V,X,W,$,ae,se);break;case 31:for(;te.length>0&&(V=ae+te.shift(),X=se,W=V+te.shift(),$=X+te.shift(),se=$+te.shift(),ae=W+(1===te.length?te.shift():0),ee.curveTo(V,X,W,$,ae,se),0!==te.length);)V=ae,X=se+te.shift(),W=V+te.shift(),$=X+te.shift(),ae=W+te.shift(),se=$+(1===te.length?te.shift():0),ee.curveTo(V,X,W,$,ae,se);break;default:be<32?console.log("Glyph "+T.index+": unknown operator "+be):be<247?te.push(be-139):be<251?(Z=U[xe],xe+=1,te.push(256*(be-247)+Z+108)):be<255?(Z=U[xe],xe+=1,te.push(256*-(be-251)-Z-108)):(Z=U[xe],he=U[xe+1],le=U[xe+2],ue=U[xe+3],xe+=4,te.push((Z<<24|he<<16|le<<8|ue)/65536))}}}(U),T.advanceWidth=ie,ee}function r(_){return _.length<1240?107:_.length<33900?1131:32768}function t(_,T){var U,X=V.cffStandardStrings.indexOf(_);return X>=0&&(U=X),(X=T.indexOf(_))>=0?U=X+V.cffStandardStrings.length:(U=V.cffStandardStrings.length+T.length,T.push(_)),U}function w(_,T,U){for(var V={},X=0;X<_.length;X+=1){var W=_[X],Z=T[W.name];void 0===Z||d(Z,W.value)||("SID"===W.type&&(Z=t(Z,U)),V[W.op]={name:W.name,type:W.type,value:Z})}return V}function x(_,T){var U=new $.Table("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return U.dict=w(ee,_,T),U}function y(_){var T=new $.Table("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return T.topDicts=[{name:"topDict_0",type:"TABLE",value:_}],T}function C(_){var T=[],U=_.path;T.push({name:"width",type:"NUMBER",value:_.advanceWidth});for(var V=0,X=0,W=0;W<U.commands.length;W+=1){var Z,$,ee=U.commands[W];if("Q"===ee.type){var te=1/3,re=2/3;ee={type:"C",x:ee.x,y:ee.y,x1:te*V+re*ee.x1,y1:te*X+re*ee.y1,x2:te*ee.x+re*ee.x1,y2:te*ee.y+re*ee.y1}}if("M"===ee.type)Z=Math.round(ee.x-V),$=Math.round(ee.y-X),T.push({name:"dx",type:"NUMBER",value:Z}),T.push({name:"dy",type:"NUMBER",value:$}),T.push({name:"rmoveto",type:"OP",value:21}),V=Math.round(ee.x),X=Math.round(ee.y);else if("L"===ee.type)Z=Math.round(ee.x-V),$=Math.round(ee.y-X),T.push({name:"dx",type:"NUMBER",value:Z}),T.push({name:"dy",type:"NUMBER",value:$}),T.push({name:"rlineto",type:"OP",value:5}),V=Math.round(ee.x),X=Math.round(ee.y);else if("C"===ee.type){var ne=Math.round(ee.x1-V),ie=Math.round(ee.y1-X),oe=Math.round(ee.x2-ee.x1),ae=Math.round(ee.y2-ee.y1);Z=Math.round(ee.x-ee.x2),$=Math.round(ee.y-ee.y2),T.push({name:"dx1",type:"NUMBER",value:ne}),T.push({name:"dy1",type:"NUMBER",value:ie}),T.push({name:"dx2",type:"NUMBER",value:oe}),T.push({name:"dy2",type:"NUMBER",value:ae}),T.push({name:"dx",type:"NUMBER",value:Z}),T.push({name:"dy",type:"NUMBER",value:$}),T.push({name:"rrcurveto",type:"OP",value:8}),V=Math.round(ee.x),X=Math.round(ee.y)}}return T.push({name:"endchar",type:"OP",value:14}),T}var V=_("../encoding"),X=_("../glyphset"),W=_("../parse"),Z=_("../path"),$=_("../table"),ee=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],te=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];U.parse=function s(_,T,U){U.tables.cff={};var Z=e(_,function l(_,T){var U={};return U.formatMajor=W.getCard8(_,T),U.formatMinor=W.getCard8(_,T+1),U.size=W.getCard8(_,T+2),U.offsetSize=W.getCard8(_,T+3),U.startOffset=T,U.endOffset=T+4,U}(_,T).endOffset,W.bytesToString),$=e(_,Z.endOffset),ee=e(_,$.endOffset,W.bytesToString),te=e(_,ee.endOffset);U.gsubrs=te.objects,U.gsubrsBias=r(U.gsubrs);var re=m(new DataView(new Uint8Array($.objects[0]).buffer),ee.objects);U.tables.cff.topDict=re;var ne=T+re.private[1],ie=n(_,ne,re.private[0],ee.objects);if(U.defaultWidthX=ie.defaultWidthX,U.nominalWidthX=ie.nominalWidthX,0!==ie.subrs){var oe=e(_,ne+ie.subrs);U.subrs=oe.objects,U.subrsBias=r(U.subrs)}else U.subrs=[],U.subrsBias=0;var ae=e(_,T+re.charStrings);U.nGlyphs=ae.objects.length;var se=o(_,T+re.charset,U.nGlyphs,ee.objects);0===re.encoding?U.cffEncoding=new V.CffEncoding(V.cffStandardEncoding,se):1===re.encoding?U.cffEncoding=new V.CffEncoding(V.cffExpertEncoding,se):U.cffEncoding=function p(_,T,U){var X,Z,$={},ee=new W.Parser(_,T),te=ee.parseCard8();if(0===te){var re=ee.parseCard8();for(X=0;X<re;X+=1)$[Z=ee.parseCard8()]=X}else{if(1!==te)throw new Error("Unknown encoding format "+te);var ne=ee.parseCard8();for(Z=1,X=0;X<ne;X+=1)for(var ie=ee.parseCard8(),oe=ee.parseCard8(),ae=ie;ae<=ie+oe;ae+=1)$[ae]=Z,Z+=1}return new V.CffEncoding($,U)}(_,T+re.encoding,se),U.encoding=U.encoding||U.cffEncoding,U.glyphs=new X.GlyphSet(U);for(var he=0;he<U.nGlyphs;he+=1){var le=ae.objects[he];U.glyphs.push(he,X.cffGlyphLoader(U,he,q,le))}},U.make=function G(_,T){for(var U,V=new $.Table("CFF ",[{name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDictIndex",type:"TABLE"}]),X=1/T.unitsPerEm,W={version:T.version,fullName:T.fullName,familyName:T.familyName,weight:T.weightName,fontMatrix:[X,0,0,X,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Z=[],ee=1;ee<_.length;ee+=1)U=_.get(ee),Z.push(U.name);var re=[];V.header=function u(){return new $.Table("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}(),V.nameIndex=function v(_){var T=new $.Table("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);T.names=[];for(var U=0;U<_.length;U+=1)T.names.push({name:"name_"+U,type:"NAME",value:_[U]});return T}([T.postScriptName]);var ne=x(W,re);V.topDictIndex=y(ne),V.globalSubrIndex=function A(){return new $.Table("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}(),V.charsets=function B(_,T){for(var U=new $.Table("Charsets",[{name:"format",type:"Card8",value:0}]),V=0;V<_.length;V+=1){var X=t(_[V],T);U.fields.push({name:"glyph_"+V,type:"SID",value:X})}return U}(Z,re),V.charStringsIndex=function D(_){for(var T=new $.Table("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),U=0;U<_.length;U+=1){var V=_.get(U),X=C(V);T.charStrings.push({name:V.name,type:"CHARSTRING",value:X})}return T}(_);var ie=function E(_,T){var U=new $.Table("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return U.dict=w(te,_,T),U}({},re);V.privateDictIndex=function F(_){var T=new $.Table("Private DICT INDEX",[{name:"privateDicts",type:"INDEX",value:[]}]);return T.privateDicts=[{name:"privateDict_0",type:"TABLE",value:_}],T}(ie),V.stringIndex=function z(_){var T=new $.Table("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);T.strings=[];for(var U=0;U<_.length;U+=1)T.strings.push({name:"string_"+U,type:"STRING",value:_[U]});return T}(re);var oe=V.header.sizeOf()+V.nameIndex.sizeOf()+V.topDictIndex.sizeOf()+V.stringIndex.sizeOf()+V.globalSubrIndex.sizeOf();return W.charset=oe,W.encoding=0,W.charStrings=W.charset+V.charsets.sizeOf(),W.private[1]=W.charStrings+V.charStringsIndex.sizeOf(),ne=x(W,re),V.topDictIndex=y(ne),V}},{"../encoding":6,"../glyphset":9,"../parse":11,"../path":12,"../table":13}],15:[function(_,T,U){"use strict";function e(_,T,U){_.segments.push({end:T,start:T,delta:-(T-U),offset:0})}var V=_("../check"),X=_("../parse"),W=_("../table");U.parse=function d(_,T){var U,W={};W.version=X.getUShort(_,T),V.argument(0===W.version,"cmap table version should be 0."),W.numTables=X.getUShort(_,T+2);var Z=-1;for(U=0;U<W.numTables;U+=1){var $=X.getUShort(_,T+4+8*U),ee=X.getUShort(_,T+4+8*U+2);if(3===$&&(1===ee||0===ee)){Z=X.getULong(_,T+4+8*U+4);break}}if(-1===Z)return null;var te,re=new X.Parser(_,T+Z);W.format=re.parseUShort(),V.argument(4===W.format,"Only format 4 cmap tables are supported."),W.length=re.parseUShort(),W.language=re.parseUShort(),W.segCount=te=re.parseUShort()>>1,re.skip("uShort",3),W.glyphIndexMap={};var ne=new X.Parser(_,T+Z+14),ie=new X.Parser(_,T+Z+16+2*te),oe=new X.Parser(_,T+Z+16+4*te),ae=new X.Parser(_,T+Z+16+6*te),se=T+Z+16+8*te;for(U=0;U<te-1;U+=1)for(var he,le=ne.parseUShort(),ue=ie.parseUShort(),pe=oe.parseShort(),ce=ae.parseUShort(),fe=ue;fe<=le;fe+=1)0!==ce?(se=ae.offset+ae.relativeOffset-2,se+=ce,se+=2*(fe-ue),0!==(he=X.getUShort(_,se))&&(he=he+pe&65535)):he=fe+pe&65535,W.glyphIndexMap[fe]=he;return W},U.make=function g(_){var T,U,V=new W.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(V.segments=[],T=0;T<_.length;T+=1){for(var X=_.get(T),Z=0;Z<X.unicodes.length;Z+=1)e(V,X.unicodes[Z],T);V.segments=V.segments.sort((function(_,T){return _.start-T.start}))}!function f(_){_.segments.push({end:65535,start:65535,delta:1,offset:0})}(V),U=V.segments.length,V.segCountX2=2*U,V.searchRange=2*Math.pow(2,Math.floor(Math.log(U)/Math.log(2))),V.entrySelector=Math.log(V.searchRange/2)/Math.log(2),V.rangeShift=V.segCountX2-V.searchRange;var $=[],ee=[],te=[],re=[],ne=[];for(T=0;T<U;T+=1){var ie=V.segments[T];$=$.concat({name:"end_"+T,type:"USHORT",value:ie.end}),ee=ee.concat({name:"start_"+T,type:"USHORT",value:ie.start}),te=te.concat({name:"idDelta_"+T,type:"SHORT",value:ie.delta}),re=re.concat({name:"idRangeOffset_"+T,type:"USHORT",value:ie.offset}),void 0!==ie.glyphId&&(ne=ne.concat({name:"glyph_"+T,type:"USHORT",value:ie.glyphId}))}return V.fields=V.fields.concat($),V.fields.push({name:"reservedPad",type:"USHORT",value:0}),V.fields=V.fields.concat(ee),V.fields=V.fields.concat(te),V.fields=V.fields.concat(re),V.fields=V.fields.concat(ne),V.length=14+2*$.length+2+2*ee.length+2*te.length+2*re.length+2*ne.length,V}},{"../check":4,"../parse":11,"../table":13}],16:[function(_,T,U){"use strict";function d(_,T){var U=JSON.stringify(_),V=256;for(var X in T){var W=parseInt(X);if(W&&!(W<256)){if(JSON.stringify(T[X])===U)return W;V<=W&&(V=W+1)}}return T[V]=_,V}function e(_,T){var U=d(_.name,T);return new W.Table("fvarAxis",[{name:"tag",type:"TAG",value:_.tag},{name:"minValue",type:"FIXED",value:_.minValue<<16},{name:"defaultValue",type:"FIXED",value:_.defaultValue<<16},{name:"maxValue",type:"FIXED",value:_.maxValue<<16},{name:"flags",type:"USHORT",value:0},{name:"nameID",type:"USHORT",value:U}])}function f(_,T,U){var V={},W=new X.Parser(_,T);return V.tag=W.parseTag(),V.minValue=W.parseFixed(),V.defaultValue=W.parseFixed(),V.maxValue=W.parseFixed(),W.skip("uShort",1),V.name=U[W.parseUShort()]||{},V}function g(_,T,U){for(var V=[{name:"nameID",type:"USHORT",value:d(_.name,U)},{name:"flags",type:"USHORT",value:0}],X=0;X<T.length;++X){var Z=T[X].tag;V.push({name:"axis "+Z,type:"FIXED",value:_.coordinates[Z]<<16})}return new W.Table("fvarInstance",V)}function h(_,T,U,V){var W={},Z=new X.Parser(_,T);W.name=V[Z.parseUShort()]||{},Z.skip("uShort",1),W.coordinates={};for(var $=0;$<U.length;++$)W.coordinates[U[$].tag]=Z.parseFixed();return W}var V=_("../check"),X=_("../parse"),W=_("../table");U.make=function i(_,T){var U=new W.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:_.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:_.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*_.axes.length}]);U.offsetToData=U.sizeOf();for(var V=0;V<_.axes.length;V++)U.fields.push({name:"axis "+V,type:"TABLE",value:e(_.axes[V],T)});for(var X=0;X<_.instances.length;X++)U.fields.push({name:"instance "+X,type:"TABLE",value:g(_.instances[X],_.axes,T)});return U},U.parse=function j(_,T,U){var W=new X.Parser(_,T),Z=W.parseULong();V.argument(65536===Z,"Unsupported fvar table version.");var $=W.parseOffset16();W.skip("uShort",1);for(var ee=W.parseUShort(),te=W.parseUShort(),re=W.parseUShort(),ne=W.parseUShort(),ie=[],oe=0;oe<ee;oe++)ie.push(f(_,T+$+oe*te,U));for(var ae=[],se=T+$+ee*te,he=0;he<re;he++)ae.push(h(_,se+he*ne,ie,U));return{axes:ie,instances:ae}}},{"../check":4,"../parse":11,"../table":13}],17:[function(_,T,U){"use strict";function d(_,T,U,V,X){var W;return(T&V)>0?(W=_.parseByte(),0==(T&X)&&(W=-W),W=U+W):W=(T&X)>0?U:U+_.parseShort(),W}function e(_,T,U){var X,Z,$=new W.Parser(T,U);if(_.numberOfContours=$.parseShort(),_.xMin=$.parseShort(),_.yMin=$.parseShort(),_.xMax=$.parseShort(),_.yMax=$.parseShort(),_.numberOfContours>0){var ee,te=_.endPointIndices=[];for(ee=0;ee<_.numberOfContours;ee+=1)te.push($.parseUShort());for(_.instructionLength=$.parseUShort(),_.instructions=[],ee=0;ee<_.instructionLength;ee+=1)_.instructions.push($.parseByte());var re=te[te.length-1]+1;for(X=[],ee=0;ee<re;ee+=1)if(Z=$.parseByte(),X.push(Z),(8&Z)>0)for(var ne=$.parseByte(),ie=0;ie<ne;ie+=1)X.push(Z),ee+=1;if(V.argument(X.length===re,"Bad flags."),te.length>0){var oe,ae=[];if(re>0){for(ee=0;ee<re;ee+=1)Z=X[ee],(oe={}).onCurve=!!(1&Z),oe.lastPointOfContour=te.indexOf(ee)>=0,ae.push(oe);var se=0;for(ee=0;ee<re;ee+=1)Z=X[ee],(oe=ae[ee]).x=d($,Z,se,2,16),se=oe.x;var he=0;for(ee=0;ee<re;ee+=1)Z=X[ee],(oe=ae[ee]).y=d($,Z,he,4,32),he=oe.y}_.points=ae}else _.points=[]}else if(0===_.numberOfContours)_.points=[];else{_.isComposite=!0,_.points=[],_.components=[];for(var le=!0;le;){X=$.parseUShort();var ue={glyphIndex:$.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&X)>0?(ue.dx=$.parseShort(),ue.dy=$.parseShort()):(ue.dx=$.parseChar(),ue.dy=$.parseChar()),(8&X)>0?ue.xScale=ue.yScale=$.parseF2Dot14():(64&X)>0?(ue.xScale=$.parseF2Dot14(),ue.yScale=$.parseF2Dot14()):(128&X)>0&&(ue.xScale=$.parseF2Dot14(),ue.scale01=$.parseF2Dot14(),ue.scale10=$.parseF2Dot14(),ue.yScale=$.parseF2Dot14()),_.components.push(ue),le=!!(32&X)}}}function f(_,T){for(var U=[],V=0;V<_.length;V+=1){var X=_[V],W={x:T.xScale*X.x+T.scale01*X.y+T.dx,y:T.scale10*X.x+T.yScale*X.y+T.dy,onCurve:X.onCurve,lastPointOfContour:X.lastPointOfContour};U.push(W)}return U}function g(_){for(var T=[],U=[],X=0;X<_.length;X+=1){var W=_[X];U.push(W),W.lastPointOfContour&&(T.push(U),U=[])}return V.argument(0===U.length,"There are still points left in the current contour."),T}function h(_){var T=new Z.Path;if(!_)return T;for(var U=g(_),V=0;V<U.length;V+=1){var X,W,$=U[V],ee=$[0],te=$[$.length-1];ee.onCurve?(X=null,W=!0):(X=ee=te.onCurve?te:{x:(ee.x+te.x)/2,y:(ee.y+te.y)/2},W=!1),T.moveTo(ee.x,ee.y);for(var re=W?1:0;re<$.length;re+=1){var ne=$[re],ie=0===re?ee:$[re-1];if(ie.onCurve&&ne.onCurve)T.lineTo(ne.x,ne.y);else if(ie.onCurve&&!ne.onCurve)X=ne;else if(ie.onCurve||ne.onCurve){if(ie.onCurve||!ne.onCurve)throw new Error("Invalid state.");T.quadraticCurveTo(X.x,X.y,ne.x,ne.y),X=null}else{var oe={x:(ie.x+ne.x)/2,y:(ie.y+ne.y)/2};T.quadraticCurveTo(ie.x,ie.y,oe.x,oe.y),X=ne}}ee!==te&&(X?T.quadraticCurveTo(X.x,X.y,ee.x,ee.y):T.lineTo(ee.x,ee.y))}return T.closePath(),T}function i(_,T){if(T.isComposite)for(var U=0;U<T.components.length;U+=1){var V=T.components[U],X=_.get(V.glyphIndex);if(X.getPath(),X.points){var W=f(X.points,V);T.points=T.points.concat(W)}}return h(T.points)}var V=_("../check"),X=_("../glyphset"),W=_("../parse"),Z=_("../path");U.parse=function j(_,T,U,V){var W,Z=new X.GlyphSet(V);for(W=0;W<U.length-1;W+=1){var $=U[W];$!==U[W+1]?Z.push(W,X.ttfGlyphLoader(V,W,e,_,T+$,i)):Z.push(W,X.glyphLoader(V,W))}return Z}},{"../check":4,"../glyphset":9,"../parse":11,"../path":12}],18:[function(_,T,U){"use strict";function d(_,T){for(var U=new X.Parser(_,T),V=U.parseUShort(),W=[],Z=0;Z<V;Z++)W[U.parseTag()]={offset:U.parseUShort()};return W}function f(_,T){var U=new X.Parser(_,T),V=U.parseUShort();if(1===V){var W=U.parseUShort(),Z=U.parseUShort(),$=U.parseUShortList(Z);return function(_){return $[_-W]||0}}if(2===V){for(var ee=U.parseUShort(),te=[],re=[],ne=[],ie=0;ie<ee;ie++)te[ie]=U.parseUShort(),re[ie]=U.parseUShort(),ne[ie]=U.parseUShort();return function(_){for(var T=0,U=te.length-1;T<U;){var V=T+U+1>>1;_<te[V]?U=V-1:T=V}return te[T]<=_&&_<=re[T]&&ne[T]||0}}}function g(_,T){var U,V=new X.Parser(_,T),W=V.parseUShort(),Z=function e(_,T){var U=new X.Parser(_,T),V=U.parseUShort(),W=U.parseUShort();if(1===V)return U.parseUShortList(W);if(2===V){for(var Z=[];W--;)for(var $=U.parseUShort(),ee=U.parseUShort(),te=U.parseUShort(),re=$;re<=ee;re++)Z[te++]=re;return Z}}(_,T+V.parseUShort()),$=V.parseUShort(),ee=V.parseUShort();if(4===$&&0===ee){var te={};if(1===W){for(var re=V.parseUShort(),ne=[],ie=V.parseOffset16List(re),oe=0;oe<re;oe++){var ae=ie[oe],se=te[ae];if(!se){se={},V.relativeOffset=ae;for(var he=V.parseUShort();he--;){var le=V.parseUShort();$&&(U=V.parseShort()),ee&&V.parseShort(),se[le]=U}}ne[Z[oe]]=se}return function(_,T){var U=ne[_];if(U)return U[T]}}if(2===W){for(var ue=V.parseUShort(),pe=V.parseUShort(),ce=V.parseUShort(),fe=V.parseUShort(),de=f(_,T+ue),me=f(_,T+pe),ge=[],ye=0;ye<ce;ye++)for(var ve=ge[ye]=[],xe=0;xe<fe;xe++)$&&(U=V.parseShort()),ee&&V.parseShort(),ve[xe]=U;var be={};for(ye=0;ye<Z.length;ye++)be[Z[ye]]=1;return function(_,T){if(be[_]){var U=de(_),V=me(T),X=ge[U];return X?X[V]:void 0}}}}}function h(_,T){var U=new X.Parser(_,T),V=U.parseUShort(),W=U.parseUShort(),Z=16&W,$=U.parseUShort(),ee=U.parseOffset16List($),te={lookupType:V,lookupFlag:W,markFilteringSet:Z?U.parseUShort():-1};if(2===V){for(var re=[],ne=0;ne<$;ne++)re.push(g(_,T+ee[ne]));te.getKerningValue=function(_,T){for(var U=re.length;U--;){var V=re[U](_,T);if(void 0!==V)return V}return 0}}return te}var V=_("../check"),X=_("../parse");U.parse=function i(_,T,U){var W=new X.Parser(_,T),Z=W.parseFixed();V.argument(1===Z,"Unsupported GPOS table version."),d(_,T+W.parseUShort()),d(_,T+W.parseUShort());var $=W.parseUShort();W.relativeOffset=$;for(var ee=W.parseUShort(),te=W.parseOffset16List(ee),re=T+$,ne=0;ne<ee;ne++){var ie=h(_,re+te[ne]);2!==ie.lookupType||U.getGposKerningValue||(U.getGposKerningValue=ie.getKerningValue)}}},{"../check":4,"../parse":11}],19:[function(_,T,U){"use strict";var V=_("../check"),X=_("../parse"),W=_("../table");U.parse=function d(_,T){var U={},W=new X.Parser(_,T);return U.version=W.parseVersion(),U.fontRevision=Math.round(1e3*W.parseFixed())/1e3,U.checkSumAdjustment=W.parseULong(),U.magicNumber=W.parseULong(),V.argument(1594834165===U.magicNumber,"Font header has wrong magic number."),U.flags=W.parseUShort(),U.unitsPerEm=W.parseUShort(),U.created=W.parseLongDateTime(),U.modified=W.parseLongDateTime(),U.xMin=W.parseShort(),U.yMin=W.parseShort(),U.xMax=W.parseShort(),U.yMax=W.parseShort(),U.macStyle=W.parseUShort(),U.lowestRecPPEM=W.parseUShort(),U.fontDirectionHint=W.parseShort(),U.indexToLocFormat=W.parseShort(),U.glyphDataFormat=W.parseShort(),U},U.make=function e(_){return new W.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],_)}},{"../check":4,"../parse":11,"../table":13}],20:[function(_,T,U){"use strict";var V=_("../parse"),X=_("../table");U.parse=function d(_,T){var U={},X=new V.Parser(_,T);return U.version=X.parseVersion(),U.ascender=X.parseShort(),U.descender=X.parseShort(),U.lineGap=X.parseShort(),U.advanceWidthMax=X.parseUShort(),U.minLeftSideBearing=X.parseShort(),U.minRightSideBearing=X.parseShort(),U.xMaxExtent=X.parseShort(),U.caretSlopeRise=X.parseShort(),U.caretSlopeRun=X.parseShort(),U.caretOffset=X.parseShort(),X.relativeOffset+=8,U.metricDataFormat=X.parseShort(),U.numberOfHMetrics=X.parseUShort(),U},U.make=function e(_){return new X.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],_)}},{"../parse":11,"../table":13}],21:[function(_,T,U){"use strict";var V=_("../parse"),X=_("../table");U.parse=function d(_,T,U,X,W){for(var Z,$,ee=new V.Parser(_,T),te=0;te<X;te+=1){te<U&&(Z=ee.parseUShort(),$=ee.parseShort());var re=W.get(te);re.advanceWidth=Z,re.leftSideBearing=$}},U.make=function e(_){for(var T=new X.Table("hmtx",[]),U=0;U<_.length;U+=1){var V=_.get(U),W=V.advanceWidth||0,Z=V.leftSideBearing||0;T.fields.push({name:"advanceWidth_"+U,type:"USHORT",value:W}),T.fields.push({name:"leftSideBearing_"+U,type:"SHORT",value:Z})}return T}},{"../parse":11,"../table":13}],22:[function(_,T,U){"use strict";var V=_("../check"),X=_("../parse");U.parse=function d(_,T){var U={},W=new X.Parser(_,T),Z=W.parseUShort();V.argument(0===Z,"Unsupported kern table version."),W.skip("uShort",1);var $=W.parseUShort();V.argument(0===$,"Unsupported kern sub-table version."),W.skip("uShort",2);var ee=W.parseUShort();W.skip("uShort",3);for(var te=0;te<ee;te+=1){var re=W.parseUShort(),ne=W.parseUShort(),ie=W.parseShort();U[re+","+ne]=ie}return U}},{"../check":4,"../parse":11}],23:[function(_,T,U){"use strict";var V=_("../parse");U.parse=function d(_,T,U,X){for(var W=new V.Parser(_,T),Z=X?W.parseUShort:W.parseULong,$=[],ee=0;ee<U+1;ee+=1){var te=Z.call(W);X&&(te*=2),$.push(te)}return $}},{"../parse":11}],24:[function(_,T,U){"use strict";var V=_("../check"),X=_("../parse"),W=_("../table");U.make=function d(_){for(var T=new W.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:_.length}]),U="",V=12+4*_.length,X=0;X<_.length;++X){var Z=U.indexOf(_[X]);Z<0&&(Z=U.length,U+=_[X]),T.fields.push({name:"offset "+X,type:"USHORT",value:V+Z}),T.fields.push({name:"length "+X,type:"USHORT",value:_[X].length})}return T.fields.push({name:"stringPool",type:"CHARARRAY",value:U}),T},U.parse=function e(_,T){var U=new X.Parser(_,T),W=U.parseULong();V.argument(1===W,"Unsupported ltag table version."),U.skip("uLong",1);for(var Z=U.parseULong(),$=[],ee=0;ee<Z;ee++){for(var te="",re=T+U.parseUShort(),ne=U.parseUShort(),ie=re;ie<re+ne;++ie)te+=String.fromCharCode(_.getInt8(ie));$.push(te)}return $}},{"../check":4,"../parse":11,"../table":13}],25:[function(_,T,U){"use strict";var V=_("../parse"),X=_("../table");U.parse=function d(_,T){var U={},X=new V.Parser(_,T);return U.version=X.parseVersion(),U.numGlyphs=X.parseUShort(),1===U.version&&(U.maxPoints=X.parseUShort(),U.maxContours=X.parseUShort(),U.maxCompositePoints=X.parseUShort(),U.maxCompositeContours=X.parseUShort(),U.maxZones=X.parseUShort(),U.maxTwilightPoints=X.parseUShort(),U.maxStorage=X.parseUShort(),U.maxFunctionDefs=X.parseUShort(),U.maxInstructionDefs=X.parseUShort(),U.maxStackElements=X.parseUShort(),U.maxSizeOfInstructions=X.parseUShort(),U.maxComponentElements=X.parseUShort(),U.maxComponentDepth=X.parseUShort()),U},U.make=function e(_){return new X.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:_}])}},{"../parse":11,"../table":13}],26:[function(_,T,U){"use strict";function d(_,T,U){switch(_){case 0:if(65535===T)return"und";if(U)return U[T];break;case 1:return te[T];case 3:return ne[T]}}function e(_,T,U){switch(_){case 0:return ie;case 1:return ae[U]||oe[T];case 3:if(1===T||10===T)return ie}}function g(_){var T={};for(var U in _)T[_[U]]=parseInt(U);return T}function h(_,T,U,V,X,W){return new $.Table("NameRecord",[{name:"platformID",type:"USHORT",value:_},{name:"encodingID",type:"USHORT",value:T},{name:"languageID",type:"USHORT",value:U},{name:"nameID",type:"USHORT",value:V},{name:"length",type:"USHORT",value:X},{name:"offset",type:"USHORT",value:W}])}function j(_,T){var U=function i(_,T){var U=_.length,V=T.length-U+1;e:for(var X=0;X<V;X++)for(;X<V;X++){for(var W=0;W<U;W++)if(T[X+W]!==_[W])continue e;return X}return-1}(_,T);if(U<0){U=T.length;for(var V=0,X=_.length;V<X;++V)T.push(_[V])}return U}var V=_("../types"),X=V.decode,W=V.encode,Z=_("../parse"),$=_("../table"),ee=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","licence","licenceURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],te={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},re={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ne={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},ie="utf-16",oe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ae={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};U.parse=function f(_,T,U){for(var V={},W=new Z.Parser(_,T),$=W.parseUShort(),te=W.parseUShort(),re=W.offset+W.parseUShort(),ne=0;ne<te;ne++){var oe,ae=W.parseUShort(),se=W.parseUShort(),he=W.parseUShort(),le=W.parseUShort(),ue=ee[le]||le,pe=W.parseUShort(),ce=W.parseUShort(),fe=d(ae,he,U),de=e(ae,se,he);if(void 0!==de&&void 0!==fe)if(oe=de===ie?X.UTF16(_,re+ce,pe):X.MACSTRING(_,re+ce,pe,de)){var me=V[ue];void 0===me&&(me=V[ue]={}),me[fe]=oe}}return 1===$&&W.parseUShort(),V},U.make=function k(_,T){var U,V=[],X={},Z=g(ee);for(var ie in _){var oe=Z[ie];void 0===oe&&(oe=ie),X[U=parseInt(oe)]=_[ie],V.push(U)}for(var ae=g(te),se=g(ne),he=[],le=[],ue=0;ue<V.length;ue++){var pe=X[U=V[ue]];for(var ce in pe){var fe=pe[ce],de=1,me=ae[ce],ge=re[me],ye=e(de,ge,me),ve=W.MACSTRING(fe,ye);void 0===ve&&(de=0,(me=T.indexOf(ce))<0&&(me=T.length,T.push(ce)),ge=4,ve=W.UTF16(fe));var xe=j(ve,le);he.push(h(de,ge,me,U,ve.length,xe));var be=se[ce];if(void 0!==be){var _e=W.UTF16(fe),we=j(_e,le);he.push(h(3,1,be,U,_e.length,we))}}}he.sort((function(_,T){return _.platformID-T.platformID||_.encodingID-T.encodingID||_.languageID-T.languageID||_.nameID-T.nameID}));for(var Se=new $.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:he.length},{name:"stringOffset",type:"USHORT",value:6+12*he.length}]),Te=0;Te<he.length;Te++)Se.fields.push({name:"record_"+Te,type:"TABLE",value:he[Te]});return Se.fields.push({name:"strings",type:"LITERAL",value:le}),Se}},{"../parse":11,"../table":13,"../types":30}],27:[function(_,T,U){"use strict";var V=_("../parse"),X=_("../table"),W=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];U.unicodeRanges=W,U.getUnicodeRange=function d(_){for(var T=0;T<W.length;T+=1){var U=W[T];if(_>=U.begin&&_<U.end)return T}return-1},U.parse=function e(_,T){var U={},X=new V.Parser(_,T);U.version=X.parseUShort(),U.xAvgCharWidth=X.parseShort(),U.usWeightClass=X.parseUShort(),U.usWidthClass=X.parseUShort(),U.fsType=X.parseUShort(),U.ySubscriptXSize=X.parseShort(),U.ySubscriptYSize=X.parseShort(),U.ySubscriptXOffset=X.parseShort(),U.ySubscriptYOffset=X.parseShort(),U.ySuperscriptXSize=X.parseShort(),U.ySuperscriptYSize=X.parseShort(),U.ySuperscriptXOffset=X.parseShort(),U.ySuperscriptYOffset=X.parseShort(),U.yStrikeoutSize=X.parseShort(),U.yStrikeoutPosition=X.parseShort(),U.sFamilyClass=X.parseShort(),U.panose=[];for(var W=0;W<10;W++)U.panose[W]=X.parseByte();return U.ulUnicodeRange1=X.parseULong(),U.ulUnicodeRange2=X.parseULong(),U.ulUnicodeRange3=X.parseULong(),U.ulUnicodeRange4=X.parseULong(),U.achVendID=String.fromCharCode(X.parseByte(),X.parseByte(),X.parseByte(),X.parseByte()),U.fsSelection=X.parseUShort(),U.usFirstCharIndex=X.parseUShort(),U.usLastCharIndex=X.parseUShort(),U.sTypoAscender=X.parseShort(),U.sTypoDescender=X.parseShort(),U.sTypoLineGap=X.parseShort(),U.usWinAscent=X.parseUShort(),U.usWinDescent=X.parseUShort(),U.version>=1&&(U.ulCodePageRange1=X.parseULong(),U.ulCodePageRange2=X.parseULong()),U.version>=2&&(U.sxHeight=X.parseShort(),U.sCapHeight=X.parseShort(),U.usDefaultChar=X.parseUShort(),U.usBreakChar=X.parseUShort(),U.usMaxContent=X.parseUShort()),U},U.make=function f(_){return new X.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],_)}},{"../parse":11,"../table":13}],28:[function(_,T,U){"use strict";var V=_("../encoding"),X=_("../parse"),W=_("../table");U.parse=function d(_,T){var U,W={},Z=new X.Parser(_,T);switch(W.version=Z.parseVersion(),W.italicAngle=Z.parseFixed(),W.underlinePosition=Z.parseShort(),W.underlineThickness=Z.parseShort(),W.isFixedPitch=Z.parseULong(),W.minMemType42=Z.parseULong(),W.maxMemType42=Z.parseULong(),W.minMemType1=Z.parseULong(),W.maxMemType1=Z.parseULong(),W.version){case 1:W.names=V.standardNames.slice();break;case 2:for(W.numberOfGlyphs=Z.parseUShort(),W.glyphNameIndex=new Array(W.numberOfGlyphs),U=0;U<W.numberOfGlyphs;U++)W.glyphNameIndex[U]=Z.parseUShort();for(W.names=[],U=0;U<W.numberOfGlyphs;U++)if(W.glyphNameIndex[U]>=V.standardNames.length){var $=Z.parseChar();W.names.push(Z.parseString($))}break;case 2.5:for(W.numberOfGlyphs=Z.parseUShort(),W.offset=new Array(W.numberOfGlyphs),U=0;U<W.numberOfGlyphs;U++)W.offset[U]=Z.parseChar()}return W},U.make=function e(){return new W.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},{"../encoding":6,"../parse":11,"../table":13}],29:[function(_,T,U){"use strict";function d(_){return Math.log(_)/Math.log(2)|0}function e(_){for(;_.length%4!=0;)_.push(0);for(var T=0,U=0;U<_.length;U+=4)T+=(_[U]<<24)+(_[U+1]<<16)+(_[U+2]<<8)+_[U+3];return T%Math.pow(2,32)}function f(_,T,U,V){return new X.Table("Table Record",[{name:"tag",type:"TAG",value:void 0!==_?_:""},{name:"checkSum",type:"ULONG",value:void 0!==T?T:0},{name:"offset",type:"ULONG",value:void 0!==U?U:0},{name:"length",type:"ULONG",value:void 0!==V?V:0}])}function g(_){var T=new X.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);T.tables=_,T.numTables=_.length;var U=Math.pow(2,d(T.numTables));T.searchRange=16*U,T.entrySelector=d(U),T.rangeShift=16*T.numTables-T.searchRange;for(var W=[],Z=[],$=T.sizeOf()+f().sizeOf()*T.numTables;$%4!=0;)$+=1,Z.push({name:"padding",type:"BYTE",value:0});for(var ee=0;ee<_.length;ee+=1){var te=_[ee];V.argument(4===te.tableName.length,"Table name"+te.tableName+" is invalid.");var re=te.sizeOf(),ne=f(te.tableName,e(te.encode()),$,re);for(W.push({name:ne.tag+" Table Record",type:"TABLE",value:ne}),Z.push({name:te.tableName+" table",type:"TABLE",value:te}),$+=re,V.argument(!isNaN($),"Something went wrong calculating the offset.");$%4!=0;)$+=1,Z.push({name:"padding",type:"BYTE",value:0})}return W.sort((function(_,T){return _.value.tag>T.value.tag?1:-1})),T.fields=T.fields.concat(W),T.fields=T.fields.concat(Z),T}function h(_,T,U){for(var V=0;V<T.length;V+=1){var X=_.charToGlyphIndex(T[V]);if(X>0)return _.glyphs.get(X).getMetrics()}return U}function i(_){for(var T=0,U=0;U<_.length;U+=1)T+=_[U];return T/_.length}var V=_("../check"),X=_("../table"),W=_("./cmap"),Z=_("./cff"),$=_("./head"),ee=_("./hhea"),te=_("./hmtx"),re=_("./ltag"),ne=_("./maxp"),ie=_("./name"),oe=_("./os2"),ae=_("./post");U.computeCheckSum=e,U.make=g,U.fontToTable=function j(_){for(var T,U=[],V=[],X=[],se=[],he=[],le=[],ue=[],pe=0,ce=0,fe=0,de=0,me=0,ge=0;ge<_.glyphs.length;ge+=1){var ye=_.glyphs.get(ge),ve=0|ye.unicode;(T>ve||null===T)&&(T=ve),pe<ve&&(pe=ve);var xe=oe.getUnicodeRange(ve);if(xe<32)ce|=1<<xe;else if(xe<64)fe|=1<<xe-32;else if(xe<96)de|=1<<xe-64;else{if(!(xe<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");me|=1<<xe-96}if(".notdef"!==ye.name){var be=ye.getMetrics();U.push(be.xMin),V.push(be.yMin),X.push(be.xMax),se.push(be.yMax),le.push(be.leftSideBearing),ue.push(be.rightSideBearing),he.push(ye.advanceWidth)}}var _e={xMin:Math.min.apply(null,U),yMin:Math.min.apply(null,V),xMax:Math.max.apply(null,X),yMax:Math.max.apply(null,se),advanceWidthMax:Math.max.apply(null,he),advanceWidthAvg:i(he),minLeftSideBearing:Math.min.apply(null,le),maxLeftSideBearing:Math.max.apply(null,le),minRightSideBearing:Math.min.apply(null,ue)};_e.ascender=void 0!==_.ascender?_.ascender:_e.yMax,_e.descender=void 0!==_.descender?_.descender:_e.yMin;var we=$.make({unitsPerEm:_.unitsPerEm,xMin:_e.xMin,yMin:_e.yMin,xMax:_e.xMax,yMax:_e.yMax}),Se=ee.make({ascender:_e.ascender,descender:_e.descender,advanceWidthMax:_e.advanceWidthMax,minLeftSideBearing:_e.minLeftSideBearing,minRightSideBearing:_e.minRightSideBearing,xMaxExtent:_e.maxLeftSideBearing+(_e.xMax-_e.xMin),numberOfHMetrics:_.glyphs.length}),Te=ne.make(_.glyphs.length),Ce=oe.make({xAvgCharWidth:Math.round(_e.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:T,usLastCharIndex:pe,ulUnicodeRange1:ce,ulUnicodeRange2:fe,ulUnicodeRange3:de,ulUnicodeRange4:me,sTypoAscender:_e.ascender,sTypoDescender:_e.descender,sTypoLineGap:0,usWinAscent:_e.ascender,usWinDescent:-_e.descender,sxHeight:h(_,"xyvw",{yMax:0}).yMax,sCapHeight:h(_,"HIKLEFJMNTZBDPRAGOQSUVWXY",_e).yMax,usBreakChar:_.hasChar(" ")?32:0}),Me=te.make(_.glyphs),Re=W.make(_.glyphs),Ee=_.getEnglishName("fontFamily"),Ae=_.getEnglishName("fontSubfamily"),Ie=Ee+" "+Ae,Pe=_.getEnglishName("postScriptName");Pe||(Pe=Ee.replace(/\s/g,"")+"-"+Ae);var Le={};for(var De in _.names)Le[De]=_.names[De];Le.uniqueID||(Le.uniqueID={en:_.getEnglishName("manufacturer")+":"+Ie}),Le.postScriptName||(Le.postScriptName={en:Pe}),Le.preferredFamily||(Le.preferredFamily=_.names.fontFamily),Le.preferredSubfamily||(Le.preferredSubfamily=_.names.fontSubfamily);var Oe=[],ke=ie.make(Le,Oe),Ue=Oe.length>0?re.make(Oe):void 0,Ne=[we,Se,Te,Ce,ke,Re,ae.make(),Z.make(_.glyphs,{version:_.getEnglishName("version"),fullName:Ie,familyName:Ee,weightName:Ae,postScriptName:Pe,unitsPerEm:_.unitsPerEm}),Me];Ue&&Ne.push(Ue);var Fe=g(Ne),Be=e(Fe.encode()),Ge=Fe.fields,He=!1;for(ge=0;ge<Ge.length;ge+=1)if("head table"===Ge[ge].name){Ge[ge].value.checkSumAdjustment=2981146554-Be,He=!0;break}if(!He)throw new Error("Could not find head table with checkSum to adjust.");return Fe}},{"../check":4,"../table":13,"./cff":14,"./cmap":15,"./head":19,"./hhea":20,"./hmtx":21,"./ltag":24,"./maxp":25,"./name":26,"./os2":27,"./post":28}],30:[function(_,T,U){"use strict";function d(_){return function(){return _}}var V=_("./check"),X=2147483648,W={},Z={},$={};Z.BYTE=function(_){return V.argument(_>=0&&_<=255,"Byte value should be between 0 and 255."),[_]},$.BYTE=d(1),Z.CHAR=function(_){return[_.charCodeAt(0)]},$.CHAR=d(1),Z.CHARARRAY=function(_){for(var T=[],U=0;U<_.length;U+=1)T.push(_.charCodeAt(U));return T},$.CHARARRAY=function(_){return _.length},Z.USHORT=function(_){return[_>>8&255,255&_]},$.USHORT=d(2),Z.SHORT=function(_){return _>=32768&&(_=-(65536-_)),[_>>8&255,255&_]},$.SHORT=d(2),Z.UINT24=function(_){return[_>>16&255,_>>8&255,255&_]},$.UINT24=d(3),Z.ULONG=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]},$.ULONG=d(4),Z.LONG=function(_){return _>=X&&(_=-(2*X-_)),[_>>24&255,_>>16&255,_>>8&255,255&_]},$.LONG=d(4),Z.FIXED=Z.ULONG,$.FIXED=$.ULONG,Z.FWORD=Z.SHORT,$.FWORD=$.SHORT,Z.UFWORD=Z.USHORT,$.UFWORD=$.USHORT,Z.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]},$.LONGDATETIME=d(8),Z.TAG=function(_){return V.argument(4===_.length,"Tag should be exactly 4 ASCII characters."),[_.charCodeAt(0),_.charCodeAt(1),_.charCodeAt(2),_.charCodeAt(3)]},$.TAG=d(4),Z.Card8=Z.BYTE,$.Card8=$.BYTE,Z.Card16=Z.USHORT,$.Card16=$.USHORT,Z.OffSize=Z.BYTE,$.OffSize=$.BYTE,Z.SID=Z.USHORT,$.SID=$.USHORT,Z.NUMBER=function(_){return _>=-107&&_<=107?[_+139]:_>=108&&_<=1131?[247+((_-=108)>>8),255&_]:_>=-1131&&_<=-108?[251+((_=-_-108)>>8),255&_]:_>=-32768&&_<=32767?Z.NUMBER16(_):Z.NUMBER32(_)},$.NUMBER=function(_){return Z.NUMBER(_).length},Z.NUMBER16=function(_){return[28,_>>8&255,255&_]},$.NUMBER16=d(3),Z.NUMBER32=function(_){return[29,_>>24&255,_>>16&255,_>>8&255,255&_]},$.NUMBER32=d(5),Z.REAL=function(_){var T=_.toString(),U=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(T);if(U){var V=parseFloat("1e"+((U[2]?+U[2]:0)+U[1].length));T=(Math.round(_*V)/V).toString()}var X,W,Z="";for(X=0,W=T.length;X<W;X+=1){var $=T[X];Z+="e"===$?"-"===T[++X]?"c":"b":"."===$?"a":"-"===$?"e":$}var ee=[30];for(X=0,W=(Z+=1&Z.length?"f":"ff").length;X<W;X+=2)ee.push(parseInt(Z.substr(X,2),16));return ee},$.REAL=function(_){return Z.REAL(_).length},Z.NAME=Z.CHARARRAY,$.NAME=$.CHARARRAY,Z.STRING=Z.CHARARRAY,$.STRING=$.CHARARRAY,W.UTF16=function(_,T,U){for(var V=[],X=U/2,W=0;W<X;W++,T+=2)V[W]=_.getUint16(T);return String.fromCharCode.apply(null,V)},Z.UTF16=function(_){for(var T=[],U=0;U<_.length;U+=1){var V=_.charCodeAt(U);T.push(V>>8&255),T.push(255&V)}return T},$.UTF16=function(_){return 2*_.length};var ee={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};W.MACSTRING=function(_,T,U,V){var X=ee[V];if(void 0!==X){for(var W="",Z=0;Z<U;Z++){var $=_.getUint8(T+Z);W+=$<=127?String.fromCharCode($):X[127&$]}return W}};var te,re="function"==typeof WeakMap&&new WeakMap;Z.MACSTRING=function(_,T){var U=function(_){if(!te)for(var T in te={},ee)te[T]=new String(T);var U=te[_];if(void 0!==U){if(re){var V=re.get(U);if(void 0!==V)return V}var X=ee[_];if(void 0!==X){for(var W={},Z=0;Z<X.length;Z++)W[X.charCodeAt(Z)]=Z+128;return re&&re.set(U,W),W}}}(T);if(void 0!==U){for(var V=[],X=0;X<_.length;X++){var W=_.charCodeAt(X);if(W>=128&&void 0===(W=U[W]))return;V.push(W)}return V}},$.MACSTRING=function(_,T){var U=Z.MACSTRING(_,T);return void 0!==U?U.length:0},Z.INDEX=function(_){var T,U=1,V=[U],X=[],W=0;for(T=0;T<_.length;T+=1){var $=Z.OBJECT(_[T]);Array.prototype.push.apply(X,$),W+=$.length,U+=$.length,V.push(U)}if(0===X.length)return[0,0];var ee=[],te=1+Math.floor(Math.log(W)/Math.log(2))/8|0,re=[void 0,Z.BYTE,Z.USHORT,Z.UINT24,Z.ULONG][te];for(T=0;T<V.length;T+=1){var ne=re(V[T]);Array.prototype.push.apply(ee,ne)}return Array.prototype.concat(Z.Card16(_.length),Z.OffSize(te),ee,X)},$.INDEX=function(_){return Z.INDEX(_).length},Z.DICT=function(_){for(var T=[],U=Object.keys(_),V=U.length,X=0;X<V;X+=1){var W=parseInt(U[X],0),$=_[W];T=(T=T.concat(Z.OPERAND($.value,$.type))).concat(Z.OPERATOR(W))}return T},$.DICT=function(_){return Z.DICT(_).length},Z.OPERATOR=function(_){return _<1200?[_]:[12,_-1200]},Z.OPERAND=function(_,T){var U=[];if(Array.isArray(T))for(var X=0;X<T.length;X+=1)V.argument(_.length===T.length,"Not enough arguments given for type"+T),U=U.concat(Z.OPERAND(_[X],T[X]));else if("SID"===T)U=U.concat(Z.NUMBER(_));else if("offset"===T)U=U.concat(Z.NUMBER32(_));else if("number"===T)U=U.concat(Z.NUMBER(_));else{if("real"!==T)throw new Error("Unknown operand type "+T);U=U.concat(Z.REAL(_))}return U},Z.OP=Z.BYTE,$.OP=$.BYTE;var ne="function"==typeof WeakMap&&new WeakMap;Z.CHARSTRING=function(_){if(ne){var T=ne.get(_);if(void 0!==T)return T}for(var U=[],V=_.length,X=0;X<V;X+=1){var W=_[X];U=U.concat(Z[W.type](W.value))}return ne&&ne.set(_,U),U},$.CHARSTRING=function(_){return Z.CHARSTRING(_).length},Z.OBJECT=function(_){var T=Z[_.type];return V.argument(void 0!==T,"No encoding function for type "+_.type),T(_.value)},$.OBJECT=function(_){var T=$[_.type];return V.argument(void 0!==T,"No sizeOf function for type "+_.type),T(_.value)},Z.TABLE=function(_){for(var T=[],U=_.fields.length,X=0;X<U;X+=1){var W=_.fields[X],$=Z[W.type];V.argument(void 0!==$,"No encoding function for field type "+W.type);var ee=_[W.name];void 0===ee&&(ee=W.value);var te=$(ee);T=T.concat(te)}return T},$.TABLE=function(_){for(var T=0,U=_.fields.length,X=0;X<U;X+=1){var W=_.fields[X],Z=$[W.type];V.argument(void 0!==Z,"No sizeOf function for field type "+W.type);var ee=_[W.name];void 0===ee&&(ee=W.value),T+=Z(ee)}return T},Z.LITERAL=function(_){return _},$.LITERAL=function(_){return _.length},U.decode=W,U.encode=Z,U.sizeOf=$},{"./check":4}],31:[function(_,T,U){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(_){if(V===setTimeout)return setTimeout(_,0);if((V===d||!V)&&setTimeout)return V=setTimeout,setTimeout(_,0);try{return V(_,0)}catch(T){try{return V.call(null,_,0)}catch(T){return V.call(this,_,0)}}}function h(){ee&&Z&&(ee=!1,Z.length?$=Z.concat($):te=-1,$.length&&i())}function i(){if(!ee){var _=f(h);ee=!0;for(var T=$.length;T;){for(Z=$,$=[];++te<T;)Z&&Z[te].run();te=-1,T=$.length}Z=null,ee=!1,function g(_){if(X===clearTimeout)return clearTimeout(_);if((X===e||!X)&&clearTimeout)return X=clearTimeout,clearTimeout(_);try{return X(_)}catch(T){try{return X.call(null,_)}catch(T){return X.call(this,_)}}}(_)}}function j(_,T){this.fun=_,this.array=T}function k(){}var V,X,W=T.exports={};!function(){try{V="function"==typeof setTimeout?setTimeout:d}catch(_){V=d}try{X="function"==typeof clearTimeout?clearTimeout:e}catch(_){X=e}}();var Z,$=[],ee=!1,te=-1;W.nextTick=function(_){var T=new Array(arguments.length-1);if(arguments.length>1)for(var U=1;U<arguments.length;U++)T[U-1]=arguments[U];$.push(new j(_,T)),1!==$.length||ee||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},W.title="browser",W.browser=!0,W.env={},W.argv=[],W.version="",W.versions={},W.on=k,W.addListener=k,W.once=k,W.off=k,W.removeListener=k,W.removeAllListeners=k,W.emit=k,W.binding=function(_){throw new Error("process.binding is not supported")},W.cwd=function(){return"/"},W.chdir=function(_){throw new Error("process.chdir is not supported")},W.umask=function(){return 0}},{}],32:[function(_,T,U){!function(_){"use strict";function b(_){if("string"!=typeof _&&(_=String(_)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(_))throw new TypeError("Invalid character in header field name");return _.toLowerCase()}function c(_){return"string"!=typeof _&&(_=String(_)),_}function d(_){var U={next:function(){var T=_.shift();return{done:void 0===T,value:T}}};return T.iterable&&(U[Symbol.iterator]=function(){return U}),U}function e(_){this.map={},_ instanceof e?_.forEach((function(_,T){this.append(T,_)}),this):Array.isArray(_)?_.forEach((function(_){this.append(_[0],_[1])}),this):_&&Object.getOwnPropertyNames(_).forEach((function(T){this.append(T,_[T])}),this)}function f(_){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}function g(_){return new Promise((function(T,U){_.onload=function(){T(_.result)},_.onerror=function(){U(_.error)}}))}function h(_){var T=new FileReader,U=g(T);return T.readAsArrayBuffer(_),U}function k(_){if(_.slice)return _.slice(0);var T=new Uint8Array(_.byteLength);return T.set(new Uint8Array(_)),T.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(_){if(this._bodyInit=_,_)if("string"==typeof _)this._bodyText=_;else if(T.blob&&Blob.prototype.isPrototypeOf(_))this._bodyBlob=_;else if(T.formData&&FormData.prototype.isPrototypeOf(_))this._bodyFormData=_;else if(T.searchParams&&URLSearchParams.prototype.isPrototypeOf(_))this._bodyText=_.toString();else if(T.arrayBuffer&&T.blob&&t(_))this._bodyArrayBuffer=k(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!T.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(_)&&!V(_))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=k(_)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof _?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):T.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},T.blob&&(this.blob=function(){var _=f(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var _=f(this);if(_)return _;if(this._bodyBlob)return function i(_){var T=new FileReader,U=g(T);return T.readAsText(_),U}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function j(_){for(var T=new Uint8Array(_),U=new Array(T.length),V=0;V<T.length;V++)U[V]=String.fromCharCode(T[V]);return U.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},T.formData&&(this.formData=function(){return this.text().then(o)}),this.json=function(){return this.text().then(JSON.parse)},this}function n(_,T){var U=(T=T||{}).body;if(_ instanceof n){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,T.headers||(this.headers=new e(_.headers)),this.method=_.method,this.mode=_.mode,U||null==_._bodyInit||(U=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=T.credentials||this.credentials||"omit",!T.headers&&this.headers||(this.headers=new e(T.headers)),this.method=function m(_){var T=_.toUpperCase();return X.indexOf(T)>-1?T:_}(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&U)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(U)}function o(_){var T=new FormData;return _.trim().split("&").forEach((function(_){if(_){var U=_.split("="),V=U.shift().replace(/\+/g," "),X=U.join("=").replace(/\+/g," ");T.append(decodeURIComponent(V),decodeURIComponent(X))}})),T}function p(_){var T=new e;return _.split(/\r?\n/).forEach((function(_){var U=_.split(":"),V=U.shift().trim();if(V){var X=U.join(":").trim();T.append(V,X)}})),T}function q(_,T){T||(T={}),this.type="default",this.status="status"in T?T.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in T?T.statusText:"OK",this.headers=new e(T.headers),this.url=T.url||"",this._initBody(_)}if(!_.fetch){var T={searchParams:"URLSearchParams"in _,iterable:"Symbol"in _&&"iterator"in Symbol,blob:"FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch(_){return!1}}(),formData:"FormData"in _,arrayBuffer:"ArrayBuffer"in _};if(T.arrayBuffer)var U=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],t=function(_){return _&&DataView.prototype.isPrototypeOf(_)},V=ArrayBuffer.isView||function(_){return _&&U.indexOf(Object.prototype.toString.call(_))>-1};e.prototype.append=function(_,T){_=b(_),T=c(T);var U=this.map[_];this.map[_]=U?U+","+T:T},e.prototype.delete=function(_){delete this.map[b(_)]},e.prototype.get=function(_){return _=b(_),this.has(_)?this.map[_]:null},e.prototype.has=function(_){return this.map.hasOwnProperty(b(_))},e.prototype.set=function(_,T){this.map[b(_)]=c(T)},e.prototype.forEach=function(_,T){for(var U in this.map)this.map.hasOwnProperty(U)&&_.call(T,this.map[U],U,this)},e.prototype.keys=function(){var _=[];return this.forEach((function(T,U){_.push(U)})),d(_)},e.prototype.values=function(){var _=[];return this.forEach((function(T){_.push(T)})),d(_)},e.prototype.entries=function(){var _=[];return this.forEach((function(T,U){_.push([U,T])})),d(_)},T.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);var X=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];n.prototype.clone=function(){return new n(this,{body:this._bodyInit})},l.call(n.prototype),l.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},q.error=function(){var _=new q(null,{status:0,statusText:""});return _.type="error",_};var W=[301,302,303,307,308];q.redirect=function(_,T){if(-1===W.indexOf(T))throw new RangeError("Invalid status code");return new q(null,{status:T,headers:{location:_}})},_.Headers=e,_.Request=n,_.Response=q,_.fetch=function(_,U){return new Promise((function(V,X){var W=new n(_,U),Z=new XMLHttpRequest;Z.onload=function(){var _={status:Z.status,statusText:Z.statusText,headers:p(Z.getAllResponseHeaders()||"")};_.url="responseURL"in Z?Z.responseURL:_.headers.get("X-Request-URL"),V(new q("response"in Z?Z.response:Z.responseText,_))},Z.onerror=function(){X(new TypeError("Network request failed"))},Z.ontimeout=function(){X(new TypeError("Network request failed"))},Z.open(W.method,W.url,!0),"include"===W.credentials&&(Z.withCredentials=!0),"responseType"in Z&&T.blob&&(Z.responseType="blob"),W.headers.forEach((function(_,T){Z.setRequestHeader(T,_)})),Z.send(void 0===W._bodyInit?null:W._bodyInit)}))},_.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],33:[function(_,T,U){"use strict";var V=_("./core/core");_("./color/p5.Color"),_("./core/p5.Element"),_("./typography/p5.Font"),_("./core/p5.Graphics"),_("./core/p5.Renderer2D"),_("./image/p5.Image"),_("./math/p5.Vector"),_("./io/p5.TableRow"),_("./io/p5.Table"),_("./io/p5.XML"),_("./color/creating_reading"),_("./color/setting"),_("./core/constants"),_("./utilities/conversion"),_("./utilities/array_functions"),_("./utilities/string_functions"),_("./core/environment"),_("./image/image"),_("./image/loading_displaying"),_("./image/pixels"),_("./io/files"),_("./events/keyboard"),_("./events/acceleration"),_("./events/mouse"),_("./utilities/time_date"),_("./events/touch"),_("./math/math"),_("./math/calculation"),_("./math/random"),_("./math/noise"),_("./math/trigonometry"),_("./core/rendering"),_("./core/2d_primitives"),_("./core/attributes"),_("./core/curves"),_("./core/vertex"),_("./core/structure"),_("./core/transform"),_("./typography/attributes"),_("./typography/loading_displaying"),_("./webgl/p5.RendererGL"),_("./webgl/p5.Geometry"),_("./webgl/p5.RendererGL.Retained"),_("./webgl/p5.RendererGL.Immediate"),_("./webgl/primitives"),_("./webgl/loading"),_("./webgl/p5.Matrix"),_("./webgl/material"),_("./webgl/light"),_("./webgl/shader"),_("./webgl/camera"),_("./webgl/interaction");var e=function(){window.PHANTOMJS||window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!V.instance&&new V};"complete"===document.readyState?e():window.addEventListener("load",e,!1),T.exports=V},{"./color/creating_reading":35,"./color/p5.Color":36,"./color/setting":37,"./core/2d_primitives":38,"./core/attributes":39,"./core/constants":41,"./core/core":42,"./core/curves":43,"./core/environment":44,"./core/p5.Element":46,"./core/p5.Graphics":47,"./core/p5.Renderer2D":49,"./core/rendering":50,"./core/structure":52,"./core/transform":53,"./core/vertex":54,"./events/acceleration":55,"./events/keyboard":56,"./events/mouse":57,"./events/touch":58,"./image/image":60,"./image/loading_displaying":61,"./image/p5.Image":62,"./image/pixels":63,"./io/files":64,"./io/p5.Table":65,"./io/p5.TableRow":66,"./io/p5.XML":67,"./math/calculation":68,"./math/math":69,"./math/noise":70,"./math/p5.Vector":71,"./math/random":73,"./math/trigonometry":74,"./typography/attributes":75,"./typography/loading_displaying":76,"./typography/p5.Font":77,"./utilities/array_functions":78,"./utilities/conversion":79,"./utilities/string_functions":80,"./utilities/time_date":81,"./webgl/camera":82,"./webgl/interaction":83,"./webgl/light":84,"./webgl/loading":85,"./webgl/material":86,"./webgl/p5.Geometry":87,"./webgl/p5.Matrix":88,"./webgl/p5.RendererGL":91,"./webgl/p5.RendererGL.Immediate":89,"./webgl/p5.RendererGL.Retained":90,"./webgl/primitives":92,"./webgl/shader":93}],34:[function(_,T,U){"use strict";var V=_("../core/core");V.ColorConversion={},V.ColorConversion._hsbaToHSLA=function(_){var T=_[0],U=_[1],V=_[2],X=(2-U)*V/2;return 0!==X&&(1===X?U=0:X<.5?U/=2-U:U=U*V/(2-2*X)),[T,U,X,_[3]]},V.ColorConversion._hsbaToRGBA=function(_){var T=6*_[0],U=_[1],V=_[2],X=[];if(0===U)X=[V,V,V,_[3]];else{var W,Z,$,ee=Math.floor(T),te=V*(1-U),re=V*(1-U*(T-ee)),ne=V*(1-U*(1+ee-T));1===ee?(W=re,Z=V,$=te):2===ee?(W=te,Z=V,$=ne):3===ee?(W=te,Z=re,$=V):4===ee?(W=ne,Z=te,$=V):5===ee?(W=V,Z=te,$=re):(W=V,Z=ne,$=te),X=[W,Z,$,_[3]]}return X},V.ColorConversion._hslaToHSBA=function(_){var T,U=_[0],V=_[1],X=_[2];return[U,V=2*((T=X<.5?(1+V)*X:X+V-X*V)-X)/T,T,_[3]]},V.ColorConversion._hslaToRGBA=function(_){var T=6*_[0],U=_[1],V=_[2],X=[];if(0===U)X=[V,V,V,_[3]];else{var W,Z=2*V-(W=V<.5?(1+U)*V:V+U-V*U),h=function(_,T,U){return _<0?_+=6:_>=6&&(_-=6),_<1?T+(U-T)*_:_<3?U:_<4?T+(U-T)*(4-_):T};X=[h(T+2,Z,W),h(T,Z,W),h(T-2,Z,W),_[3]]}return X},V.ColorConversion._rgbaToHSBA=function(_){var T,U,V=_[0],X=_[1],W=_[2],Z=Math.max(V,X,W),$=Z-Math.min(V,X,W);return 0===$?(T=0,U=0):(U=$/Z,V===Z?T=(X-W)/$:X===Z?T=2+(W-V)/$:W===Z&&(T=4+(V-X)/$),T<0?T+=6:T>=6&&(T-=6)),[T/6,U,Z,_[3]]},V.ColorConversion._rgbaToHSLA=function(_){var T,U,V=_[0],X=_[1],W=_[2],Z=Math.max(V,X,W),$=Math.min(V,X,W),ee=Z+$,te=Z-$;return 0===te?(T=0,U=0):(U=ee<1?te/ee:te/(2-ee),V===Z?T=(X-W)/te:X===Z?T=2+(W-V)/te:W===Z&&(T=4+(V-X)/te),T<0?T+=6:T>=6&&(T-=6)),[T/6,U,ee/2,_[3]]},T.exports=V.ColorConversion},{"../core/core":42}],35:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("../core/constants");_("./p5.Color"),V.prototype.alpha=function(_){if(_ instanceof V.Color||_ instanceof Array)return this.color(_)._getAlpha();throw new Error("Needs p5.Color or pixel array as argument.")},V.prototype.blue=function(_){if(_ instanceof V.Color||_ instanceof Array)return this.color(_)._getBlue();throw new Error("Needs p5.Color or pixel array as argument.")},V.prototype.brightness=function(_){if(_ instanceof V.Color||_ instanceof Array)return this.color(_)._getBrightness();throw new Error("Needs p5.Color or pixel array as argument.")},V.prototype.color=function(){return arguments[0]instanceof V.Color?arguments[0]:arguments[0]instanceof Array?this instanceof V.Renderer?new V.Color(this,arguments[0]):new V.Color(this._renderer,arguments[0]):this instanceof V.Renderer?new V.Color(this,arguments):new V.Color(this._renderer,arguments)},V.prototype.green=function(_){if(_ instanceof V.Color||_ instanceof Array)return this.color(_)._getGreen();throw new Error("Needs p5.Color or pixel array as argument.")},V.prototype.hue=function(_){if(_ instanceof V.Color||_ instanceof Array)return this.color(_)._getHue();throw new Error("Needs p5.Color or pixel array as argument.")},V.prototype.lerpColor=function(_,T,U){var V,W,Z,$,ee,te,re=this._renderer._colorMode,ne=this._renderer._colorMaxes;if(re===X.RGB)ee=_.levels.map((function(_){return _/255})),te=T.levels.map((function(_){return _/255}));else if(re===X.HSB)_._getBrightness(),T._getBrightness(),ee=_.hsba,te=T.hsba;else{if(re!==X.HSL)throw new Error(re+"cannot be used for interpolation.");_._getLightness(),T._getLightness(),ee=_.hsla,te=T.hsla}return U=Math.max(Math.min(U,1),0),V=this.lerp(ee[0],te[0],U),W=this.lerp(ee[1],te[1],U),Z=this.lerp(ee[2],te[2],U),$=this.lerp(ee[3],te[3],U),V*=ne[re][0],W*=ne[re][1],Z*=ne[re][2],$*=ne[re][3],this.color(V,W,Z,$)},V.prototype.lightness=function(_){if(_ instanceof V.Color||_ instanceof Array)return this.color(_)._getLightness();throw new Error("Needs p5.Color or pixel array as argument.")},V.prototype.red=function(_){if(_ instanceof V.Color||_ instanceof Array)return this.color(_)._getRed();throw new Error("Needs p5.Color or pixel array as argument.")},V.prototype.saturation=function(_){if(_ instanceof V.Color||_ instanceof Array)return this.color(_)._getSaturation();throw new Error("Needs p5.Color or pixel array as argument.")},T.exports=V},{"../core/constants":41,"../core/core":42,"./p5.Color":36}],36:[function(_,T,U){var V=_("../core/core"),X=_("../core/constants"),W=_("./color_conversion");V.Color=function(_,T){if(this.mode=_._colorMode,this.maxes=_._colorMaxes,this.mode!==X.RGB&&this.mode!==X.HSL&&this.mode!==X.HSB)throw new Error(this.mode+" is an invalid colorMode.");return this._array=V.Color._parseInputs.apply(_,T),this.levels=this._array.map((function(_){return Math.round(255*_)})),this},V.Color.prototype.toString=function(){var _=this.levels,T=this._array[3];return"rgba("+_[0]+","+_[1]+","+_[2]+","+T+")"},V.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},V.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[X.RGB][2]},V.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=W._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[X.HSB][2]},V.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[X.RGB][1]},V.Color.prototype._getHue=function(){return this.mode===X.HSB?(this.hsba||(this.hsba=W._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[X.HSB][0]):(this.hsla||(this.hsla=W._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[X.HSL][0])},V.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=W._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[X.HSL][2]},V.Color.prototype._getRed=function(){return this._array[0]*this.maxes[X.RGB][0]},V.Color.prototype._getSaturation=function(){return this.mode===X.HSB?(this.hsba||(this.hsba=W._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[X.HSB][1]):(this.hsla||(this.hsla=W._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[X.HSL][1])};var Z={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},$=/\s*/,ee=/(\d{1,3})/,te=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,re=new RegExp(te.source+"%"),ne={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",ee.source,",",ee.source,",",ee.source,"\\)$"].join($.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",re.source,",",re.source,",",re.source,"\\)$"].join($.source),"i"),RGBA:new RegExp(["^rgba\\(",ee.source,",",ee.source,",",ee.source,",",te.source,"\\)$"].join($.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",re.source,",",re.source,",",re.source,",",te.source,"\\)$"].join($.source),"i"),HSL:new RegExp(["^hsl\\(",ee.source,",",re.source,",",re.source,"\\)$"].join($.source),"i"),HSLA:new RegExp(["^hsla\\(",ee.source,",",re.source,",",re.source,",",te.source,"\\)$"].join($.source),"i"),HSB:new RegExp(["^hsb\\(",ee.source,",",re.source,",",re.source,"\\)$"].join($.source),"i"),HSBA:new RegExp(["^hsba\\(",ee.source,",",re.source,",",re.source,",",te.source,"\\)$"].join($.source),"i")};V.Color._parseInputs=function(){var _=arguments.length,T=this._colorMode,U=this._colorMaxes,$=[];if(_>=3)return $[0]=arguments[0]/U[T][0],$[1]=arguments[1]/U[T][1],$[2]=arguments[2]/U[T][2],$[3]="number"==typeof arguments[3]?arguments[3]/U[T][3]:1,$=$.map((function(_){return Math.max(Math.min(_,1),0)})),T===X.HSL?W._hslaToRGBA($):T===X.HSB?W._hsbaToRGBA($):$;if(1===_&&"string"==typeof arguments[0]){var ee=arguments[0].trim().toLowerCase();if(Z[ee])return V.Color._parseInputs.apply(this,[Z[ee]]);if(ne.HEX3.test(ee))return($=ne.HEX3.exec(ee).slice(1).map((function(_){return parseInt(_+_,16)/255})))[3]=1,$;if(ne.HEX6.test(ee))return($=ne.HEX6.exec(ee).slice(1).map((function(_){return parseInt(_,16)/255})))[3]=1,$;if(ne.RGB.test(ee))return($=ne.RGB.exec(ee).slice(1).map((function(_){return _/255})))[3]=1,$;if(ne.RGB_PERCENT.test(ee))return($=ne.RGB_PERCENT.exec(ee).slice(1).map((function(_){return parseFloat(_)/100})))[3]=1,$;if(ne.RGBA.test(ee))return ne.RGBA.exec(ee).slice(1).map((function(_,T){return 3===T?parseFloat(_):_/255}));if(ne.RGBA_PERCENT.test(ee))return ne.RGBA_PERCENT.exec(ee).slice(1).map((function(_,T){return 3===T?parseFloat(_):parseFloat(_)/100}));if(ne.HSL.test(ee)?($=ne.HSL.exec(ee).slice(1).map((function(_,T){return 0===T?parseInt(_,10)/360:parseInt(_,10)/100})))[3]=1:ne.HSLA.test(ee)&&($=ne.HSLA.exec(ee).slice(1).map((function(_,T){return 0===T?parseInt(_,10)/360:3===T?parseFloat(_):parseInt(_,10)/100}))),$.length)return W._hslaToRGBA($);if(ne.HSB.test(ee)?($=ne.HSB.exec(ee).slice(1).map((function(_,T){return 0===T?parseInt(_,10)/360:parseInt(_,10)/100})))[3]=1:ne.HSBA.test(ee)&&($=ne.HSBA.exec(ee).slice(1).map((function(_,T){return 0===T?parseInt(_,10)/360:3===T?parseFloat(_):parseInt(_,10)/100}))),$.length)return W._hsbaToRGBA($);$=[1,1,1,1]}else{if(1!==_&&2!==_||"number"!=typeof arguments[0])throw new Error(arguments+"is not a valid color representation.");$[0]=arguments[0]/U[T][2],$[1]=arguments[0]/U[T][2],$[2]=arguments[0]/U[T][2],$[3]="number"==typeof arguments[1]?arguments[1]/U[T][3]:1,$=$.map((function(_){return Math.max(Math.min(_,1),0)}))}return $},T.exports=V.Color},{"../core/constants":41,"../core/core":42,"./color_conversion":34}],37:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("../core/constants");_("./p5.Color"),V.prototype.background=function(){return arguments[0]instanceof V.Image?this.image(arguments[0],0,0,this.width,this.height):this._renderer.background.apply(this._renderer,arguments),this},V.prototype.clear=function(){return this._renderer.clear(),this},V.prototype.colorMode=function(){if(arguments[0]===X.RGB||arguments[0]===X.HSB||arguments[0]===X.HSL){this._renderer._colorMode=arguments[0];var _=this._renderer._colorMaxes[this._renderer._colorMode];2===arguments.length?(_[0]=arguments[1],_[1]=arguments[1],_[2]=arguments[1],_[3]=arguments[1]):4===arguments.length?(_[0]=arguments[1],_[1]=arguments[2],_[2]=arguments[3]):5===arguments.length&&(_[0]=arguments[1],_[1]=arguments[2],_[2]=arguments[3],_[3]=arguments[4])}return this},V.prototype.fill=function(){return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),this._renderer.fill.apply(this._renderer,arguments),this},V.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},V.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},V.prototype.stroke=function(){return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),this._renderer.stroke.apply(this._renderer,arguments),this},T.exports=V},{"../core/constants":41,"../core/core":42,"./p5.Color":36}],38:[function(_,T,U){"use strict";var V=_("./core"),X=_("./constants"),W=_("./canvas");_("./error_helpers"),V.prototype.arc=function(_,T,U,V,W,Z,$){for(var ee=new Array(arguments.length),te=0;te<ee.length;++te)ee[te]=arguments[te];if(!this._renderer._doStroke&&!this._renderer._doFill)return this;for(this._angleMode===X.DEGREES&&(W=this.radians(W),Z=this.radians(Z));W<0;)W+=X.TWO_PI;for(;Z<0;)Z+=X.TWO_PI;return W%=X.TWO_PI,(Z%=X.TWO_PI)===W&&(Z+=X.TWO_PI),(W=W<=X.HALF_PI?Math.atan(U/V*Math.tan(W)):W>X.HALF_PI&&W<=3*X.HALF_PI?Math.atan(U/V*Math.tan(W))+X.PI:Math.atan(U/V*Math.tan(W))+X.TWO_PI)>(Z=Z<=X.HALF_PI?Math.atan(U/V*Math.tan(Z)):Z>X.HALF_PI&&Z<=3*X.HALF_PI?Math.atan(U/V*Math.tan(Z))+X.PI:Math.atan(U/V*Math.tan(Z))+X.TWO_PI)&&(Z+=X.TWO_PI),U=Math.abs(U),V=Math.abs(V),this._renderer.arc(_,T,U,V,W,Z,$),this},V.prototype.ellipse=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];if(3===_.length&&_.push(_[2]),_[2]<0&&(_[2]=Math.abs(_[2])),_[3]<0&&(_[3]=Math.abs(_[3])),!this._renderer._doStroke&&!this._renderer._doFill)return this;var U=W.modeAdjust(_[0],_[1],_[2],_[3],this._renderer._ellipseMode);return _[0]=U.x,_[1]=U.y,_[2]=U.w,_[3]=U.h,this._renderer.ellipse(_),this},V.prototype.line=function(){if(!this._renderer._doStroke)return this;for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];return this._renderer.isP3D?this._renderer.line(_[0],_[1],_[2],_[3],_[4],_[5]):this._renderer.line(_[0],_[1],_[2],_[3]),this},V.prototype.point=function(){if(!this._renderer._doStroke)return this;for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];return this._renderer.isP3D?this._renderer.point(_[0],_[1],_[2]):this._renderer.point(_[0],_[1]),this},V.prototype.quad=function(){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];return this._renderer.isP3D?this._renderer.quad(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11]):this._renderer.quad(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7]),this},V.prototype.rect=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];if(this._renderer._doStroke||this._renderer._doFill){var U=W.modeAdjust(_[0],_[1],_[2],_[3],this._renderer._rectMode);return _[0]=U.x,_[1]=U.y,_[2]=U.w,_[3]=U.h,this._renderer.rect(_),this}},V.prototype.triangle=function(){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];return this._renderer.triangle(_),this},T.exports=V},{"./canvas":40,"./constants":41,"./core":42,"./error_helpers":45}],39:[function(_,T,U){"use strict";var V=_("./core"),X=_("./constants");V.prototype.ellipseMode=function(_){return _!==X.CORNER&&_!==X.CORNERS&&_!==X.RADIUS&&_!==X.CENTER||(this._renderer._ellipseMode=_),this},V.prototype.noSmooth=function(){return this._renderer.noSmooth(),this},V.prototype.rectMode=function(_){return _!==X.CORNER&&_!==X.CORNERS&&_!==X.RADIUS&&_!==X.CENTER||(this._renderer._rectMode=_),this},V.prototype.smooth=function(){return this._renderer.smooth(),this},V.prototype.strokeCap=function(_){return _!==X.ROUND&&_!==X.SQUARE&&_!==X.PROJECT||this._renderer.strokeCap(_),this},V.prototype.strokeJoin=function(_){return _!==X.ROUND&&_!==X.BEVEL&&_!==X.MITER||this._renderer.strokeJoin(_),this},V.prototype.strokeWeight=function(_){return this._renderer.strokeWeight(_),this},T.exports=V},{"./constants":41,"./core":42}],40:[function(_,T,U){var V=_("./constants");T.exports={modeAdjust:function(_,T,U,X,W){return W===V.CORNER?{x:_,y:T,w:U,h:X}:W===V.CORNERS?{x:_,y:T,w:U-_,h:X-T}:W===V.RADIUS?{x:_-U,y:T-X,w:2*U,h:2*X}:W===V.CENTER?{x:_-.5*U,y:T-.5*X,w:U,h:X}:void 0},arcModeAdjust:function(_,T,U,X,W){return W===V.CORNER?{x:_+.5*U,y:T+.5*X,w:U,h:X}:W===V.CORNERS?{x:_,y:T,w:U+_,h:X+T}:W===V.RADIUS?{x:_,y:T,w:2*U,h:2*X}:W===V.CENTER?{x:_,y:T,w:U,h:X}:void 0}}},{"./constants":41}],41:[function(_,T,U){var V=Math.PI;T.exports={P2D:"p2d",WEBGL:"webgl",ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",HALF_PI:V/2,PI:V,QUARTER_PI:V/4,TAU:2*V,TWO_PI:2*V,DEGREES:"degrees",RADIANS:"radians",CORNER:"corner",CORNERS:"corners",RADIUS:"radius",RIGHT:"right",LEFT:"left",CENTER:"center",TOP:"top",BOTTOM:"bottom",BASELINE:"alphabetic",POINTS:0,LINES:1,LINE_STRIP:3,LINE_LOOP:2,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,QUADS:"quads",QUAD_STRIP:"quad_strip",CLOSE:"close",OPEN:"open",CHORD:"chord",PIE:"pie",PROJECT:"square",SQUARE:"butt",ROUND:"round",BEVEL:"bevel",MITER:"miter",RGB:"rgb",HSB:"hsb",HSL:"hsl",AUTO:"auto",ALT:18,BACKSPACE:8,CONTROL:17,DELETE:46,DOWN_ARROW:40,ENTER:13,ESCAPE:27,LEFT_ARROW:37,OPTION:18,RETURN:13,RIGHT_ARROW:39,SHIFT:16,TAB:9,UP_ARROW:38,BLEND:"source-over",ADD:"lighter",DARKEST:"darken",LIGHTEST:"lighten",DIFFERENCE:"difference",EXCLUSION:"exclusion",MULTIPLY:"multiply",SCREEN:"screen",REPLACE:"copy",OVERLAY:"overlay",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DODGE:"color-dodge",BURN:"color-burn",THRESHOLD:"threshold",GRAY:"gray",OPAQUE:"opaque",INVERT:"invert",POSTERIZE:"posterize",DILATE:"dilate",ERODE:"erode",BLUR:"blur",NORMAL:"normal",ITALIC:"italic",BOLD:"bold",_DEFAULT_TEXT_FILL:"#000000",_DEFAULT_LEADMULT:1.25,_CTX_MIDDLE:"middle",LINEAR:"linear",QUADRATIC:"quadratic",BEZIER:"bezier",CURVE:"curve",_DEFAULT_STROKE:"#000000",_DEFAULT_FILL:"#FFFFFF"}},{}],42:[function(_,T,U){"use strict";_("./shim");var V=_("./constants"),e=function(_,T,U){2===arguments.length&&"boolean"==typeof T&&(U=T,T=void 0),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=T,this._curElement=null,this._elements=[],this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._styles=[],this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._events.wheel=null,this._loadingScreenId="p5_loading",window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode));var _=this.preload||window.preload;if(_){var T=document.getElementById(this._loadingScreenId);for(var U in T||((T=document.createElement("div")).innerHTML="Loading...",T.style.position="absolute",T.id=this._loadingScreenId,(this._userNode||document.body).appendChild(T)),this._preloadMethods){this._preloadMethods[U]=this._preloadMethods[U]||e;var V=this._preloadMethods[U];V!==e.prototype&&V!==e||(V=this._isGlobal?window:this),this._registeredPreloadMethods[U]=V[U],V[U]=this._wrapPreload(V,U)}_(),this._runIfPreloadsAreDone()}else this._setup(),this._runFrames(),this._draw()}.bind(this),this._runIfPreloadsAreDone=function(){var _=this._isGlobal?window:this;if(0===_._preloadCount){var T=document.getElementById(_._loadingScreenId);T&&T.parentNode.removeChild(T),_._setup(),_._runFrames(),_._draw()}},this._decrementPreload=function(){var _=this._isGlobal?window:this;_._setProperty("_preloadCount",_._preloadCount-1),_._runIfPreloadsAreDone()},this._wrapPreload=function(_,T){return function(){this._incrementPreload();for(var U=new Array(arguments.length),V=0;V<U.length;++V)U[V]=arguments[V];return U.push(this._decrementPreload.bind(this)),this._registeredPreloadMethods[T].apply(_,U)}.bind(this)},this._incrementPreload=function(){var _=this._isGlobal?window:this;_._setProperty("_preloadCount",_._preloadCount+1)},this._setup=function(){this.createCanvas(this._defaultCanvasSize.width,this._defaultCanvasSize.height,"p2d",!0);var _=this._isGlobal?window:this;if("function"==typeof _.preload)for(var T in this._preloadMethods)_[T]=this._preloadMethods[T][T],_[T]&&this&&(_[T]=_[T].bind(this));"function"==typeof _.setup&&_.setup();for(var U=document.getElementsByTagName("canvas"),V=0;V<U.length;V++){var X=U[V];"true"===X.dataset.hidden&&(X.style.visibility="",delete X.dataset.hidden)}this._setupDone=!0}.bind(this),this._draw=function(){var _=window.performance.now(),T=_-this._lastFrameTime,U=1e3/this._targetFrameRate;(!this._loop||T>=U-5)&&(this._setProperty("frameCount",this.frameCount+1),this.redraw(),this._updateMouseCoords(),this._frameRate=1e3/(_-this._lastFrameTime),this._lastFrameTime=_),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw))}.bind(this),this._runFrames=function(){this._updateInterval&&clearInterval(this._updateInterval)}.bind(this),this._setProperty=function(_,T){this[_]=T,this._isGlobal&&(window[_]=T)}.bind(this),this.remove=function(){if(this._curElement){for(var _ in this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId),this._events)window.removeEventListener(_,this._events[_]);for(var T=0;T<this._elements.length;T++){var U=this._elements[T];for(var V in U.elt.parentNode&&U.elt.parentNode.removeChild(U.elt),U._events)U.elt.removeEventListener(V,U._events[V])}var X=this;if(this._registeredMethods.remove.forEach((function(_){void 0!==_&&_.call(X)})),this._isGlobal){for(var W in e.prototype)try{delete window[W]}catch(_){window[W]=void 0}for(var Z in this)if(this.hasOwnProperty(Z))try{delete window[Z]}catch(_){window[Z]=void 0}}}}.bind(this),this._registeredMethods.init.forEach((function(_){void 0!==_&&_.call(this)}),this);var V=this._createFriendlyGlobalFunctionBinder();if(_)_(this);else{for(var X in this._isGlobal=!0,e.instance=this,e.prototype)if("function"==typeof e.prototype[X]){var W=X.substring(2);this._events.hasOwnProperty(W)||(Math.hasOwnProperty(X)&&Math[X]===e.prototype[X]?V(X,e.prototype[X]):V(X,e.prototype[X].bind(this)))}else V(X,e.prototype[X]);for(var Z in this)this.hasOwnProperty(Z)&&V(Z,this[Z])}for(var $ in this._events){var ee=this["_on"+$];if(ee){var te=ee.bind(this);window.addEventListener($,te),this._events[$]=te}}var re=function(){this._setProperty("focused",!0)}.bind(this),ne=function(){this._setProperty("focused",!1)}.bind(this);window.addEventListener("focus",re),window.addEventListener("blur",ne),this.registerMethod("remove",(function(){window.removeEventListener("focus",re),window.removeEventListener("blur",ne)})),U||"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)};for(var X in e.instance=null,e.disableFriendlyErrors=!1,V)e.prototype[X]=V[X];e.prototype._preloadMethods={loadJSON:e.prototype,loadImage:e.prototype,loadStrings:e.prototype,loadXML:e.prototype,loadShape:e.prototype,loadTable:e.prototype,loadFont:e.prototype,loadModel:e.prototype},e.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},e.prototype._registeredPreloadMethods={},e.prototype.registerPreloadMethod=function(_,T){e.prototype._preloadMethods.hasOwnProperty(_)||(e.prototype._preloadMethods[_]=T)},e.prototype.registerMethod=function(_,T){e.prototype._registeredMethods.hasOwnProperty(_)||(e.prototype._registeredMethods[_]=[]),e.prototype._registeredMethods[_].push(T)},e.prototype._createFriendlyGlobalFunctionBinder=function(_){var T=(_=_||{}).globalObject||window;_.log||console.log.bind(console);return function(_,U){e.disableFriendlyErrors,T[_]=U}},T.exports=e},{"./constants":41,"./shim":51}],43:[function(_,T,U){"use strict";var V=_("./core");_("./error_helpers");var X=20,W=20;V.prototype.bezier=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];return this._renderer._doStroke||this._renderer._doFill?(this._renderer.isP3D?(_.push(X),this._renderer.bezier(_)):this._renderer.bezier(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7]),this):this},V.prototype.bezierDetail=function(_){return X=_,this},V.prototype.bezierPoint=function(_,T,U,V,X){var W=1-X;return Math.pow(W,3)*_+3*Math.pow(W,2)*X*T+3*W*Math.pow(X,2)*U+Math.pow(X,3)*V},V.prototype.bezierTangent=function(_,T,U,V,X){var W=1-X;return 3*V*Math.pow(X,2)-3*U*Math.pow(X,2)+6*U*W*X-6*T*W*X+3*T*Math.pow(W,2)-3*_*Math.pow(W,2)},V.prototype.curve=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];return this._renderer._doStroke?(this._renderer.isP3D?(_.push(W),this._renderer.curve(_)):this._renderer.curve(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7]),this):this},V.prototype.curveDetail=function(_){return W=_,this},V.prototype.curveTightness=function(_){this._renderer._curveTightness=_},V.prototype.curvePoint=function(_,T,U,V,X){var W=X*X*X,Z=X*X;return _*(-.5*W+Z-.5*X)+T*(1.5*W-2.5*Z+1)+U*(-1.5*W+2*Z+.5*X)+V*(.5*W-.5*Z)},V.prototype.curveTangent=function(_,T,U,V,X){var W=X*X;return _*(-3*W/2+2*X-.5)+T*(9*W/2-5*X)+U*(-9*W/2+4*X+.5)+V*(3*W/2-X)},T.exports=V},{"./core":42,"./error_helpers":45}],44:[function(_,T,U){"use strict";function d(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function e(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}var V=_("./core"),X=_("./constants"),W=[X.ARROW,X.CROSS,X.HAND,X.MOVE,X.TEXT,X.WAIT];V.prototype._frameRate=0,V.prototype._lastFrameTime=window.performance.now(),V.prototype._targetFrameRate=60;var Z=window.print;window.console&&console.log?V.prototype.print=function(_){try{if(0===arguments.length)Z();else if(arguments.length>1)console.log.apply(console,arguments);else{var T=JSON.parse(JSON.stringify(_));console.log(T)}}catch(T){console.log(_)}}:V.prototype.print=function(){},V.prototype.frameCount=0,V.prototype.focused=document.hasFocus(),V.prototype.cursor=function(_,T,U){var V="auto",X=this._curElement.elt;if(W.indexOf(_)>-1)V=_;else if("string"==typeof _){var Z="";T&&U&&"number"==typeof T&&"number"==typeof U&&(Z=T+" "+U),V="http://"===_.substring(0,7)||"https://"===_.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(_)?"url("+_+") "+Z+", auto":_}X.style.cursor=V},V.prototype.frameRate=function(_){return"number"!=typeof _||_<=0?this._frameRate:(this._setProperty("_targetFrameRate",_),this._runFrames(),this)},V.prototype.getFrameRate=function(){return this.frameRate()},V.prototype.setFrameRate=function(_){return this.frameRate(_)},V.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},V.prototype.displayWidth=screen.width,V.prototype.displayHeight=screen.height,V.prototype.windowWidth=d(),V.prototype.windowHeight=e(),V.prototype._onresize=function(_){this._setProperty("windowWidth",d()),this._setProperty("windowHeight",e());var T,U=this._isGlobal?window:this;"function"==typeof U.windowResized&&(void 0===(T=U.windowResized(_))||T||_.preventDefault())},V.prototype.width=0,V.prototype.height=0,V.prototype.fullscreen=function(_){if(void 0===_)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;_?function f(_){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");_.requestFullscreen?_.requestFullscreen():_.mozRequestFullScreen?_.mozRequestFullScreen():_.webkitRequestFullscreen?_.webkitRequestFullscreen():_.msRequestFullscreen&&_.msRequestFullscreen()}(document.documentElement):function g(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}()},V.prototype.pixelDensity=function(_){if("number"!=typeof _)return this._pixelDensity;this._pixelDensity=_,this.resizeCanvas(this.width,this.height,!0)},V.prototype.displayDensity=function(){return window.devicePixelRatio},V.prototype.getURL=function(){return location.href},V.prototype.getURLPath=function(){return location.pathname.split("/").filter((function(_){return""!==_}))},V.prototype.getURLParams=function(){for(var _,T=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,U={};null!=(_=T.exec(location.search));)_.index===T.lastIndex&&T.lastIndex++,U[_[1]]=_[2];return U},T.exports=V},{"./constants":41,"./core":42}],45:[function(_,T,U){"use strict";function d(_,T,U){X&&(function e(){console.log("%c    _ \n /\\| |/\\ \n \\ ` ' /  \n / , . \\  \n \\/|_|\\/ \n\n%c> p5.js says: Welcome! This is your friendly debugger. To turn me off switch to using p5.min.js.","background-color:transparent;color:#ED225D;","background-color:#ED225D;color:white;")}(),X=!1),"undefined"===n(U)?U="#B40033":"number"===n(U)&&(U=te[U])}function f(){var T={},c=function(_){return Object.getOwnPropertyNames(_).filter((function(_){return"_"!==_[0]&&!(_ in T)&&(T[_]=!0,!0)})).map((function(T){var U;return U="function"==typeof _[T]?"function":T===T.toUpperCase()?"constant":"variable",{name:T,type:U}}))};(ne=[].concat(c(V.prototype),c(_("./constants")))).sort((function(_,T){return T.name.length-_.name.length}))}function g(_,T){T||(T=console.log.bind(console)),ne||f(),ne.some((function(U){if(_.message&&null!==_.message.match("\\W?"+U.name+"\\W"))return T("%cDid you just try to use p5.js's "+U.name+("function"===U.type?"() ":" ")+U.type+"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: "+ie,"color: #B40033"),!0}))}for(var V=_("./core"),X=!1,W={},Z=W.toString,$=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],ee=0;ee<$.length;ee++)W["[object "+$[ee]+"]"]=$[ee].toLowerCase();var n=function(_){return null==_?_+"":"object"==typeof _||"function"==typeof _?W[Z.call(_)]||"object":typeof _},te=["#2D7BB6","#EE9900","#4DB200","#C83C00"],re={0:{fileType:"image",method:"loadImage",message:" hosting the image online,"},1:{fileType:"XML file",method:"loadXML"},2:{fileType:"table file",method:"loadTable"},3:{fileType:"text file",method:"loadStrings"},4:{fileType:"font",method:"loadFont",message:" hosting the font online,"}};V._friendlyFileLoadError=function(_,T){var U=re[_];d((U.fileType,U.message),U.method,3)};var ne=null,ie="https://github.com/processing/p5.js/wiki/Frequently-Asked-Questions#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";V.prototype._helpForMisusedAtTopLevelCode=g,"complete"!==document.readyState&&(window.addEventListener("error",g,!1),window.addEventListener("load",(function(){window.removeEventListener("error",g,!1)}))),T.exports=V},{"./constants":41,"./core":42}],46:[function(_,T,U){function d(_,T,U){var V=T.bind(U);U.elt.addEventListener(_,V,!1),U._events[_]=V}var V=_("./core");V.Element=function(_,T){this.elt=_,this._pInst=T,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},V.Element.prototype.parent=function(_){return 0===arguments.length?this.elt.parentNode:("string"==typeof _?("#"===_[0]&&(_=_.substring(1)),_=document.getElementById(_)):_ instanceof V.Element&&(_=_.elt),_.appendChild(this.elt),this)},V.Element.prototype.id=function(_){return 0===arguments.length?this.elt.id:(this.elt.id=_,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},V.Element.prototype.class=function(_){return 0===arguments.length?this.elt.className:(this.elt.className=_,this)},V.Element.prototype.mousePressed=function(_){return d("mousedown",_,this),d("touchstart",_,this),this},V.Element.prototype.mouseWheel=function(_){return d("wheel",_,this),this},V.Element.prototype.mouseReleased=function(_){return d("mouseup",_,this),d("touchend",_,this),this},V.Element.prototype.mouseClicked=function(_){return d("click",_,this),this},V.Element.prototype.mouseMoved=function(_){return d("mousemove",_,this),d("touchmove",_,this),this},V.Element.prototype.mouseOver=function(_){return d("mouseover",_,this),this},V.Element.prototype.changed=function(_){return d("change",_,this),this},V.Element.prototype.input=function(_){return d("input",_,this),this},V.Element.prototype.mouseOut=function(_){return d("mouseout",_,this),this},V.Element.prototype.touchStarted=function(_){return d("touchstart",_,this),d("mousedown",_,this),this},V.Element.prototype.touchMoved=function(_){return d("touchmove",_,this),d("mousemove",_,this),this},V.Element.prototype.touchEnded=function(_){return d("touchend",_,this),d("mouseup",_,this),this},V.Element.prototype.dragOver=function(_){return d("dragover",_,this),this},V.Element.prototype.dragLeave=function(_){return d("dragleave",_,this),this},V.Element.prototype.drop=function(_,T){function c(T){var U=new V.File(T);return function(T){U.data=T.target.result,_(U)}}return window.File&&window.FileReader&&window.FileList&&window.Blob?(d("dragover",(function(_){_.stopPropagation(),_.preventDefault()}),this),d("dragleave",(function(_){_.stopPropagation(),_.preventDefault()}),this),arguments.length>1&&d("drop",T,this),d("drop",(function(_){_.stopPropagation(),_.preventDefault();for(var T=_.dataTransfer.files,U=0;U<T.length;U++){var V=T[U],X=new FileReader;X.onload=c(V),V.type.indexOf("text")>-1?X.readAsText(V):X.readAsDataURL(V)}}),this)):console.log("The File APIs are not fully supported in this browser."),this},V.Element.prototype._setProperty=function(_,T){this[_]=T},T.exports=V.Element},{"./core":42}],47:[function(_,T,U){var V=_("./core"),X=_("./constants");V.Graphics=function(_,T,U,W){var Z=U||X.P2D,$=document.createElement("canvas");for(var ee in(this._userNode||document.body).appendChild($),V.Element.call(this,$,W,!1),this._styles=[],this.width=_,this.height=T,this._pixelDensity=W._pixelDensity,Z===X.WEBGL?this._renderer=new V.RendererGL($,this,!1):this._renderer=new V.Renderer2D($,this,!1),this._renderer.resize(_,T),this._renderer._applyDefaults(),W._elements.push(this),V.prototype)this[ee]||("function"==typeof V.prototype[ee]?this[ee]=V.prototype[ee].bind(this):this[ee]=V.prototype[ee]);return this},V.Graphics.prototype=Object.create(V.Element.prototype),V.Graphics.prototype.remove=function(){for(var _ in this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt),this._events)this.elt.removeEventListener(_,this._events[_])},T.exports=V.Graphics},{"./constants":41,"./core":42}],48:[function(_,T,U){function d(_){var T=0,U=0;if(_.offsetParent)do{T+=_.offsetLeft,U+=_.offsetTop}while(_=_.offsetParent);else T+=_.offsetLeft,U+=_.offsetTop;return[T,U]}var V=_("./core"),X=_("../core/constants");V.Renderer=function(_,T,U){V.Element.call(this,_,T),this.canvas=_,this._pInst=T,U?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=X.NORMAL,this._textAscent=null,this._textDescent=null,this._rectMode=X.CORNER,this._ellipseMode=X.CENTER,this._curveTightness=0,this._imageMode=X.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._colorMode=X.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]}},V.Renderer.prototype=Object.create(V.Element.prototype),V.Renderer.prototype.resize=function(_,T){this.width=_,this.height=T,this.elt.width=_*this._pInst._pixelDensity,this.elt.height=T*this._pInst._pixelDensity,this.elt.style.width=_+"px",this.elt.style.height=T+"px",this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},V.Renderer.prototype.textLeading=function(_){return arguments.length&&arguments[0]?(this._setProperty("_textLeading",_),this):this._textLeading},V.Renderer.prototype.textSize=function(_){return arguments.length&&arguments[0]?(this._setProperty("_textSize",_),this._setProperty("_textLeading",_*X._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},V.Renderer.prototype.textStyle=function(_){return arguments.length&&arguments[0]?(_!==X.NORMAL&&_!==X.ITALIC&&_!==X.BOLD||this._setProperty("_textStyle",_),this._applyTextProperties()):this._textStyle},V.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},V.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},V.Renderer.prototype._applyDefaults=function(){return this},V.Renderer.prototype._isOpenType=function(_){return"object"==typeof(_=_||this._textFont)&&_.font&&_.font.supported},V.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var _=document.createElement("span");_.style.fontFamily=this._textFont,_.style.fontSize=this._textSize+"px",_.innerHTML="ABCjgq|";var T=document.createElement("div");T.style.display="inline-block",T.style.width="1px",T.style.height="0px";var U=document.createElement("div");U.appendChild(_),U.appendChild(T),U.style.height="0px",U.style.overflow="hidden",document.body.appendChild(U),T.style.verticalAlign="baseline";var V=d(T),X=d(_),W=V[1]-X[1];T.style.verticalAlign="bottom",V=d(T),X=d(_);var Z=V[1]-X[1]-W;return document.body.removeChild(U),this._setProperty("_textAscent",W),this._setProperty("_textDescent",Z),this},T.exports=V.Renderer},{"../core/constants":41,"./core":42}],49:[function(_,T,U){var V=_("./core"),X=_("./canvas"),W=_("./constants"),Z=_("../image/filters");_("./p5.Renderer");var $="rgba(0,0,0,0)";V.Renderer2D=function(_,T,U){return V.Renderer.call(this,_,T,U),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},V.Renderer2D.prototype=Object.create(V.Renderer.prototype),V.Renderer2D.prototype._applyDefaults=function(){this.drawingContext.fillStyle=W._DEFAULT_FILL,this.drawingContext.strokeStyle=W._DEFAULT_STROKE,this.drawingContext.lineCap=W.ROUND,this.drawingContext.font="normal 12px sans-serif"},V.Renderer2D.prototype.resize=function(_,T){V.Renderer.prototype.resize.call(this,_,T),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},V.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),arguments[0]instanceof V.Image)this._pInst.image(arguments[0],0,0,this.width,this.height);else{var _=this.drawingContext.fillStyle,T=this._pInst.color.apply(this,arguments),U=T.toString();this.drawingContext.fillStyle=U,this.drawingContext.fillRect(0,0,this.width,this.height),this.drawingContext.fillStyle=_}this.drawingContext.restore()},V.Renderer2D.prototype.clear=function(){this.drawingContext.clearRect(0,0,this.width,this.height)},V.Renderer2D.prototype.fill=function(){var _=this.drawingContext,T=this._pInst.color.apply(this,arguments);_.fillStyle=T.toString()},V.Renderer2D.prototype.stroke=function(){var _=this.drawingContext,T=this._pInst.color.apply(this,arguments);_.strokeStyle=T.toString()},V.Renderer2D.prototype.image=function(_,T,U,X,W,Z,$,ee,te){var re;try{this._tint&&(V.MediaElement&&_ instanceof V.MediaElement&&_.loadPixels(),_.canvas&&(re=this._getTintedImageCanvas(_))),re||(re=_.canvas||_.elt),this.drawingContext.drawImage(re,T,U,X,W,Z,$,ee,te)}catch(_){if("NS_ERROR_NOT_AVAILABLE"!==_.name)throw _}},V.Renderer2D.prototype._getTintedImageCanvas=function(_){if(!_.canvas)return _;var T=Z._toPixels(_.canvas),U=document.createElement("canvas");U.width=_.canvas.width,U.height=_.canvas.height;for(var V=U.getContext("2d"),X=V.createImageData(_.canvas.width,_.canvas.height),W=X.data,$=0;$<T.length;$+=4){var ee=T[$],te=T[$+1],re=T[$+2],ne=T[$+3];W[$]=ee*this._tint[0]/255,W[$+1]=te*this._tint[1]/255,W[$+2]=re*this._tint[2]/255,W[$+3]=ne*this._tint[3]/255}return V.putImageData(X,0,0),U},V.Renderer2D.prototype.blendMode=function(_){this.drawingContext.globalCompositeOperation=_},V.Renderer2D.prototype.blend=function(){var _=this.drawingContext.globalCompositeOperation,T=arguments[arguments.length-1],U=Array.prototype.slice.call(arguments,0,arguments.length-1);this.drawingContext.globalCompositeOperation=T,this._pInst?this._pInst.copy.apply(this._pInst,U):this.copy.apply(this,U),this.drawingContext.globalCompositeOperation=_},V.Renderer2D.prototype.copy=function(){var _,T,U,X,W,Z,$,ee,te;if(9===arguments.length)_=arguments[0],T=arguments[1],U=arguments[2],X=arguments[3],W=arguments[4],Z=arguments[5],$=arguments[6],ee=arguments[7],te=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");_=this._pInst,T=arguments[0],U=arguments[1],X=arguments[2],W=arguments[3],Z=arguments[4],$=arguments[5],ee=arguments[6],te=arguments[7]}V.Renderer2D._copyHelper(_,T,U,X,W,Z,$,ee,te)},V.Renderer2D._copyHelper=function(_,T,U,V,X,W,Z,$,ee){_.loadPixels();var te=_.canvas.width/_.width;this.drawingContext.drawImage(_.canvas,te*T,te*U,te*V,te*X,W,Z,$,ee)},V.Renderer2D.prototype.get=function(_,T,U,X){if(void 0===_&&void 0===T&&void 0===U&&void 0===X?(_=0,T=0,U=this.width,X=this.height):void 0===U&&void 0===X&&(U=1,X=1),_+U<0||T+X<0||_>this.width||T>this.height)return[0,0,0,255];var W=this._pInst||this;W.loadPixels();var Z=W._pixelDensity;_=Math.floor(_),T=Math.floor(T),U=Math.floor(U),X=Math.floor(X);var $=_*Z,ee=T*Z;if(1===U&&1===X){var te=this.drawingContext.getImageData($,ee,1,1).data;return[te[0],te[1],te[2],te[3]]}var re=Math.min(U,W.width),ne=Math.min(X,W.height),ie=re*Z,oe=ne*Z,ae=new V.Image(re,ne);return ae.canvas.getContext("2d").drawImage(this.canvas,$,ee,ie,oe,0,0,re,ne),ae},V.Renderer2D.prototype.loadPixels=function(){var _=this._pixelDensity||this._pInst._pixelDensity,T=this.width*_,U=this.height*_,V=this.drawingContext.getImageData(0,0,T,U);this._pInst?(this._pInst._setProperty("imageData",V),this._pInst._setProperty("pixels",V.data)):(this._setProperty("imageData",V),this._setProperty("pixels",V.data))},V.Renderer2D.prototype.set=function(_,T,U){if(_=Math.floor(_),T=Math.floor(T),U instanceof V.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this.drawingContext.drawImage(U.canvas,_,T),this.loadPixels.call(this._pInst),this.drawingContext.restore();else{var X=this._pInst||this,W=0,Z=0,$=0,ee=0,te=4*(T*X._pixelDensity*(this.width*X._pixelDensity)+_*X._pixelDensity);if(X.imageData||X.loadPixels.call(X),"number"==typeof U)te<X.pixels.length&&(W=U,Z=U,$=U,ee=255);else if(U instanceof Array){if(U.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");te<X.pixels.length&&(W=U[0],Z=U[1],$=U[2],ee=U[3])}else U instanceof V.Color&&te<X.pixels.length&&(W=U.levels[0],Z=U.levels[1],$=U.levels[2],ee=U.levels[3]);for(var re=0;re<X._pixelDensity;re++)for(var ne=0;ne<X._pixelDensity;ne++)te=4*((T*X._pixelDensity+ne)*this.width*X._pixelDensity+(_*X._pixelDensity+re)),X.pixels[te]=W,X.pixels[te+1]=Z,X.pixels[te+2]=$,X.pixels[te+3]=ee}},V.Renderer2D.prototype.updatePixels=function(_,T,U,V){var X=this._pixelDensity||this._pInst._pixelDensity;void 0===_&&void 0===T&&void 0===U&&void 0===V&&(_=0,T=0,U=this.width,V=this.height),U*=X,V*=X,this._pInst?this.drawingContext.putImageData(this._pInst.imageData,_,T,0,0,U,V):this.drawingContext.putImageData(this.imageData,_,T,0,0,U,V)},V.Renderer2D.prototype._acuteArcToBezier=function(_,T){var U=T/2,V=Math.cos(U),X=Math.sin(U),W=1/Math.tan(U),Z=_+U,$=Math.cos(Z),ee=Math.sin(Z),te=(4-V)/3,re=X+(V-te)*W;return{ax:Math.cos(_),ay:Math.sin(_),bx:te*$+re*ee,by:te*ee-re*$,cx:te*$-re*ee,cy:te*ee+re*$,dx:Math.cos(_+T),dy:Math.sin(_+T)}},V.Renderer2D.prototype.arc=function(_,T,U,V,Z,$,ee){for(var te=this.drawingContext,re=X.arcModeAdjust(_,T,U,V,this._ellipseMode),ne=re.w/2,ie=re.h/2,oe=0,ae=[];$-Z>1e-5;)oe=Math.min($-Z,W.HALF_PI),ae.push(this._acuteArcToBezier(Z,oe)),Z+=oe;return this._doFill&&(te.beginPath(),ae.forEach((function(_,T){0===T&&te.moveTo(re.x+_.ax*ne,re.y+_.ay*ie),te.bezierCurveTo(re.x+_.bx*ne,re.y+_.by*ie,re.x+_.cx*ne,re.y+_.cy*ie,re.x+_.dx*ne,re.y+_.dy*ie)})),ee!==W.PIE&&null!=ee||te.lineTo(re.x,re.y),te.closePath(),te.fill()),this._doStroke&&(te.beginPath(),ae.forEach((function(_,T){0===T&&te.moveTo(re.x+_.ax*ne,re.y+_.ay*ie),te.bezierCurveTo(re.x+_.bx*ne,re.y+_.by*ie,re.x+_.cx*ne,re.y+_.cy*ie,re.x+_.dx*ne,re.y+_.dy*ie)})),ee===W.PIE?(te.lineTo(re.x,re.y),te.closePath()):ee===W.CHORD&&te.closePath(),te.stroke()),this},V.Renderer2D.prototype.ellipse=function(_){var T=this.drawingContext,U=this._doFill,V=this._doStroke,X=_[0],W=_[1],Z=_[2],ee=_[3];if(U&&!V){if(T.fillStyle===$)return this}else if(!U&&V&&T.strokeStyle===$)return this;var te=.5522847498,re=Z/2*te,ne=ee/2*te,ie=X+Z,oe=W+ee,ae=X+Z/2,se=W+ee/2;T.beginPath(),T.moveTo(X,se),T.bezierCurveTo(X,se-ne,ae-re,W,ae,W),T.bezierCurveTo(ae+re,W,ie,se-ne,ie,se),T.bezierCurveTo(ie,se+ne,ae+re,oe,ae,oe),T.bezierCurveTo(ae-re,oe,X,se+ne,X,se),T.closePath(),U&&T.fill(),V&&T.stroke()},V.Renderer2D.prototype.line=function(_,T,U,V){var X=this.drawingContext;return this._doStroke?(X.strokeStyle===$||(X.lineWidth%2==1&&X.translate(.5,.5),X.beginPath(),X.moveTo(_,T),X.lineTo(U,V),X.stroke(),X.lineWidth%2==1&&X.translate(-.5,-.5)),this):this},V.Renderer2D.prototype.point=function(_,T){var U=this.drawingContext,V=U.strokeStyle,X=U.fillStyle;return this._doStroke?U.strokeStyle===$?this:(_=Math.round(_),T=Math.round(T),U.fillStyle=V,U.lineWidth>1?(U.beginPath(),U.arc(_,T,U.lineWidth/2,0,W.TWO_PI,!1),U.fill()):U.fillRect(_,T,1,1),void(U.fillStyle=X)):this},V.Renderer2D.prototype.quad=function(_,T,U,V,X,W,Z,ee){var te=this.drawingContext,re=this._doFill,ne=this._doStroke;if(re&&!ne){if(te.fillStyle===$)return this}else if(!re&&ne&&te.strokeStyle===$)return this;return te.beginPath(),te.moveTo(_,T),te.lineTo(U,V),te.lineTo(X,W),te.lineTo(Z,ee),te.closePath(),re&&te.fill(),ne&&te.stroke(),this},V.Renderer2D.prototype.rect=function(_){var T=_[0],U=_[1],V=_[2],X=_[3],W=_[4],Z=_[5],ee=_[6],te=_[7],re=this.drawingContext,ne=this._doFill,ie=this._doStroke;if(ne&&!ie){if(re.fillStyle===$)return this}else if(!ne&&ie&&re.strokeStyle===$)return this;if(this._doStroke&&re.lineWidth%2==1&&re.translate(.5,.5),re.beginPath(),void 0===W)re.rect(T,U,V,X);else{void 0===Z&&(Z=W),void 0===ee&&(ee=Z),void 0===te&&(te=ee);var oe=V/2,ae=X/2;V<2*W&&(W=oe),X<2*W&&(W=ae),V<2*Z&&(Z=oe),X<2*Z&&(Z=ae),V<2*ee&&(ee=oe),X<2*ee&&(ee=ae),V<2*te&&(te=oe),X<2*te&&(te=ae),re.beginPath(),re.moveTo(T+W,U),re.arcTo(T+V,U,T+V,U+X,Z),re.arcTo(T+V,U+X,T,U+X,ee),re.arcTo(T,U+X,T,U,te),re.arcTo(T,U,T+V,U,W),re.closePath()}return this._doFill&&re.fill(),this._doStroke&&re.stroke(),this._doStroke&&re.lineWidth%2==1&&re.translate(-.5,-.5),this},V.Renderer2D.prototype.triangle=function(_){var T=this.drawingContext,U=this._doFill,V=this._doStroke,X=_[0],W=_[1],Z=_[2],ee=_[3],te=_[4],re=_[5];if(U&&!V){if(T.fillStyle===$)return this}else if(!U&&V&&T.strokeStyle===$)return this;T.beginPath(),T.moveTo(X,W),T.lineTo(Z,ee),T.lineTo(te,re),T.closePath(),U&&T.fill(),V&&T.stroke()},V.Renderer2D.prototype.endShape=function(_,T,U,V,X,Z,$){if(0===T.length)return this;if(!this._doStroke&&!this._doFill)return this;var ee,te=_===W.CLOSE;te&&!Z&&T.push(T[0]);var re,ne,ie=T.length;if(!U||$!==W.POLYGON&&null!==$)if(!V||$!==W.POLYGON&&null!==$)if(!X||$!==W.POLYGON&&null!==$)if($===W.POINTS)for(re=0;re<ie;re++)ee=T[re],this._doStroke&&this._pInst.stroke(ee[6]),this._pInst.point(ee[0],ee[1]);else if($===W.LINES)for(re=0;re+1<ie;re+=2)ee=T[re],this._doStroke&&this._pInst.stroke(T[re+1][6]),this._pInst.line(ee[0],ee[1],T[re+1][0],T[re+1][1]);else if($===W.TRIANGLES)for(re=0;re+2<ie;re+=3)ee=T[re],this.drawingContext.beginPath(),this.drawingContext.moveTo(ee[0],ee[1]),this.drawingContext.lineTo(T[re+1][0],T[re+1][1]),this.drawingContext.lineTo(T[re+2][0],T[re+2][1]),this.drawingContext.lineTo(ee[0],ee[1]),this._doFill&&(this._pInst.fill(T[re+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(T[re+2][6]),this.drawingContext.stroke()),this.drawingContext.closePath();else if($===W.TRIANGLE_STRIP)for(re=0;re+1<ie;re++)ee=T[re],this.drawingContext.beginPath(),this.drawingContext.moveTo(T[re+1][0],T[re+1][1]),this.drawingContext.lineTo(ee[0],ee[1]),this._doStroke&&this._pInst.stroke(T[re+1][6]),this._doFill&&this._pInst.fill(T[re+1][5]),re+2<ie&&(this.drawingContext.lineTo(T[re+2][0],T[re+2][1]),this._doStroke&&this._pInst.stroke(T[re+2][6]),this._doFill&&this._pInst.fill(T[re+2][5])),this._doFillStrokeClose();else if($===W.TRIANGLE_FAN){if(ie>2)for(this.drawingContext.beginPath(),this.drawingContext.moveTo(T[0][0],T[0][1]),this.drawingContext.lineTo(T[1][0],T[1][1]),this.drawingContext.lineTo(T[2][0],T[2][1]),this._doFill&&this._pInst.fill(T[2][5]),this._doStroke&&this._pInst.stroke(T[2][6]),this._doFillStrokeClose(),re=3;re<ie;re++)ee=T[re],this.drawingContext.beginPath(),this.drawingContext.moveTo(T[0][0],T[0][1]),this.drawingContext.lineTo(T[re-1][0],T[re-1][1]),this.drawingContext.lineTo(ee[0],ee[1]),this._doFill&&this._pInst.fill(ee[5]),this._doStroke&&this._pInst.stroke(ee[6]),this._doFillStrokeClose()}else if($===W.QUADS)for(re=0;re+3<ie;re+=4){for(ee=T[re],this.drawingContext.beginPath(),this.drawingContext.moveTo(ee[0],ee[1]),ne=1;ne<4;ne++)this.drawingContext.lineTo(T[re+ne][0],T[re+ne][1]);this.drawingContext.lineTo(ee[0],ee[1]),this._doFill&&this._pInst.fill(T[re+3][5]),this._doStroke&&this._pInst.stroke(T[re+3][6]),this._doFillStrokeClose()}else if($===W.QUAD_STRIP){if(ie>3)for(re=0;re+1<ie;re+=2)ee=T[re],this.drawingContext.beginPath(),re+3<ie?(this.drawingContext.moveTo(T[re+2][0],T[re+2][1]),this.drawingContext.lineTo(ee[0],ee[1]),this.drawingContext.lineTo(T[re+1][0],T[re+1][1]),this.drawingContext.lineTo(T[re+3][0],T[re+3][1]),this._doFill&&this._pInst.fill(T[re+3][5]),this._doStroke&&this._pInst.stroke(T[re+3][6])):(this.drawingContext.moveTo(ee[0],ee[1]),this.drawingContext.lineTo(T[re+1][0],T[re+1][1])),this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(T[0][0],T[0][1]),re=1;re<ie;re++)(ee=T[re]).isVert&&(ee.moveTo?this.drawingContext.moveTo(ee[0],ee[1]):this.drawingContext.lineTo(ee[0],ee[1]));this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),re=0;re<ie;re++)T[re].isVert?T[re].moveTo?this.drawingContext.moveTo([0],T[re][1]):this.drawingContext.lineTo(T[re][0],T[re][1]):this.drawingContext.quadraticCurveTo(T[re][0],T[re][1],T[re][2],T[re][3]);this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),re=0;re<ie;re++)T[re].isVert?T[re].moveTo?this.drawingContext.moveTo(T[re][0],T[re][1]):this.drawingContext.lineTo(T[re][0],T[re][1]):this.drawingContext.bezierCurveTo(T[re][0],T[re][1],T[re][2],T[re][3],T[re][4],T[re][5]);this._doFillStrokeClose()}else if(ie>3){var oe=[],ae=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(T[1][0],T[1][1]),re=1;re+2<ie;re++)ee=T[re],oe[0]=[ee[0],ee[1]],oe[1]=[ee[0]+(ae*T[re+1][0]-ae*T[re-1][0])/6,ee[1]+(ae*T[re+1][1]-ae*T[re-1][1])/6],oe[2]=[T[re+1][0]+(ae*T[re][0]-ae*T[re+2][0])/6,T[re+1][1]+(ae*T[re][1]-ae*T[re+2][1])/6],oe[3]=[T[re+1][0],T[re+1][1]],this.drawingContext.bezierCurveTo(oe[1][0],oe[1][1],oe[2][0],oe[2][1],oe[3][0],oe[3][1]);te&&this.drawingContext.lineTo(T[re+1][0],T[re+1][1]),this._doFillStrokeClose()}return U=!1,V=!1,X=!1,Z=!1,te&&T.pop(),this},V.Renderer2D.prototype.noSmooth=function(){return"imageSmoothingEnabled"in this.drawingContext?this.drawingContext.imageSmoothingEnabled=!1:"mozImageSmoothingEnabled"in this.drawingContext?this.drawingContext.mozImageSmoothingEnabled=!1:"webkitImageSmoothingEnabled"in this.drawingContext?this.drawingContext.webkitImageSmoothingEnabled=!1:"msImageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.msImageSmoothingEnabled=!1),this},V.Renderer2D.prototype.smooth=function(){return"imageSmoothingEnabled"in this.drawingContext?this.drawingContext.imageSmoothingEnabled=!0:"mozImageSmoothingEnabled"in this.drawingContext?this.drawingContext.mozImageSmoothingEnabled=!0:"webkitImageSmoothingEnabled"in this.drawingContext?this.drawingContext.webkitImageSmoothingEnabled=!0:"msImageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.msImageSmoothingEnabled=!0),this},V.Renderer2D.prototype.strokeCap=function(_){return _!==W.ROUND&&_!==W.SQUARE&&_!==W.PROJECT||(this.drawingContext.lineCap=_),this},V.Renderer2D.prototype.strokeJoin=function(_){return _!==W.ROUND&&_!==W.BEVEL&&_!==W.MITER||(this.drawingContext.lineJoin=_),this},V.Renderer2D.prototype.strokeWeight=function(_){return this.drawingContext.lineWidth=void 0===_||0===_?1e-4:_,this},V.Renderer2D.prototype._getFill=function(){return this.drawingContext.fillStyle},V.Renderer2D.prototype._getStroke=function(){return this.drawingContext.strokeStyle},V.Renderer2D.prototype.bezier=function(_,T,U,V,X,W,Z,$){return this._pInst.beginShape(),this._pInst.vertex(_,T),this._pInst.bezierVertex(U,V,X,W,Z,$),this._pInst.endShape(),this},V.Renderer2D.prototype.curve=function(_,T,U,V,X,W,Z,$){return this._pInst.beginShape(),this._pInst.curveVertex(_,T),this._pInst.curveVertex(U,V),this._pInst.curveVertex(X,W),this._pInst.curveVertex(Z,$),this._pInst.endShape(),this},V.Renderer2D.prototype._doFillStrokeClose=function(){this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke(),this.drawingContext.closePath()},V.Renderer2D.prototype.applyMatrix=function(_,T,U,V,X,W){this.drawingContext.transform(_,T,U,V,X,W)},V.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},V.Renderer2D.prototype.rotate=function(_){this.drawingContext.rotate(_)},V.Renderer2D.prototype.scale=function(_,T){return this.drawingContext.scale(_,T),this},V.Renderer2D.prototype.shearX=function(_){return this._pInst._angleMode===W.DEGREES&&(_=this._pInst.degrees(_)),this.drawingContext.transform(1,0,this._pInst.tan(_),1,0,0),this},V.Renderer2D.prototype.shearY=function(_){return this._pInst._angleMode===W.DEGREES&&(_=this._pInst.degrees(_)),this.drawingContext.transform(1,this._pInst.tan(_),0,1,0,0),this},V.Renderer2D.prototype.translate=function(_,T){return this.drawingContext.translate(_,T),this},V.Renderer2D.prototype.text=function(_,T,U,V,X){var Z,$,ee,te,re,ne,ie,oe,ae,se=this._pInst,he=Number.MAX_VALUE;if(this._doFill||this._doStroke){if("string"!=typeof _&&(_=_.toString()),Z=(_=_.replace(/(\t)/g,"  ")).split("\n"),void 0!==V){for(oe=0,ee=0;ee<Z.length;ee++)for(re="",ie=Z[ee].split(" "),$=0;$<ie.length;$++)ne=re+ie[$]+" ",this.textWidth(ne)>V?(re=ie[$]+" ",oe+=se.textLeading()):re=ne;switch(this._rectMode===W.CENTER&&(T-=V/2,U-=X/2),this.drawingContext.textAlign){case W.CENTER:T+=V/2;break;case W.RIGHT:T+=V}if(void 0!==X){switch(this.drawingContext.textBaseline){case W.BOTTOM:U+=X-oe;break;case W._CTX_MIDDLE:U+=(X-oe)/2;break;case W.BASELINE:ae=!0,this.drawingContext.textBaseline=W.TOP}he=U+X-se.textAscent()}for(ee=0;ee<Z.length;ee++){for(re="",ie=Z[ee].split(" "),$=0;$<ie.length;$++)ne=re+ie[$]+" ",this.textWidth(ne)>V&&re.length>0?(this._renderText(se,re,T,U,he),re=ie[$]+" ",U+=se.textLeading()):re=ne;this._renderText(se,re,T,U,he),U+=se.textLeading()}}else{var le=0,ue=se.textAlign().vertical;for(ue===W.CENTER?le=(Z.length-1)*se.textLeading()/2:ue===W.BOTTOM&&(le=(Z.length-1)*se.textLeading()),te=0;te<Z.length;te++)this._renderText(se,Z[te],T,U-le,he),U+=se.textLeading()}return ae&&(this.drawingContext.textBaseline=W.BASELINE),se}},V.Renderer2D.prototype._renderText=function(_,T,U,V,X){if(!(V>=X))return _.push(),this._isOpenType()?this._textFont._renderPath(T,U,V,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(T,U,V),this._doFill&&(this.drawingContext.fillStyle=this._fillSet?this.drawingContext.fillStyle:W._DEFAULT_TEXT_FILL,this.drawingContext.fillText(T,U,V))),_.pop(),_},V.Renderer2D.prototype.textWidth=function(_){return this._isOpenType()?this._textFont._textWidth(_,this._textSize):this.drawingContext.measureText(_).width},V.Renderer2D.prototype.textAlign=function(_,T){if(arguments.length)return _!==W.LEFT&&_!==W.RIGHT&&_!==W.CENTER||(this.drawingContext.textAlign=_),T!==W.TOP&&T!==W.BOTTOM&&T!==W.CENTER&&T!==W.BASELINE||(T===W.CENTER?this.drawingContext.textBaseline=W._CTX_MIDDLE:this.drawingContext.textBaseline=T),this._pInst;var U=this.drawingContext.textBaseline;return U===W._CTX_MIDDLE&&(U=W.CENTER),{horizontal:this.drawingContext.textAlign,vertical:U}},V.Renderer2D.prototype._applyTextProperties=function(){var _,T=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),_=this._textFont,this._isOpenType()&&(_=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font=this._textStyle+" "+this._textSize+"px "+_,T},V.Renderer2D.prototype.push=function(){this.drawingContext.save()},V.Renderer2D.prototype.pop=function(){this.drawingContext.restore()},T.exports=V.Renderer2D},{"../image/filters":59,"./canvas":40,"./constants":41,"./core":42,"./p5.Renderer":48}],50:[function(_,T,U){var V=_("./core"),X=_("./constants");_("./p5.Graphics"),_("./p5.Renderer2D"),_("../webgl/p5.RendererGL");var W="defaultCanvas0";V.prototype.createCanvas=function(_,T,U){var Z,$,ee=U||X.P2D;if(arguments[3]&&(Z="boolean"==typeof arguments[3]&&arguments[3]),ee===X.WEBGL)($=document.getElementById(W))&&$.parentNode.removeChild($),($=document.createElement("canvas")).id=W;else if(Z){$=document.createElement("canvas");for(var te=0;document.getElementById("defaultCanvas"+te);)te++;W="defaultCanvas"+te,$.id=W}else $=this.canvas;return this._setupDone||($.dataset.hidden=!0,$.style.visibility="hidden"),this._userNode?this._userNode.appendChild($):document.body.appendChild($),ee===X.WEBGL?(this._setProperty("_renderer",new V.RendererGL($,this,!0)),this._isdefaultGraphics=!0):this._isdefaultGraphics||(this._setProperty("_renderer",new V.Renderer2D($,this,!0)),this._isdefaultGraphics=!0),this._renderer.resize(_,T),this._renderer._applyDefaults(),Z&&this._elements.push(this._renderer),this._renderer},V.prototype.resizeCanvas=function(_,T,U){if(this._renderer){var V={};for(var X in this.drawingContext){var W=this.drawingContext[X];"object"!=typeof W&&"function"!=typeof W&&(V[X]=W)}for(var Z in this._renderer.resize(_,T),V)this.drawingContext[Z]=V[Z];U||this.redraw()}},V.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},V.prototype.createGraphics=function(_,T,U){return new V.Graphics(_,T,U,this)},V.prototype.blendMode=function(_){if(_!==X.BLEND&&_!==X.DARKEST&&_!==X.LIGHTEST&&_!==X.DIFFERENCE&&_!==X.MULTIPLY&&_!==X.EXCLUSION&&_!==X.SCREEN&&_!==X.REPLACE&&_!==X.OVERLAY&&_!==X.HARD_LIGHT&&_!==X.SOFT_LIGHT&&_!==X.DODGE&&_!==X.BURN&&_!==X.ADD&&_!==X.NORMAL)throw new Error("Mode "+_+" not recognized.");this._renderer.blendMode(_)},T.exports=V},{"../webgl/p5.RendererGL":91,"./constants":41,"./core":42,"./p5.Graphics":47,"./p5.Renderer2D":49}],51:[function(_,T,U){window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(_,T){window.setTimeout(_,1e3/60)},window.performance=window.performance||{},window.performance.now=function(){var _=Date.now();return window.performance.now||window.performance.mozNow||window.performance.msNow||window.performance.oNow||window.performance.webkitNow||function(){return Date.now()-_}}(),function(){"use strict";"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1})}()},{}],52:[function(_,T,U){"use strict";var V=_("./core");V.prototype.exit=function(){throw"exit() not implemented, see remove()"},V.prototype.noLoop=function(){this._loop=!1},V.prototype.loop=function(){this._loop=!0,this._draw()},V.prototype.push=function(){this._renderer.push(),this._styles.push({_doStroke:this._renderer._doStroke,_strokeSet:this._renderer._strokeSet,_doFill:this._renderer._doFill,_fillSet:this._renderer._fillSet,_tint:this._renderer._tint,_imageMode:this._renderer._imageMode,_rectMode:this._renderer._rectMode,_ellipseMode:this._renderer._ellipseMode,_colorMode:this._renderer._colorMode,_textFont:this._renderer._textFont,_textLeading:this._renderer._textLeading,_textSize:this._renderer._textSize,_textStyle:this._renderer._textStyle})},V.prototype.pop=function(){this._renderer.pop();var _=this._styles.pop();for(var T in _)this._renderer[T]=_[T]},V.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},V.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},V.prototype.redraw=function(){this.resetMatrix(),this._renderer.isP3D&&this._renderer._update();var _=1;if(1===arguments.length)try{parseInt(arguments[0])>1&&(_=parseInt(arguments[0]))}catch(_){}var T=this.setup||window.setup,U=this.draw||window.draw;if("function"==typeof U){void 0===T&&this.scale(this._pixelDensity,this._pixelDensity);for(var V=this,e=function(_){_.call(V)},X=0;X<_;X++)this._registeredMethods.pre.forEach(e),U(),this._registeredMethods.post.forEach(e)}},V.prototype.size=function(){throw"size() is not a valid p5 function, to set the size of the "+"drawing canvas, please use createCanvas() instead"},T.exports=V},{"./core":42}],53:[function(_,T,U){"use strict";var V=_("./core"),X=_("./constants");V.prototype.applyMatrix=function(_,T,U,V,X,W){return this._renderer.applyMatrix(_,T,U,V,X,W),this},V.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},V.prototype.printMatrix=function(){throw new Error("printMatrix() not implemented")},V.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},V.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},V.prototype.rotate=function(){for(var _,T=new Array(arguments.length),U=0;U<T.length;++U)T[U]=arguments[U];return this._angleMode===X.DEGREES?_=this.radians(T[0]):this._angleMode===X.RADIANS&&(_=T[0]),T.length>1?this._renderer.rotate(_,T[1]):this._renderer.rotate(_),this},V.prototype.rotateX=function(_){if(!this._renderer.isP3D)throw"not supported in p2d. Please use webgl mode";return this._renderer.rotateX(_),this},V.prototype.rotateY=function(_){if(!this._renderer.isP3D)throw"not supported in p2d. Please use webgl mode";return this._renderer.rotateY(_),this},V.prototype.rotateZ=function(_){if(!this._renderer.isP3D)throw"not supported in p2d. Please use webgl mode";return this._renderer.rotateZ(_),this},V.prototype.scale=function(){for(var _,T,U,X=new Array(arguments.length),W=0;W<X.length;W++)X[W]=arguments[W];return X[0]instanceof V.Vector?(_=X[0].x,T=X[0].y,U=X[0].z):X[0]instanceof Array?(_=X[0][0],T=X[0][1],U=X[0][2]||1):1===X.length?_=T=U=X[0]:(_=X[0],T=X[1],U=X[2]||1),this._renderer.isP3D?this._renderer.scale.call(this._renderer,_,T,U):this._renderer.scale.call(this._renderer,_,T),this},V.prototype.shearX=function(_){return this._angleMode===X.DEGREES&&(_=this.radians(_)),this._renderer.shearX(_),this},V.prototype.shearY=function(_){return this._angleMode===X.DEGREES&&(_=this.radians(_)),this._renderer.shearY(_),this},V.prototype.translate=function(_,T,U){return this._renderer.isP3D?this._renderer.translate(_,T,U):this._renderer.translate(_,T),this},T.exports=V},{"./constants":41,"./core":42}],54:[function(_,T,U){"use strict";var V=_("./core"),X=_("./constants"),W=null,Z=[],$=[],ee=!1,te=!1,re=!1,ne=!1,ie=!0;V.prototype.beginContour=function(){return $=[],ne=!0,this},V.prototype.beginShape=function(_){return W=_===X.POINTS||_===X.LINES||_===X.TRIANGLES||_===X.TRIANGLE_FAN||_===X.TRIANGLE_STRIP||_===X.QUADS||_===X.QUAD_STRIP?_:null,this._renderer.isP3D?this._renderer.beginShape(_):(Z=[],$=[]),this},V.prototype.bezierVertex=function(_,T,U,V,X,W){if(0===Z.length)throw"vertex() must be used once before calling bezierVertex()";ee=!0;for(var te=[],re=0;re<arguments.length;re++)te[re]=arguments[re];return te.isVert=!1,ne?$.push(te):Z.push(te),this},V.prototype.curveVertex=function(_,T){return te=!0,this.vertex(_,T),this},V.prototype.endContour=function(){var _=$[0].slice();_.isVert=$[0].isVert,_.moveTo=!1,$.push(_),ie&&(Z.push(Z[0]),ie=!1);for(var T=0;T<$.length;T++)Z.push($[T]);return this},V.prototype.endShape=function(_){if(this._renderer.isP3D)this._renderer.endShape(_,te,ee,re,ne,W);else{if(0===Z.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var T=_===X.CLOSE;T&&!ne&&Z.push(Z[0]),this._renderer.endShape(_,Z,te,ee,re,ne,W),te=!1,ee=!1,re=!1,ne=!1,ie=!0,T&&Z.pop()}return this},V.prototype.quadraticVertex=function(_,T,U,V){if(this._contourInited){var W={};return W.x=_,W.y=T,W.x3=U,W.y3=V,W.type=X.QUADRATIC,this._contourVertices.push(W),this}if(!(Z.length>0))throw"vertex() must be used once before calling quadraticVertex()";re=!0;for(var ee=[],te=0;te<arguments.length;te++)ee[te]=arguments[te];return ee.isVert=!1,ne?$.push(ee):Z.push(ee),this},V.prototype.vertex=function(_,T,U){if(this._renderer.isP3D)this._renderer.vertex(_,T,U);else{var V=[];V.isVert=!0,V[0]=_,V[1]=T,V[2]=0,V[3]=0,V[4]=0,V[5]=this._renderer._getFill(),V[6]=this._renderer._getStroke(),U&&(V.moveTo=U),ne?(0===$.length&&(V.moveTo=!0),$.push(V)):Z.push(V)}return this},T.exports=V},{"./constants":41,"./core":42}],55:[function(_,T,U){"use strict";var V=_("../core/core");V.prototype.deviceOrientation=void 0,V.prototype.accelerationX=0,V.prototype.accelerationY=0,V.prototype.accelerationZ=0,V.prototype.pAccelerationX=0,V.prototype.pAccelerationY=0,V.prototype.pAccelerationZ=0,V.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},V.prototype.rotationX=0,V.prototype.rotationY=0,V.prototype.rotationZ=0,V.prototype.pRotationX=0,V.prototype.pRotationY=0,V.prototype.pRotationZ=0;var X,W,Z,$=0,ee=0,te=0,re="clockwise",ne="clockwise",ie="clockwise";V.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},V.prototype.turnAxis=void 0;var oe=.5,ae=30;V.prototype.setMoveThreshold=function(_){"number"==typeof _&&(oe=_)},V.prototype.setShakeThreshold=function(_){"number"==typeof _&&(ae=_)},V.prototype._ondeviceorientation=function(_){this._updatePRotations(),this._setProperty("rotationX",_.beta),this._setProperty("rotationY",_.gamma),this._setProperty("rotationZ",_.alpha),this._handleMotion()},V.prototype._ondevicemotion=function(_){this._updatePAccelerations(),this._setProperty("accelerationX",2*_.acceleration.x),this._setProperty("accelerationY",2*_.acceleration.y),this._setProperty("accelerationZ",2*_.acceleration.z),this._handleMotion()},V.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var _=this.deviceMoved||window.deviceMoved;"function"==typeof _&&(Math.abs(this.accelerationX-this.pAccelerationX)>oe||Math.abs(this.accelerationY-this.pAccelerationY)>oe||Math.abs(this.accelerationZ-this.pAccelerationZ)>oe)&&_();var T=this.deviceTurned||window.deviceTurned;if("function"==typeof T){var U=this.rotationX+180,V=this.pRotationX+180,se=$+180;U-V>0&&U-V<270||U-V<-270?re="clockwise":(U-V<0||U-V>270)&&(re="counter-clockwise"),re!==X&&(se=U),Math.abs(U-se)>90&&Math.abs(U-se)<270&&(se=U,this._setProperty("turnAxis","X"),T()),X=re,$=se-180;var he=this.rotationY+180,le=this.pRotationY+180,ue=ee+180;he-le>0&&he-le<270||he-le<-270?ne="clockwise":(he-le<0||he-this.pRotationY>270)&&(ne="counter-clockwise"),ne!==W&&(ue=he),Math.abs(he-ue)>90&&Math.abs(he-ue)<270&&(ue=he,this._setProperty("turnAxis","Y"),T()),W=ne,ee=ue-180,this.rotationZ-this.pRotationZ>0&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?ie="clockwise":(this.rotationZ-this.pRotationZ<0||this.rotationZ-this.pRotationZ>270)&&(ie="counter-clockwise"),ie!==Z&&(te=this.rotationZ),Math.abs(this.rotationZ-te)>90&&Math.abs(this.rotationZ-te)<270&&(te=this.rotationZ,this._setProperty("turnAxis","Z"),T()),Z=ie,this._setProperty("turnAxis",void 0)}var pe,ce,fe=this.deviceShaken||window.deviceShaken;"function"==typeof fe&&(null!==this.pAccelerationX&&(pe=Math.abs(this.accelerationX-this.pAccelerationX),ce=Math.abs(this.accelerationY-this.pAccelerationY)),pe+ce>ae&&fe())},T.exports=V},{"../core/core":42}],56:[function(_,T,U){"use strict";var V=_("../core/core"),X={};V.prototype.isKeyPressed=!1,V.prototype.keyIsPressed=!1,V.prototype.key="",V.prototype.keyCode=0,V.prototype._onkeydown=function(_){if(!X[_.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",_.which),X[_.which]=!0;var T=String.fromCharCode(_.which);T||(T=_.which),this._setProperty("key",T);var U=this.keyPressed||window.keyPressed;"function"!=typeof U||_.charCode||!1===U(_)&&_.preventDefault()}},V.prototype._onkeyup=function(_){var T=this.keyReleased||window.keyReleased;X[_.which]=!1,function d(){for(var _ in X)if(X.hasOwnProperty(_)&&!0===X[_])return!0;return!1}()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null);var U=String.fromCharCode(_.which);U||(U=_.which),this._setProperty("key",U),this._setProperty("keyCode",_.which),"function"==typeof T&&!1===T(_)&&_.preventDefault()},V.prototype._onkeypress=function(_){if(_.which!==this._lastKeyCodeTyped){this._setProperty("keyCode",_.which),this._setProperty("_lastKeyCodeTyped",_.which),this._setProperty("key",String.fromCharCode(_.which));var T=this.keyTyped||window.keyTyped;"function"==typeof T&&!1===T(_)&&_.preventDefault()}},V.prototype._onblur=function(_){X={}},V.prototype.keyIsDown=function(_){return X[_]},T.exports=V},{"../core/core":42}],57:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("../core/constants");V.prototype._hasMouseInteracted=!1,V.prototype.mouseX=0,V.prototype.mouseY=0,V.prototype.pmouseX=0,V.prototype.pmouseY=0,V.prototype.winMouseX=0,V.prototype.winMouseY=0,V.prototype.pwinMouseX=0,V.prototype.pwinMouseY=0,V.prototype.mouseButton=0,V.prototype.mouseIsPressed=!1,V.prototype.isMousePressed=!1,V.prototype._updateNextMouseCoords=function(_){if(null!==this._curElement&&(!_.touches||_.touches.length>0)){var T=function d(_,T,U,V){V&&!V.clientX&&(V.touches?V=V.touches[0]:V.changedTouches&&(V=V.changedTouches[0]));var X=_.getBoundingClientRect(),W=_.scrollWidth/T,Z=_.scrollHeight/U;return{x:(V.clientX-X.left)/W,y:(V.clientY-X.top)/Z,winX:V.clientX,winY:V.clientY,id:V.identifier}}(this._curElement.elt,this.width,this.height,_);this._setProperty("mouseX",T.x),this._setProperty("mouseY",T.y),this._setProperty("winMouseX",T.winX),this._setProperty("winMouseY",T.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},V.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY)},V.prototype._setMouseButton=function(_){1===_.button?this._setProperty("mouseButton",X.CENTER):2===_.button?this._setProperty("mouseButton",X.RIGHT):this._setProperty("mouseButton",X.LEFT)},V.prototype._onmousemove=function(_){var T=this._isGlobal?window:this;this._updateNextMouseCoords(_),this.isMousePressed?"function"==typeof T.mouseDragged?!1===T.mouseDragged(_)&&_.preventDefault():"function"==typeof T.touchMoved&&!1===T.touchMoved(_)&&_.preventDefault():"function"==typeof T.mouseMoved&&!1===T.mouseMoved(_)&&_.preventDefault()},V.prototype._onmousedown=function(_){var T=this._isGlobal?window:this;this._setProperty("isMousePressed",!0),this._setProperty("mouseIsPressed",!0),this._setMouseButton(_),this._updateNextMouseCoords(_),"function"==typeof T.mousePressed?!1===T.mousePressed(_)&&_.preventDefault():"function"==typeof T.touchStarted&&!1===T.touchStarted(_)&&_.preventDefault()},V.prototype._onmouseup=function(_){var T=this._isGlobal?window:this;this._setProperty("isMousePressed",!1),this._setProperty("mouseIsPressed",!1),"function"==typeof T.mouseReleased?!1===T.mouseReleased(_)&&_.preventDefault():"function"==typeof T.touchEnded&&!1===T.touchEnded(_)&&_.preventDefault()},V.prototype._ondragend=V.prototype._onmouseup,V.prototype._ondragover=V.prototype._onmousemove,V.prototype._onclick=function(_){var T=this._isGlobal?window:this;"function"==typeof T.mouseClicked&&!1===T.mouseClicked(_)&&_.preventDefault()},V.prototype._onwheel=function(_){var T=this._isGlobal?window:this;"function"==typeof T.mouseWheel&&(_.delta=_.deltaY,!1===T.mouseWheel(_)&&_.preventDefault())},T.exports=V},{"../core/constants":41,"../core/core":42}],58:[function(_,T,U){"use strict";function d(_,T,U,V,X){X=X||0;var W=_.getBoundingClientRect(),Z=_.scrollWidth/T,$=_.scrollHeight/U,ee=V.touches[X]||V.changedTouches[X];return{x:(ee.clientX-W.left)/Z,y:(ee.clientY-W.top)/$,winX:ee.clientX,winY:ee.clientY,id:ee.identifier}}var V=_("../core/core");V.prototype.touches=[],V.prototype._updateTouchCoords=function(_){if(null!==this._curElement){for(var T=[],U=0;U<_.touches.length;U++)T[U]=d(this._curElement.elt,this.width,this.height,_,U);this._setProperty("touches",T)}},V.prototype._ontouchstart=function(_){var T=this._isGlobal?window:this;this._updateTouchCoords(_),this._updateNextMouseCoords(_),"function"==typeof T.touchStarted?!1===T.touchStarted(_)&&_.preventDefault():"function"==typeof T.mousePressed&&!1===T.mousePressed(_)&&_.preventDefault()},V.prototype._ontouchmove=function(_){var T=this._isGlobal?window:this;this._updateTouchCoords(_),this._updateNextMouseCoords(_),"function"==typeof T.touchMoved?!1===T.touchMoved(_)&&_.preventDefault():"function"==typeof T.mouseDragged&&!1===T.mouseDragged(_)&&_.preventDefault()},V.prototype._ontouchend=function(_){this._updateTouchCoords(_),this._updateNextMouseCoords(_),0===this.touches.length&&this._setProperty("touchIsDown",!1);var T=this._isGlobal?window:this;if("function"==typeof T.touchEnded)!1===T.touchEnded(_)&&_.preventDefault();else{if("function"!=typeof T.mouseReleased)return _.preventDefault(),!1;!1===T.mouseReleased(_)&&_.preventDefault()}},T.exports=V},{"../core/core":42}],59:[function(_,T,U){"use strict";function e(_,T){for(var U=$._toPixels(_),ee=_.width,te=_.height,re=ee*te,ne=new Int32Array(re),ie=0;ie<re;ie++)ne[ie]=$._getARGB(U,ie);var oe,ae,se,he,le,ue,pe,ce,fe,de,me,ge,ye,ve,xe=new Int32Array(re),be=new Int32Array(re),_e=new Int32Array(re),we=new Int32Array(re),Se=0;for(function d(_){var T=3.5*_|0;if(V!==(T=T<1?1:T<248?T:248)){X=1+(V=T)<<1,W=new Int32Array(X),Z=new Array(X);for(var U=0;U<X;U++)Z[U]=new Int32Array(256);for(var $,ee,te,re,ne=1,ie=T-1;ne<T;ne++){W[T+ne]=W[ie]=ee=ie*ie,te=Z[T+ne],re=Z[ie--];for(var oe=0;oe<256;oe++)te[oe]=re[oe]=ee*oe}$=W[T]=T*T,te=Z[T];for(var ae=0;ae<256;ae++)te[ae]=$*ae}}(T),ge=0;ge<te;ge++){for(me=0;me<ee;me++){if(he=se=ae=le=oe=0,(ue=me-V)<0)de=-ue,ue=0;else{if(ue>=ee)break;de=0}for(ye=de;ye<X&&!(ue>=ee);ye++){var Te=ne[ue+Se];le+=(ve=Z[ye])[(-16777216&Te)>>>24],ae+=ve[(16711680&Te)>>16],se+=ve[(65280&Te)>>8],he+=ve[255&Te],oe+=W[ye],ue++}xe[pe=Se+me]=le/oe,be[pe]=ae/oe,_e[pe]=se/oe,we[pe]=he/oe}Se+=ee}for(Se=0,fe=(ce=-V)*ee,ge=0;ge<te;ge++){for(me=0;me<ee;me++){if(he=se=ae=le=oe=0,ce<0)de=pe=-ce,ue=me;else{if(ce>=te)break;de=0,pe=ce,ue=me+fe}for(ye=de;ye<X&&!(pe>=te);ye++)le+=(ve=Z[ye])[xe[ue]],ae+=ve[be[ue]],se+=ve[_e[ue]],he+=ve[we[ue]],oe+=W[ye],pe++,ue+=ee;ne[me+Se]=le/oe<<24|ae/oe<<16|se/oe<<8|he/oe}Se+=ee,fe+=ee,ce++}$._setPixels(U,ne)}var V,X,W,Z,$={};$._toPixels=function(_){return _ instanceof ImageData?_.data:_.getContext("2d").getImageData(0,0,_.width,_.height).data},$._getARGB=function(_,T){var U=4*T;return _[U+3]<<24&4278190080|_[U]<<16&16711680|_[U+1]<<8&65280|255&_[U+2]},$._setPixels=function(_,T){for(var U=0,V=0,X=_.length;V<X;V++)_[(U=4*V)+0]=(16711680&T[V])>>>16,_[U+1]=(65280&T[V])>>>8,_[U+2]=255&T[V],_[U+3]=(4278190080&T[V])>>>24},$._toImageData=function(_){return _ instanceof ImageData?_:_.getContext("2d").getImageData(0,0,_.width,_.height)},$._createImageData=function(_,T){return $._tmpCanvas=document.createElement("canvas"),$._tmpCtx=$._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(_,T)},$.apply=function(_,T,U){var V=_.getContext("2d"),X=V.getImageData(0,0,_.width,_.height),W=T(X,U);W instanceof ImageData?V.putImageData(W,0,0,0,0,_.width,_.height):V.putImageData(X,0,0,0,0,_.width,_.height)},$.threshold=function(_,T){var U=$._toPixels(_);void 0===T&&(T=.5);for(var V=Math.floor(255*T),X=0;X<U.length;X+=4){var W;W=.2126*U[X]+.7152*U[X+1]+.0722*U[X+2]>=V?255:0,U[X]=U[X+1]=U[X+2]=W}},$.gray=function(_){for(var T=$._toPixels(_),U=0;U<T.length;U+=4){var V=.2126*T[U]+.7152*T[U+1]+.0722*T[U+2];T[U]=T[U+1]=T[U+2]=V}},$.opaque=function(_){for(var T=$._toPixels(_),U=0;U<T.length;U+=4)T[U+3]=255;return T},$.invert=function(_){for(var T=$._toPixels(_),U=0;U<T.length;U+=4)T[U]=255-T[U],T[U+1]=255-T[U+1],T[U+2]=255-T[U+2]},$.posterize=function(_,T){var U=$._toPixels(_);if(T<2||T>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var V=T-1,X=0;X<U.length;X+=4){var W=U[X],Z=U[X+1],ee=U[X+2];U[X]=255*(W*T>>8)/V,U[X+1]=255*(Z*T>>8)/V,U[X+2]=255*(ee*T>>8)/V}},$.dilate=function(_){for(var T,U,V,X,W,Z,ee,te,re,ne,ie,oe,ae,se,he,le,ue,pe=$._toPixels(_),ce=0,fe=pe.length?pe.length/4:0,de=new Int32Array(fe);ce<fe;)for(T=ce,U=ce+_.width;ce<U;)V=X=$._getARGB(pe,ce),(ee=ce-1)<T&&(ee=ce),(Z=ce+1)>=U&&(Z=ce),(te=ce-_.width)<0&&(te=0),(re=ce+_.width)>=fe&&(re=ce),oe=$._getARGB(pe,te),ie=$._getARGB(pe,ee),ae=$._getARGB(pe,re),(he=77*(ie>>16&255)+151*(ie>>8&255)+28*(255&ie))>(W=77*(V>>16&255)+151*(V>>8&255)+28*(255&V))&&(X=ie,W=he),(se=77*((ne=$._getARGB(pe,Z))>>16&255)+151*(ne>>8&255)+28*(255&ne))>W&&(X=ne,W=se),(le=77*(oe>>16&255)+151*(oe>>8&255)+28*(255&oe))>W&&(X=oe,W=le),(ue=77*(ae>>16&255)+151*(ae>>8&255)+28*(255&ae))>W&&(X=ae,W=ue),de[ce++]=X;$._setPixels(pe,de)},$.erode=function(_){for(var T,U,V,X,W,Z,ee,te,re,ne,ie,oe,ae,se,he,le,ue,pe=$._toPixels(_),ce=0,fe=pe.length?pe.length/4:0,de=new Int32Array(fe);ce<fe;)for(T=ce,U=ce+_.width;ce<U;)V=X=$._getARGB(pe,ce),(ee=ce-1)<T&&(ee=ce),(Z=ce+1)>=U&&(Z=ce),(te=ce-_.width)<0&&(te=0),(re=ce+_.width)>=fe&&(re=ce),oe=$._getARGB(pe,te),ie=$._getARGB(pe,ee),ae=$._getARGB(pe,re),(he=77*(ie>>16&255)+151*(ie>>8&255)+28*(255&ie))<(W=77*(V>>16&255)+151*(V>>8&255)+28*(255&V))&&(X=ie,W=he),(se=77*((ne=$._getARGB(pe,Z))>>16&255)+151*(ne>>8&255)+28*(255&ne))<W&&(X=ne,W=se),(le=77*(oe>>16&255)+151*(oe>>8&255)+28*(255&oe))<W&&(X=oe,W=le),(ue=77*(ae>>16&255)+151*(ae>>8&255)+28*(255&ae))<W&&(X=ae,W=ue),de[ce++]=X;$._setPixels(pe,de)},$.blur=function(_,T){e(_,T)},T.exports=$},{}],60:[function(_,T,U){"use strict";var V=_("../core/core"),X=[];V.prototype.createImage=function(_,T){return new V.Image(_,T)},V.prototype.saveCanvas=function(){var _,T,U;if(3===arguments.length?(_=arguments[0],T=arguments[1],U=arguments[2]):2===arguments.length?"object"==typeof arguments[0]?(_=arguments[0],T=arguments[1]):(T=arguments[0],U=arguments[1]):1===arguments.length&&("object"==typeof arguments[0]?_=arguments[0]:T=arguments[0]),_ instanceof V.Element&&(_=_.elt),_ instanceof HTMLCanvasElement||(_=null),U||""===(U=V.prototype._checkFileExtension(T,U)[1])&&(U="png"),_||this._curElement&&this._curElement.elt&&(_=this._curElement.elt),V.prototype._isSafari()){var X="Hello, Safari user!\n";X+="Now capturing a screenshot...\n",X+="To save this image,\n",X+="go to File --\x3e Save As.\n",alert(X),window.location.href=_.toDataURL()}else{var W;if(void 0===U)U="png",W="image/png";else switch(U){case"png":W="image/png";break;case"jpeg":case"jpg":W="image/jpeg";break;default:W="image/png"}var Z=_.toDataURL(W);Z=Z.replace(W,"image/octet-stream"),V.prototype.downloadFile(Z,T,U)}},V.prototype.saveFrames=function(_,T,U,W,Z){var $=U||3;$=V.prototype.constrain($,0,15),$*=1e3;var ee=W||15;ee=V.prototype.constrain(ee,0,22);var te=0,re=V.prototype._makeFrame,ne=this._curElement.elt,ie=setInterval((function(){re(_+te,T,ne),te++}),1e3/ee);setTimeout((function(){if(clearInterval(ie),Z)Z(X);else for(var _=0;_<X.length;_++){var T=X[_];V.prototype.downloadFile(T.imageData,T.filename,T.ext)}X=[]}),$+.01)},V.prototype._makeFrame=function(_,T,U){var V,W;if(V=this?this._curElement.elt:U,T)switch(T.toLowerCase()){case"png":W="image/png";break;case"jpeg":case"jpg":W="image/jpeg";break;default:W="image/png"}else T="png",W="image/png";var Z=V.toDataURL(W);Z=Z.replace(W,"image/octet-stream");var $={};$.imageData=Z,$.filename=_,$.ext=T,X.push($)},T.exports=V},{"../core/core":42}],61:[function(_,T,U){"use strict";function d(_,T){return _>0&&_<T?_:T}var V=_("../core/core"),X=_("./filters"),W=_("../core/canvas"),Z=_("../core/constants");_("../core/error_helpers"),V.prototype.loadImage=function(_,T,U){var X=new Image,W=new V.Image(1,1,this),Z=V._getDecrementPreload.apply(this,arguments);return X.onload=function(){W.width=W.canvas.width=X.width,W.height=W.canvas.height=X.height,W.drawingContext.drawImage(X,0,0),"function"==typeof T&&T(W),Z&&T!==Z&&Z()},X.onerror=function(_){V._friendlyFileLoadError(0,X.src),"function"==typeof U&&U!==Z&&U(_)},0!==_.indexOf("data:image/")&&(X.crossOrigin="Anonymous"),X.src=_,W},V.prototype.image=function(_,T,U,V,X,Z,$,ee,te){var re=_.width,ne=_.height;if(_.elt&&_.elt.videoWidth&&!_.canvas){var ie=_.elt.videoWidth,oe=_.elt.videoHeight;re=_.elt.videoWidth,ne=_.elt.width*oe/ie}var ae=T,se=U,he=V||re,le=X||ne,ue=Z||0,pe=$||0,ce=ee||re,fe=te||ne;ce=d(ce,re),fe=d(fe,ne);var de=1;_.elt&&_.elt.videoWidth&&_.elt.style.width&&!_.canvas?de=_.elt.videoWidth/parseInt(_.elt.style.width,10):_.elt&&_.elt.width&&_.elt.style.width&&(de=_.elt.width/parseInt(_.elt.style.width,10)),ue*=de,pe*=de,fe*=de,ce*=de;var me=W.modeAdjust(ae,se,he,le,this._renderer._imageMode);this._renderer.image(_,ue,pe,ce,fe,me.x,me.y,me.w,me.h)},V.prototype.tint=function(){var _=this.color.apply(this,arguments);this._renderer._tint=_.levels},V.prototype.noTint=function(){this._renderer._tint=null},V.prototype._getTintedImageCanvas=function(_){if(!_.canvas)return _;var T=X._toPixels(_.canvas),U=document.createElement("canvas");U.width=_.canvas.width,U.height=_.canvas.height;for(var V=U.getContext("2d"),W=V.createImageData(_.canvas.width,_.canvas.height),Z=W.data,$=0;$<T.length;$+=4){var ee=T[$],te=T[$+1],re=T[$+2],ne=T[$+3];Z[$]=ee*this._renderer._tint[0]/255,Z[$+1]=te*this._renderer._tint[1]/255,Z[$+2]=re*this._renderer._tint[2]/255,Z[$+3]=ne*this._renderer._tint[3]/255}return V.putImageData(W,0,0),U},V.prototype.imageMode=function(_){_!==Z.CORNER&&_!==Z.CORNERS&&_!==Z.CENTER||(this._renderer._imageMode=_)},T.exports=V},{"../core/canvas":40,"../core/constants":41,"../core/core":42,"../core/error_helpers":45,"./filters":59}],62:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("./filters");V.Image=function(_,T){this.width=_,this.height=T,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this._pixelDensity=1,this.isTexture=!1,this.pixels=[]},V.Image.prototype._setProperty=function(_,T){this[_]=T},V.Image.prototype.loadPixels=function(){V.Renderer2D.prototype.loadPixels.call(this)},V.Image.prototype.updatePixels=function(_,T,U,X){V.Renderer2D.prototype.updatePixels.call(this,_,T,U,X)},V.Image.prototype.get=function(_,T,U,X){return V.Renderer2D.prototype.get.call(this,_,T,U,X)},V.Image.prototype.set=function(_,T,U){V.Renderer2D.prototype.set.call(this,_,T,U)},V.Image.prototype.resize=function(_,T){0===_&&0===T?(_=this.canvas.width,T=this.canvas.height):0===_?_=this.canvas.width*T/this.canvas.height:0===T&&(T=this.canvas.height*_/this.canvas.width),_=Math.floor(_),T=Math.floor(T);var U=document.createElement("canvas");U.width=_,U.height=T,U.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,U.width,U.height),this.canvas.width=this.width=_,this.canvas.height=this.height=T,this.drawingContext.drawImage(U,0,0,_,T,0,0,_,T),this.pixels.length>0&&this.loadPixels()},V.Image.prototype.copy=function(){V.prototype.copy.apply(this,arguments)},V.Image.prototype.mask=function(_){void 0===_&&(_=this);var T=this.drawingContext.globalCompositeOperation,U=1;_ instanceof V.Renderer&&(U=_._pInst._pixelDensity);var X=[_,0,0,U*_.width,U*_.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",V.Image.prototype.copy.apply(this,X),this.drawingContext.globalCompositeOperation=T},V.Image.prototype.filter=function(_,T){X.apply(this.canvas,X[_.toLowerCase()],T)},V.Image.prototype.blend=function(){V.prototype.blend.apply(this,arguments)},V.Image.prototype.save=function(_,T){var U;if(T)switch(T.toLowerCase()){case"png":U="image/png";break;case"jpeg":case"jpg":U="image/jpeg";break;default:U="image/png"}else T="png",U="image/png";var X=this.canvas.toDataURL(U);X=X.replace(U,"image/octet-stream"),V.prototype.downloadFile(X,_,T)},T.exports=V.Image},{"../core/core":42,"./filters":59}],63:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("./filters");_("../color/p5.Color"),V.prototype.pixels=[],V.prototype.blend=function(){this._renderer?this._renderer.blend.apply(this._renderer,arguments):V.Renderer2D.prototype.blend.apply(this,arguments)},V.prototype.copy=function(){V.Renderer2D._copyHelper.apply(this,arguments)},V.prototype.filter=function(_,T){void 0!==this.canvas?X.apply(this.canvas,X[_.toLowerCase()],T):X.apply(this.elt,X[_.toLowerCase()],T)},V.prototype.get=function(_,T,U,V){return this._renderer.get(_,T,U,V)},V.prototype.loadPixels=function(){this._renderer.loadPixels()},V.prototype.set=function(_,T,U){this._renderer.set(_,T,U)},V.prototype.updatePixels=function(_,T,U,V){0!==this.pixels.length&&this._renderer.updatePixels(_,T,U,V)},T.exports=V},{"../color/p5.Color":36,"../core/core":42,"./filters":59}],64:[function(_,T,U){"use strict";function d(_,T){var U={};if(void 0===(T=T||[]))for(var V=0;V<_.length;V++)T[V.toString()]=V;for(var X=0;X<T.length;X++){var W=T[X],Z=_[X];U[W]=Z}return U}function e(_){return _.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function f(_,T){T&&!0!==T&&"true"!==T||(T=""),_||(_="untitled");var U="";return _&&_.indexOf(".")>-1&&(U=_.split(".").pop()),T&&U!==T&&(_=_+"."+(U=T)),[_,U]}var V=_("../core/core"),X=_("opentype.js");_("whatwg-fetch"),_("es6-promise").polyfill();var W=_("fetch-jsonp");_("../core/error_helpers"),V._getDecrementPreload=function(){var _=arguments[arguments.length-1];return(window.preload||this&&this.preload)&&"function"==typeof _?_:null},V.prototype.loadFont=function(_,T,U){var W=new V.Font(this),Z=V._getDecrementPreload.apply(this,arguments);return X.load(_,(function(X,$){if(X)return void 0!==U&&U!==Z?U(X):(V._friendlyFileLoadError(4,_),void console.error(X,_));W.font=$,void 0!==T&&T(W),Z&&T!==Z&&Z();var ee,te,re=_.split("\\").pop().split("/").pop(),ne=re.lastIndexOf("."),ie=ne<1?null:re.substr(ne+1);["ttf","otf","woff","woff2"].indexOf(ie)>-1&&(ee=re.substr(0,ne),(te=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: "+ee+";\nsrc: url("+_+");\n}\n")),document.head.appendChild(te))})),W},V.prototype.createInput=function(){throw"not yet implemented"},V.prototype.createReader=function(){throw"not yet implemented"},V.prototype.loadBytes=function(){throw"not yet implemented"},V.prototype.loadJSON=function(){for(var _,T,U,X=arguments[0],W=V._getDecrementPreload.apply(this,arguments),Z={},$="json",ee=1;ee<arguments.length;ee++){var te=arguments[ee];"string"==typeof te?"jsonp"!==te&&"json"!==te||($=te):"function"==typeof te?_?T=te:_=te:"object"==typeof te&&te.hasOwnProperty("jsonpCallback")&&($="jsonp",U=te)}return V.prototype.httpDo(X,"GET",U,$,(function(T){for(var U in T)Z[U]=T[U];void 0!==_&&_(T),W&&_!==W&&W()}),T),Z},V.prototype.loadStrings=function(_,T,U){var X=[],W=V._getDecrementPreload.apply(this,arguments);return V.prototype.httpDo(_,"GET","text",(function(_){var U=_.match(/[^\r\n]+/g);for(var V in U)X[V]=U[V];void 0!==T&&T(X),W&&T!==W&&W()}),U),X},V.prototype.loadTable=function(_){for(var T=null,U=null,X=[],W=!1,Z=",",$=!1,ee=V._getDecrementPreload.apply(this,arguments),te=1;te<arguments.length;te++)if("function"==typeof arguments[te]&&arguments[te]!==ee)T?U=arguments[te]:T=arguments[te];else if("string"==typeof arguments[te])if(X.push(arguments[te]),"header"===arguments[te]&&(W=!0),"csv"===arguments[te]){if($)throw new Error("Cannot set multiple separator types.");Z=",",$=!0}else if("tsv"===arguments[te]){if($)throw new Error("Cannot set multiple separator types.");Z="\t",$=!0}var re=new V.Table;return V.prototype.httpDo(_,"GET","text",(function(_){for(var U,X={},$='"',ne=[],ie=0,oe=null,v=function(){X.currentState=0,X.token=""},w=function(){oe.push(X.token),v()},y=function(){X.currentState=4,ne.push(oe),oe=null};;){if(null==(U=_[ie++])){if(X.escaped)throw new Error("Unclosed quote in file.");if(oe){w(),y();break}}if(null===oe&&(X.escaped=!1,oe=[],v()),0===X.currentState){if(U===$){X.escaped=!0,X.currentState=1;continue}X.currentState=1}1===X.currentState&&X.escaped?U===$?_[ie]===$?(X.token+=$,ie++):(X.escaped=!1,X.currentState=2):X.token+=U:"\r"===U?("\n"===_[ie]&&ie++,w(),y()):"\n"===U?(w(),y()):U===Z?w():1===X.currentState&&(X.token+=U)}if(W)re.columns=ne.shift();else for(te=0;te<ne[0].length;te++)re.columns[te]="null";var ae;for(te=0;te<ne.length&&(te!==ne.length-1||1!==ne[te].length||"undefined"!==ne[te][0]);te++)(ae=new V.TableRow).arr=ne[te],ae.obj=d(ne[te],re.columns),re.addRow(ae);null!==T&&T(re),ee&&T!==ee&&ee()}),(function(T){V._friendlyFileLoadError(2,_),U?U(T.status+" "+T.statusText):console.log(T.status+" "+T.statusText)})),re},V.prototype.parseXML=function(_){var T,U=new V.XML;if(_.children.length){for(T=0;T<_.children.length;T++){var X=parseXML(_.children[T]);U.addChild(X)}U.setName(_.nodeName),U._setCont(_.textContent),U._setAttributes(_);for(var W=0;W<U.children.length;W++)U.children[W].parent=U;return U}return U.setName(_.nodeName),U._setCont(_.textContent),U._setAttributes(_),U},V.prototype.loadXML=function(_,T,U){var X={},W=V._getDecrementPreload.apply(this,arguments);return V.prototype.httpDo(_,"GET","xml",(function(_){for(var U in _)X[U]=_[U];void 0!==T&&T(X),W&&T!==W&&W()}),U),X},V.prototype.selectFolder=function(){throw"not yet implemented"},V.prototype.selectInput=function(){throw"not yet implemented"},V.prototype.httpGet=function(){var _=new Array(arguments.length);_[0]=arguments[0],_[1]="GET";for(var T=2;T<_.length;++T)_[T]=arguments[T];V.prototype.httpDo.apply(this,_)},V.prototype.httpPost=function(){var _=new Array(arguments.length);_[0]=arguments[0],_[1]="POST";for(var T=2;T<_.length;++T)_[T]=arguments[T];V.prototype.httpDo.apply(this,_)},V.prototype.httpDo=function(){for(var _,T,U,V="",X={},Z=0,$=arguments.length-1;$>0&&"function"==typeof arguments[$];$--)Z++;if(2==arguments.length-Z&&"string"==typeof arguments[0]&&"object"==typeof arguments[1])U=new Request(arguments[0],arguments[1]),_=arguments[2],T=arguments[3],""===V&&(V=-1!==U.url.indexOf("json")?"json":-1!==U.url.indexOf("xml")?"xml":"text");else{for(var ee,te=arguments[0],re="GET",ne=1;ne<arguments.length;ne++){var ie=arguments[ne];if("string"==typeof ie)"GET"===ie||"POST"===ie||"PUT"===ie||"DELETE"===ie?re=ie:"json"===ie||"jsonp"===ie||"xml"===ie||"text"===ie?V=ie:ee=ie;else if("object"==typeof ie)if(ie.hasOwnProperty("jsonpCallback"))for(var oe in ie)X[oe]=ie[oe];else ee=JSON.stringify(ie);else"function"==typeof ie&&(_?T=ie:_=ie)}""===V&&(V=-1!==te.indexOf("json")?"json":-1!==te.indexOf("xml")?"xml":"text"),U=new Request(te,{method:re,mode:"cors",body:ee})}"jsonp"===V?W(arguments[0],X).then((function(_){if(_.ok)return _.json();throw _})).then((function(T){_(T)})).catch((function(_){T?T(_):console.log(_.status+" "+_.statusText)})):fetch(U).then((function(_){if(_.ok)return"json"===V?_.json():_.text();throw _})).then((function(T){"xml"===V&&(T=(new DOMParser).parseFromString(T,"text/xml"),T=parseXML(T.documentElement)),_(T)})).catch((function(_,U){T?T(_):console.log(_.status+" "+_.statusText)}))},window.URL=window.URL||window.webkitURL,V.prototype._pWriters=[],V.prototype.beginRaw=function(){throw"not yet implemented"},V.prototype.beginRecord=function(){throw"not yet implemented"},V.prototype.createOutput=function(){throw"not yet implemented"},V.prototype.createWriter=function(_,T){var U;for(var X in V.prototype._pWriters)if(V.prototype._pWriters[X].name===_)return U=new V.PrintWriter(_+window.millis(),T),V.prototype._pWriters.push(U),U;return U=new V.PrintWriter(_,T),V.prototype._pWriters.push(U),U},V.prototype.endRaw=function(){throw"not yet implemented"},V.prototype.endRecord=function(){throw"not yet implemented"},V.PrintWriter=function(_,T){var U=this;this.name=_,this.content="",this.print=function(_){this.content+=_},this.print=function(_){this.content+=_+"\n"},this.flush=function(){this.content=""},this.close=function(){var X=[];for(var W in X.push(this.content),V.prototype.writeFile(X,_,T),V.prototype._pWriters)V.prototype._pWriters[W].name===this.name&&V.prototype._pWriters.splice(W,1);U.flush(),U={}}},V.prototype.saveBytes=function(){throw"not yet implemented"},V.prototype.save=function(_,T,U){var X=arguments,W=this._curElement.elt;if(0!==X.length)if(X[0]instanceof V.Renderer||X[0]instanceof V.Graphics)V.prototype.saveCanvas(X[0].elt,X[1],X[2]);else if(1===X.length&&"string"==typeof X[0])V.prototype.saveCanvas(W,X[0]);else switch(f(X[1],X[2])[1]){case"json":return void V.prototype.saveJSON(X[0],X[1],X[2]);case"txt":return void V.prototype.saveStrings(X[0],X[1],X[2]);default:X[0]instanceof Array?V.prototype.saveStrings(X[0],X[1],X[2]):X[0]instanceof V.Table?V.prototype.saveTable(X[0],X[1],X[2],X[3]):X[0]instanceof V.Image?V.prototype.saveCanvas(X[0].canvas,X[1]):X[0]instanceof V.SoundFile&&V.prototype.saveSound(X[0],X[1],X[2],X[3])}else V.prototype.saveCanvas(W)},V.prototype.saveJSON=function(_,T,U){var V;V=U?JSON.stringify(_):JSON.stringify(_,void 0,2),console.log(V),this.saveStrings(V.split("\n"),T,"json")},V.prototype.saveJSONObject=V.prototype.saveJSON,V.prototype.saveJSONArray=V.prototype.saveJSON,V.prototype.saveStream=function(){throw"not yet implemented"},V.prototype.saveStrings=function(_,T,U){for(var V=U||"txt",X=this.createWriter(T,V),W=0;W<_.length;W++)_.length,X.print(_[W]);X.close(),X.flush()},V.prototype.saveXML=function(){throw"not yet implemented"},V.prototype.selectOutput=function(){throw"not yet implemented"},V.prototype.saveTable=function(_,T,U){var V=this.createWriter(T,U),X=_.columns,W=",";if("tsv"===U&&(W="\t"),"html"!==U){if("0"!==X[0])for(var Z=0;Z<X.length;Z++)Z<X.length-1?V.print(X[Z]+W):V.print(X[Z]);for(var $=0;$<_.rows.length;$++){var ee;for(ee=0;ee<_.rows[$].arr.length;ee++)ee<_.rows[$].arr.length-1?V.print(_.rows[$].arr[ee]+W):(_.rows.length,V.print(_.rows[$].arr[ee]))}}else{V.print("<html>"),V.print("<head>");if('="text/html;charset=utf-8" />',V.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),V.print("</head>"),V.print("<body>"),V.print("  <table>"),"0"!==X[0]){V.print("    <tr>");for(var te=0;te<X.length;te++){var re=e(X[te]);V.print("      <td>"+re),V.print("      </td>")}V.print("    </tr>")}for(var ne=0;ne<_.rows.length;ne++){V.print("    <tr>");for(var ie=0;ie<_.columns.length;ie++){var oe=e(_.rows[ne].getString(ie));V.print("      <td>"+oe),V.print("      </td>")}V.print("    </tr>")}V.print("  </table>"),V.print("</body>"),V.print("</html>")}V.close(),V.flush()},V.prototype.writeFile=function(_,T,U){var X="application/octet-stream";V.prototype._isSafari()&&(X="text/plain");var W=new Blob(_,{type:X}),Z=window.URL.createObjectURL(W);V.prototype.downloadFile(Z,T,U)},V.prototype.downloadFile=function(_,T,U){var X=f(T,U),W=X[0],Z=X[1],$=document.createElement("a");if($.href=_,$.download=W,$.onclick=function(_){(function g(_){document.body.removeChild(_.target)})(_),_.stopPropagation()},$.style.display="none",document.body.appendChild($),V.prototype._isSafari()){var ee="Hello, Safari user! To download this file...\n";ee+="1. Go to File --\x3e Save As.\n",ee+='2. Choose "Page Source" as the Format.\n',ee+='3. Name it with this extension: ."'+Z+'"',alert(ee)}$.click(),_=null},V.prototype._checkFileExtension=f,V.prototype._isSafari=function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0},T.exports=V},{"../core/core":42,"../core/error_helpers":45,"es6-promise":2,"fetch-jsonp":3,"opentype.js":10,"whatwg-fetch":32}],65:[function(_,T,U){"use strict";var V=_("../core/core");V.Table=function(_){this.columns=[],this.rows=[]},V.Table.prototype.addRow=function(_){var T=_||new V.TableRow;if(void 0===T.arr||void 0===T.obj)throw"invalid TableRow: "+T;return T.table=this,this.rows.push(T),T},V.Table.prototype.removeRow=function(_){this.rows[_].table=null;var T=this.rows.splice(_+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(T)},V.Table.prototype.getRow=function(_){return this.rows[_]},V.Table.prototype.getRows=function(){return this.rows},V.Table.prototype.findRow=function(_,T){if("string"==typeof T){for(var U=0;U<this.rows.length;U++)if(this.rows[U].obj[T]===_)return this.rows[U]}else for(var V=0;V<this.rows.length;V++)if(this.rows[V].arr[T]===_)return this.rows[V];return null},V.Table.prototype.findRows=function(_,T){var U=[];if("string"==typeof T)for(var V=0;V<this.rows.length;V++)this.rows[V].obj[T]===_&&U.push(this.rows[V]);else for(var X=0;X<this.rows.length;X++)this.rows[X].arr[T]===_&&U.push(this.rows[X]);return U},V.Table.prototype.matchRow=function(_,T){if("number"==typeof T){for(var U=0;U<this.rows.length;U++)if(this.rows[U].arr[T].match(_))return this.rows[U]}else for(var V=0;V<this.rows.length;V++)if(this.rows[V].obj[T].match(_))return this.rows[V];return null},V.Table.prototype.matchRows=function(_,T){var U=[];if("number"==typeof T)for(var V=0;V<this.rows.length;V++)this.rows[V].arr[T].match(_)&&U.push(this.rows[V]);else for(var X=0;X<this.rows.length;X++)this.rows[X].obj[T].match(_)&&U.push(this.rows[X]);return U},V.Table.prototype.getColumn=function(_){var T=[];if("string"==typeof _)for(var U=0;U<this.rows.length;U++)T.push(this.rows[U].obj[_]);else for(var V=0;V<this.rows.length;V++)T.push(this.rows[V].arr[_]);return T},V.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},V.Table.prototype.addColumn=function(_){var T=_||null;this.columns.push(T)},V.Table.prototype.getColumnCount=function(){return this.columns.length},V.Table.prototype.getRowCount=function(){return this.rows.length},V.Table.prototype.removeTokens=function(_,T){for(var c=function(_){return _.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},U=[],V=0;V<_.length;V++)U.push(c(_.charAt(V)));var X=new RegExp(U.join("|"),"g");if(void 0===T)for(var W=0;W<this.columns.length;W++)for(var Z=0;Z<this.rows.length;Z++){var $=this.rows[Z].arr[W];$=$.replace(X,""),this.rows[Z].arr[W]=$,this.rows[Z].obj[this.columns[W]]=$}else if("string"==typeof T)for(var ee=0;ee<this.rows.length;ee++){var te=this.rows[ee].obj[T];te=te.replace(X,""),this.rows[ee].obj[T]=te;var re=this.columns.indexOf(T);this.rows[ee].arr[re]=te}else for(var ne=0;ne<this.rows.length;ne++){var ie=this.rows[ne].arr[T];ie=ie.replace(X,""),this.rows[ne].arr[T]=ie,this.rows[ne].obj[this.columns[T]]=ie}},V.Table.prototype.trim=function(_){var T=new RegExp(" ","g");if(void 0===_)for(var U=0;U<this.columns.length;U++)for(var V=0;V<this.rows.length;V++){var X=this.rows[V].arr[U];X=X.replace(T,""),this.rows[V].arr[U]=X,this.rows[V].obj[this.columns[U]]=X}else if("string"==typeof _)for(var W=0;W<this.rows.length;W++){var Z=this.rows[W].obj[_];Z=Z.replace(T,""),this.rows[W].obj[_]=Z;var $=this.columns.indexOf(_);this.rows[W].arr[$]=Z}else for(var ee=0;ee<this.rows.length;ee++){var te=this.rows[ee].arr[_];te=te.replace(T,""),this.rows[ee].arr[_]=te,this.rows[ee].obj[this.columns[_]]=te}},V.Table.prototype.removeColumn=function(_){var T,U;"string"==typeof _?(T=_,U=this.columns.indexOf(_),console.log("string")):(U=_,T=this.columns[_]);var V=this.columns.splice(U+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(V);for(var X=0;X<this.rows.length;X++){var W=this.rows[X].arr,Z=W.splice(U+1,W.length);W.pop(),this.rows[X].arr=W.concat(Z),delete this.rows[X].obj[T]}},V.Table.prototype.set=function(_,T,U){this.rows[_].set(T,U)},V.Table.prototype.setNum=function(_,T,U){this.rows[_].setNum(T,U)},V.Table.prototype.setString=function(_,T,U){this.rows[_].setString(T,U)},V.Table.prototype.get=function(_,T){return this.rows[_].get(T)},V.Table.prototype.getNum=function(_,T){return this.rows[_].getNum(T)},V.Table.prototype.getString=function(_,T){return this.rows[_].getString(T)},V.Table.prototype.getObject=function(_){for(var T,U={},V=0;V<this.rows.length;V++)if(T=this.rows[V].obj,"string"==typeof _){if(!(this.columns.indexOf(_)>=0))throw'This table has no column named "'+_+'"';U[T[_]]=T}else U[V]=this.rows[V].obj;return U},V.Table.prototype.getArray=function(){for(var _=[],T=0;T<this.rows.length;T++)_.push(this.rows[T].arr);return _},T.exports=V.Table},{"../core/core":42}],66:[function(_,T,U){"use strict";var V=_("../core/core");V.TableRow=function(_,T){var U=[],V={};_&&(T=T||",",U=_.split(T));for(var X=0;X<U.length;X++){var W=X,Z=U[X];V[W]=Z}this.arr=U,this.obj=V,this.table=null},V.TableRow.prototype.set=function(_,T){if("string"==typeof _){var U=this.table.columns.indexOf(_);if(!(U>=0))throw'This table has no column named "'+_+'"';this.obj[_]=T,this.arr[U]=T}else{if(!(_<this.table.columns.length))throw"Column #"+_+" is out of the range of this table";this.arr[_]=T;var V=this.table.columns[_];this.obj[V]=T}},V.TableRow.prototype.setNum=function(_,T){var U=parseFloat(T,10);this.set(_,U)},V.TableRow.prototype.setString=function(_,T){var U=T.toString();this.set(_,U)},V.TableRow.prototype.get=function(_){return"string"==typeof _?this.obj[_]:this.arr[_]},V.TableRow.prototype.getNum=function(_){var T;if("NaN"===(T="string"==typeof _?parseFloat(this.obj[_],10):parseFloat(this.arr[_],10)).toString())throw"Error: "+this.obj[_]+" is NaN (Not a Number)";return T},V.TableRow.prototype.getString=function(_){return"string"==typeof _?this.obj[_].toString():this.arr[_].toString()},T.exports=V.TableRow},{"../core/core":42}],67:[function(_,T,U){"use strict";var V=_("../core/core");V.XML=function(){this.name=null,this.attributes={},this.children=[],this.parent=null,this.content=null},V.XML.prototype.getParent=function(){return this.parent},V.XML.prototype.getName=function(){return this.name},V.XML.prototype.setName=function(_){this.name=_},V.XML.prototype.hasChildren=function(){return this.children.length>0},V.XML.prototype.listChildren=function(){return this.children.map((function(_){return _.name}))},V.XML.prototype.getChildren=function(_){return _?this.children.filter((function(T){return T.name===_})):this.children},V.XML.prototype.getChild=function(_){return"string"==typeof _?this.children.find((function(T){return T.name===_})):this.children[_]},V.XML.prototype.addChild=function(_){_ instanceof V.XML&&this.children.push(_)},V.XML.prototype.removeChild=function(_){var T=-1;if("string"==typeof _){for(var U=0;U<this.children.length;U++)if(this.children[U].name===_){T=U;break}}else T=_;-1!==T&&this.children.splice(T,1)},V.XML.prototype.getAttributeCount=function(){return Object.keys(this.attributes).length},V.XML.prototype.listAttributes=function(){return Object.keys(this.attributes)},V.XML.prototype.hasAttribute=function(_){return!!this.attributes[_]},V.XML.prototype.getNumber=function(_,T){return Number(this.attributes[_])||T||0},V.XML.prototype.getString=function(_,T){return String(this.attributes[_])||T||null},V.XML.prototype.setAttribute=function(_,T){this.attributes[_]&&(this.attributes[_]=T)},V.XML.prototype.getContent=function(_){return this.content||_||null},V.XML.prototype.setContent=function(_){this.children.length||(this.content=_)},V.XML.prototype._setCont=function(_){var T;T=(T=_).replace(/\s\s+/g,","),this.content=T},V.XML.prototype._setAttributes=function(_){var T,U={};for(T=0;T<_.attributes.length;T++)U[_.attributes[T].nodeName]=_.attributes[T].nodeValue;this.attributes=U},T.exports=V.XML},{"../core/core":42}],68:[function(_,T,U){"use strict";function d(_,T,U){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var V=arguments.length,X=[],W=0,Z=0;Z<V;Z++){var $=arguments[Z];if(($=+$)==1/0||$===-1/0)return 1/0;($=Math.abs($))>W&&(W=$),X[Z]=$}0===W&&(W=1);for(var ee=0,te=0,re=0;re<V;re++){var ne=X[re]/W,ie=ne*ne-te,oe=ee+ie;te=oe-ee-ie,ee=oe}return Math.sqrt(ee)*W}var V=_("../core/core");V.prototype.abs=Math.abs,V.prototype.ceil=Math.ceil,V.prototype.constrain=function(_,T,U){return Math.max(Math.min(_,U),T)},V.prototype.dist=function(_,T,U,V,X,W){return 4===arguments.length?d(U-_,V-T):6===arguments.length?d(V-_,X-T,W-U):void 0},V.prototype.exp=Math.exp,V.prototype.floor=Math.floor,V.prototype.lerp=function(_,T,U){return U*(T-_)+_},V.prototype.log=Math.log,V.prototype.mag=function(_,T){return d(_,T)},V.prototype.map=function(_,T,U,V,X){return(_-T)/(U-T)*(X-V)+V},V.prototype.max=function(){return arguments[0]instanceof Array?Math.max.apply(null,arguments[0]):Math.max.apply(null,arguments)},V.prototype.min=function(){return arguments[0]instanceof Array?Math.min.apply(null,arguments[0]):Math.min.apply(null,arguments)},V.prototype.norm=function(_,T,U){return this.map(_,T,U,0,1)},V.prototype.pow=Math.pow,V.prototype.round=Math.round,V.prototype.sq=function(_){return _*_},V.prototype.sqrt=Math.sqrt,T.exports=V},{"../core/core":42}],69:[function(_,T,U){"use strict";var V=_("../core/core");V.prototype.createVector=function(_,T,U){return this instanceof V?new V.Vector(this,arguments):new V.Vector(_,T,U)},T.exports=V},{"../core/core":42}],70:[function(_,T,U){"use strict";var V,X=_("../core/core"),W=4095,Z=4,$=.5,m=function(_){return.5*(1-Math.cos(_*Math.PI))};X.prototype.noise=function(_,T,U){if(T=T||0,U=U||0,null==V){V=new Array(4096);for(var X=0;X<4096;X++)V[X]=Math.random()}_<0&&(_=-_),T<0&&(T=-T),U<0&&(U=-U);for(var ee,te,re,ne,ie,oe=Math.floor(_),ae=Math.floor(T),se=Math.floor(U),he=_-oe,le=T-ae,ue=U-se,pe=0,ce=.5,fe=0;fe<Z;fe++){var de=oe+(ae<<4)+(se<<8);ee=m(he),te=m(le),re=V[de&W],re+=ee*(V[de+1&W]-re),ne=V[de+16&W],re+=te*((ne+=ee*(V[de+16+1&W]-ne))-re),ne=V[(de+=256)&W],ne+=ee*(V[de+1&W]-ne),ie=V[de+16&W],ne+=te*((ie+=ee*(V[de+16+1&W]-ie))-ne),pe+=(re+=m(ue)*(ne-re))*ce,ce*=$,oe<<=1,ae<<=1,se<<=1,(he*=2)>=1&&(oe++,he--),(le*=2)>=1&&(ae++,le--),(ue*=2)>=1&&(se++,ue--)}return pe},X.prototype.noiseDetail=function(_,T){_>0&&(Z=_),T>0&&($=T)},X.prototype.noiseSeed=function(_){var T=function(){var _,T,U=4294967296;return{setSeed:function(V){T=_=(null==V?Math.random()*U:V)>>>0},getSeed:function(){return _},rand:function(){return(T=(1664525*T+1013904223)%U)/U}}}();T.setSeed(_),V=new Array(4096);for(var U=0;U<4096;U++)V[U]=T.rand()},T.exports=X},{"../core/core":42}],71:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("./polargeometry"),W=_("../core/constants");V.Vector=function(){var _,T,U;arguments[0]instanceof V?(this.p5=arguments[0],_=arguments[1][0]||0,T=arguments[1][1]||0,U=arguments[1][2]||0):(_=arguments[0]||0,T=arguments[1]||0,U=arguments[2]||0),this.x=_,this.y=T,this.z=U},V.Vector.prototype.toString=function(){return"p5.Vector Object : ["+this.x+", "+this.y+", "+this.z+"]"},V.Vector.prototype.set=function(_,T,U){return _ instanceof V.Vector?(this.x=_.x||0,this.y=_.y||0,this.z=_.z||0,this):_ instanceof Array?(this.x=_[0]||0,this.y=_[1]||0,this.z=_[2]||0,this):(this.x=_||0,this.y=T||0,this.z=U||0,this)},V.Vector.prototype.copy=function(){return this.p5?new V.Vector(this.p5,[this.x,this.y,this.z]):new V.Vector(this.x,this.y,this.z)},V.Vector.prototype.add=function(_,T,U){return _ instanceof V.Vector?(this.x+=_.x||0,this.y+=_.y||0,this.z+=_.z||0,this):_ instanceof Array?(this.x+=_[0]||0,this.y+=_[1]||0,this.z+=_[2]||0,this):(this.x+=_||0,this.y+=T||0,this.z+=U||0,this)},V.Vector.prototype.sub=function(_,T,U){return _ instanceof V.Vector?(this.x-=_.x||0,this.y-=_.y||0,this.z-=_.z||0,this):_ instanceof Array?(this.x-=_[0]||0,this.y-=_[1]||0,this.z-=_[2]||0,this):(this.x-=_||0,this.y-=T||0,this.z-=U||0,this)},V.Vector.prototype.mult=function(_){return this.x*=_||0,this.y*=_||0,this.z*=_||0,this},V.Vector.prototype.div=function(_){return this.x/=_,this.y/=_,this.z/=_,this},V.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},V.Vector.prototype.magSq=function(){var _=this.x,T=this.y,U=this.z;return _*_+T*T+U*U},V.Vector.prototype.dot=function(_,T,U){return _ instanceof V.Vector?this.dot(_.x,_.y,_.z):this.x*(_||0)+this.y*(T||0)+this.z*(U||0)},V.Vector.prototype.cross=function(_){var T=this.y*_.z-this.z*_.y,U=this.z*_.x-this.x*_.z,X=this.x*_.y-this.y*_.x;return this.p5?new V.Vector(this.p5,[T,U,X]):new V.Vector(T,U,X)},V.Vector.prototype.dist=function(_){return _.copy().sub(this).mag()},V.Vector.prototype.normalize=function(){return 0===this.mag()?this:this.div(this.mag())},V.Vector.prototype.limit=function(_){var T=this.magSq();return T>_*_&&(this.div(Math.sqrt(T)),this.mult(_)),this},V.Vector.prototype.setMag=function(_){return this.normalize().mult(_)},V.Vector.prototype.heading=function(){var _=Math.atan2(this.y,this.x);return this.p5?this.p5._angleMode===W.RADIANS?_:X.radiansToDegrees(_):_},V.Vector.prototype.rotate=function(_){var T=this.heading()+_;this.p5&&this.p5._angleMode===W.DEGREES&&(T=X.degreesToRadians(T));var U=this.mag();return this.x=Math.cos(T)*U,this.y=Math.sin(T)*U,this},V.Vector.prototype.lerp=function(_,T,U,X){return _ instanceof V.Vector?this.lerp(_.x,_.y,_.z,T):(this.x+=(_-this.x)*X||0,this.y+=(T-this.y)*X||0,this.z+=(U-this.z)*X||0,this)},V.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},V.Vector.prototype.equals=function(_,T,U){var X,W,Z;return _ instanceof V.Vector?(X=_.x||0,W=_.y||0,Z=_.z||0):_ instanceof Array?(X=_[0]||0,W=_[1]||0,Z=_[2]||0):(X=_||0,W=T||0,Z=U||0),this.x===X&&this.y===W&&this.z===Z},V.Vector.fromAngle=function(_){return this.p5&&this.p5._angleMode===W.DEGREES&&(_=X.degreesToRadians(_)),this.p5?new V.Vector(this.p5,[Math.cos(_),Math.sin(_),0]):new V.Vector(Math.cos(_),Math.sin(_),0)},V.Vector.random2D=function(){var _;return _=this.p5?this.p5._angleMode===W.DEGREES?this.p5.random(360):this.p5.random(W.TWO_PI):Math.random()*Math.PI*2,this.fromAngle(_)},V.Vector.random3D=function(){var _,T;this.p5?(_=this.p5.random(0,W.TWO_PI),T=this.p5.random(-1,1)):(_=Math.random()*Math.PI*2,T=2*Math.random()-1);var U=Math.sqrt(1-T*T)*Math.cos(_),X=Math.sqrt(1-T*T)*Math.sin(_);return this.p5?new V.Vector(this.p5,[U,X,T]):new V.Vector(U,X,T)},V.Vector.add=function(_,T,U){return U?U.set(_):U=_.copy(),U.add(T),U},V.Vector.sub=function(_,T,U){return U?U.set(_):U=_.copy(),U.sub(T),U},V.Vector.mult=function(_,T,U){return U?U.set(_):U=_.copy(),U.mult(T),U},V.Vector.div=function(_,T,U){return U?U.set(_):U=_.copy(),U.div(T),U},V.Vector.dot=function(_,T){return _.dot(T)},V.Vector.cross=function(_,T){return _.cross(T)},V.Vector.dist=function(_,T){return _.dist(T)},V.Vector.lerp=function(_,T,U,V){return V?V.set(_):V=_.copy(),V.lerp(T,U),V},V.Vector.angleBetween=function(_,T){var U=Math.acos(_.dot(T)/(_.mag()*T.mag()));return this.p5&&this.p5._angleMode===W.DEGREES&&(U=X.radiansToDegrees(U)),U},V.Vector.mag=function(_){var T=_.x,U=_.y,V=_.z,X=T*T+U*U+V*V;return Math.sqrt(X)},T.exports=V.Vector},{"../core/constants":41,"../core/core":42,"./polargeometry":72}],72:[function(_,T,U){T.exports={degreesToRadians:function(_){return 2*Math.PI*_/360},radiansToDegrees:function(_){return 360*_/(2*Math.PI)}}},{}],73:[function(_,T,U){"use strict";var V=_("../core/core"),X=!1,W=!1,Z=0,$=function(){var _,T,U=4294967296;return{setSeed:function(V){T=_=(null==V?Math.random()*U:V)>>>0},getSeed:function(){return _},rand:function(){return(T=(1664525*T+1013904223)%U)/U}}}();V.prototype.randomSeed=function(_){$.setSeed(_),X=!0,W=!1},V.prototype.random=function(_,T){var U;if(U=X?$.rand():Math.random(),void 0===_)return U;if(void 0===T)return _ instanceof Array?_[Math.floor(U*_.length)]:U*_;if(_>T){var V=_;_=T,T=V}return U*(T-_)+_},V.prototype.randomGaussian=function(_,T){var U,V,X,$;if(W)U=Z,W=!1;else{do{$=(V=this.random(2)-1)*V+(X=this.random(2)-1)*X}while($>=1);U=V*($=Math.sqrt(-2*Math.log($)/$)),Z=X*$,W=!0}return U*(T||1)+(_||0)},T.exports=V},{"../core/core":42}],74:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("./polargeometry"),W=_("../core/constants");V.prototype._angleMode=W.RADIANS,V.prototype.acos=function(_){return this._angleMode===W.RADIANS?Math.acos(_):X.radiansToDegrees(Math.acos(_))},V.prototype.asin=function(_){return this._angleMode===W.RADIANS?Math.asin(_):X.radiansToDegrees(Math.asin(_))},V.prototype.atan=function(_){return this._angleMode===W.RADIANS?Math.atan(_):X.radiansToDegrees(Math.atan(_))},V.prototype.atan2=function(_,T){return this._angleMode===W.RADIANS?Math.atan2(_,T):X.radiansToDegrees(Math.atan2(_,T))},V.prototype.cos=function(_){return this._angleMode===W.RADIANS?Math.cos(_):Math.cos(this.radians(_))},V.prototype.sin=function(_){return this._angleMode===W.RADIANS?Math.sin(_):Math.sin(this.radians(_))},V.prototype.tan=function(_){return this._angleMode===W.RADIANS?Math.tan(_):Math.tan(this.radians(_))},V.prototype.degrees=function(_){return X.radiansToDegrees(_)},V.prototype.radians=function(_){return X.degreesToRadians(_)},V.prototype.angleMode=function(_){_!==W.DEGREES&&_!==W.RADIANS||(this._angleMode=_)},T.exports=V},{"../core/constants":41,"../core/core":42,"./polargeometry":72}],75:[function(_,T,U){"use strict";var V=_("../core/core");V.prototype.textAlign=function(_,T){return this._renderer.textAlign.apply(this._renderer,arguments)},V.prototype.textLeading=function(_){return this._renderer.textLeading.apply(this._renderer,arguments)},V.prototype.textSize=function(_){return this._renderer.textSize.apply(this._renderer,arguments)},V.prototype.textStyle=function(_){return this._renderer.textStyle.apply(this._renderer,arguments)},V.prototype.textWidth=function(_){return 0===_.length?0:this._renderer.textWidth.apply(this._renderer,arguments)},V.prototype.textAscent=function(){return this._renderer.textAscent()},V.prototype.textDescent=function(){return this._renderer.textDescent()},V.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},T.exports=V},{"../core/core":42}],76:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("../core/constants");_("../core/error_helpers"),V.prototype.text=function(_,T,U,V,X){return this._renderer._doFill||this._renderer._doStroke?this._renderer.text.apply(this._renderer,arguments):this},V.prototype.textFont=function(_,T){if(arguments.length){if(!_)throw Error("null font passed to textFont");return this._renderer._setProperty("_textFont",_),T&&(this._renderer._setProperty("_textSize",T),this._renderer._setProperty("_textLeading",T*X._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this},T.exports=V},{"../core/constants":41,"../core/core":42,"../core/error_helpers":45}],77:[function(_,T,U){"use strict";function d(_,T){for(var U=function h(_,T){if("object"!=typeof _)_=T;else for(var U in T)void 0===_[U]&&(_[U]=T[U]);return _}(T,{sampleFactor:.1,simplifyThreshold:0}),V=n(_,0,1),X=V/(V*U.sampleFactor),W=[],Z=0;Z<V;Z+=X)W.push(n(_,Z));return U.simplifyThreshold&&e(W,U.simplifyThreshold),W}function e(_,T){T=void 0===T?0:T;for(var U=0,V=_.length-1;_.length>3&&V>=0;--V)j(i(_,V-1),i(_,V),i(_,V+1),T)&&(_.splice(V%_.length,1),U++);return U}function f(_){for(var T,U=[],V=0;V<_.length;V++)"M"===_[V].type&&(T&&U.push(T),T=[]),T.push(g(_[V]));return U.push(T),U}function g(_){var T=[_.type];return"M"===_.type||"L"===_.type?T.push(_.x,_.y):"C"===_.type?T.push(_.x1,_.y1,_.x2,_.y2,_.x,_.y):"Q"===_.type&&T.push(_.x1,_.y1,_.x,_.y),T}function i(_,T){var U=_.length;return _[T<0?T%U+U:T%U]}function j(_,T,U,V){if(!V)return 0===function k(_,T,U){return(T[0]-_[0])*(U[1]-_[1])-(U[0]-_[0])*(T[1]-_[1])}(_,T,U);void 0===j.tmpPoint1&&(j.tmpPoint1=[],j.tmpPoint2=[]);var X=j.tmpPoint1,W=j.tmpPoint2;X.x=T.x-_.x,X.y=T.y-_.y,W.x=U.x-T.x,W.y=U.y-T.y;var Z=X.x*W.x+X.y*W.y,$=Math.sqrt(X.x*X.x+X.y*X.y),ee=Math.sqrt(W.x*W.x+W.y*W.y);return Math.acos(Z/($*ee))<V}function l(_,T,U,V,X,W,Z,$,ee){var te=1-ee,re=Math.pow(te,3),ne=Math.pow(te,2),ie=ee*ee,oe=ie*ee,ae=re*_+3*ne*ee*U+3*te*ee*ee*X+oe*Z,se=re*T+3*ne*ee*V+3*te*ee*ee*W+oe*$,he=_+2*ee*(U-_)+ie*(X-2*U+_),le=T+2*ee*(V-T)+ie*(W-2*V+T),ue=U+2*ee*(X-U)+ie*(Z-2*X+U),pe=V+2*ee*(W-V)+ie*($-2*W+V),ce=te*_+ee*U,fe=te*T+ee*V,de=te*X+ee*Z,me=te*W+ee*$,ge=90-180*Math.atan2(he-ue,le-pe)/Math.PI;return(he>ue||le<pe)&&(ge+=180),{x:ae,y:se,m:{x:he,y:le},n:{x:ue,y:pe},start:{x:ce,y:fe},end:{x:de,y:me},alpha:ge}}function m(_,T,U,V,X,W,Z,$,ee){return null==ee?u(_,T,U,V,X,W,Z,$):l(_,T,U,V,X,W,Z,$,function v(_,T,U,V,X,W,Z,$,ee){if(!(ee<0||u(_,T,U,V,X,W,Z,$)<ee)){var te,re=.5,ne=1-re;for(te=u(_,T,U,V,X,W,Z,$,ne);Math.abs(te-ee)>.01;)te=u(_,T,U,V,X,W,Z,$,ne+=(te<ee?1:-1)*(re/=2));return ne}}(_,T,U,V,X,W,Z,$,ee))}function n(_,T,U){for(var V,X,W,Z,$,ee=0,te=0,re=(_=p(_)).length;te<re;te++){if("M"===(W=_[te])[0])V=+W[1],X=+W[2];else{if(ee+(Z=m(V,X,W[1],W[2],W[3],W[4],W[5],W[6]))>T&&!U)return{x:($=m(V,X,W[1],W[2],W[3],W[4],W[5],W[6],T-ee)).x,y:$.y,alpha:$.alpha};ee+=Z,V=+W[5],X=+W[6]}W.shift()+W}return($=U?ee:l(V,X,W[0],W[1],W[2],W[3],W[4],W[5],1)).alpha&&($={x:$.x,y:$.y,alpha:$.alpha}),$}function o(_){var T=[],U=0,V=0,X=0,W=0,Z=0;"M"===_[0][0]&&(X=U=+_[0][1],W=V=+_[0][2],Z++,T[0]=["M",U,V]);for(var $,ee,te,re=3===_.length&&"M"===_[0][0]&&"R"===_[1][0].toUpperCase()&&"Z"===_[2][0].toUpperCase(),ne=Z,ie=_.length;ne<ie;ne++){if(T.push(ee=[]),(te=_[ne])[0]!==String.prototype.toUpperCase.call(te[0]))switch(ee[0]=String.prototype.toUpperCase.call(te[0]),ee[0]){case"A":ee[1]=te[1],ee[2]=te[2],ee[3]=te[3],ee[4]=te[4],ee[5]=te[5],ee[6]=+(te[6]+U),ee[7]=+(te[7]+V);break;case"V":ee[1]=+te[1]+V;break;case"H":ee[1]=+te[1]+U;break;case"R":for(var oe=2,ae=($=[U,V].concat(te.slice(1))).length;oe<ae;oe++)$[oe]=+$[oe]+U,$[++oe]=+$[oe]+V;T.pop(),T=T.concat(r($,re));break;case"M":X=+te[1]+U,W=+te[2]+V;break;default:for(oe=1,ae=te.length;oe<ae;oe++)ee[oe]=+te[oe]+(oe%2?U:V)}else if("R"===te[0])$=[U,V].concat(te.slice(1)),T.pop(),T=T.concat(r($,re)),ee=["R"].concat(te.slice(-2));else for(var se=0,he=te.length;se<he;se++)ee[se]=te[se];switch(ee[0]){case"Z":U=X,V=W;break;case"H":U=ee[1];break;case"V":V=ee[1];break;case"M":X=ee[ee.length-2],W=ee[ee.length-1];break;default:U=ee[ee.length-2],V=ee[ee.length-1]}}return T}function p(_,T){for(var U=o(_),V=T&&o(T),X={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},W={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(_,T,U){var V,X;if(!_)return["C",T.x,T.y,T.x,T.y,T.x,T.y];switch(_[0]in{T:1,Q:1}||(T.qx=T.qy=null),_[0]){case"M":T.X=_[1],T.Y=_[2];break;case"A":_=["C"].concat(q.apply(0,[T.x,T.y].concat(_.slice(1))));break;case"S":"C"===U||"S"===U?(V=2*T.x-T.bx,X=2*T.y-T.by):(V=T.x,X=T.y),_=["C",V,X].concat(_.slice(1));break;case"T":"Q"===U||"T"===U?(T.qx=2*T.x-T.qx,T.qy=2*T.y-T.qy):(T.qx=T.x,T.qy=T.y),_=["C"].concat(t(T.x,T.y,T.qx,T.qy,_[1],_[2]));break;case"Q":T.qx=_[1],T.qy=_[2],_=["C"].concat(t(T.x,T.y,_[1],_[2],_[3],_[4]));break;case"L":_=["C"].concat(s(T.x,T.y,_[1],_[2]));break;case"H":_=["C"].concat(s(T.x,T.y,_[1],T.y));break;case"V":_=["C"].concat(s(T.x,T.y,T.x,_[1]));break;case"Z":_=["C"].concat(s(T.x,T.y,T.X,T.Y))}return _},h=function(_,T){if(_[T].length>7){_[T].shift();for(var X=_[T];X.length;)Z[T]="A",V&&($[T]="A"),_.splice(T++,0,["C"].concat(X.splice(0,6)));_.splice(T,1),ne=Math.max(U.length,V&&V.length||0)}},i=function(_,T,X,W,Z){_&&T&&"M"===_[Z][0]&&"M"!==T[Z][0]&&(T.splice(Z,0,["M",W.x,W.y]),X.bx=0,X.by=0,X.x=_[Z][1],X.y=_[Z][2],ne=Math.max(U.length,V&&V.length||0))},Z=[],$=[],ee="",te="",re=0,ne=Math.max(U.length,V&&V.length||0);re<ne;re++){U[re]&&(ee=U[re][0]),"C"!==ee&&(Z[re]=ee,re&&(te=Z[re-1])),U[re]=g(U[re],X,te),"A"!==Z[re]&&"C"===ee&&(Z[re]="C"),h(U,re),V&&(V[re]&&(ee=V[re][0]),"C"!==ee&&($[re]=ee,re&&(te=$[re-1])),V[re]=g(V[re],W,te),"A"!==$[re]&&"C"===ee&&($[re]="C"),h(V,re)),i(U,V,X,W,re),i(V,U,W,X,re);var ie=U[re],oe=V&&V[re],ae=ie.length,se=V&&oe.length;X.x=ie[ae-2],X.y=ie[ae-1],X.bx=parseFloat(ie[ae-4])||X.x,X.by=parseFloat(ie[ae-3])||X.y,W.bx=V&&(parseFloat(oe[se-4])||W.x),W.by=V&&(parseFloat(oe[se-3])||W.y),W.x=V&&oe[se-2],W.y=V&&oe[se-1]}return V?[U,V]:U}function q(_,T,U,V,X,W,Z,$,ee,te){var re,ne,ie,oe,ae,se=Math.PI,he=120*se/180,le=se/180*(+X||0),ue=[],u=function(_,T,U){return{x:_*Math.cos(U)-T*Math.sin(U),y:_*Math.sin(U)+T*Math.cos(U)}};if(te)re=te[0],ne=te[1],ie=te[2],oe=te[3];else{_=(ae=u(_,T,-le)).x,T=ae.y;var pe=(_-($=(ae=u($,ee,-le)).x))/2,ce=(T-(ee=ae.y))/2,fe=pe*pe/(U*U)+ce*ce/(V*V);fe>1&&(U*=fe=Math.sqrt(fe),V*=fe);var de=U*U,me=V*V,ge=(W===Z?-1:1)*Math.sqrt(Math.abs((de*me-de*ce*ce-me*pe*pe)/(de*ce*ce+me*pe*pe)));ie=ge*U*ce/V+(_+$)/2,oe=ge*-V*pe/U+(T+ee)/2,re=Math.asin(((T-oe)/V).toFixed(9)),ne=Math.asin(((ee-oe)/V).toFixed(9)),(re=_<ie?se-re:re)<0&&(re=2*se+re),(ne=$<ie?se-ne:ne)<0&&(ne=2*se+ne),Z&&re>ne&&(re-=2*se),!Z&&ne>re&&(ne-=2*se)}var ye=ne-re;if(Math.abs(ye)>he){var ve=ne,xe=$,be=ee;ne=re+he*(Z&&ne>re?1:-1),ue=q($=ie+U*Math.cos(ne),ee=oe+V*Math.sin(ne),U,V,X,0,Z,xe,be,[ne,ve,ie,oe])}ye=ne-re;var _e=Math.cos(re),we=Math.sin(re),Se=Math.cos(ne),Te=Math.sin(ne),Ce=Math.tan(ye/4),Me=4/3*U*Ce,Re=4/3*V*Ce,Ee=[_,T],Ae=[_+Me*we,T-Re*_e],Ie=[$+Me*Te,ee-Re*Se],Pe=[$,ee];if(Ae[0]=2*Ee[0]-Ae[0],Ae[1]=2*Ee[1]-Ae[1],te)return[Ae,Ie,Pe].concat(ue);for(var Le=[],De=0,Oe=(ue=[Ae,Ie,Pe].concat(ue).join().split(",")).length;De<Oe;De++)Le[De]=De%2?u(ue[De-1],ue[De],le).y:u(ue[De],ue[De+1],le).x;return Le}function r(_,T){for(var U=[],V=0,X=_.length;X-2*!T>V;V+=2){var W=[{x:+_[V-2],y:+_[V-1]},{x:+_[V],y:+_[V+1]},{x:+_[V+2],y:+_[V+3]},{x:+_[V+4],y:+_[V+5]}];T?V?X-4===V?W[3]={x:+_[0],y:+_[1]}:X-2===V&&(W[2]={x:+_[0],y:+_[1]},W[3]={x:+_[2],y:+_[3]}):W[0]={x:+_[X-2],y:+_[X-1]}:X-4===V?W[3]=W[2]:V||(W[0]={x:+_[V],y:+_[V+1]}),U.push(["C",(-W[0].x+6*W[1].x+W[2].x)/6,(-W[0].y+6*W[1].y+W[2].y)/6,(W[1].x+6*W[2].x-W[3].x)/6,(W[1].y+6*W[2].y-W[3].y)/6,W[2].x,W[2].y])}return U}function s(_,T,U,V){return[_,T,U,V,U,V]}function t(_,T,U,V,X,W){var Z=1/3,$=2/3;return[Z*_+$*U,Z*T+$*V,Z*X+$*U,Z*W+$*V,X,W]}function u(_,T,U,V,X,W,Z,$,ee){null==ee&&(ee=1);for(var te=(ee=ee>1?1:ee<0?0:ee)/2,re=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ne=0,ie=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],oe=0;oe<12;oe++){var ae=te*re[oe]+te,se=w(ae,_,U,X,Z),he=w(ae,T,V,W,$),le=se*se+he*he;ne+=ie[oe]*Math.sqrt(le)}return te*ne}function w(_,T,U,V,X){return _*(_*(-3*T+9*U-9*V+3*X)+6*T-12*U+6*V)-3*T+3*U}function x(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];T=_.length;for(var U="";T--;)U+=_[T]===Object(_[T])?JSON.stringify(_[T]):_[T];return U}var V=_("../core/core"),X=_("../core/constants");V.Font=function(_){this.parent=_,this.cache={},this.font=void 0},V.Font.prototype.list=function(){throw"not yet implemented"},V.Font.prototype.textBounds=function(_,T,U,V,W){T=void 0!==T?T:0,U=void 0!==U?U:0,V=V||this.parent._renderer._textSize;var Z=W&&W.renderer&&W.renderer._pInst||this.parent,$=Z._renderer.drawingContext,ee=$.textAlign||X.LEFT,te=$.textBaseline||X.BASELINE,re=this.cache[x("textBounds",_,T,U,V,ee,te)];if(!re){var ne,ie,oe,ae=[],se=[],he=this,le=this._scale(V);this.font.forEachGlyph(_,T,U,V,W,(function(_,T,U,X){ae.push(T),se.push(U);var W=_.getMetrics();"space"!==_.name&&32!==_.unicode?(ae.push(T+W.xMax*le),se.push(U+-W.yMin*le),se.push(U+-W.yMax*le)):ae.push(T+he.font.charToGlyph(" ").advanceWidth*he._scale(V))})),ne=Math.min.apply(null,ae),ie=Math.min.apply(null,se),oe=Math.max.apply(null,ae);var ue=(re={x:ne,y:ie,h:Math.max.apply(null,se)-ie,w:oe-ne,advance:ne-T}).w+re.advance,pe=this._handleAlignment(Z,$,_,re.x,re.y,ue);re.x=pe.x,re.y=pe.y,this.cache[x("textBounds",_,T,U,V,ee,te)]=re}return re},V.Font.prototype.textToPoints=function(_,T,U,V,X){var W=0,Z=[],$=this._getGlyphs(_);V=V||this.parent._renderer._textSize;for(var ee=0;ee<$.length;ee++){if("space"!==$[ee].name)for(var te=f($[ee].getPath(T,U,V).commands),re=0;re<te.length;re++)for(var ne=d(te[re],X),ie=0;ie<ne.length;ie++)ne[ie].x+=W,Z.push(ne[ie]);W+=$[ee].advanceWidth*this._scale(V)}return Z},V.Font.prototype._getGlyphs=function(_){return this.font.stringToGlyphs(_)},V.Font.prototype._getPath=function(_,T,U,V){var X=V&&V.renderer&&V.renderer._pInst||this.parent,W=X._renderer.drawingContext,Z=this._handleAlignment(X,W,_,T,U);return this.font.getPath(_,Z.x,Z.y,X._renderer._textSize,V)},V.Font.prototype._getPathData=function(_,T,U,V){var X=3;return"string"==typeof _&&arguments.length>2?_=this._getPath(_,T,U,V):"object"==typeof T&&(V=T),V&&"number"==typeof V.decimals&&(X=V.decimals),_.toPathData(X)},V.Font.prototype._getSVG=function(_,T,U,V){var X=3;return"string"==typeof _&&arguments.length>2?_=this._getPath(_,T,U,V):"object"==typeof T&&(V=T),V&&("number"==typeof V.decimals&&(X=V.decimals),"number"==typeof V.strokeWidth&&(_.strokeWidth=V.strokeWidth),void 0!==V.fill&&(_.fill=V.fill),void 0!==V.stroke&&(_.stroke=V.stroke)),_.toSVG(X)},V.Font.prototype._renderPath=function(_,T,U,V){var W,Z=V&&V.renderer||this.parent._renderer,$=Z.drawingContext;W="object"==typeof _&&_.commands?_.commands:this._getPath(_,T,U,V).commands,$.beginPath();for(var ee=0;ee<W.length;ee+=1){var te=W[ee];"M"===te.type?$.moveTo(te.x,te.y):"L"===te.type?$.lineTo(te.x,te.y):"C"===te.type?$.bezierCurveTo(te.x1,te.y1,te.x2,te.y2,te.x,te.y):"Q"===te.type?$.quadraticCurveTo(te.x1,te.y1,te.x,te.y):"Z"===te.type&&$.closePath()}return Z._doStroke&&Z._strokeSet&&$.stroke(),Z._doFill&&($.fillStyle=Z._fillSet?$.fillStyle:X._DEFAULT_TEXT_FILL,$.fill()),this},V.Font.prototype._textWidth=function(_,T){if(" "===_)return this.font.charToGlyph(" ").advanceWidth*this._scale(T);var U=this.textBounds(_,0,0,T);return U.w+U.advance},V.Font.prototype._textAscent=function(_){return this.font.ascender*this._scale(_)},V.Font.prototype._textDescent=function(_){return-this.font.descender*this._scale(_)},V.Font.prototype._scale=function(_){return 1/this.font.unitsPerEm*(_||this.parent._renderer._textSize)},V.Font.prototype._handleAlignment=function(_,T,U,V,W,Z){var $=_._renderer._textSize,ee=this._textAscent($),te=this._textDescent($);return Z=void 0!==Z?Z:this._textWidth(U,$),T.textAlign===X.CENTER?V-=Z/2:T.textAlign===X.RIGHT&&(V-=Z),T.textBaseline===X.TOP?W+=ee:T.textBaseline===X._CTX_MIDDLE?W+=ee/2:T.textBaseline===X.BOTTOM&&(W-=te),{x:V,y:W}},T.exports=V.Font},{"../core/constants":41,"../core/core":42}],78:[function(_,T,U){"use strict";var V=_("../core/core");V.prototype.append=function(_,T){return _.push(T),_},V.prototype.arrayCopy=function(_,T,U,V,X){var W,Z;void 0!==X?(Z=Math.min(X,_.length),W=V,_=_.slice(T,Z+T)):(void 0!==U?(Z=U,Z=Math.min(Z,_.length)):Z=_.length,W=0,U=T,_=_.slice(0,Z)),Array.prototype.splice.apply(U,[W,Z].concat(_))},V.prototype.concat=function(_,T){return _.concat(T)},V.prototype.reverse=function(_){return _.reverse()},V.prototype.shorten=function(_){return _.pop(),_},V.prototype.shuffle=function(_,T){for(var U,V,X=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(_),W=(_=T||X?_:_.slice()).length;W>1;)U=Math.random()*W|0,V=_[--W],_[W]=_[U],_[U]=V;return _},V.prototype.sort=function(_,T){var U=T?_.slice(0,Math.min(T,_.length)):_,V=T?_.slice(Math.min(T,_.length)):[];return(U="string"==typeof U[0]?U.sort():U.sort((function(_,T){return _-T}))).concat(V)},V.prototype.splice=function(_,T,U){return Array.prototype.splice.apply(_,[U,0].concat(T)),_},V.prototype.subset=function(_,T,U){return void 0!==U?_.slice(T,T+U):_.slice(T,_.length)},T.exports=V},{"../core/core":42}],79:[function(_,T,U){"use strict";var V=_("../core/core");V.prototype.float=function(_){return _ instanceof Array?_.map(parseFloat):parseFloat(_)},V.prototype.int=function(_,T){return T=T||10,"string"==typeof _?parseInt(_,T):"number"==typeof _?0|_:"boolean"==typeof _?_?1:0:_ instanceof Array?_.map((function(_){return V.prototype.int(_,T)})):void 0},V.prototype.str=function(_){return _ instanceof Array?_.map(V.prototype.str):String(_)},V.prototype.boolean=function(_){return"number"==typeof _?0!==_:"string"==typeof _?"true"===_.toLowerCase():"boolean"==typeof _?_:_ instanceof Array?_.map(V.prototype.boolean):void 0},V.prototype.byte=function(_){var T=V.prototype.int(_,10);return"number"==typeof T?(T+128)%256-128:T instanceof Array?T.map(V.prototype.byte):void 0},V.prototype.char=function(_){return"number"!=typeof _||isNaN(_)?_ instanceof Array?_.map(V.prototype.char):"string"==typeof _?V.prototype.char(parseInt(_,10)):void 0:String.fromCharCode(_)},V.prototype.unchar=function(_){return"string"==typeof _&&1===_.length?_.charCodeAt(0):_ instanceof Array?_.map(V.prototype.unchar):void 0},V.prototype.hex=function(_,T){if(T=null==T?T=8:T,_ instanceof Array)return _.map((function(_){return V.prototype.hex(_,T)}));if("number"==typeof _){_<0&&(_=4294967295+_+1);for(var U=Number(_).toString(16).toUpperCase();U.length<T;)U="0"+U;return U.length>=T&&(U=U.substring(U.length-T,U.length)),U}},V.prototype.unhex=function(_){return _ instanceof Array?_.map(V.prototype.unhex):parseInt("0x"+_,16)},T.exports=V},{"../core/core":42}],80:[function(_,T,U){"use strict";function d(){var _=arguments[0],T=_<0,U=T?_.toString().substring(1):_.toString(),V=U.indexOf("."),X=-1!==V?U.substring(0,V):U,W=-1!==V?U.substring(V+1):"",Z=T?"-":"";if(3===arguments.length){var $="";(-1!==V||arguments[2]-W.length>0)&&($="."),W.length>arguments[2]&&(W=W.substring(0,arguments[2]));for(var ee=0;ee<arguments[1]-X.length;ee++)Z+="0";Z+=X,Z+=$,Z+=W;for(var te=0;te<arguments[2]-W.length;te++)Z+="0";return Z}for(var re=0;re<Math.max(arguments[1]-X.length,0);re++)Z+="0";return Z+U}function e(){var _=arguments[0].toString(),T=_.indexOf("."),U=-1!==T?_.substring(T):"",V=-1!==T?_.substring(0,T):_;if(V=V.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===arguments[1])U="";else if(void 0!==arguments[1])if(arguments[1]>U.length)for(var X=arguments[1]-(U+=-1===T?".":"").length+1,W=0;W<X;W++)U+="0";else U=U.substring(0,arguments[1]+1);return V+U}function f(){return parseFloat(arguments[0])>0?"+"+arguments[0].toString():arguments[0].toString()}function g(){return parseFloat(arguments[0])>0?" "+arguments[0].toString():arguments[0].toString()}var V=_("../core/core");V.prototype.join=function(_,T){return _.join(T)},V.prototype.match=function(_,T){return _.match(T)},V.prototype.matchAll=function(_,T){for(var U=new RegExp(T,"g"),V=U.exec(_),X=[];null!==V;)X.push(V),V=U.exec(_);return X},V.prototype.nf=function(){if(arguments[0]instanceof Array){var _=arguments[1],T=arguments[2];return arguments[0].map((function(U){return d(U,_,T)}))}return"[object Arguments]"===Object.prototype.toString.call(arguments[0])?3===arguments[0].length?this.nf(arguments[0][0],arguments[0][1],arguments[0][2]):2===arguments[0].length?this.nf(arguments[0][0],arguments[0][1]):this.nf(arguments[0][0]):d.apply(this,arguments)},V.prototype.nfc=function(){if(arguments[0]instanceof Array){var _=arguments[1];return arguments[0].map((function(T){return e(T,_)}))}return e.apply(this,arguments)},V.prototype.nfp=function(){var _=this.nf.apply(this,arguments);return _ instanceof Array?_.map(f):f(_)},V.prototype.nfs=function(){var _=this.nf.apply(this,arguments);return _ instanceof Array?_.map(g):g(_)},V.prototype.split=function(_,T){return _.split(T)},V.prototype.splitTokens=function(){var _,T,U,V;return V=arguments[1],arguments.length>1?(U=/\]/g.exec(V),(T=/\[/g.exec(V))&&U?(V=V.slice(0,U.index)+V.slice(U.index+1),T=/\[/g.exec(V),V=V.slice(0,T.index)+V.slice(T.index+1),_=new RegExp("[\\["+V+"\\]]","g")):U?(V=V.slice(0,U.index)+V.slice(U.index+1),_=new RegExp("["+V+"\\]]","g")):T?(V=V.slice(0,T.index)+V.slice(T.index+1),_=new RegExp("["+V+"\\[]","g")):_=new RegExp("["+V+"]","g")):_=/\s/g,arguments[0].split(_).filter((function(_){return _}))},V.prototype.trim=function(_){return _ instanceof Array?_.map(this.trim):_.trim()},T.exports=V},{"../core/core":42}],81:[function(_,T,U){"use strict";var V=_("../core/core");V.prototype.day=function(){return(new Date).getDate()},V.prototype.hour=function(){return(new Date).getHours()},V.prototype.minute=function(){return(new Date).getMinutes()},V.prototype.millis=function(){return window.performance.now()},V.prototype.month=function(){return(new Date).getMonth()+1},V.prototype.second=function(){return(new Date).getSeconds()},V.prototype.year=function(){return(new Date).getFullYear()},T.exports=V},{"../core/core":42}],82:[function(_,T,U){"use strict";var V=_("../core/core");V.prototype.camera=function(_,T,U){this._renderer.translate(-_,-T,-U)},V.prototype.perspective=function(_,T,U,X){_=_||60/180*this.PI,T=T||this.width/this.height,U=U||this.height/2/this.tan(_/2)*.1,X=X||this.height/2/this.tan(_/2)*10,this._renderer.uPMatrix=V.Matrix.identity(),this._renderer.uPMatrix.perspective(_,T,U,X),this._renderer._curCamera="custom"},V.prototype.ortho=function(_,T,U,X,W,Z){_=_||-this.width/2,T=T||this.width/2,U=U||-this.height/2,X=X||this.height/2,W=W||0,Z=Z||Math.max(this.width,this.height),this._renderer.uPMatrix=V.Matrix.identity(),this._renderer.uPMatrix.ortho(_,T,U,X,W,Z),this._renderer._curCamera="custom"},T.exports=V},{"../core/core":42}],83:[function(_,T,U){"use strict";var V=_("../core/core");V.prototype.orbitControl=function(){return this.mouseIsPressed&&(this.rotateY((this.mouseX-this.width/2)/(this.width/2)),this.rotateX((this.mouseY-this.height/2)/(this.width/2))),this},T.exports=V},{"../core/core":42}],84:[function(_,T,U){"use strict";var V=_("../core/core");V.prototype.ambientLight=function(_,T,U,V){var X=this._renderer.GL,W=this._renderer._getShader("lightVert","lightTextureFrag");X.useProgram(W),W.uAmbientColor=X.getUniformLocation(W,"uAmbientColor["+this._renderer.ambientLightCount+"]");var Z=this._renderer._pInst.color.apply(this._renderer._pInst,arguments),$=Z._array;return X.uniform3f(W.uAmbientColor,$[0],$[1],$[2]),W.uMaterialColor=X.getUniformLocation(W,"uMaterialColor"),X.uniform4f(W.uMaterialColor,1,1,1,1),this._renderer.ambientLightCount++,W.uAmbientLightCount=X.getUniformLocation(W,"uAmbientLightCount"),X.uniform1i(W.uAmbientLightCount,this._renderer.ambientLightCount),this},V.prototype.directionalLight=function(_,T,U,V,X,W,Z){var $=this._renderer.GL,ee=this._renderer._getShader("lightVert","lightTextureFrag");$.useProgram(ee),ee.uDirectionalColor=$.getUniformLocation(ee,"uDirectionalColor["+this._renderer.directionalLightCount+"]");var te=this._renderer._pInst.color.apply(this._renderer._pInst,[_,T,U]),re=te._array;$.uniform3f(ee.uDirectionalColor,re[0],re[1],re[2]);for(var ne,ie,oe,ae=new Array(arguments.length),se=0;se<ae.length;++se)ae[se]=arguments[se];if("number"==typeof ae[ae.length-1])ne=ae[ae.length-3],ie=ae[ae.length-2],oe=ae[ae.length-1];else try{ne=ae[ae.length-1].x,ie=ae[ae.length-1].y,oe=ae[ae.length-1].z}catch(_){throw _}return ee.uLightingDirection=$.getUniformLocation(ee,"uLightingDirection["+this._renderer.directionalLightCount+"]"),$.uniform3f(ee.uLightingDirection,ne,ie,oe),ee.uMaterialColor=$.getUniformLocation(ee,"uMaterialColor"),$.uniform4f(ee.uMaterialColor,1,1,1,1),this._renderer.directionalLightCount++,ee.uDirectionalLightCount=$.getUniformLocation(ee,"uDirectionalLightCount"),$.uniform1i(ee.uDirectionalLightCount,this._renderer.directionalLightCount),this},V.prototype.pointLight=function(_,T,U,V,X,W,Z){var $=this._renderer.GL,ee=this._renderer._getShader("lightVert","lightTextureFrag");$.useProgram(ee),ee.uPointLightColor=$.getUniformLocation(ee,"uPointLightColor["+this._renderer.pointLightCount+"]");var te=this._renderer._pInst.color.apply(this._renderer._pInst,[_,T,U]),re=te._array;$.uniform3f(ee.uPointLightColor,re[0],re[1],re[2]);for(var ne,ie,oe,ae=new Array(arguments.length),se=0;se<ae.length;++se)ae[se]=arguments[se];if("number"==typeof ae[ae.length-1])ne=ae[ae.length-3],ie=ae[ae.length-2],oe=ae[ae.length-1];else try{ne=ae[ae.length-1].x,ie=ae[ae.length-1].y,oe=ae[ae.length-1].z}catch(_){throw _}return ee.uPointLightLocation=$.getUniformLocation(ee,"uPointLightLocation["+this._renderer.pointLightCount+"]"),$.uniform3f(ee.uPointLightLocation,ne,ie,oe),ee.uMaterialColor=$.getUniformLocation(ee,"uMaterialColor"),$.uniform4f(ee.uMaterialColor,1,1,1,1),this._renderer.pointLightCount++,ee.uPointLightCount=$.getUniformLocation(ee,"uPointLightCount"),$.uniform1i(ee.uPointLightCount,this._renderer.pointLightCount),this},T.exports=V},{"../core/core":42}],85:[function(_,T,U){"use strict";function d(_,T){for(var U={v:[],vt:[],vn:[]},X={},W=0;W<T.length;++W){var Z=T[W].trim().split(/\b\s+/);if(Z.length>0)if("v"===Z[0]||"vn"===Z[0]){var $=new V.Vector(parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3]));U[Z[0]].push($)}else if("vt"===Z[0]){var ee=[parseFloat(Z[1]),parseFloat(Z[2])];U[Z[0]].push(ee)}else if("f"===Z[0])for(var te=3;te<Z.length;++te){for(var re=[],ne=[1,te-1,te],ie=0;ie<ne.length;++ie){var oe=Z[ne[ie]],ae=0;if(void 0!==X[oe])ae=X[oe];else{for(var se=oe.split("/"),he=0;he<se.length;he++)se[he]=parseInt(se[he])-1;ae=X[oe]=_.vertices.length,_.vertices.push(U.v[se[0]].copy()),U.vt[se[1]]?_.uvs.push(U.vt[se[1]].slice()):_.uvs.push([0,0]),U.vn[se[2]]&&_.vertexNormals.push(U.vn[se[2]].copy())}re.push(ae)}_.faces.push(re)}}return 0===_.vertexNormals.length&&_.computeNormals(),_}var V=_("../core/core");_("./p5.Geometry"),V.prototype.loadModel=function(){var _,T,U,X=arguments[0];"boolean"==typeof arguments[1]?(_=arguments[1],T=arguments[2],U=arguments[3]):(_=!1,T=arguments[1],U=arguments[2]);var W=new V.Geometry;return W.gid=X+"|"+_,this.loadStrings(X,function(U){d(W,U),_&&W.normalize(),"function"==typeof T&&T(W)}.bind(this),U),W},V.prototype.model=function(_){_.vertices.length>0&&(this._renderer.geometryInHash(_.gid)||this._renderer.createBuffers(_.gid,_),this._renderer.drawBuffers(_.gid))},T.exports=V},{"../core/core":42,"./p5.Geometry":87}],86:[function(_,T,U){"use strict";var V=_("../core/core");V.prototype.normalMaterial=function(){return this._renderer._getShader("normalVert","normalFrag"),this},V.prototype.texture=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];var U,X=this._renderer.GL,W=this._renderer._getShader("lightVert","lightTextureFrag");if(X.useProgram(W),_[0].isTexture)_[0]instanceof V.Graphics||void 0!==V.MediaElement&&_[0]instanceof V.MediaElement?U=_[0].elt:_[0]instanceof V.Image&&(U=_[0].canvas),this._renderer._bind.call(this,_[0].tex,U);else{if(_[0]instanceof V.Image)U=_[0].canvas;else if(void 0!==V.MediaElement&&_[0]instanceof V.MediaElement){if(!_[0].loadedmetadata)return;U=_[0].elt}else _[0]instanceof V.Graphics&&(U=_[0].elt);var Z=X.createTexture();_[0]._setProperty("tex",Z),_[0]._setProperty("isTexture",!0),this._renderer._bind.call(this,Z,U)}return X.activeTexture(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,_[0].tex),X.uniform1i(X.getUniformLocation(W,"isTexture"),!0),X.uniform1i(X.getUniformLocation(W,"uSampler"),0),this},V.RendererGL.prototype._bind=function(_,T){var U=this._renderer.GL;U.bindTexture(U.TEXTURE_2D,_),U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,!0),U.texImage2D(U.TEXTURE_2D,0,U.RGBA,U.RGBA,U.UNSIGNED_BYTE,T),U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,!0),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,U.LINEAR),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,U.LINEAR),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_S,U.CLAMP_TO_EDGE),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_T,U.CLAMP_TO_EDGE),U.bindTexture(U.TEXTURE_2D,null)},V.prototype.ambientMaterial=function(_,T,U,V){var X=this._renderer.GL,W=this._renderer._getShader("lightVert","lightTextureFrag");X.useProgram(W),W.uMaterialColor=X.getUniformLocation(W,"uMaterialColor");var Z=this._renderer._applyColorBlend.apply(this._renderer,arguments);return X.uniform4f(W.uMaterialColor,Z[0],Z[1],Z[2],Z[3]),W.uSpecular=X.getUniformLocation(W,"uSpecular"),X.uniform1i(W.uSpecular,!1),X.uniform1i(X.getUniformLocation(W,"isTexture"),!1),this},V.prototype.specularMaterial=function(_,T,U,V){var X=this._renderer.GL,W=this._renderer._getShader("lightVert","lightTextureFrag");X.useProgram(W),X.uniform1i(X.getUniformLocation(W,"isTexture"),!1),W.uMaterialColor=X.getUniformLocation(W,"uMaterialColor");var Z=this._renderer._applyColorBlend.apply(this._renderer,arguments);return X.uniform4f(W.uMaterialColor,Z[0],Z[1],Z[2],Z[3]),W.uSpecular=X.getUniformLocation(W,"uSpecular"),X.uniform1i(W.uSpecular,!0),this},V.RendererGL.prototype._applyColorBlend=function(_,T,U,V){var X=this.GL,W=this._pInst.color.apply(this._pInst,arguments),Z=W._array;return Z[Z.length-1]<1?(X.depthMask(!1),X.enable(X.BLEND),X.blendEquation(X.FUNC_ADD),X.blendFunc(X.SRC_ALPHA,X.ONE_MINUS_SRC_ALPHA)):(X.depthMask(!0),X.disable(X.BLEND)),Z},T.exports=V},{"../core/core":42}],87:[function(_,T,U){"use strict";var V=_("../core/core");V.Geometry=function(_,T,U){return this.vertices=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.detailX=void 0!==_?_:1,this.detailY=void 0!==T?T:1,U instanceof Function&&U.call(this),this},V.Geometry.prototype.computeFaces=function(){for(var _,T,U,V,X=this.detailX+1,W=0;W<this.detailY;W++)for(var Z=0;Z<this.detailX;Z++)_=W*X+Z,T=W*X+Z+1,U=(W+1)*X+Z+1,V=(W+1)*X+Z,this.faces.push([_,T,V]),this.faces.push([V,T,U]);return this},V.Geometry.prototype._getFaceNormal=function(_,T){var U=this.faces[_],X=this.vertices[U[T%3]],W=this.vertices[U[(T+1)%3]],Z=this.vertices[U[(T+2)%3]],$=V.Vector.cross(V.Vector.sub(W,X),V.Vector.sub(Z,X)),ee=V.Vector.mag($)/(V.Vector.mag(V.Vector.sub(W,X))*V.Vector.mag(V.Vector.sub(Z,X)));return($=$.normalize()).mult(Math.asin(ee))},V.Geometry.prototype.computeNormals=function(){for(var _=0;_<this.vertices.length;_++){for(var T=new V.Vector,U=0;U<this.faces.length;U++)this.faces[U][0]!==_&&this.faces[U][1]!==_&&this.faces[U][2]!==_||(T=T.add(this._getFaceNormal(U,_)));T=T.normalize(),this.vertexNormals.push(T)}return this},V.Geometry.prototype.averageNormals=function(){for(var _=0;_<=this.detailY;_++){var T=this.detailX+1,U=V.Vector.add(this.vertexNormals[_*T],this.vertexNormals[_*T+this.detailX]);U=V.Vector.div(U,2),this.vertexNormals[_*T]=U,this.vertexNormals[_*T+this.detailX]=U}return this},V.Geometry.prototype.averagePoleNormals=function(){for(var _=new V.Vector(0,0,0),T=0;T<this.detailX;T++)_.add(this.vertexNormals[T]);for(_=V.Vector.div(_,this.detailX),T=0;T<this.detailX;T++)this.vertexNormals[T]=_;for(_=new V.Vector(0,0,0),T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)_.add(this.vertexNormals[T]);for(_=V.Vector.div(_,this.detailX),T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)this.vertexNormals[T]=_;return this},V.Geometry.prototype.normalize=function(){if(this.vertices.length>0){for(var _=this.vertices[0].copy(),T=this.vertices[0].copy(),U=0;U<this.vertices.length;U++)_.x=Math.max(_.x,this.vertices[U].x),T.x=Math.min(T.x,this.vertices[U].x),_.y=Math.max(_.y,this.vertices[U].y),T.y=Math.min(T.y,this.vertices[U].y),_.z=Math.max(_.z,this.vertices[U].z),T.z=Math.min(T.z,this.vertices[U].z);var X=V.Vector.lerp(_,T,.5),W=V.Vector.sub(_,T),Z=200/Math.max(Math.max(W.x,W.y),W.z);for(U=0;U<this.vertices.length;U++)this.vertices[U].sub(X),this.vertices[U].mult(Z)}return this},T.exports=V.Geometry},{"../core/core":42}],88:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("../math/polargeometry"),W=_("../core/constants"),Z="undefined"!=typeof Float32Array?Float32Array:Array;V.Matrix=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];return _[0]instanceof V?(this.p5=_[0],"mat3"===_[1]?this.mat3=_[2]||new Z([1,0,0,0,1,0,0,0,1]):this.mat4=_[1]||new Z([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])):"mat3"===_[0]?this.mat3=_[1]||new Z([1,0,0,0,1,0,0,0,1]):this.mat4=_[0]||new Z([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},V.Matrix.prototype.set=function(_){return _ instanceof V.Matrix?(this.mat4=_.mat4,this):_ instanceof Z?(this.mat4=_,this):this},V.Matrix.prototype.get=function(){return new V.Matrix(this.mat4)},V.Matrix.prototype.copy=function(){var _=new V.Matrix;return _.mat4[0]=this.mat4[0],_.mat4[1]=this.mat4[1],_.mat4[2]=this.mat4[2],_.mat4[3]=this.mat4[3],_.mat4[4]=this.mat4[4],_.mat4[5]=this.mat4[5],_.mat4[6]=this.mat4[6],_.mat4[7]=this.mat4[7],_.mat4[8]=this.mat4[8],_.mat4[9]=this.mat4[9],_.mat4[10]=this.mat4[10],_.mat4[11]=this.mat4[11],_.mat4[12]=this.mat4[12],_.mat4[13]=this.mat4[13],_.mat4[14]=this.mat4[14],_.mat4[15]=this.mat4[15],_},V.Matrix.identity=function(){return new V.Matrix},V.Matrix.prototype.transpose=function(_){var T,U,X,W,$,ee;return _ instanceof V.Matrix?(T=_.mat4[1],U=_.mat4[2],X=_.mat4[3],W=_.mat4[6],$=_.mat4[7],ee=_.mat4[11],this.mat4[0]=_.mat4[0],this.mat4[1]=_.mat4[4],this.mat4[2]=_.mat4[8],this.mat4[3]=_.mat4[12],this.mat4[4]=T,this.mat4[5]=_.mat4[5],this.mat4[6]=_.mat4[9],this.mat4[7]=_.mat4[13],this.mat4[8]=U,this.mat4[9]=W,this.mat4[10]=_.mat4[10],this.mat4[11]=_.mat4[14],this.mat4[12]=X,this.mat4[13]=$,this.mat4[14]=ee,this.mat4[15]=_.mat4[15]):_ instanceof Z&&(T=_[1],U=_[2],X=_[3],W=_[6],$=_[7],ee=_[11],this.mat4[0]=_[0],this.mat4[1]=_[4],this.mat4[2]=_[8],this.mat4[3]=_[12],this.mat4[4]=T,this.mat4[5]=_[5],this.mat4[6]=_[9],this.mat4[7]=_[13],this.mat4[8]=U,this.mat4[9]=W,this.mat4[10]=_[10],this.mat4[11]=_[14],this.mat4[12]=X,this.mat4[13]=$,this.mat4[14]=ee,this.mat4[15]=_[15]),this},V.Matrix.prototype.invert=function(_){var T,U,X,W,$,ee,te,re,ne,ie,oe,ae,se,he,le,ue;_ instanceof V.Matrix?(T=_.mat4[0],U=_.mat4[1],X=_.mat4[2],W=_.mat4[3],$=_.mat4[4],ee=_.mat4[5],te=_.mat4[6],re=_.mat4[7],ne=_.mat4[8],ie=_.mat4[9],oe=_.mat4[10],ae=_.mat4[11],se=_.mat4[12],he=_.mat4[13],le=_.mat4[14],ue=_.mat4[15]):_ instanceof Z&&(T=_[0],U=_[1],X=_[2],W=_[3],$=_[4],ee=_[5],te=_[6],re=_[7],ne=_[8],ie=_[9],oe=_[10],ae=_[11],se=_[12],he=_[13],le=_[14],ue=_[15]);var pe=T*ee-U*$,ce=T*te-X*$,fe=T*re-W*$,de=U*te-X*ee,me=U*re-W*ee,ge=X*re-W*te,ye=ne*he-ie*se,ve=ne*le-oe*se,xe=ne*ue-ae*se,be=ie*le-oe*he,_e=ie*ue-ae*he,we=oe*ue-ae*le,Se=pe*we-ce*_e+fe*be+de*xe-me*ve+ge*ye;return Se?(Se=1/Se,this.mat4[0]=(ee*we-te*_e+re*be)*Se,this.mat4[1]=(X*_e-U*we-W*be)*Se,this.mat4[2]=(he*ge-le*me+ue*de)*Se,this.mat4[3]=(oe*me-ie*ge-ae*de)*Se,this.mat4[4]=(te*xe-$*we-re*ve)*Se,this.mat4[5]=(T*we-X*xe+W*ve)*Se,this.mat4[6]=(le*fe-se*ge-ue*ce)*Se,this.mat4[7]=(ne*ge-oe*fe+ae*ce)*Se,this.mat4[8]=($*_e-ee*xe+re*ye)*Se,this.mat4[9]=(U*xe-T*_e-W*ye)*Se,this.mat4[10]=(se*me-he*fe+ue*pe)*Se,this.mat4[11]=(ie*fe-ne*me-ae*pe)*Se,this.mat4[12]=(ee*ve-$*be-te*ye)*Se,this.mat4[13]=(T*be-U*ve+X*ye)*Se,this.mat4[14]=(he*ce-se*de-le*pe)*Se,this.mat4[15]=(ne*de-ie*ce+oe*pe)*Se,this):null},V.Matrix.prototype.invert3x3=function(){var _=this.mat3[0],T=this.mat3[1],U=this.mat3[2],V=this.mat3[3],X=this.mat3[4],W=this.mat3[5],Z=this.mat3[6],$=this.mat3[7],ee=this.mat3[8],te=ee*X-W*$,re=-ee*V+W*Z,ne=$*V-X*Z,ie=_*te+T*re+U*ne;return ie?(ie=1/ie,this.mat3[0]=te*ie,this.mat3[1]=(-ee*T+U*$)*ie,this.mat3[2]=(W*T-U*X)*ie,this.mat3[3]=re*ie,this.mat3[4]=(ee*_-U*Z)*ie,this.mat3[5]=(-W*_+U*V)*ie,this.mat3[6]=ne*ie,this.mat3[7]=(-$*_+T*Z)*ie,this.mat3[8]=(X*_-T*V)*ie,this):null},V.Matrix.prototype.transpose3x3=function(_){var T=_[1],U=_[2],V=_[5];return this.mat3[1]=_[3],this.mat3[2]=_[6],this.mat3[3]=T,this.mat3[5]=_[7],this.mat3[6]=U,this.mat3[7]=V,this},V.Matrix.prototype.inverseTranspose=function(_){return void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=_.mat4[0],this.mat3[1]=_.mat4[1],this.mat3[2]=_.mat4[2],this.mat3[3]=_.mat4[4],this.mat3[4]=_.mat4[5],this.mat3[5]=_.mat4[6],this.mat3[6]=_.mat4[8],this.mat3[7]=_.mat4[9],this.mat3[8]=_.mat4[10]),this.invert3x3().transpose3x3(this.mat3),this},V.Matrix.prototype.determinant=function(){var _=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],T=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],U=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],V=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],X=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],W=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],Z=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],$=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],ee=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],te=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],re=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return _*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-T*re+U*te+V*ee-X*$+W*Z},V.Matrix.prototype.mult=function(_){var T=new Z(16),U=new Z(16);_ instanceof V.Matrix?U=_.mat4:_ instanceof Z&&(U=_);var X=this.mat4[0],W=this.mat4[1],$=this.mat4[2],ee=this.mat4[3];return T[0]=X*U[0]+W*U[4]+$*U[8]+ee*U[12],T[1]=X*U[1]+W*U[5]+$*U[9]+ee*U[13],T[2]=X*U[2]+W*U[6]+$*U[10]+ee*U[14],T[3]=X*U[3]+W*U[7]+$*U[11]+ee*U[15],X=this.mat4[4],W=this.mat4[5],$=this.mat4[6],ee=this.mat4[7],T[4]=X*U[0]+W*U[4]+$*U[8]+ee*U[12],T[5]=X*U[1]+W*U[5]+$*U[9]+ee*U[13],T[6]=X*U[2]+W*U[6]+$*U[10]+ee*U[14],T[7]=X*U[3]+W*U[7]+$*U[11]+ee*U[15],X=this.mat4[8],W=this.mat4[9],$=this.mat4[10],ee=this.mat4[11],T[8]=X*U[0]+W*U[4]+$*U[8]+ee*U[12],T[9]=X*U[1]+W*U[5]+$*U[9]+ee*U[13],T[10]=X*U[2]+W*U[6]+$*U[10]+ee*U[14],T[11]=X*U[3]+W*U[7]+$*U[11]+ee*U[15],X=this.mat4[12],W=this.mat4[13],$=this.mat4[14],ee=this.mat4[15],T[12]=X*U[0]+W*U[4]+$*U[8]+ee*U[12],T[13]=X*U[1]+W*U[5]+$*U[9]+ee*U[13],T[14]=X*U[2]+W*U[6]+$*U[10]+ee*U[14],T[15]=X*U[3]+W*U[7]+$*U[11]+ee*U[15],this.mat4=T,this},V.Matrix.prototype.scale=function(){for(var _,T,U,X=new Array(arguments.length),W=0;W<X.length;++W)X[W]=arguments[W];X[0]instanceof V.Vector?(_=X[0].x,T=X[0].y,U=X[0].z):X[0]instanceof Array&&(_=X[0][0],T=X[0][1],U=X[0][2]);var $=new Z(16);return $[0]=this.mat4[0]*_,$[1]=this.mat4[1]*_,$[2]=this.mat4[2]*_,$[3]=this.mat4[3]*_,$[4]=this.mat4[4]*T,$[5]=this.mat4[5]*T,$[6]=this.mat4[6]*T,$[7]=this.mat4[7]*T,$[8]=this.mat4[8]*U,$[9]=this.mat4[9]*U,$[10]=this.mat4[10]*U,$[11]=this.mat4[11]*U,$[12]=this.mat4[12],$[13]=this.mat4[13],$[14]=this.mat4[14],$[15]=this.mat4[15],this.mat4=$,this},V.Matrix.prototype.rotate=function(_,T){var U,Z,$,ee,te;this.p5?this.p5._angleMode===W.DEGREES&&(ee=X.degreesToRadians(_)):ee=_,T instanceof V.Vector?(U=T.x,Z=T.y,$=T.z):T instanceof Array&&(U=T[0],Z=T[1],$=T[2]),U*=1/(te=Math.sqrt(U*U+Z*Z+$*$)),Z*=1/te,$*=1/te;var re=this.mat4[0],ne=this.mat4[1],ie=this.mat4[2],oe=this.mat4[3],ae=this.mat4[4],se=this.mat4[5],he=this.mat4[6],le=this.mat4[7],ue=this.mat4[8],pe=this.mat4[9],ce=this.mat4[10],fe=this.mat4[11],de=Math.sin(ee),me=Math.cos(ee),ge=1-me,ye=U*U*ge+me,ve=Z*U*ge+$*de,xe=$*U*ge-Z*de,be=U*Z*ge-$*de,_e=Z*Z*ge+me,we=$*Z*ge+U*de,Se=U*$*ge+Z*de,Te=Z*$*ge-U*de,Ce=$*$*ge+me;return this.mat4[0]=re*ye+ae*ve+ue*xe,this.mat4[1]=ne*ye+se*ve+pe*xe,this.mat4[2]=ie*ye+he*ve+ce*xe,this.mat4[3]=oe*ye+le*ve+fe*xe,this.mat4[4]=re*be+ae*_e+ue*we,this.mat4[5]=ne*be+se*_e+pe*we,this.mat4[6]=ie*be+he*_e+ce*we,this.mat4[7]=oe*be+le*_e+fe*we,this.mat4[8]=re*Se+ae*Te+ue*Ce,this.mat4[9]=ne*Se+se*Te+pe*Ce,this.mat4[10]=ie*Se+he*Te+ce*Ce,this.mat4[11]=oe*Se+le*Te+fe*Ce,this},V.Matrix.prototype.translate=function(_){var T=_[0],U=_[1],V=_[2]||0;this.mat4[12]=this.mat4[0]*T+this.mat4[4]*U+this.mat4[8]*V+this.mat4[12],this.mat4[13]=this.mat4[1]*T+this.mat4[5]*U+this.mat4[9]*V+this.mat4[13],this.mat4[14]=this.mat4[2]*T+this.mat4[6]*U+this.mat4[10]*V+this.mat4[14],this.mat4[15]=this.mat4[3]*T+this.mat4[7]*U+this.mat4[11]*V+this.mat4[15]},V.Matrix.prototype.rotateX=function(_){this.rotate(_,[1,0,0])},V.Matrix.prototype.rotateY=function(_){this.rotate(_,[0,1,0])},V.Matrix.prototype.rotateZ=function(_){this.rotate(_,[0,0,1])},V.Matrix.prototype.perspective=function(_,T,U,V){var X=1/Math.tan(_/2),W=1/(U-V);return this.mat4[0]=X/T,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=X,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(V+U)*W,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*V*U*W,this.mat4[15]=0,this},V.Matrix.prototype.ortho=function(_,T,U,V,X,W){var Z=1/(_-T),$=1/(U-V),ee=1/(X-W);return this.mat4[0]=-2*Z,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*$,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*ee,this.mat4[11]=0,this.mat4[12]=(_+T)*Z,this.mat4[13]=(V+U)*$,this.mat4[14]=(W+X)*ee,this.mat4[15]=1,this},T.exports=V.Matrix},{"../core/constants":41,"../core/core":42,"../math/polargeometry":72}],89:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("../core/constants");V.RendererGL.prototype.beginShape=function(_){return this.immediateMode.shapeMode=void 0!==_?_:X.LINE_STRIP,void 0===this.immediateMode.vertexPositions?(this.immediateMode.vertexPositions=[],this.immediateMode.vertexColors=[],this.immediateMode.vertexBuffer=this.GL.createBuffer(),this.immediateMode.colorBuffer=this.GL.createBuffer()):(this.immediateMode.vertexPositions.length=0,this.immediateMode.vertexColors.length=0),this.isImmediateDrawing=!0,this},V.RendererGL.prototype.vertex=function(_,T,U){this.immediateMode.vertexPositions.push(_,T,U);var V=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.vertexColors.push(V[0],V[1],V[2],V[3]),this},V.RendererGL.prototype.endShape=function(_,T,U,V,W,Z){var $=this.GL;if(this._bindImmediateBuffers(this.immediateMode.vertexPositions,this.immediateMode.vertexColors),_)if("fill"===this.drawMode)switch(this.immediateMode.shapeMode){case X.LINE_STRIP:case X.LINES:this.immediateMode.shapeMode=X.TRIANGLE_FAN;break;case X.TRIANGLES:this.immediateMode.shapeMode=X.TRIANGLE_FAN}else switch(this.immediateMode.shapeMode){case X.LINE_STRIP:this.immediateMode.shapeMode=X.LINE_LOOP;break;case X.LINES:this.immediateMode.shapeMode=X.LINE_LOOP}if(this.immediateMode.shapeMode===X.QUADS||this.immediateMode.shapeMode===X.QUAD_STRIP)throw new Error("sorry, "+this.immediateMode.shapeMode+" not yet implemented in webgl mode.");return $.enable($.BLEND),$.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.vertexPositions.length/3),this.immediateMode.vertexPositions.length=0,this.immediateMode.vertexColors.length=0,this.isImmediateDrawing=!1,this},V.RendererGL.prototype._bindImmediateBuffers=function(_,T){this._setDefaultCamera();var U=this.GL,V=this._getCurShaderId(),X=this.mHash[V];return X.vertexPositionAttribute=U.getAttribLocation(X,"aPosition"),U.enableVertexAttribArray(X.vertexPositionAttribute),U.bindBuffer(U.ARRAY_BUFFER,this.immediateMode.vertexBuffer),U.bufferData(U.ARRAY_BUFFER,new Float32Array(_),U.DYNAMIC_DRAW),U.vertexAttribPointer(X.vertexPositionAttribute,3,U.FLOAT,!1,0,0),X.vertexColorAttribute=U.getAttribLocation(X,"aVertexColor"),U.enableVertexAttribArray(X.vertexColorAttribute),U.bindBuffer(U.ARRAY_BUFFER,this.immediateMode.colorBuffer),U.bufferData(U.ARRAY_BUFFER,new Float32Array(T),U.DYNAMIC_DRAW),U.vertexAttribPointer(X.vertexColorAttribute,4,U.FLOAT,!1,0,0),this._setMatrixUniforms(V),this},V.RendererGL.prototype._getColorVertexShader=function(){var _,T=this.GL,U="immediateVert|vertexColorFrag";return this.materialInHash(U)?_=this.mHash[U]:(_=this._initShaders("immediateVert","vertexColorFrag",!0),this.mHash[U]=_,_.vertexColorAttribute=T.getAttribLocation(_,"aVertexColor"),T.enableVertexAttribArray(_.vertexColorAttribute)),_},T.exports=V.RendererGL},{"../core/constants":41,"../core/core":42}],90:[function(_,T,U){"use strict";function d(_){return _.length>0?_.reduce((function(_,T){return _.concat(T)})):[]}function e(_){return d(_.map((function(_){return[_.x,_.y,_.z]})))}var V=_("../core/core"),X=0;V.RendererGL.prototype._initBufferDefaults=function(_){if(++X>1e3){var T=Object.keys(this.gHash)[0];delete this.gHash[T],X--}var U=this.GL;this.gHash[_]={},this.gHash[_].vertexBuffer=U.createBuffer(),this.gHash[_].normalBuffer=U.createBuffer(),this.gHash[_].uvBuffer=U.createBuffer(),this.gHash[_].indexBuffer=U.createBuffer()},V.RendererGL.prototype.createBuffers=function(_,T){var U=this.GL;this._setDefaultCamera(),this._initBufferDefaults(_);var V=this.mHash[this._getCurShaderId()];this.gHash[_].numberOfItems=3*T.faces.length,U.bindBuffer(U.ARRAY_BUFFER,this.gHash[_].vertexBuffer),U.bufferData(U.ARRAY_BUFFER,new Float32Array(e(T.vertices)),U.STATIC_DRAW),V.vertexPositionAttribute=U.getAttribLocation(V,"aPosition"),U.enableVertexAttribArray(V.vertexPositionAttribute),U.vertexAttribPointer(V.vertexPositionAttribute,3,U.FLOAT,!1,0,0),U.bindBuffer(U.ARRAY_BUFFER,this.gHash[_].normalBuffer),U.bufferData(U.ARRAY_BUFFER,new Float32Array(e(T.vertexNormals)),U.STATIC_DRAW),V.vertexNormalAttribute=U.getAttribLocation(V,"aNormal"),U.enableVertexAttribArray(V.vertexNormalAttribute),U.vertexAttribPointer(V.vertexNormalAttribute,3,U.FLOAT,!1,0,0),U.bindBuffer(U.ARRAY_BUFFER,this.gHash[_].uvBuffer),U.bufferData(U.ARRAY_BUFFER,new Float32Array(d(T.uvs)),U.STATIC_DRAW),V.textureCoordAttribute=U.getAttribLocation(V,"aTexCoord"),U.enableVertexAttribArray(V.textureCoordAttribute),U.vertexAttribPointer(V.textureCoordAttribute,2,U.FLOAT,!1,0,0),U.bindBuffer(U.ELEMENT_ARRAY_BUFFER,this.gHash[_].indexBuffer),U.bufferData(U.ELEMENT_ARRAY_BUFFER,new Uint16Array(d(T.faces)),U.STATIC_DRAW)},V.RendererGL.prototype.drawBuffers=function(_){this._setDefaultCamera();var T=this.GL,U=this._getCurShaderId(),V=this.mHash[U];return T.bindBuffer(T.ARRAY_BUFFER,this.gHash[_].vertexBuffer),T.vertexAttribPointer(V.vertexPositionAttribute,3,T.FLOAT,!1,0,0),T.bindBuffer(T.ARRAY_BUFFER,this.gHash[_].normalBuffer),T.vertexAttribPointer(V.vertexNormalAttribute,3,T.FLOAT,!1,0,0),T.bindBuffer(T.ARRAY_BUFFER,this.gHash[_].uvBuffer),T.vertexAttribPointer(V.textureCoordAttribute,2,T.FLOAT,!1,0,0),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,this.gHash[_].indexBuffer),this._setMatrixUniforms(U),T.drawElements(T.TRIANGLES,this.gHash[_].numberOfItems,T.UNSIGNED_SHORT,0),this},T.exports=V.RendererGL},{"../core/core":42}],91:[function(_,T,U){"use strict";var V=_("../core/core"),X=_("./shader");_("../core/p5.Renderer"),_("./p5.Matrix");var W=[],Z={alpha:!0,depth:!0,stencil:!0,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1};V.RendererGL=function(_,T,U){return V.Renderer.call(this,_,T,U),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this.ambientLightCount=0,this.directionalLightCount=0,this.pointLightCount=0,this._curCamera=null,this.uMVMatrix=new V.Matrix,this.uPMatrix=new V.Matrix,this.uNMatrix=new V.Matrix("mat3"),this.gHash={},this.mHash={},this.isImmediateDrawing=!1,this.immediateMode={},this.curFillColor=[.5,.5,.5,1],this.curStrokeColor=[.5,.5,.5,1],this.pointSize=5,this},V.RendererGL.prototype=Object.create(V.Renderer.prototype),V.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",Z)||this.canvas.getContext("experimental-webgl",Z),null===this.drawingContext)throw new Error("Error creating webgl context");console.log("p5.RendererGL: enabled webgl context");var _=this.drawingContext;_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL),_.viewport(0,0,_.drawingBufferWidth,_.drawingBufferHeight)}catch(_){throw new Error(_)}},V.RendererGL.prototype._setDefaultCamera=function(){if(null===this._curCamera){var _=this.width,T=this.height;this.uPMatrix=V.Matrix.identity();var U=this.height/2/Math.tan(30*Math.PI/180);this.uPMatrix.perspective(60/180*Math.PI,_/T,.1*U,10*U),this._curCamera="default"}},V.RendererGL.prototype._update=function(){this.uMVMatrix=V.Matrix.identity(),this.translate(0,0,-this.height/2/Math.tan(30*Math.PI/180)),this.ambientLightCount=0,this.directionalLightCount=0,this.pointLightCount=0},V.RendererGL.prototype.background=function(){var _=this.GL,T=this._pInst.color.apply(this._pInst,arguments),U=T.levels[0]/255,V=T.levels[1]/255,X=T.levels[2]/255,W=T.levels[3]/255;_.clearColor(U,V,X,W),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT)},V.RendererGL.prototype._initShaders=function(_,T,U){var V=this.GL,W=V.createShader(V.VERTEX_SHADER);if(V.shaderSource(W,X[_]),V.compileShader(W),!V.getShaderParameter(W,V.COMPILE_STATUS))return alert("Yikes! An error occurred compiling the shaders:"+V.getShaderInfoLog(W)),null;var Z=V.createShader(V.FRAGMENT_SHADER);if(V.shaderSource(Z,X[T]),V.compileShader(Z),!V.getShaderParameter(Z,V.COMPILE_STATUS))return alert("Darn! An error occurred compiling the shaders:"+V.getShaderInfoLog(Z)),null;var $=V.createProgram();return V.attachShader($,W),V.attachShader($,Z),V.linkProgram($),V.getProgramParameter($,V.LINK_STATUS)||alert("Snap! Error linking shader program"),this._getLocation($,U),$},V.RendererGL.prototype._getLocation=function(_,T){var U=this.GL;U.useProgram(_),_.uPMatrixUniform=U.getUniformLocation(_,"uProjectionMatrix"),_.uMVMatrixUniform=U.getUniformLocation(_,"uModelViewMatrix"),void 0===T&&(_.uNMatrixUniform=U.getUniformLocation(_,"uNormalMatrix"),_.samplerUniform=U.getUniformLocation(_,"uSampler"))},V.RendererGL.prototype._setUniform1f=function(_,T,U){var V=this.GL,X=this.mHash[_];return V.useProgram(X),X[T]=V.getUniformLocation(X,T),V.uniform1f(X[T],U),this},V.RendererGL.prototype._setMatrixUniforms=function(_){var T=this.GL,U=this.mHash[_];T.useProgram(U),T.uniformMatrix4fv(U.uPMatrixUniform,!1,this.uPMatrix.mat4),T.uniformMatrix4fv(U.uMVMatrixUniform,!1,this.uMVMatrix.mat4),this.uNMatrix.inverseTranspose(this.uMVMatrix),T.uniformMatrix3fv(U.uNMatrixUniform,!1,this.uNMatrix.mat3)},V.RendererGL.prototype._getShader=function(_,T,U){var V=_+"|"+T;if(!this.materialInHash(V)){var X=this._initShaders(_,T,U);this.mHash[V]=X}return this.curShaderId=V,this.mHash[this.curShaderId]},V.RendererGL.prototype._getCurShaderId=function(){var _,T;return"fill"!==this.drawMode&&void 0===this.curShaderId?(_="normalVert|normalFrag",T=this._initShaders("normalVert","normalFrag"),this.mHash[_]=T,this.curShaderId=_):this.isImmediateDrawing&&"fill"===this.drawMode&&(_="immediateVert|vertexColorFrag",T=this._initShaders("immediateVert","vertexColorFrag"),this.mHash[_]=T,this.curShaderId=_),this.curShaderId},V.RendererGL.prototype.fill=function(_,T,U,V){var X,W=this.GL,Z=this._applyColorBlend.apply(this,arguments);return this.curFillColor=Z,this.drawMode="fill",this.isImmediateDrawing?(X=this._getShader("immediateVert","vertexColorFrag"),W.useProgram(X)):(X=this._getShader("normalVert","basicFrag"),W.useProgram(X),X.uMaterialColor=W.getUniformLocation(X,"uMaterialColor"),W.uniform4f(X.uMaterialColor,Z[0],Z[1],Z[2],Z[3])),this},V.RendererGL.prototype.stroke=function(_,T,U,V){var X=this._pInst.color.apply(this._pInst,arguments),W=X._array;return this.curStrokeColor=W,this.drawMode="stroke",this},V.RendererGL.prototype._strokeCheck=function(){if("stroke"===this.drawMode)throw new Error("stroke for shapes in 3D not yet implemented, use fill for now :(")},V.RendererGL.prototype.strokeWeight=function(_){return this.pointSize=_,this},V.RendererGL.prototype.geometryInHash=function(_){return void 0!==this.gHash[_]},V.RendererGL.prototype.materialInHash=function(_){return void 0!==this.mHash[_]},V.RendererGL.prototype.resize=function(_,T){var U=this.GL;V.Renderer.prototype.resize.call(this,_,T),U.viewport(0,0,U.drawingBufferWidth,U.drawingBufferHeight),"default"===this._curCamera&&(this._curCamera=null,this._setDefaultCamera())},V.RendererGL.prototype.clear=function(){var _=this.GL;_.clearColor(arguments[0],arguments[1],arguments[2],arguments[3]),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT)},V.RendererGL.prototype.translate=function(_,T,U){return this.uMVMatrix.translate([_,-T,U]),this},V.RendererGL.prototype.scale=function(_,T,U){return this.uMVMatrix.scale([_,T,U]),this},V.RendererGL.prototype.rotate=function(_,T){return this.uMVMatrix.rotate(_,T),this},V.RendererGL.prototype.rotateX=function(_){return this.rotate(_,[1,0,0]),this},V.RendererGL.prototype.rotateY=function(_){return this.rotate(_,[0,1,0]),this},V.RendererGL.prototype.rotateZ=function(_){return this.rotate(_,[0,0,1]),this},V.RendererGL.prototype.push=function(){W.push(this.uMVMatrix.copy())},V.RendererGL.prototype.pop=function(){if(0===W.length)throw new Error("Invalid popMatrix!");this.uMVMatrix=W.pop()},V.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=V.Matrix.identity(),this.translate(0,0,-800),this},V.RendererGL.prototype._applyTextProperties=function(){console.error("text commands not yet implemented in webgl")},T.exports=V.RendererGL},{"../core/core":42,"../core/p5.Renderer":48,"./p5.Matrix":88,"./shader":93}],92:[function(_,T,U){"use strict";var V=_("../core/core");_("./p5.Geometry"),V.prototype.plane=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];var U=_[0]||50,X=_[1]||U,W="number"==typeof _[2]?_[2]:1,Z="number"==typeof _[3]?_[3]:1,$="plane|"+U+"|"+X+"|"+W+"|"+Z;if(!this._renderer.geometryInHash($)){var i=function(){for(var _,T,W,Z=0;Z<=this.detailY;Z++){T=Z/this.detailY;for(var $=0;$<=this.detailX;$++)_=$/this.detailX,W=new V.Vector(U*_-U/2,X*T-X/2,0),this.vertices.push(W),this.uvs.push([_,T])}},ee=new V.Geometry(W,Z,i);ee.computeFaces().computeNormals(),this._renderer.createBuffers($,ee)}this._renderer.drawBuffers($)},V.prototype.box=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];var U=_[0]||50,X=_[1]||U,W=_[2]||U,Z="number"==typeof _[3]?_[3]:4,$="number"==typeof _[4]?_[4]:4,ee="box|"+U+"|"+X+"|"+W+"|"+Z+"|"+$;if(!this._renderer.geometryInHash(ee)){var j=function(){for(var _=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]],T=0;T<_.length;T++){for(var Z=_[T],$=4*T,ee=0;ee<4;ee++){var te=Z[ee],re=new V.Vector((2*(1&te)-1)*U/2,((2&te)-1)*X/2,((4&te)/2-1)*W/2);this.vertices.push(re),this.uvs.push([1&ee,(2&ee)/2])}this.faces.push([$,$+1,$+2]),this.faces.push([$+2,$+1,$+3])}},te=new V.Geometry(Z,$,j);te.computeNormals(),this._renderer.createBuffers(ee,te)}return this._renderer.drawBuffers(ee),this},V.prototype.sphere=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];var U=_[0]||50,X="number"==typeof _[1]?_[1]:24,W="number"==typeof _[2]?_[2]:16,Z="sphere|"+U+"|"+X+"|"+W;if(!this._renderer.geometryInHash(Z)){var h=function(){for(var _,T,X,W=0;W<=this.detailY;W++){T=W/this.detailY;for(var Z=0;Z<=this.detailX;Z++){_=Z/this.detailX;var $=2*Math.PI*_,ee=Math.PI*T-Math.PI/2;X=new V.Vector(U*Math.cos(ee)*Math.sin($),U*Math.sin(ee),U*Math.cos(ee)*Math.cos($)),this.vertices.push(X),this.uvs.push([_,T])}}},$=new V.Geometry(X,W,h);$.computeFaces().computeNormals().averageNormals().averagePoleNormals(),this._renderer.createBuffers(Z,$)}return this._renderer.drawBuffers(Z),this};var e=function(_,T,U,X,W,Z,$){W=W<1?1:W;var ee,te,re=((Z=void 0===Z||Z)?2:0)+(($=void 0===$||$)?2:0),ne=(X=X<3?3:X)+1,ie=Math.atan2(_-T,U),oe=W+($?2:0);for(ee=Z?-2:0;ee<=oe;++ee){var ae,se=ee/W,he=U*se;for(ee<0?(he=0,se=1,ae=_):ee>W?(he=U,se=1,ae=T):ae=_+ee/W*(T-_),-2!==ee&&ee!==W+2||(ae=0,se=0),he-=U/2,te=0;te<ne;++te)this.vertices.push(new V.Vector(Math.sin(te*Math.PI*2/X)*ae,he,Math.cos(te*Math.PI*2/X)*ae)),this.vertexNormals.push(new V.Vector(ee<0||ee>W?0:Math.sin(te*Math.PI*2/X)*Math.cos(ie),ee<0?-1:ee>W?1:Math.sin(ie),ee<0||ee>W?0:Math.cos(te*Math.PI*2/X)*Math.cos(ie))),this.uvs.push([te/X,se])}for(ee=0;ee<W+re;++ee)for(te=0;te<X;++te)this.faces.push([ne*(ee+0)+0+te,ne*(ee+0)+1+te,ne*(ee+1)+1+te]),this.faces.push([ne*(ee+0)+0+te,ne*(ee+1)+1+te,ne*(ee+1)+0+te])};V.prototype.cylinder=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];var U=_[0]||50,X=_[1]||U,W="number"==typeof _[2]?_[2]:24,Z="number"==typeof _[3]?_[3]:16,$="cylinder|"+U+"|"+X+"|"+W+"|"+Z;if(!this._renderer.geometryInHash($)){var ee=new V.Geometry(W,Z);e.call(ee,U,U,X,W,Z,!0,!0),ee.computeNormals(),this._renderer.createBuffers($,ee)}return this._renderer.drawBuffers($),this},V.prototype.cone=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];var U=_[0]||50,X=_[1]||U,W="number"==typeof _[2]?_[2]:24,Z="number"==typeof _[3]?_[3]:16,$="cone|"+U+"|"+X+"|"+W+"|"+Z;if(!this._renderer.geometryInHash($)){var ee=new V.Geometry(W,Z);e.call(ee,U,0,X,W,Z,!0,!0),ee.computeNormals(),this._renderer.createBuffers($,ee)}return this._renderer.drawBuffers($),this},V.prototype.ellipsoid=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];var U="number"==typeof _[3]?_[3]:24,X="number"==typeof _[4]?_[4]:24,W=_[0]||50,Z=_[1]||W,$=_[2]||W,ee="ellipsoid|"+W+"|"+Z+"|"+$+"|"+U+"|"+X;if(!this._renderer.geometryInHash(ee)){var j=function(){for(var _,T,U,X=0;X<=this.detailY;X++){T=X/this.detailY;for(var ee=0;ee<=this.detailX;ee++){_=ee/this.detailX;var te=2*Math.PI*_,re=Math.PI*T-Math.PI/2;U=new V.Vector(W*Math.cos(re)*Math.sin(te),Z*Math.sin(re),$*Math.cos(re)*Math.cos(te)),this.vertices.push(U),this.uvs.push([_,T])}}},te=new V.Geometry(U,X,j);te.computeFaces().computeNormals(),this._renderer.createBuffers(ee,te)}return this._renderer.drawBuffers(ee),this},V.prototype.torus=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];var U="number"==typeof _[2]?_[2]:24,X="number"==typeof _[3]?_[3]:16,W=_[0]||50,Z=_[1]||10,$="torus|"+W+"|"+Z+"|"+U+"|"+X;if(!this._renderer.geometryInHash($)){var i=function(){for(var _,T,U,X=0;X<=this.detailY;X++){T=X/this.detailY;for(var $=0;$<=this.detailX;$++){_=$/this.detailX;var ee=2*Math.PI*_,te=2*Math.PI*T;U=new V.Vector((W+Z*Math.cos(te))*Math.cos(ee),(W+Z*Math.cos(te))*Math.sin(ee),Z*Math.sin(te)),this.vertices.push(U),this.uvs.push([_,T])}}},ee=new V.Geometry(U,X,i);ee.computeFaces().computeNormals().averageNormals(),this._renderer.createBuffers($,ee)}return this._renderer.drawBuffers($),this},V.RendererGL.prototype.point=function(_,T,U){return console.log("point not yet implemented in webgl"),this},V.RendererGL.prototype.triangle=function(_){var T=_[0],U=_[1],X=_[2],W=_[3],Z=_[4],$=_[5],ee="tri|"+T+"|"+U+"|"+X+"|"+W+"|"+Z+"|"+$;if(!this.geometryInHash(ee)){var te=new V.Geometry(1,1,(function(){var _=[];_.push(new V.Vector(T,U,0)),_.push(new V.Vector(X,W,0)),_.push(new V.Vector(Z,$,0)),this.vertices=_,this.faces=[[0,1,2]],this.uvs=[[0,0],[0,1],[1,1]]}));te.computeNormals(),this.createBuffers(ee,te)}return this.drawBuffers(ee),this},V.RendererGL.prototype.ellipse=function(_){var T=_[0],U=_[1],X=_[2],W=_[3],Z=_[4]||24,$=_[5]||16,ee="ellipse|"+_[0]+"|"+_[1]+"|"+_[2]+"|"+_[3];if(!this.geometryInHash(ee)){var te=new V.Geometry(Z,$,(function(){for(var _,Z,$,ee=T+.5*X,te=U+.5*W,re=0;re<=this.detailY;re++){Z=re/this.detailY;for(var ne=0;ne<=this.detailX;ne++){_=ne/this.detailX;var ie=2*Math.PI*_;if(0===Z)$=new V.Vector(ee,te,0);else{var oe=ee+.5*X*Math.cos(ie),ae=te+.5*W*Math.sin(ie);$=new V.Vector(oe,ae,0)}this.vertices.push($),this.uvs.push([_,Z])}}}));te.computeFaces().computeNormals(),this.createBuffers(ee,te)}return this.drawBuffers(ee),this},V.RendererGL.prototype.rect=function(_){var T="rect|"+_[0]+"|"+_[1]+"|"+_[2]+"|"+_[3],U=_[0],X=_[1],W=_[2],Z=_[3],$=_[4]||24,ee=_[5]||16;if(!this.geometryInHash(T)){var te=new V.Geometry($,ee,(function(){for(var _,T,$,ee=0;ee<=this.detailY;ee++){T=ee/this.detailY;for(var te=0;te<=this.detailX;te++)_=te/this.detailX,$=new V.Vector(U+W*_,X+Z*T,0),this.vertices.push($),this.uvs.push([_,T])}}));te.computeFaces().computeNormals(),this.createBuffers(T,te)}return this.drawBuffers(T),this},V.RendererGL.prototype.quad=function(){for(var _=new Array(arguments.length),T=0;T<_.length;++T)_[T]=arguments[T];var U=_[0],X=_[1],W=_[2],Z=_[3],$=_[4],ee=_[5],te=_[6],re=_[7],ne="quad|"+U+"|"+X+"|"+W+"|"+Z+"|"+$+"|"+ee+"|"+te+"|"+re;if(!this.geometryInHash(ne)){var m=function(){this.vertices.push(new V.Vector(U,X,0)),this.vertices.push(new V.Vector(W,Z,0)),this.vertices.push(new V.Vector($,ee,0)),this.vertices.push(new V.Vector(te,re,0)),this.uvs.push([0,0],[1,0],[1,1],[0,1])},ie=new V.Geometry(2,2,m);ie.computeNormals(),ie.faces=[[0,1,2],[2,3,0]],this.createBuffers(ne,ie)}return this.drawBuffers(ne),this},V.RendererGL.prototype.bezier=function(_){var T=_[12]||20;this.beginShape();for(var U=[0,0,0,0],V=[0,0,0],X=0;X<=T;X++)U[0]=Math.pow(1-X/T,3),U[1]=X/T*3*Math.pow(1-X/T,2),U[2]=3*Math.pow(X/T,2)*(1-X/T),U[3]=Math.pow(X/T,3),V[0]=_[0]*U[0]+_[3]*U[1]+_[6]*U[2]+_[9]*U[3],V[1]=_[1]*U[0]+_[4]*U[1]+_[7]*U[2]+_[10]*U[3],V[2]=_[2]*U[0]+_[5]*U[1]+_[8]*U[2]+_[11]*U[3],this.vertex(V[0],V[1],V[2]);return this.endShape(),this},V.RendererGL.prototype.curve=function(_){var T=_[12];this.beginShape();for(var U=[0,0,0,0],V=[0,0,0],X=0;X<=T;X++)U[0]=.5*Math.pow(X/T,3),U[1]=.5*Math.pow(X/T,2),U[2]=X/T*.5,U[3]=.5,V[0]=U[0]*(-_[0]+3*_[3]-3*_[6]+_[9])+U[1]*(2*_[0]-5*_[3]+4*_[6]-_[9])+U[2]*(-_[0]+_[6])+U[3]*(2*_[3]),V[1]=U[0]*(-_[1]+3*_[4]-3*_[7]+_[10])+U[1]*(2*_[1]-5*_[4]+4*_[7]-_[10])+U[2]*(-_[1]+_[7])+U[3]*(2*_[4]),V[2]=U[0]*(-_[2]+3*_[5]-3*_[8]+_[11])+U[1]*(2*_[2]-5*_[5]+4*_[8]-_[11])+U[2]*(-_[2]+_[8])+U[3]*(2*_[5]),this.vertex(V[0],V[1],V[2]);return this.endShape(),this},T.exports=V},{"../core/core":42,"./p5.Geometry":87}],93:[function(_,T,U){T.exports={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition * vec3(1.0, -1.0, 1.0), 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition * vec3(1.0, -1.0, 1.0), 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition * vec3(1.0, -1.0, 1.0), 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = vec3( uNormalMatrix * aNormal );\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\nuniform int uDirectionalLightCount;\nuniform int uPointLightCount;\n\nuniform vec3 uAmbientColor[8];\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\nuniform bool uSpecular;\n\nvarying vec3 vVertexNormal;\nvarying vec2 vVertTexCoord;\nvarying vec3 vLightWeighting;\n\nvec3 ambientLightFactor = vec3(0.0, 0.0, 0.0);\nvec3 directionalLightFactor = vec3(0.0, 0.0, 0.0);\nvec3 pointLightFactor = vec3(0.0, 0.0, 0.0);\nvec3 pointLightFactor2 = vec3(0.0, 0.0, 0.0);\n\nvoid main(void){\n\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\n  vec3 vertexNormal = vec3( uNormalMatrix * aNormal );\n  vVertexNormal = vertexNormal;\n  vVertTexCoord = aTexCoord;\n\n  vec4 mvPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  vec3 eyeDirection = normalize(-mvPosition.xyz);\n\n  float shininess = 32.0;\n  float specularFactor = 2.0;\n  float diffuseFactor = 0.3;\n\n  for(int i = 0; i < 8; i++){\n    if(uAmbientLightCount == i) break;\n    ambientLightFactor += uAmbientColor[i];\n  }\n\n  for(int j = 0; j < 8; j++){\n    if(uDirectionalLightCount == j) break;\n    vec3 dir = uLightingDirection[j];\n    float directionalLightWeighting = max(dot(vertexNormal, dir), 0.0);\n    directionalLightFactor += uDirectionalColor[j] * directionalLightWeighting;\n  }\n\n  for(int k = 0; k < 8; k++){\n    if(uPointLightCount == k) break;\n    vec3 loc = uPointLightLocation[k];\n    vec3 lightDirection = normalize(loc - mvPosition.xyz);\n\n    float directionalLightWeighting = max(dot(vertexNormal, lightDirection), 0.0);\n    pointLightFactor += uPointLightColor[k] * directionalLightWeighting;\n\n    //factor2 for specular\n    vec3 reflectionDirection = reflect(-lightDirection, vertexNormal);\n    float specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n\n    pointLightFactor2 += uPointLightColor[k] * (specularFactor * specularLightWeighting\n      +  directionalLightWeighting * diffuseFactor);\n  }\n\n  if(!uSpecular){\n    vLightWeighting =  ambientLightFactor + directionalLightFactor + pointLightFactor;\n  }else{\n    vLightWeighting = ambientLightFactor + directionalLightFactor + pointLightFactor2;\n  }\n\n}\n",lightTextureFrag:"precision mediump float;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nvarying vec3 vLightWeighting;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  if(!isTexture){\n    gl_FragColor = vec4(vec3(uMaterialColor.rgb * vLightWeighting), uMaterialColor.a);\n  }else{\n    vec4 textureColor = texture2D(uSampler, vVertTexCoord);\n    if(vLightWeighting == vec3(0., 0., 0.)){\n      gl_FragColor = textureColor;\n    }else{\n      gl_FragColor = vec4(vec3(textureColor.rgb * vLightWeighting), textureColor.a);\n    }\n  }\n}"}},{}]},{},[33])(33)}));