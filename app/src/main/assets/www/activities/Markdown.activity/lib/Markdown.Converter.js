var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function identity(e){return e}function returnFalse(e){return!1}function HookCollection(){}function SaveHash(){}HookCollection.prototype={chain:function(e,n){var r=this[e];if(!r)throw new Error("unknown hook "+e);this[e]=r===identity?n:function(e){var t=Array.prototype.slice.call(arguments,0);return t[0]=r.apply(null,t),n.apply(null,t)}},set:function(e,n){if(!this[e])throw new Error("unknown hook "+e);this[e]=n},addNoop:function(e){this[e]=identity},addFalse:function(e){this[e]=returnFalse}},Markdown.HookCollection=HookCollection,SaveHash.prototype={set:function(e,n){this["s_"+e]=n},get:function(e){return this["s_"+e]}},Markdown.Converter=function(){var e,n,r,t,a=this.hooks=new HookCollection;function _HashHTMLBlocks(e){return e=(e=(e=(e=(e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,hashElement)).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,hashElement)).replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,hashElement)).replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,hashElement)).replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,hashElement)}function hashElement(e,n){var t=n;return t=(t=t.replace(/^\n+/,"")).replace(/\n+$/g,""),t="\n\n~K"+(r.push(t)-1)+"K\n\n"}a.addNoop("plainLinkText"),a.addNoop("preConversion"),a.addNoop("postNormalization"),a.addNoop("preBlockGamut"),a.addNoop("postBlockGamut"),a.addNoop("preSpanGamut"),a.addNoop("postSpanGamut"),a.addNoop("postConversion"),this.makeHtml=function(c){if(e)throw new Error("Recursive call to converter.makeHtml");return e=new SaveHash,n=new SaveHash,r=[],t=0,c=(c=_Detab(c="\n\n"+(c=(c=(c=(c=(c=a.preConversion(c)).replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"))+"\n\n")).replace(/^[ \t]+$/gm,""),c=(c=(c=function _UnescapeSpecialChars(e){return e=e.replace(/~E(\d+)E/g,(function(e,n){var r=parseInt(n);return String.fromCharCode(r)}))}(c=_RunBlockGamut(c=function _StripLinkDefinitions(r){return r=r.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,(function(r,t,a,c,o,l){return t=t.toLowerCase(),e.set(t,_EncodeAmpsAndAngles(a)),o?c:(l&&n.set(t,l.replace(/"/g,"&quot;")),"")}))}(c=_HashHTMLBlocks(c=a.postNormalization(c)))))).replace(/~D/g,"$$")).replace(/~T/g,"~"),c=a.postConversion(c),r=n=e=null,c};var blockGamutHookCallback=function(e){return _RunBlockGamut(e)};function _RunBlockGamut(e,n){return e=function _DoBlockQuotes(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,(function(e,n){var t=n;return function hashBlock(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(r.push(e)-1)+"K\n\n"}("<blockquote>\n"+(t=(t=(t=_RunBlockGamut(t=(t=(t=t.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""))).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,n){var r=n;return r=(r=r.replace(/^  /gm,"~0")).replace(/~0/g,"")})))+"\n</blockquote>")}))}(e=function _DoCodeBlocks(e){return e=(e=(e+="~0").replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,(function(e,n,r){var t=n,a=r;return"\n\n"+(t="<pre><code>"+(t=(t=(t=_Detab(t=_EncodeCode(_Outdent(t)))).replace(/^\n+/g,"")).replace(/\n+$/g,""))+"\n</code></pre>")+"\n\n"+a}))).replace(/~0/,"")}(e=_DoLists(e=(e=(e=(e=function _DoHeaders(e){return e=(e=(e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,(function(e,n){return"<h1>"+_RunSpanGamut(n)+"</h1>\n\n"}))).replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,(function(e,n){return"<h2>"+_RunSpanGamut(n)+"</h2>\n\n"}))).replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,(function(e,n,r){var t=n.length;return"<h"+t+">"+_RunSpanGamut(r)+"</h"+t+">\n\n"}))}(e=a.preBlockGamut(e,blockGamutHookCallback))).replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,"<hr />\n")).replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,"<hr />\n")).replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,"<hr />\n")))),e=function _FormParagraphs(e,n){for(var t=(e=(e=e.replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),a=[],c=/~K(\d+)K/,o=t.length,l=0;l<o;l++){var u=t[l];c.test(u)?a.push(u):/\S/.test(u)&&(u=(u=_RunSpanGamut(u)).replace(/^([ \t]*)/g,"<p>"),u+="</p>",a.push(u))}if(!n){o=a.length;for(l=0;l<o;l++)for(var p=!0;p;)p=!1,a[l]=a[l].replace(/~K(\d+)K/g,(function(e,n){return p=!0,r[n]}))}return a.join("\n\n")}(e=_HashHTMLBlocks(e=a.postBlockGamut(e,blockGamutHookCallback)),n)}function _RunSpanGamut(e){return e=(e=function _DoItalicsAndBold(e){return e=(e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4")).replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}(e=_EncodeAmpsAndAngles(e=(e=function _DoAutoLinks(e){e=e.replace(o,handleTrailingParens);return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,(function(e,n){return'<a href="'+n+'">'+a.plainLinkText(n)+"</a>"}))}(e=function _DoAnchors(e){return e=(e=(e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,writeAnchorTag)).replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,writeAnchorTag)).replace(/(\[([^\[\]]+)\])()()()()()/g,writeAnchorTag)}(e=function _DoImages(e){return e=(e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,writeImageTag)).replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,writeImageTag)}(e=function _EncodeBackslashEscapes(e){return e=(e=e.replace(/\\(\\)/g,escapeCharacters_callback)).replace(/\\([`*_{}\[\]()>#+-.!])/g,escapeCharacters_callback)}(e=function _EscapeSpecialCharsWithinTagAttributes(e){return e=e.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi,(function(e){var n=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return n=escapeCharacters(n,"!"==e.charAt(1)?"\\`*_/":"\\`*_")}))}(e=function _DoCodeSpans(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,n,r,t,a){var c=t;return n+"<code>"+(c=(c=_EncodeCode(c=(c=c.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""))).replace(/:\/\//g,"~P"))+"</code>"}))}(e=a.preSpanGamut(e)))))))).replace(/~P/g,"://")))).replace(/  +\n/g," <br>\n"),e=a.postSpanGamut(e)}function writeAnchorTag(r,t,a,c,o,l,p,i){null==i&&(i="");var s=t,g=a.replace(/:\/\//g,"~P"),h=c.toLowerCase(),f=o,d=i;if(""==f)if(""==h&&(h=g.toLowerCase().replace(/ ?\n/g," ")),f="#"+h,null!=e.get(h))f=e.get(h),null!=n.get(h)&&(d=n.get(h));else{if(!(s.search(/\(\s*\)$/m)>-1))return s;f=""}var m='<a target="_blank" href="'+(f=escapeCharacters(f=function encodeProblemUrlChars(e){if(!e)return"";var n=e.length;return e.replace(u,(function(r,t){return"~D"==r?"%24":":"!=r||t!=n-1&&!/[0-9\/]/.test(e.charAt(t+1))?"%"+r.charCodeAt(0).toString(16):":"}))}(f),"*_"))+'"';return""!=d&&(m+=' title="'+(d=escapeCharacters(d=attributeEncode(d),"*_"))+'"'),m+=">"+g+"</a>"}function attributeEncode(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function writeImageTag(r,t,a,c,o,l,u,p){var i=t,s=a,g=c.toLowerCase(),h=o,f=p;if(f||(f=""),""==h){if(""==g&&(g=s.toLowerCase().replace(/ ?\n/g," ")),h="#"+g,null==e.get(g))return i;h=e.get(g),null!=n.get(g)&&(f=n.get(g))}s=escapeCharacters(attributeEncode(s),"*_[]()");var d='<img src="'+(h=escapeCharacters(h,"*_"))+'" alt="'+s+'"';return d+=' title="'+(f=escapeCharacters(f=attributeEncode(f),"*_"))+'"',d+=" />"}function _DoLists(e,n){e+="~0";var r=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return t?e=e.replace(r,(function(e,r,t){var a=r,c=t.search(/[*+-]/g)>-1?"ul":"ol",o=_ProcessListItems(a,c,n);return o="<"+c+">"+(o=o.replace(/\s+$/,""))+"</"+c+">\n"})):(r=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(r,(function(e,n,r,t){var a=n,c=r,o=t.search(/[*+-]/g)>-1?"ul":"ol",l=_ProcessListItems(c,o);return l=a+"<"+o+">\n"+l+"</"+o+">\n"}))),e=e.replace(/~0/,"")}var c={ol:"\\d+[.]",ul:"[*+-]"};function _ProcessListItems(e,n,r){t++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var a=c[n],o=new RegExp("(^[ \\t]*)("+a+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+a+")[ \\t]+))","gm"),l=!1;return e=(e=e.replace(o,(function(e,n,t,a){var c=a,o=/\n\n$/.test(c);return o||c.search(/\n{2,}/)>-1||l?c=_RunBlockGamut(_Outdent(c),!0):(c=(c=_DoLists(_Outdent(c),!0)).replace(/\n$/,""),r||(c=_RunSpanGamut(c))),l=o,"<li>"+c+"</li>\n"}))).replace(/~0/g,""),t--,e}function _EncodeCode(e){return e=escapeCharacters(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),"*_{}[]\\",!1)}function _EncodeAmpsAndAngles(e){return e=(e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}var o=new RegExp('(="|<)?\\b(https?|ftp)(://[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]*[-A-Z0-9+&@#/%=~_|[\\])])(?=$|\\W)',"gi"),l=new RegExp("[-A-Z0-9+&@#/%=~_|[\\])]","i");function handleTrailingParens(e,n,r,t){if(n)return e;if(")"!==t.charAt(t.length-1))return"<"+r+t+">";for(var a=t.match(/[()]/g),c=0,o=0;o<a.length;o++)"("===a[o]?c<=0?c=1:c++:c--;var u="";if(c<0){var p=new RegExp("\\){1,"+-c+"}$");t=t.replace(p,(function(e){return u=e,""}))}if(u){var i=t.charAt(t.length-1);l.test(i)||(u=i+u,t=t.substr(0,t.length-1))}return"<"+r+t+">"+u}function _Outdent(e){return e=(e=e.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")}function _Detab(e){if(!/\t/.test(e))return e;var n,r=["    ","   ","  "," "],t=0;return e.replace(/[\n\t]/g,(function(e,a){return"\n"===e?(t=a+1,e):(n=(a-t)%4,t=a+1,r[n])}))}var u=/(?:["'*()[\]:]|~D)/g;function escapeCharacters(e,n,r){var t="(["+n.replace(/([\[\]\\])/g,"\\$1")+"])";r&&(t="\\\\"+t);var a=new RegExp(t,"g");return e=e.replace(a,escapeCharacters_callback)}function escapeCharacters_callback(e,n){return"~E"+n.charCodeAt(0)+"E"}}}();