/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,a=e.webkitRequestFileSystem,c=e.requestFileSystem||a||e.mozRequestFileSystem,u=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},f="application/octet-stream",s=0,l=function(t){var o=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,500)},v=function(e,t,r){for(var i=(t=[].concat(t)).length;i--;){var a=e["on"+t[i]];if("function"==typeof a)try{a.call(e,r||e)}catch(e){u(e)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},w=function(t,d,y){y||(t=p(t));var m,S,h,O=this,E=t.type,N=!1,R=function(){v(O,"writestart progress write writeend".split(" "))},b=function(){((N||!m)&&(m=n().createObjectURL(t)),S)?S.location.href=m:null==e.open(m,"_blank")&&"undefined"!=typeof safari&&(e.location.href=m);O.readyState=O.DONE,R(),l(m)},g=function(e){return function(){return O.readyState!==O.DONE?e.apply(this,arguments):void 0}},I={create:!0,exclusive:!1};return O.readyState=O.INIT,d||(d="download"),i?(m=n().createObjectURL(t),r.href=m,r.download=d,void setTimeout((function(){(function(e){var t=new MouseEvent("click");e.dispatchEvent(t)})(r),R(),l(m),O.readyState=O.DONE}))):(e.chrome&&E&&E!==f&&(h=t.slice||t.webkitSlice,t=h.call(t,0,t.size,f),N=!0),a&&"download"!==d&&(d+=".download"),(E===f||a)&&(S=e),c?(s+=t.size,void c(e.TEMPORARY,s,g((function(e){e.root.getDirectory("saved",I,g((function(e){var n=function(){e.getFile(d,I,g((function(e){e.createWriter(g((function(r){r.onwriteend=function(t){S.location.href=e.toURL(),O.readyState=O.DONE,v(O,"writeend",t),l(e)},r.onerror=function(){var e=r.error;e.code!==e.ABORT_ERR&&b()},"writestart progress write abort".split(" ").forEach((function(e){r["on"+e]=O["on"+e]})),r.write(t),O.abort=function(){r.abort(),O.readyState=O.DONE},O.readyState=O.WRITING})),b)})),b)};e.getFile(d,{create:!1},g((function(e){e.remove(),n()})),g((function(e){e.code===e.NOT_FOUND_ERR?n():b()})))})),b)})),b)):void b())},d=w.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return r||(e=p(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(d.abort=function(){var e=this;e.readyState=e.DONE,v(e,"abort")},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,r){return new w(e,t,r)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],(function(){return saveAs}));