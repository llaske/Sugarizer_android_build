riot.tag2("code-editor",'<div id="vsplit" ref="vsplit"> <div id="split" ref="split"> <input ref="file_input" id="file-input" type="file" style="display: none;"> <div id="tabs"> <button onclick="{this.newtab}" id="newtab">&nbsp;</button><span class="{selected: name==parent.title}" each="{name in list(files)}"><button class="{selected: name==parent.title}" onclick="{parent.switchtab}">{str(name)}</button><button if="{name==parent.title && len(files)>1}" id="closetab" onclick="{parent.closetab}">&nbsp;</button></span><button class="pull-right" id="tray-button" ref="traybutton">&nbsp;</button> </div> <textarea id="code-container" ref="code"></textarea> </div> <iframe allowtransparency="false" ref="vmframe"></iframe> </div>','code-editor { display: flex; flex: 1 1; height: 100%; } code-editor .CodeMirror,[data-is="code-editor"] .CodeMirror{ height: 100%; width: 100%; font-size: 15pt; font-family: "Noto Mono", "DejaVu Sans Mono", monospace, "Noto Emoji"; flex: 1 1; } code-editor .CodeMirror-cursor,[data-is="code-editor"] .CodeMirror-cursor{ width: auto; border: 0; background: transparent; background: rgba(0, 200, 0, .4); } code-editor .CodeMirror-linenumber,[data-is="code-editor"] .CodeMirror-linenumber{ font-size: 14pt; } code-editor .cm-s-solarized .CodeMirror-cursor,[data-is="code-editor"] .cm-s-solarized .CodeMirror-cursor{ border: 0; } code-editor .error-marker,[data-is="code-editor"] .error-marker{ border: 1px solid red; background-color: rgba(255, 0, 0,0.2); border-radius: 3px; } code-editor iframe,[data-is="code-editor"] iframe{ border: 0px; display: none; flex: 1 1; } code-editor #split,[data-is="code-editor"] #split{ display: flex; width: 100%; flex-direction: column; flex: 1 1; height: 100%; float: left; } code-editor #vsplit,[data-is="code-editor"] #vsplit{ display: flex; flex-direction: row; flex: 1 1; height: 100%; } code-editor #tabs button,[data-is="code-editor"] #tabs button{ font-size: 13pt; border-radius: 0; padding: 10px 10px; border: 0px; margin: 0px; } code-editor #tabs button.selected,[data-is="code-editor"] #tabs button.selected{ background-color: #282828; } code-editor #tabs span.selected,[data-is="code-editor"] #tabs span.selected{ white-space: nowrap; } code-editor #closetab,[data-is="code-editor"] #closetab{ background-image: url(lib/sugar-web/graphics/icons/actions/entry-cancel-active.svg); background-repeat: no-repeat; background-color: #282828; width: 28px; background-position: center; background-size: 16px 16px; } code-editor #closetab:active,[data-is="code-editor"] #closetab:active{ background-image: url(lib/sugar-web/graphics/icons/actions/entry-cancel.svg); } code-editor #newtab,[data-is="code-editor"] #newtab{ background-image: url(icons/tab-add.svg); background-repeat: no-repeat; width: 28px; background-position: center; background-size: 20px 20px; } code-editor #tray-button,[data-is="code-editor"] #tray-button{ background-image: url(icons/tray-show.svg); background-repeat: no-repeat; width: 28px; background-position: center; background-size: 20px 20px; }',"",(function(e){var t,r={};r.re={},function(){var e,t,n,o,a,s,_,l,i,p,c,u,d,g,h,f,b,v,m;function _expand(r,_,l){var i,p,c;function next(){return _[i++]}function peek(){return _["number"==typeof i&&i<0?_.length+i:i]}function read_digits(e,t,r,n,o){var a,s,_;for(a=o||"",s=e===Number.MAX_VALUE;e>0;){if(e-=1,!t.test(peek())){if(s)break;return a}a+=next()}return(_=parseInt(a,r))>n?a:_}function read_escape_sequence(){var p,c,u,d,g,h,f;if(!(p=next())||"\\"===p)return"\\";if(-1!=="\"'".indexOf(p))return p;if(t["number"==typeof p&&p<0?t.length+p:p])return String.fromCharCode(t["number"==typeof p&&p<0?t.length+p:p]);if("0"<=p&&p<="9")return"number"==typeof(c=read_digits(Number.MAX_VALUE,o,10,Number.MAX_VALUE,p))?r["number"==typeof c&&c<0?r.length+c:c]||"":"\\"+c;if("g"===p&&null!==(u=a.exec(_.slice(i)))){if(i+=u[0].length,d=u[1],isNaN(parseInt(d,10))){if(!m(l,d))return"";d=(ρσ_expr_temp=l["number"==typeof d&&d<0?l.length+d:d])[ρσ_expr_temp.length-1]}return r["number"==typeof d&&d<0?r.length+d:d]||""}if("x"===p)return"number"==typeof(g=read_digits(2,n,16,1114111))?String.fromCharCode(g):"\\x"+g;if("u"===p)return"number"==typeof(g=read_digits(4,n,16,1114111))?String.fromCharCode(g):"\\u"+g;if("U"===p)return"number"==typeof(g=read_digits(8,n,16,1114111))?g<=65535?String.fromCharCode(g):(g-=65536,String.fromCharCode(55296+(g>>10),56320+(1023&g))):"\\U"+g;if("N"===p&&"{"===peek()){for(next(),h="";s.test(peek());)h+=next();return"}"!==peek()?"\\N{"+h:(next(),f=(h||"").toLowerCase(),h&&m(e,f)?(g=e["number"==typeof f&&f<0?e.length+f:f])<=65535?String.fromCharCode(g):(g-=65536,String.fromCharCode(55296+(g>>10),56320+(1023&g))):"\\N{"+h+"}")}return"\\"+p}for(i=0,read_digits.__argnames__||Object.defineProperties(read_digits,{__argnames__:{value:["count","pat","base","maxval","prefix"]}}),p=c="";c=next();)p+="\\"===c?read_escape_sequence():c;return p}function transform_regex(e,t){var r,n,o,a,s,_,l,i,p,c,u,d,g;for(r=0,n=o=!1,a="",s={},t=t||0,_=0;r<e.length;)if(l=e[r++],n)a+="\\"+l,n=!1;else if(o)"]"===l&&(o=!1),a+=l;else if("\\"!==l){if("["===l)o=!0,"]"===e["number"==typeof r&&r<0?e.length+r:r]&&(r+=1,l="[\\]");else if("("===l)if("?"===e["number"==typeof r&&r<0?e.length+r:r]){if("#"===(i=e[ρσ_bound_index(r+1,e)])){if(-1===(p=e.indexOf(")",r+1)))throw new ValueError("Expecting a closing )");r=p+1;continue}if(-1!=="aiLmsux".indexOf(i)){if(c=function(){var e={a:256,i:2,L:4,m:8,s:16,u:32,x:64};return e}.call(this),-1===(p=e.indexOf(")",r+1)))throw new SyntaxError("Expecting a closing )");u=e.slice(r+1,p);for(var h=0;h<u.length;h++){if(d=u["number"==typeof h&&h<0?u.length+h:h],!m(c,d))throw new SyntaxError("Invalid flag: "+d);t|=c["number"==typeof d&&d<0?c.length+d:d]}r=p+1;continue}if("<"===i)throw new SyntaxError("Look behind assertions are not supported in JavaScript");if("("===i)throw new SyntaxError("Group existence assertions are not supported in JavaScript");if("P"===i){if("<"!==(d=e["number"==typeof(r+=2)&&r<0?e.length+r:r])){if("="===d){if(-1===(p=e.indexOf(")",r)))throw new SyntaxError("Named group back-reference not closed, expecting a )");if(g=e.slice(r+1,p),isNaN(parseInt(g,10))){if(!m(s,g))throw new SyntaxError("Invalid back-reference. The named group: "+g+" has not yet been defined.");a+="\\"+(ρσ_expr_temp=s["number"==typeof g&&g<0?s.length+g:g])[ρσ_expr_temp.length-1]}else a+="\\"+g;r=p+1;continue}throw new SyntaxError("Expecting < or = after (?P")}if(-1===(p=e.indexOf(">",r)))throw new SyntaxError("Named group not closed, expecting >");g=e.slice(r+1,p),m(s,g)||(s["number"==typeof g&&g<0?s.length+g:g]=[]),s["number"==typeof g&&g<0?s.length+g:g].push(++_),r=p+1}}else _+=1;else if("."===l&&16&t){a+="[\\s\\S]";continue}a+=l}else n=!0;return[a,t,s]}function MatchObject(){void 0===this.ρσ_object_id&&Object.defineProperty(this,"ρσ_object_id",{value:++ρσ_object_counter}),MatchObject.prototype.__bind_methods__.call(this),MatchObject.prototype.__init__.apply(this,arguments)}function RegexObject(){void 0===this.ρσ_object_id&&Object.defineProperty(this,"ρσ_object_id",{value:++ρσ_object_counter}),RegexObject.prototype.__bind_methods__.call(this),RegexObject.prototype.__init__.apply(this,arguments)}function _get_from_cache(e,t){var r,n;return ρσ_instanceof(e,RegExp)&&(e=e.source),r=JSON.stringify([e,t]),m(f,r)?f["number"==typeof r&&r<0?f.length+r:r]:(b.length>=100&&delete f[b.shift()],n=new RegexObject(e,t),f["number"==typeof r&&r<0?f.length+r:r]=n,b.push(r),n)}function compile(){var e=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],t=void 0===arguments[1]||1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?compile.__defaults__.flags:arguments[1],r=arguments[arguments.length-1];return null!==r&&"object"==typeof r&&!0===r[ρσ_kwargs_symbol]||(r={}),Object.prototype.hasOwnProperty.call(r,"flags")&&(t=r.flags),_get_from_cache(e,t)}function search(){var e=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],t=1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[1],r=void 0===arguments[2]||2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?search.__defaults__.flags:arguments[2],n=arguments[arguments.length-1];return null!==n&&"object"==typeof n&&!0===n[ρσ_kwargs_symbol]||(n={}),Object.prototype.hasOwnProperty.call(n,"flags")&&(r=n.flags),_get_from_cache(e,r).search(t)}function match(){var e=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],t=1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[1],r=void 0===arguments[2]||2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?match.__defaults__.flags:arguments[2],n=arguments[arguments.length-1];return null!==n&&"object"==typeof n&&!0===n[ρσ_kwargs_symbol]||(n={}),Object.prototype.hasOwnProperty.call(n,"flags")&&(r=n.flags),_get_from_cache(e,r).match(t)}function split(){var e=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],t=1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[1],r=((void 0===arguments[2]||2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol])&&split.__defaults__.maxsplit,void 0===arguments[3]||3==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?split.__defaults__.flags:arguments[3]),n=arguments[arguments.length-1];return null!==n&&"object"==typeof n&&!0===n[ρσ_kwargs_symbol]||(n={}),Object.prototype.hasOwnProperty.call(n,"maxsplit")&&n.maxsplit,Object.prototype.hasOwnProperty.call(n,"flags")&&(r=n.flags),_get_from_cache(e,r).split(t)}function findall(){var e=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],t=1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[1],r=void 0===arguments[2]||2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?findall.__defaults__.flags:arguments[2],n=arguments[arguments.length-1];return null!==n&&"object"==typeof n&&!0===n[ρσ_kwargs_symbol]||(n={}),Object.prototype.hasOwnProperty.call(n,"flags")&&(r=n.flags),_get_from_cache(e,r).findall(t)}function finditer(){var e=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],t=1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[1],r=void 0===arguments[2]||2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?finditer.__defaults__.flags:arguments[2],n=arguments[arguments.length-1];return null!==n&&"object"==typeof n&&!0===n[ρσ_kwargs_symbol]||(n={}),Object.prototype.hasOwnProperty.call(n,"flags")&&(r=n.flags),_get_from_cache(e,r).finditer(t)}function sub(){var e=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],t=1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[1],r=2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[2],n=void 0===arguments[3]||3==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?sub.__defaults__.count:arguments[3],o=void 0===arguments[4]||4==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?sub.__defaults__.flags:arguments[4],a=arguments[arguments.length-1];return null!==a&&"object"==typeof a&&!0===a[ρσ_kwargs_symbol]||(a={}),Object.prototype.hasOwnProperty.call(a,"count")&&(n=a.count),Object.prototype.hasOwnProperty.call(a,"flags")&&(o=a.flags),_get_from_cache(e,o).sub(t,r,n)}function subn(){var e=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],t=1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[1],r=2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[2],n=void 0===arguments[3]||3==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?subn.__defaults__.count:arguments[3],o=void 0===arguments[4]||4==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?subn.__defaults__.flags:arguments[4],a=arguments[arguments.length-1];return null!==a&&"object"==typeof a&&!0===a[ρσ_kwargs_symbol]||(a={}),Object.prototype.hasOwnProperty.call(a,"count")&&(n=a.count),Object.prototype.hasOwnProperty.call(a,"flags")&&(o=a.flags),_get_from_cache(e,o).subn(t,r,n)}function escape(e){return e.replace(h,"\\$&")}e=function(){var e={null:0,nul:0,"start of heading":1,soh:1,"start of text":2,stx:2,"end of text":3,etx:3,"end of transmission":4,eot:4,enquiry:5,enq:5,acknowledge:6,ack:6,alert:7,bel:7,backspace:8,bs:8,"character tabulation":9,"horizontal tabulation":9,ht:9,tab:9,"line feed":10,"new line":10,"end of line":10,lf:10,nl:10,eol:10,"line tabulation":11,"vertical tabulation":11,vt:11,"form feed":12,ff:12,"carriage return":13,cr:13,"shift out":14,"locking-shift one":14,so:14,"shift in":15,"locking-shift zero":15,si:15,"data link escape":16,dle:16,"device control one":17,dc1:17,"device control two":18,dc2:18,"device control three":19,dc3:19,"device control four":20,dc4:20,"negative acknowledge":21,nak:21,"synchronous idle":22,syn:22,"end of transmission block":23,etb:23,cancel:24,can:24,"end of medium":25,eom:25,substitute:26,sub:26,escape:27,esc:27,"information separator four":28,"file separator":28,fs:28,"information separator three":29,"group separator":29,gs:29,"information separator two":30,"record separator":30,rs:30,"information separator one":31,"unit separator":31,us:31,sp:32,delete:127,del:127,"padding character":128,pad:128,"high octet preset":129,hop:129,"break permitted here":130,bph:130,"no break here":131,nbh:131,index:132,ind:132,"next line":133,nel:133,"start of selected area":134,ssa:134,"end of selected area":135,esa:135,"character tabulation set":136,"horizontal tabulation set":136,hts:136,"character tabulation with justification":137,"horizontal tabulation with justification":137,htj:137,"line tabulation set":138,"vertical tabulation set":138,vts:138,"partial line forward":139,"partial line down":139,pld:139,"partial line backward":140,"partial line up":140,plu:140,"reverse line feed":141,"reverse index":141,ri:141,"single shift two":142,"single-shift-2":142,ss2:142,"single shift three":143,"single-shift-3":143,ss3:143,"device control string":144,dcs:144,"private use one":145,"private use-1":145,pu1:145,"private use two":146,"private use-2":146,pu2:146,"set transmit state":147,sts:147,"cancel character":148,cch:148,"message waiting":149,mw:149,"start of guarded area":150,"start of protected area":150,spa:150,"end of guarded area":151,"end of protected area":151,epa:151,"start of string":152,sos:152,"single graphic character introducer":153,sgc:153,"single character introducer":154,sci:154,"control sequence introducer":155,csi:155,"string terminator":156,st:156,"operating system command":157,osc:157,"privacy message":158,pm:158,"application program command":159,apc:159,nbsp:160,shy:173,"latin capital letter gha":418,"latin small letter gha":419,cgj:847,alm:1564,"syriac sublinear colon skewed left":1801,"kannada letter llla":3294,"lao letter fo fon":3741,"lao letter fo fay":3743,"lao letter ro":3747,"lao letter lo":3749,"tibetan mark bka- shog gi mgo rgyan":4048,fvs1:6155,fvs2:6156,fvs3:6157,mvs:6158,zwsp:8203,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,lre:8234,rle:8235,pdf:8236,lro:8237,rlo:8238,nnbsp:8239,mmsp:8287,wj:8288,lri:8294,rli:8295,fsi:8296,pdi:8297,"weierstrass elliptic function":8472,"micr on us symbol":9288,"micr dash symbol":9289,"leftwards triangle-headed arrow with double vertical stroke":11130,"rightwards triangle-headed arrow with double vertical stroke":11132,"yi syllable iteration mark":40981,"presentation form for vertical right white lenticular bracket":65048,vs1:65024,vs2:65025,vs3:65026,vs4:65027,vs5:65028,vs6:65029,vs7:65030,vs8:65031,vs9:65032,vs10:65033,vs11:65034,vs12:65035,vs13:65036,vs14:65037,vs15:65038,vs16:65039,"byte order mark":65279,bom:65279,zwnbsp:65279,"cuneiform sign nu11 tenu":74452,"cuneiform sign nu11 over nu11 bur over bur":74453,"byzantine musical symbol fthora skliron chroma vasis":118981,vs17:917760,vs18:917761,vs19:917762,vs20:917763,vs21:917764,vs22:917765,vs23:917766,vs24:917767,vs25:917768,vs26:917769,vs27:917770,vs28:917771,vs29:917772,vs30:917773,vs31:917774,vs32:917775,vs33:917776,vs34:917777,vs35:917778,vs36:917779,vs37:917780,vs38:917781,vs39:917782,vs40:917783,vs41:917784,vs42:917785,vs43:917786,vs44:917787,vs45:917788,vs46:917789,vs47:917790,vs48:917791,vs49:917792,vs50:917793,vs51:917794,vs52:917795,vs53:917796,vs54:917797,vs55:917798,vs56:917799,vs57:917800,vs58:917801,vs59:917802,vs60:917803,vs61:917804,vs62:917805,vs63:917806,vs64:917807,vs65:917808,vs66:917809,vs67:917810,vs68:917811,vs69:917812,vs70:917813,vs71:917814,vs72:917815,vs73:917816,vs74:917817,vs75:917818,vs76:917819,vs77:917820,vs78:917821,vs79:917822,vs80:917823,vs81:917824,vs82:917825,vs83:917826,vs84:917827,vs85:917828,vs86:917829,vs87:917830,vs88:917831,vs89:917832,vs90:917833,vs91:917834,vs92:917835,vs93:917836,vs94:917837,vs95:917838,vs96:917839,vs97:917840,vs98:917841,vs99:917842,vs100:917843,vs101:917844,vs102:917845,vs103:917846,vs104:917847,vs105:917848,vs106:917849,vs107:917850,vs108:917851,vs109:917852,vs110:917853,vs111:917854,vs112:917855,vs113:917856,vs114:917857,vs115:917858,vs116:917859,vs117:917860,vs118:917861,vs119:917862,vs120:917863,vs121:917864,vs122:917865,vs123:917866,vs124:917867,vs125:917868,vs126:917869,vs127:917870,vs128:917871,vs129:917872,vs130:917873,vs131:917874,vs132:917875,vs133:917876,vs134:917877,vs135:917878,vs136:917879,vs137:917880,vs138:917881,vs139:917882,vs140:917883,vs141:917884,vs142:917885,vs143:917886,vs144:917887,vs145:917888,vs146:917889,vs147:917890,vs148:917891,vs149:917892,vs150:917893,vs151:917894,vs152:917895,vs153:917896,vs154:917897,vs155:917898,vs156:917899,vs157:917900,vs158:917901,vs159:917902,vs160:917903,vs161:917904,vs162:917905,vs163:917906,vs164:917907,vs165:917908,vs166:917909,vs167:917910,vs168:917911,vs169:917912,vs170:917913,vs171:917914,vs172:917915,vs173:917916,vs174:917917,vs175:917918,vs176:917919,vs177:917920,vs178:917921,vs179:917922,vs180:917923,vs181:917924,vs182:917925,vs183:917926,vs184:917927,vs185:917928,vs186:917929,vs187:917930,vs188:917931,vs189:917932,vs190:917933,vs191:917934,vs192:917935,vs193:917936,vs194:917937,vs195:917938,vs196:917939,vs197:917940,vs198:917941,vs199:917942,vs200:917943,vs201:917944,vs202:917945,vs203:917946,vs204:917947,vs205:917948,vs206:917949,vs207:917950,vs208:917951,vs209:917952,vs210:917953,vs211:917954,vs212:917955,vs213:917956,vs214:917957,vs215:917958,vs216:917959,vs217:917960,vs218:917961,vs219:917962,vs220:917963,vs221:917964,vs222:917965,vs223:917966,vs224:917967,vs225:917968,vs226:917969,vs227:917970,vs228:917971,vs229:917972,vs230:917973,vs231:917974,vs232:917975,vs233:917976,vs234:917977,vs235:917978,vs236:917979,vs237:917980,vs238:917981,vs239:917982,vs240:917983,vs241:917984,vs242:917985,vs243:917986,vs244:917987,vs245:917988,vs246:917989,vs247:917990,vs248:917991,vs249:917992,vs250:917993,vs251:917994,vs252:917995,vs253:917996,vs254:917997,vs255:917998,vs256:917999};return e}.call(this),t=function(){var e={a:7,b:8,f:12,n:10,r:13,t:9,v:11};return e}.call(this),n=/^[a-fA-F0-9]/,o=/^[0-9]/,a=/<([^>]+)>/,s=/^[a-zA-Z ]/,_=2,l=4,i=8,p=16,c=32,u=64,d=256,g=void 0!==RegExp.prototype.unicode,h=/[-\/\\^$*+?.()|[\]{}]/g,f={},b=[],v=SyntaxError,m=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty),_expand.__argnames__||Object.defineProperties(_expand,{__argnames__:{value:["groups","repl","group_name_map"]}}),transform_regex.__argnames__||Object.defineProperties(transform_regex,{__argnames__:{value:["source","flags"]}}),Object.defineProperty(MatchObject.prototype,"__bind_methods__",{value:function(){this._compute_extents=MatchObject.prototype._compute_extents.bind(this),this.groups=MatchObject.prototype.groups.bind(this),this._group_number=MatchObject.prototype._group_number.bind(this),this._group_val=MatchObject.prototype._group_val.bind(this),this.group=MatchObject.prototype.group.bind(this),this.start=MatchObject.prototype.start.bind(this),this.end=MatchObject.prototype.end.bind(this),this.span=MatchObject.prototype.span.bind(this),this.expand=MatchObject.prototype.expand.bind(this),this.groupdict=MatchObject.prototype.groupdict.bind(this),this.captures=MatchObject.prototype.captures.bind(this),this.capturesdict=MatchObject.prototype.capturesdict.bind(this)}}),MatchObject.prototype.__init__=function __init__(e,t,r,n){var o;this.re=e,this.string=t.input,this._start_pos=t.index,this._groups=t,o=[r,n],this.pos=o[0],this.endpos=o[1]},MatchObject.prototype.__init__.__argnames__||Object.defineProperties(MatchObject.prototype.__init__,{__argnames__:{value:["regex","match","pos","endpos"]}}),MatchObject.__argnames__=MatchObject.prototype.__init__.__argnames__,MatchObject.__handles_kwarg_interpolation__=MatchObject.prototype.__init__.__handles_kwarg_interpolation__,MatchObject.prototype._compute_extents=function _compute_extents(){var e,t,r,n,o;e=this._groups,this._start=Array(e.length),this._end=Array(e.length),this._start[0]=this._start_pos,this._end[0]=this._start_pos+e[0].length,t=this._start_pos,r=e[0],n=0;for(var a=1;a<e.length;a++)o=e["number"==typeof a&&a<0?e.length+a:a],-1===(n=r.indexOf(o,n))?((ρσ_expr_temp=this._start)["number"==typeof a&&a<0?ρσ_expr_temp.length+a:a]=(ρσ_expr_temp=this._start)[ρσ_bound_index(a-1,ρσ_expr_temp)],(ρσ_expr_temp=this._end)["number"==typeof a&&a<0?ρσ_expr_temp.length+a:a]=(ρσ_expr_temp=this._end)[ρσ_bound_index(a-1,ρσ_expr_temp)]):((ρσ_expr_temp=this._start)["number"==typeof a&&a<0?ρσ_expr_temp.length+a:a]=t+n,n+=o.length,(ρσ_expr_temp=this._end)["number"==typeof a&&a<0?ρσ_expr_temp.length+a:a]=t+n)},MatchObject.prototype._compute_extents.__argnames__||Object.defineProperties(MatchObject.prototype._compute_extents,{__argnames__:{value:[]}}),MatchObject.prototype.groups=function groups(){var e,t,r=this,n=void 0===arguments[0]||0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?groups.__defaults__.defval:arguments[0],o=arguments[arguments.length-1];null!==o&&"object"==typeof o&&!0===o[ρσ_kwargs_symbol]||(o={}),Object.prototype.hasOwnProperty.call(o,"defval")&&(n=o.defval),e=[];for(var a=1;a<r._groups.length;a++)void 0===(t=(ρσ_expr_temp=r._groups)["number"==typeof a&&a<0?ρσ_expr_temp.length+a:a])&&(t=n),e.push(t);return e},MatchObject.prototype.groups.__defaults__||Object.defineProperties(MatchObject.prototype.groups,{__defaults__:{value:{defval:null}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["defval"]}}),MatchObject.prototype._group_number=function _group_number(e){return"number"==typeof e?e:m(this.re.group_name_map,e)?(ρσ_expr_temp=(ρσ_expr_temp=this.re.group_name_map)["number"==typeof e&&e<0?ρσ_expr_temp.length+e:e])[ρσ_expr_temp.length-1]:e},MatchObject.prototype._group_number.__argnames__||Object.defineProperties(MatchObject.prototype._group_number,{__argnames__:{value:["g"]}}),MatchObject.prototype._group_val=function _group_val(e,t){var r;return r=void 0,"number"==typeof e&&-1<e&&e<this._groups.length?r=(ρσ_expr_temp=this._groups)["number"==typeof e&&e<0?ρσ_expr_temp.length+e:e]:m(this.re.group_name_map,e)&&(r=(ρσ_expr_temp=this._groups)[ρσ_bound_index((ρσ_expr_temp=(ρσ_expr_temp=this.re.group_name_map)["number"==typeof e&&e<0?ρσ_expr_temp.length+e:e])[ρσ_expr_temp.length-1],ρσ_expr_temp)]),void 0===r&&(r=t),r},MatchObject.prototype._group_val.__argnames__||Object.defineProperties(MatchObject.prototype._group_val,{__argnames__:{value:["q","defval"]}}),MatchObject.prototype.group=function group(){var e,t,r=this;if(0===arguments.length)return r._groups[0];e=[];for(var n=0;n<arguments.length;n++)t=arguments["number"==typeof n&&n<0?arguments.length+n:n],e.push(r._group_val(t,null));return 1===e.length?e[0]:e},MatchObject.prototype.group.__argnames__||Object.defineProperties(MatchObject.prototype.group,{__argnames__:{value:[]}}),MatchObject.prototype.start=function start(e){var t;return void 0===this._start&&this._compute_extents(),void 0===(t=(ρσ_expr_temp=this._start)[ρσ_bound_index(this._group_number(e||0),ρσ_expr_temp)])&&(t=-1),t},MatchObject.prototype.start.__argnames__||Object.defineProperties(MatchObject.prototype.start,{__argnames__:{value:["g"]}}),MatchObject.prototype.end=function end(e){var t;return void 0===this._end&&this._compute_extents(),void 0===(t=(ρσ_expr_temp=this._end)[ρσ_bound_index(this._group_number(e||0),ρσ_expr_temp)])&&(t=-1),t},MatchObject.prototype.end.__argnames__||Object.defineProperties(MatchObject.prototype.end,{__argnames__:{value:["g"]}}),MatchObject.prototype.span=function span(e){return ρσ_list_decorate([this.start(e),this.end(e)])},MatchObject.prototype.span.__argnames__||Object.defineProperties(MatchObject.prototype.span,{__argnames__:{value:["g"]}}),MatchObject.prototype.expand=function expand(e){return _expand(e,this._groups,this.re.group_name_map)},MatchObject.prototype.expand.__argnames__||Object.defineProperties(MatchObject.prototype.expand,{__argnames__:{value:["repl"]}}),MatchObject.prototype.groupdict=function groupdict(){var e,t,r,n,o,a=this,s=void 0===arguments[0]||0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?groupdict.__defaults__.defval:arguments[0],_=arguments[arguments.length-1];null!==_&&"object"==typeof _&&!0===_[ρσ_kwargs_symbol]||(_={}),Object.prototype.hasOwnProperty.call(_,"defval")&&(s=_.defval),e=a.re.group_name_map,t=Object.keys(e),r={};for(var l=0;l<t.length;l++)n=t["number"==typeof l&&l<0?t.length+l:l],m(e,n)&&(void 0===(o=(ρσ_expr_temp=a._groups)[ρσ_bound_index((ρσ_expr_temp=e["number"==typeof n&&n<0?e.length+n:n])[ρσ_expr_temp.length-1],ρσ_expr_temp)])&&(o=s),r["number"==typeof n&&n<0?r.length+n:n]=o);return r},MatchObject.prototype.groupdict.__defaults__||Object.defineProperties(MatchObject.prototype.groupdict,{__defaults__:{value:{defval:null}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["defval"]}}),MatchObject.prototype.captures=function captures(e){var t,r,n;if(t=ρσ_list_decorate([]),!m(this.re.group_name_map,e))return t;r=(ρσ_expr_temp=this.re.group_name_map)["number"==typeof e&&e<0?ρσ_expr_temp.length+e:e];for(var o=0;o<r.length;o++)void 0!==(n=(ρσ_expr_temp=this._groups)[ρσ_bound_index(r["number"==typeof o&&o<0?r.length+o:o],ρσ_expr_temp)])&&t.push(n);return t},MatchObject.prototype.captures.__argnames__||Object.defineProperties(MatchObject.prototype.captures,{__argnames__:{value:["group_name"]}}),MatchObject.prototype.capturesdict=function capturesdict(){var e,t,r,n;e=this.re.group_name_map,t=Object.keys(e),r={};for(var o=0;o<t.length;o++)r["number"==typeof(n=t["number"==typeof o&&o<0?t.length+o:o])&&n<0?r.length+n:n]=this.captures(n);return r},MatchObject.prototype.capturesdict.__argnames__||Object.defineProperties(MatchObject.prototype.capturesdict,{__argnames__:{value:[]}}),MatchObject.prototype.__repr__=function __repr__(){return"<"+__name__+"."+this.constructor.name+" #"+this.ρσ_object_id+">"},MatchObject.prototype.__str__=function __str__(){return this.__repr__()},Object.defineProperty(MatchObject.prototype,"__bases__",{value:[]}),Object.defineProperty(RegexObject.prototype,"__bind_methods__",{value:function(){this._do_search=RegexObject.prototype._do_search.bind(this),this.search=RegexObject.prototype.search.bind(this),this.match=RegexObject.prototype.match.bind(this),this.split=RegexObject.prototype.split.bind(this),this.findall=RegexObject.prototype.findall.bind(this),this.finditer=RegexObject.prototype.finditer.bind(this),this.subn=RegexObject.prototype.subn.bind(this),this.sub=RegexObject.prototype.sub.bind(this)}}),RegexObject.prototype.__init__=function __init__(e,t){var r,n;this.pattern=ρσ_instanceof(e,RegExp)?e.source:e,r=transform_regex(this.pattern,t),r=ρσ_unpack_asarray(3,r),this.js_pattern=r[0],this.flags=r[1],this.group_name_map=r[2],n="",2&this.flags&&(n+="i"),8&this.flags&&(n+="m"),256&this.flags||!g||(n+="u"),this._modifiers=n+"g",this._pattern=new RegExp(this.js_pattern,this._modifiers)},RegexObject.prototype.__init__.__argnames__||Object.defineProperties(RegexObject.prototype.__init__,{__argnames__:{value:["pattern","flags"]}}),RegexObject.__argnames__=RegexObject.prototype.__init__.__argnames__,RegexObject.__handles_kwarg_interpolation__=RegexObject.prototype.__init__.__handles_kwarg_interpolation__,RegexObject.prototype._do_search=function _do_search(e,t,r,n){var o;for(e.lastIndex=0,null!==n&&(t=t.slice(0,n));;){if(null===(o=e.exec(t)))return null;if(o.index>=r)return new MatchObject(this,o,r,n)}},RegexObject.prototype._do_search.__argnames__||Object.defineProperties(RegexObject.prototype._do_search,{__argnames__:{value:["pat","string","pos","endpos"]}}),RegexObject.prototype.search=function search(){var e=this,t=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],r=void 0===arguments[1]||1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?search.__defaults__.pos:arguments[1],n=void 0===arguments[2]||2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?search.__defaults__.endpos:arguments[2],o=arguments[arguments.length-1];return null!==o&&"object"==typeof o&&!0===o[ρσ_kwargs_symbol]||(o={}),Object.prototype.hasOwnProperty.call(o,"pos")&&(r=o.pos),Object.prototype.hasOwnProperty.call(o,"endpos")&&(n=o.endpos),e._do_search(e._pattern,t,r,n)},RegexObject.prototype.search.__defaults__||Object.defineProperties(RegexObject.prototype.search,{__defaults__:{value:{pos:0,endpos:null}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["string","pos","endpos"]}}),RegexObject.prototype.match=function match(){var e=this,t=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],r=void 0===arguments[1]||1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?match.__defaults__.pos:arguments[1],n=void 0===arguments[2]||2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?match.__defaults__.endpos:arguments[2],o=arguments[arguments.length-1];return null!==o&&"object"==typeof o&&!0===o[ρσ_kwargs_symbol]||(o={}),Object.prototype.hasOwnProperty.call(o,"pos")&&(r=o.pos),Object.prototype.hasOwnProperty.call(o,"endpos")&&(n=o.endpos),e._do_search(new RegExp("^"+e.js_pattern,e._modifiers),t,r,n)},RegexObject.prototype.match.__defaults__||Object.defineProperties(RegexObject.prototype.match,{__defaults__:{value:{pos:0,endpos:null}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["string","pos","endpos"]}}),RegexObject.prototype.split=function split(){var e=this,t=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],r=void 0===arguments[1]||1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?split.__defaults__.maxsplit:arguments[1],n=arguments[arguments.length-1];return null!==n&&"object"==typeof n&&!0===n[ρσ_kwargs_symbol]||(n={}),Object.prototype.hasOwnProperty.call(n,"maxsplit")&&(r=n.maxsplit),e._pattern.lastIndex=0,t.split(e._pattern,r||void 0)},RegexObject.prototype.split.__defaults__||Object.defineProperties(RegexObject.prototype.split,{__defaults__:{value:{maxsplit:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["string","maxsplit"]}}),RegexObject.prototype.findall=function findall(e){return this._pattern.lastIndex=0,ρσ_list_decorate(e.match(this._pattern)||[])},RegexObject.prototype.findall.__argnames__||Object.defineProperties(RegexObject.prototype.findall,{__argnames__:{value:["string"]}}),RegexObject.prototype.finditer=function finditer(e){var t;return(t={_string:e,_r:new RegExp(this._pattern.source,this._modifiers),_self:this})[ρσ_iterator_symbol]=function(){return this},t.next=function(){var e;return null===(e=this._r.exec(this._string))?{done:!0}:{done:!1,value:new MatchObject(this._self,e,0,null)}},t},RegexObject.prototype.finditer.__argnames__||Object.defineProperties(RegexObject.prototype.finditer,{__argnames__:{value:["string"]}}),RegexObject.prototype.subn=function subn(){var e,t,r,n,o,a,s,_=this,l=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],i=1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[1],p=void 0===arguments[2]||2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?subn.__defaults__.count:arguments[2],c=arguments[arguments.length-1];for(null!==c&&"object"==typeof c&&!0===c[ρσ_kwargs_symbol]||(c={}),Object.prototype.hasOwnProperty.call(c,"count")&&(p=c.count),e=_expand,"function"==typeof l&&((s=function(e,t,r){return""+t(new MatchObject(_,e,0,null))}).__argnames__||Object.defineProperties(s,{__argnames__:{value:["m","repl","gnm"]}}),e=s),this._pattern.lastIndex=0,t=0,r=[];(p<1||t<p)&&null!==(n=this._pattern.exec(i));)r.push(n),t+=1;for(var u=r.length-1;u>-1;u--)a=(o=(n=r["number"==typeof u&&u<0?r.length+u:u]).index)+n[0].length,i=i.slice(0,o)+e(n,l,_.group_name_map)+i.slice(a);return[i,r.length]},RegexObject.prototype.subn.__defaults__||Object.defineProperties(RegexObject.prototype.subn,{__defaults__:{value:{count:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["repl","string","count"]}}),RegexObject.prototype.sub=function sub(){var e=this,t=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],r=1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[1],n=void 0===arguments[2]||2==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?sub.__defaults__.count:arguments[2],o=arguments[arguments.length-1];return null!==o&&"object"==typeof o&&!0===o[ρσ_kwargs_symbol]||(o={}),Object.prototype.hasOwnProperty.call(o,"count")&&(n=o.count),e.subn(t,r,n)[0]},RegexObject.prototype.sub.__defaults__||Object.defineProperties(RegexObject.prototype.sub,{__defaults__:{value:{count:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["repl","string","count"]}}),RegexObject.prototype.__repr__=function __repr__(){return"<"+__name__+"."+this.constructor.name+" #"+this.ρσ_object_id+">"},RegexObject.prototype.__str__=function __str__(){return this.__repr__()},Object.defineProperty(RegexObject.prototype,"__bases__",{value:[]}),_get_from_cache.__argnames__||Object.defineProperties(_get_from_cache,{__argnames__:{value:["pattern","flags"]}}),compile.__defaults__||Object.defineProperties(compile,{__defaults__:{value:{flags:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["pattern","flags"]}}),search.__defaults__||Object.defineProperties(search,{__defaults__:{value:{flags:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["pattern","string","flags"]}}),match.__defaults__||Object.defineProperties(match,{__defaults__:{value:{flags:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["pattern","string","flags"]}}),split.__defaults__||Object.defineProperties(split,{__defaults__:{value:{maxsplit:0,flags:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["pattern","string","maxsplit","flags"]}}),findall.__defaults__||Object.defineProperties(findall,{__defaults__:{value:{flags:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["pattern","string","flags"]}}),finditer.__defaults__||Object.defineProperties(finditer,{__defaults__:{value:{flags:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["pattern","string","flags"]}}),sub.__defaults__||Object.defineProperties(sub,{__defaults__:{value:{count:0,flags:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["pattern","repl","string","count","flags"]}}),subn.__defaults__||Object.defineProperties(subn,{__defaults__:{value:{count:0,flags:0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["pattern","repl","string","count","flags"]}}),escape.__argnames__||Object.defineProperties(escape,{__argnames__:{value:["string"]}}),r.re._ALIAS_MAP=e,r.re._ASCII_CONTROL_CHARS=t,r.re._HEX_PAT=n,r.re._NUM_PAT=o,r.re._GROUP_PAT=a,r.re._NAME_PAT=s,r.re.I=_,r.re.IGNORECASE=2,r.re.L=l,r.re.LOCALE=4,r.re.M=i,r.re.MULTILINE=8,r.re.D=p,r.re.DOTALL=16,r.re.U=c,r.re.UNICODE=32,r.re.X=u,r.re.VERBOSE=64,r.re.DEBUG=128,r.re.A=d,r.re.ASCII=256,r.re.supports_unicode=g,r.re._RE_ESCAPE=h,r.re._re_cache_map=f,r.re._re_cache_items=b,r.re.error=v,r.re.has_prop=m,r.re._expand=_expand,r.re.transform_regex=transform_regex,r.re.MatchObject=MatchObject,r.re.RegexObject=RegexObject,r.re._get_from_cache=_get_from_cache,r.re.compile=compile,r.re.search=search,r.re.match=match,r.re.split=split,r.re.findall=findall,r.re.finditer=finditer,r.re.sub=sub,r.re.subn=subn,r.re.escape=escape,r.re.purge=function purge(){f={},b=[]}}(),print("RapydScript-ng "+RapydScript.rs_version);var n=r.re;function compile(){var e,r,n,o,a,s=void 0===arguments[0]||0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?compile.__defaults__.inputcode:arguments[0],_=arguments[arguments.length-1];null!==_&&"object"==typeof _&&!0===_[ρσ_kwargs_symbol]||(_={}),Object.prototype.hasOwnProperty.call(_,"inputcode")&&(s=_.inputcode),e=window.editor,r=function(){var e={basedir:"__stdlib__",bare:!0,js_version:5,omit_baselib:!0};return e}.call(this);for(var l=ρσ_Iterable(window.files),i=0;i<l.length;i++)(n=l[i])!==t.title&&((ρσ_expr_temp=RapydScript.file_data)[ρσ_bound_index("__stdlib__/"+n,ρσ_expr_temp)]=(ρσ_expr_temp=window.files)["number"==typeof n&&n<0?ρσ_expr_temp.length+n:n].getValue());e.getDoc(),t.marker&&!s&&t.marker.clear();try{if(o=RapydScript.compile(s||e.getValue(),t.title,r),ρσ_in("print;",o))throw new SyntaxError('Missing parentheses in call to "print"')}catch(r){if(ρσ_last_exception=r,!(r instanceof Error))throw r;var p=r;console.log(p),a="print ('''"+p.name+": "+p.message+"''')",p.line&&p.col&&!s&&(t.marker=e.markText(CodeMirror.Pos(p.line-1,p.col),CodeMirror.Pos(p.line-1,p.col+1),function(){var e={className:"error-marker"};return e}.call(this)),e.scrollIntoView(p.line-1,p.col+1)),o=compiler.compile(a)}return o}t=this,this.marker=null,window.files={},compile.__defaults__||Object.defineProperties(compile,{__defaults__:{value:{inputcode:null}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["inputcode"]}}),window.compile=compile,this.on("mount",(function init(){var e,r;function load_datastore(r){var n,o;function check_load(r,n,o){var a,s,_;if(o){window.files={},a=JSON.parse(o);for(var l=ρσ_Iterable(a),i=0;i<l.length;i++)a["number"==typeof(_=l[i])&&_<0?a.length+_:_]&&(s=CodeMirror.Doc(a["number"==typeof _&&_<0?a.length+_:_]),(ρσ_expr_temp=window.files)["number"==typeof _&&_<0?ρσ_expr_temp.length+_:_]=s)}len(window.files)>0&&(t.title=list(a)[0],e.swapDoc((ρσ_expr_temp=window.files)[ρσ_bound_index(t.title,ρσ_expr_temp)]),e.setOption("mode","python")),t.update()}n=r.getDatastoreObject(),check_load.__argnames__||Object.defineProperties(check_load,{__argnames__:{value:["error","metadata","data"]}}),void 0!==n.objectId?n.loadAsText(check_load):(event_bus.trigger("enable-standalone"),null!==(o=localStorage.getItem("jappySession"))&&check_load(0,0,o)),t.update(),window.activity=r}function update_tabs(){var r,n,o,a,s;r=document.getElementById("main-toolbar"),"none"===getComputedStyle(r).display||"object"==typeof getComputedStyle(r).display&&ρσ_equals(getComputedStyle(r).display,"none")||(n=window.getComputedStyle(r),o=document.getElementById("tabs"),a=window.getComputedStyle(o),s=window.innerHeight-int(n.height)-int(a.height),e.setSize(null,s),ρσ_equals(len(window.files),0)&&(t.title=get_new_untitled(),window.files=function(){var r={};return r[t.title]=e.getDoc(),r}.call(this)))}function switchtab(r){var n,o;if(t.title!==r.target.innerHTML)t.title=r.target.innerHTML,e.swapDoc((ρσ_expr_temp=window.files)[ρσ_bound_index(r.target.innerHTML,ρσ_expr_temp)]),e.setOption("mode","python"),e.focus();else{r.target.style.display="none",(n=document.createElement("input")).value=t.title,n.onblur=function rename_tab(){ρσ_in(n.value,window.files)||((ρσ_expr_temp=window.files)[ρσ_bound_index(n.value,ρσ_expr_temp)]=e.getDoc(),ρσ_delitem(window.files,t.title),t.title=n.value),r.target.style.display="inline-block",r.target.parentNode.removeChild(n),t.update(),e.focus()},n.onkeyup=((o=function(r){(13===r.keyCode||"object"==typeof r.keyCode&&ρσ_equals(r.keyCode,13))&&e.focus(),(27===r.keyCode||"object"==typeof r.keyCode&&ρσ_equals(r.keyCode,27))&&(n.value=t.title,e.focus())}).__argnames__||Object.defineProperties(o,{__argnames__:{value:["e"]}}),o),r.target.parentNode.insertBefore(n,r.target),n.focus(),t.title.indexOf(".")>0?n.setSelectionRange(0,t.title.indexOf(".")):n.select()}}function closetab(r){var n,o;len(window.files)>1&&(n=t.title,o=list(window.files).index(n),ρσ_delitem(window.files,n),ρσ_in("__stdlib__/"+n,RapydScript.file_data)&&ρσ_delitem(RapydScript.file_data,"__stdlib__/"+n),o>0&&(o-=1),t.title=(ρσ_expr_temp=list(window.files))["number"==typeof o&&o<0?ρσ_expr_temp.length+o:o],e.swapDoc((ρσ_expr_temp=window.files)[ρσ_bound_index(t.title,ρσ_expr_temp)]),e.setOption("mode","python"),t.update(),e.focus())}function get_new_untitled(){var e,t,r,n=void 0===arguments[0]||0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?get_new_untitled.__defaults__.file:arguments[0],o=arguments[arguments.length-1];for(null!==o&&"object"==typeof o&&!0===o[ρσ_kwargs_symbol]||(o={}),Object.prototype.hasOwnProperty.call(o,"file")&&(n=o.file),e=n.substr(0,n.indexOf(".")),t=n.substr(n.indexOf(".")),r=1;ρσ_in(n,files);)n=e+"-"+r+t,r+=1;return n}function newtab(r){var n,o;n=get_new_untitled(),o=CodeMirror.Doc(""),(ρσ_expr_temp=window.files)["number"==typeof n&&n<0?ρσ_expr_temp.length+n:n]=o,e.swapDoc(o),e.setOption("mode","python"),e.focus(),t.title=n,t.update()}function toggle_tray(){"none"===getComputedStyle(r).display||"object"==typeof getComputedStyle(r).display&&ρσ_equals(getComputedStyle(r).display,"none")?event_bus.trigger("traybutton-open"):event_bus.trigger("traybutton-close")}function run(){var e;return window.state="run",event_bus.trigger("traybutton-open"),riot.update(),event_bus.trigger("activity-save"),e=compile(),r.onload=function write_script(){var t=r.contentDocument.createElement("script");t.innerHTML=e,r.contentDocument.body.appendChild(t),r.contentDocument.close()},r.contentWindow.location="template.html",r}function serialize(){var e,t;e={};for(var r=ρσ_Iterable(window.files),n=0;n<r.length;n++)e["number"==typeof(t=r[n])&&t<0?e.length+t:t]=(ρσ_expr_temp=window.files)["number"==typeof t&&t<0?ρσ_expr_temp.length+t:t].getValue();return JSON.stringify(e)}function save_without_datastore(){localStorage.jappySession=serialize()}function save(){var e,t=void 0===arguments[0]||0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?save.__defaults__.activity:arguments[0],r=arguments[arguments.length-1];if(null!==r&&"object"==typeof r&&!0===r[ρσ_kwargs_symbol]||(r={}),Object.prototype.hasOwnProperty.call(r,"activity")&&(t=r.activity),void 0!==t&&(e=t.getDatastoreObject()),t&&void 0!==e.objectId){function check_save(e){null===e?console.log("Saved"):console.log("NOT Saved")}e.setDataAsText(serialize()),check_save.__argnames__||Object.defineProperties(check_save,{__argnames__:{value:["error"]}}),e.save(check_save)}else save_without_datastore()}function example_load(){var r,n=0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?void 0:arguments[0],o=void 0===arguments[1]||1==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?example_load.__defaults__.execute:arguments[1],a=arguments[arguments.length-1];if(null!==a&&"object"==typeof a&&!0===a[ρσ_kwargs_symbol]||(a={}),Object.prototype.hasOwnProperty.call(a,"execute")&&(o=a.execute),ρσ_in(n,window.files))return t.title=n,e.swapDoc((ρσ_expr_temp=window.files)["number"==typeof n&&n<0?ρσ_expr_temp.length+n:n]),e.setOption("mode","python"),t.update(),e.focus(),void(o&&(window.innerWidth>720?event_bus.trigger("run-code"):event_bus.trigger("run-fullscreen")));window.location.protocol,requirejs(ρσ_list_decorate(["text!examples/"+n]),((r=function(r){var a;a=CodeMirror.Doc(r),files["number"==typeof n&&n<0?files.length+n:n]=a,e.swapDoc(a),e.setOption("mode","python"),t.title=n,t.update(),e.focus(),o&&(window.innerWidth>720?event_bus.trigger("run-code"):event_bus.trigger("run-fullscreen"))}).__argnames__||Object.defineProperties(r,{__argnames__:{value:["data"]}}),r))}function restore(e){var n,o;t.refs.split.style.display="block",(n=document.getElementById("main-toolbar")).style.display="block",e.target.parentNode.removeChild(e.target),o=window.getComputedStyle(n).height,document.getElementById("canvas").style.top=o,window.innerWidth>720?r.style.width="50%":(window.state="clean",event_bus.trigger("clear-output"),event_bus.trigger("traybutton-close"),riot.update())}function run_fullscreen(){var e,n=void 0===arguments[0]||0==arguments.length-1&&null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]?run_fullscreen.__defaults__.execute:arguments[0],o=arguments[arguments.length-1];null!==o&&"object"==typeof o&&!0===o[ρσ_kwargs_symbol]||(o={}),Object.prototype.hasOwnProperty.call(o,"execute")&&(n=o.execute),t.refs.split.style.display="none",document.getElementById("main-toolbar").style.display="none",document.getElementById("canvas").style.top="0",n&&run(),(e=document.createElement("button")).onclick=restore,e.style.opacity="0.5",e.style.position="fixed",e.style.right=e.style.top="0",e.style.padding="0px",e.style["border-radius"]="0px",e.style["background-image"]="url(icons/view-return.svg)",e.style["background-repeat"]="no-repeat",e.style["background-position"]="center",e.style.width=e.style.height="55px",document.body.appendChild(e),r.style.width="100%"}(e=CodeMirror.fromTextArea(this.refs.code,function(){var e={lineNumbers:!0,matchBrackets:!0,indentUnit:4,fixedGutter:!1,mode:"python",styleActiveLine:!0,theme:"solarized light"};return e}.call(this))).setOption("extraKeys",function(){var t={};return t["Ctrl-Enter"]=run,t["Alt-R"]=run,t.F9=toggle_tray,t.Tab=function(){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab")},t}.call(this)),r=this.refs.vmframe,load_datastore.__argnames__||Object.defineProperties(load_datastore,{__argnames__:{value:["activity"]}}),event_bus.on("activity-ready",load_datastore),this.on("update",update_tabs),window.addEventListener("resize",update_tabs),event_bus.on("activity-not-ready",(function make_do(){t.update()})),switchtab.__argnames__||Object.defineProperties(switchtab,{__argnames__:{value:["e"]}}),t.switchtab=switchtab,closetab.__argnames__||Object.defineProperties(closetab,{__argnames__:{value:["e"]}}),t.closetab=closetab,get_new_untitled.__defaults__||Object.defineProperties(get_new_untitled,{__defaults__:{value:{file:"untitled.pyj"}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["file"]}}),newtab.__argnames__||Object.defineProperties(newtab,{__argnames__:{value:["e"]}}),t.newtab=newtab,event_bus.on("toggle-tray",toggle_tray),this.refs.traybutton.onclick=toggle_tray,event_bus.on("traybutton-close",(function traybutton_close(){r.style.display="none",r.style.width="0%",t.refs.split.style.width="100%",t.refs.traybutton.style.backgroundImage="url(icons/tray-show.svg)"})),event_bus.on("traybutton-open",(function traybutton_open(){r.style.display="block",r.style.width="50%",r.style.height="100%",t.refs.split.style.width="50%",t.refs.traybutton.style.backgroundImage="url(icons/tray-hide.svg)"})),event_bus.on("run-code",run),event_bus.on("break-code",(function break_code(){var e,t,n,o,a;t=(e=r.contentWindow).setTimeout(";");for(var s=0;s<t;s++)n=s,e.clearTimeout(n);o=e.setInterval(";");for(var _=0;_<o;_++)n=_,e.clearInterval(n);e.stop(),e.document.body.style.opacity="0.5",a=e.document.getElementsByTagName("input");for(var l,i=ρσ_Iterable(a),p=0;p<i.length;p++)(n=i[p]).disabled=!0;e.addEventListener("click",((l=function(e){e.stopPropagation()}).__argnames__||Object.defineProperties(l,{__argnames__:{value:["ev"]}}),l),!0)})),event_bus.on("clear-output",(function clear_output(){r.contentWindow.document.getElementById("__terminal__").innerHTML=""})),save.__defaults__||Object.defineProperties(save,{__defaults__:{value:{activity:window.activity}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["activity"]}}),event_bus.on("activity-save",save),example_load.__defaults__||Object.defineProperties(example_load,{__defaults__:{value:{execute:!0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["file","execute"]}}),event_bus.on("example-load",example_load),t.refs.file_input.onchange=function process_file(){var r,n,o;r=t.refs.file_input.files[0],n=new FileReader,"application/zip"===r.type||"object"==typeof r.type&&ρσ_equals(r.type,"application/zip")?JSZip.loadAsync(r).then(((o=function(r){r.forEach(function(){var ρσ_anonfunc=function(r,n){var o;ρσ_equals(r.slice(0,4),"src/")&&"src/"!==r&&("object"!=typeof r||ρσ_not_equals(r,"src/"))&&ρσ_equals(r.slice(-4),".pyj")&&(o=r.slice(4),n.async("text").then(function(){var ρσ_anonfunc=function(r){var n;n=CodeMirror.Doc(str(r)),(ρσ_expr_temp=window.files)["number"==typeof o&&o<0?ρσ_expr_temp.length+o:o]=n,e.swapDoc(n),e.setOption("mode","python"),t.title=o,t.update()};return ρσ_anonfunc.__argnames__||Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:["data"]}}),ρσ_anonfunc}()))};return ρσ_anonfunc.__argnames__||Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:["relpath","zippedfile"]}}),ρσ_anonfunc}())}).__argnames__||Object.defineProperties(o,{__argnames__:{value:["zip"]}}),o)):(n.onload=function(){var ρσ_anonfunc=function(e){var n;n=CodeMirror.Doc(e.target.result),(ρσ_expr_temp=window.files)[ρσ_bound_index(r.name,ρσ_expr_temp)]=n,t.update()};return ρσ_anonfunc.__argnames__||Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:["evt"]}}),ρσ_anonfunc}(),n.readAsText(r))},event_bus.on("import-file",(function import_file(){t.refs.file_input.click()})),restore.__argnames__||Object.defineProperties(restore,{__argnames__:{value:["e"]}}),run_fullscreen.__defaults__||Object.defineProperties(run_fullscreen,{__defaults__:{value:{execute:!0}},__handles_kwarg_interpolation__:{value:!0},__argnames__:{value:["execute"]}}),event_bus.on("run-fullscreen",run_fullscreen),event_bus.on("save-as-zip",(function save_zip(){var e,o,a;event_bus.trigger("activity-save",activity),e=t.title.slice(0,t.title.indexOf(".")),o=compile(),window.location.protocol,requirejs(ρσ_list_decorate(["text!template"]),((a=function(t){var a,s,_,l,i,p,c,u,d;(a=r.contentDocument.createElement("script")).innerHTML=o,s=a.outerHTML+"\n",_=t.indexOf("</body>"),l=t.slice(0,_)+s+t.slice(_),i=ρσ_list_decorate([]);for(var g=ρσ_Iterable(n.findall('script.*src="(.*)"',t)),h=0;h<g.length;h++)p=(p="text!"+(c=g[h]).slice(c.indexOf("=")+2,-1)).replace("lib/",""),i.append(p);(u=new JSZip).file("index.html",l);for(var f=ρσ_Iterable(window.files),b=0;b<f.length;b++)d=f[b],u.file("src/"+d,(ρσ_expr_temp=window.files)["number"==typeof d&&d<0?ρσ_expr_temp.length+d:d].getValue());requirejs(i,(function(){var t,r,n=Array.prototype.slice.call(arguments,0);null!==arguments[arguments.length-1]&&"object"==typeof arguments[arguments.length-1]&&!0===arguments[arguments.length-1][ρσ_kwargs_symbol]&&n.pop(),t=0;for(var o=ρσ_Iterable(i),a=0;a<o.length;a++)r=(r=o[a]).slice(5),ρσ_in("/",r)||(r="lib/"+r),u.file(r,n["number"==typeof t&&t<0?n.length+t:t]),t+=1;u.generateAsync(function(){var e={type:"blob"};return e}.call(this)).then(function(){var ρσ_anonfunc=function(t){saveAs(t,e+".zip")};return ρσ_anonfunc.__argnames__||Object.defineProperties(ρσ_anonfunc,{__argnames__:{value:["blob"]}}),ρσ_anonfunc}())}))}).__argnames__||Object.defineProperties(a,{__argnames__:{value:["data"]}}),a))})),this.editor=e,window.editor=e,e.focus()}))}));