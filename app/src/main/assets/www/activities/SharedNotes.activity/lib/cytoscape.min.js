/*!
Copyright (c) 2016 The Cytoscape Consortium

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the “Software”), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/
!function(b){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=b();else if("function"==typeof define&&define.amd)define([],b);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).cytoscape=b()}}((function(){var define,module,exports;return function e(b,x,w){function i(S,D){if(!x[S]){if(!b[S]){var C="function"==typeof require&&require;if(!D&&C)return C(S,!0);if(E)return E(S,!0);var B=new Error("Cannot find module '"+S+"'");throw B.code="MODULE_NOT_FOUND",B}var I=x[S]={exports:{}};b[S][0].call(I.exports,(function(x){var w=b[S][1][x];return i(w||x)}),I,I.exports,e,b,x,w)}return x[S].exports}for(var E="function"==typeof require&&require,S=0;S<w.length;S++)i(w[S]);return i}({1:[function(b,x,w){"use strict";var E=b("./util"),S=b("./is"),D=b("./promise"),o=function(b,x,w){if(!(this instanceof o))return new o(b,x,w);var D=this._private=E.extend({duration:1e3},x,w);D.target=b,D.style=D.style||D.css,D.started=!1,D.playing=!1,D.hooked=!1,D.applying=!1,D.progress=0,D.completes=[],D.frames=[],D.complete&&S.fn(D.complete)&&D.completes.push(D.complete),this.length=1,this[0]=this},C=o.prototype;E.extend(C,{instanceString:function(){return"animation"},hook:function(){var b=this._private;if(!b.hooked){var x=b.target._private.animation;(b.queue?x.queue:x.current).push(this),S.elementOrCollection(b.target)&&b.target.cy().addToAnimationPool(b.target),b.hooked=!0}return this},play:function(){var b=this._private;return 1===b.progress&&(b.progress=0),b.playing=!0,b.started=!1,b.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var b=this._private;return b.applying=!0,b.started=!1,b.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var b=this._private;return b.playing=!1,b.started=!1,this},stop:function(){var b=this._private;return b.playing=!1,b.started=!1,b.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(b){var x=this._private;return void 0===b?x.progress*x.duration:this.progress(b/x.duration)},progress:function(b){var x=this._private,w=x.playing;return void 0===b?x.progress:(w&&this.pause(),x.progress=b,x.started=!1,w&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var b=this._private,x=b.playing;x&&this.pause(),b.progress=1-b.progress,b.started=!1;var r=function(x,w){var E=b[x];b[x]=b[w],b[w]=E};r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition");for(var w=0;w<b.style.length;w++){var S=b.style[w],D=S.name,C=b.startStyle[D];b.startStyle[D]=b.startStyle[E.dash2camel(D)]=S,b.style[w]=C}return x&&this.play(),this},promise:function(b){var x,w=this._private;if("frame"===b)x=w.frames;else x=w.completes;return new D((function(b,w){x.push((function(){b()}))}))}}),C.complete=C.completed,x.exports=o},{"./is":77,"./promise":80,"./util":94}],2:[function(b,x,w){"use strict";var E=b("../../is"),S={aStar:function(b){b=b||{};var r=function(b,w,E,S){if(b==w)return S.push(x.getElementById(w)),S;if(w in E){var D=E[w],C=X[w];return S.push(x.getElementById(w)),S.push(x.getElementById(C)),r(b,D,E,S)}},i=function(b,x){if(0!==b.length){for(var w=0,E=x[b[0]],S=1;S<b.length;S++){var D=x[b[S]];E>D&&(E=D,w=S)}return w}},x=this._private.cy;if(null!=b&&null!=b.root){var w=E.string(b.root)?this.filter(b.root)[0]:b.root[0];if(null!=b.goal){var S=E.string(b.goal)?this.filter(b.goal)[0]:b.goal[0];if(null!=b.heuristic&&E.fn(b.heuristic))var D=b.heuristic;else D=function(){return 0};if(null!=b.weight&&E.fn(b.weight))var C=b.weight;else C=function(b){return 1};if(null!=b.directed)var B=b.directed;else B=!1;var I=[],A=[w.id()],F={},X={},Y={},$={};Y[w.id()]=0,$[w.id()]=D(w);for(var H=this.edges().stdFilter((function(b){return!b.isLoop()})),W=this.nodes(),Z=0;A.length>0;){var U=i(A,$),J=x.getElementById(A[U]);if(Z++,J.id()==S.id()){var Q=r(w.id(),S.id(),F,[]);return Q.reverse(),{found:!0,distance:Y[J.id()],path:this.spawn(Q),steps:Z}}I.push(J.id()),A.splice(U,1);var ee=J.connectedEdges();B&&(ee=ee.stdFilter((function(b){return b.data("source")===J.id()}))),ee=ee.intersect(H);for(var ne=0;ne<ee.length;ne++){var re=ee[ne],ie=re.connectedNodes().stdFilter((function(b){return b.id()!==J.id()})).intersect(W);if(-1==I.indexOf(ie.id())){var ae=Y[J.id()]+C.apply(re,[re]);-1!=A.indexOf(ie.id())?ae<Y[ie.id()]&&(Y[ie.id()]=ae,$[ie.id()]=ae+D(ie),F[ie.id()]=J.id()):(Y[ie.id()]=ae,$[ie.id()]=ae+D(ie),A.push(ie.id()),F[ie.id()]=J.id(),X[ie.id()]=re.id())}}}return{found:!1,distance:void 0,path:void 0,steps:Z}}}}};x.exports=S},{"../../is":77}],3:[function(b,x,w){"use strict";var E=b("../../is"),S=b("../../util"),D={bellmanFord:function(b){var x=this;if(null!=(b=b||{}).weight&&E.fn(b.weight))var w=b.weight;else w=function(b){return 1};if(null!=b.directed)var D=b.directed;else D=!1;if(null!=b.root){if(E.string(b.root))var C=this.filter(b.root)[0];else C=b.root[0];for(var B=this._private.cy,I=this.edges().stdFilter((function(b){return!b.isLoop()})),A=this.nodes(),F=A.length,X={},Y=0;F>Y;Y++)X[A[Y].id()]=Y;var $=[],H=[],W=[];for(Y=0;F>Y;Y++)A[Y].id()===C.id()?$[Y]=0:$[Y]=1/0,H[Y]=void 0;var Z=!1;for(Y=1;F>Y;Y++){Z=!1;for(var U=0;U<I.length;U++){var J,Q=X[I[U].source().id()],ee=X[I[U].target().id()],ne=w.apply(I[U],[I[U]]);if((J=$[Q]+ne)<$[ee]&&($[ee]=J,H[ee]=Q,W[ee]=I[U],Z=!0),!D)(J=$[ee]+ne)<$[Q]&&($[Q]=J,H[Q]=ee,W[Q]=I[U],Z=!0)}if(!Z)break}if(Z)for(U=0;U<I.length;U++){Q=X[I[U].source().id()],ee=X[I[U].target().id()],ne=w.apply(I[U],[I[U]]);if($[Q]+ne<$[ee])return S.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}var re=[];for(Y=0;F>Y;Y++)re.push(A[Y].id());var ie={distanceTo:function(b){if(E.string(b))var x=B.filter(b)[0].id();else x=b.id();return $[X[x]]},pathTo:function(b){if(E.string(b))var w=B.filter(b)[0].id();else w=b.id();var S=function(b,x,w,E,S,D){for(;;){if(S.push(B.getElementById(E[w])),S.push(D[w]),x===w)return S;var C=b[w];if(void 0===C)return;w=C}}(H,X[C.id()],X[w],re,[],W);return null!=S&&S.reverse(),x.spawn(S)},hasNegativeWeightCycle:!1};return ie}}};x.exports=D},{"../../is":77,"../../util":94}],4:[function(b,x,w){"use strict";var E=b("../../is"),S={betweennessCentrality:function(b){if(null!=(b=b||{}).weight&&E.fn(b.weight))var x=b.weight,w=!0;else w=!1;if(null!=b.directed&&E.bool(b.directed))var S=b.directed;else S=!1;for(var a=function(b,x){b.unshift(x);for(var w=0;H[b[w]]<H[b[w+1]]&&w<b.length-1;w++){var E=b[w];b[w]=b[w+1],b[w+1]=E}},D=this._private.cy,C=this.nodes(),B={},I={},A=0;A<C.length;A++)B[C[A].id()]=S?C[A].outgoers("node"):C[A].openNeighborhood("node");for(A=0;A<C.length;A++)I[C[A].id()]=0;for(var F=0;F<C.length;F++){var X=[],Y={},$={},H={},W=[];for(A=0;A<C.length;A++)Y[C[A].id()]=[],$[C[A].id()]=0,H[C[A].id()]=Number.POSITIVE_INFINITY;for($[C[F].id()]=1,H[C[F].id()]=0,W.unshift(C[F].id());W.length>0;){var Z=W.pop();X.push(Z),w?B[Z].forEach((function(b){if(D.$("#"+Z).edgesTo(b).length>0)var w=D.$("#"+Z).edgesTo(b)[0];else w=b.edgesTo("#"+Z)[0];var E=x.apply(w,[w]);H[b.id()]>H[Z]+E&&(H[b.id()]=H[Z]+E,W.indexOf(b.id())<0||W.splice(W.indexOf(b.id()),1),a(W,b.id()),$[b.id()]=0,Y[b.id()]=[]),H[b.id()]==H[Z]+E&&($[b.id()]=$[b.id()]+$[Z],Y[b.id()].push(Z))})):B[Z].forEach((function(b){H[b.id()]==Number.POSITIVE_INFINITY&&(W.unshift(b.id()),H[b.id()]=H[Z]+1),H[b.id()]==H[Z]+1&&($[b.id()]=$[b.id()]+$[Z],Y[b.id()].push(Z))}))}var U={};for(A=0;A<C.length;A++)U[C[A].id()]=0;for(;X.length>0;){var J=X.pop();Y[J].forEach((function(b){U[b]=U[b]+$[b]/$[J]*(1+U[J]),J!=C[F].id()&&(I[J]=I[J]+U[J])}))}}var Q=0;for(var ee in I)Q<I[ee]&&(Q=I[ee]);var ne={betweenness:function(b){if(E.string(b))b=D.filter(b)[0].id();else b=b.id();return I[b]},betweennessNormalized:function(b){if(E.string(b))b=D.filter(b)[0].id();else b=b.id();return I[b]/Q}};return ne.betweennessNormalised=ne.betweennessNormalized,ne}};S.bc=S.betweennessCentrality,x.exports=S},{"../../is":77}],5:[function(b,x,w){"use strict";var E=b("../../is"),S=b("../../heap"),a=function(b){return b={bfs:b.bfs||!b.dfs,dfs:b.dfs||!b.bfs},function(x,w,S){var D,C,B;E.plainObject(x)&&!E.elementOrCollection(x)&&(x=(D=x).roots||D.root,w=D.visit,S=D.directed,C=D.std,B=D.thisArg),S=2!==arguments.length||E.fn(w)?S:w,w=E.fn(w)?w:function(){};for(var I,A=this._private.cy,F=x=E.string(x)?this.filter(x):x,X=[],Y=[],$={},H={},W={},Z=0,U=this.nodes(),J=this.edges(),Q=0;Q<F.length;Q++)F[Q].isNode()&&(X.unshift(F[Q]),b.bfs&&(W[F[Q].id()]=!0,Y.push(F[Q])),H[F[Q].id()]=0);for(;0!==X.length;){F=b.bfs?X.shift():X.pop();if(b.dfs){if(W[F.id()])continue;W[F.id()]=!0,Y.push(F)}var ee,ne=H[F.id()],re=$[F.id()],ie=null==re?void 0:re.connectedNodes().not(F)[0];if(!0===(ee=C?w.call(B,F,re,ie,Z++,ne):w.call(F,Z++,ne,F,re,ie))){I=F;break}if(!1===ee)break;var ae=F.connectedEdges(S?function(){return this.data("source")===F.id()}:void 0).intersect(J);for(Q=0;Q<ae.length;Q++){var oe=ae[Q],le=oe.connectedNodes((function(){return this.id()!==F.id()})).intersect(U);0===le.length||W[le.id()]||(le=le[0],X.push(le),b.bfs&&(W[le.id()]=!0,Y.push(le)),$[le.id()]=oe,H[le.id()]=H[F.id()]+1)}}var ce=[];for(Q=0;Q<Y.length;Q++){var de=Y[Q],he=$[de.id()];he&&ce.push(he),ce.push(de)}return{path:A.collection(ce,{unique:!0}),found:A.collection(I)}}},D={breadthFirstSearch:a({bfs:!0}),depthFirstSearch:a({dfs:!0}),kruskal:function(b){function t(b){for(var x=0;x<S.length;x++){var w=S[x];if(w.anySame(b))return{eles:w,index:x}}}var x=this.cy();b=E.fn(b)?b:function(){return 1};for(var w=x.collection(x,[]),S=[],D=this.nodes(),C=0;C<D.length;C++)S.push(D[C].collection());var B=this.edges().toArray().sort((function(x,w){return b.call(x,x)-b.call(w,w)}));for(C=0;C<B.length;C++){var I=B[C],A=I.source()[0],F=I.target()[0],X=t(A),Y=t(F);X.index!==Y.index&&(w=w.add(I),S[X.index]=X.eles.add(Y.eles),S.splice(Y.index,1))}return D.add(w)},dijkstra:function(b,x,w){var D;E.plainObject(b)&&!E.elementOrCollection(b)&&(b=(D=b).root,x=D.weight,w=D.directed);var C=this._private.cy;x=E.fn(x)?x:function(){return 1};for(var B=E.string(b)?this.filter(b)[0]:b[0],I={},A={},F={},X=this.edges().filter((function(){return!this.isLoop()})),Y=this.nodes(),p=function(b){return I[b.id()]},v=function(b,x){I[b.id()]=x,$.updateItem(b)},$=new S((function(b,x){return p(b)-p(x)})),H=0;H<Y.length;H++){var W=Y[H];I[W.id()]=W.same(B)?0:1/0,$.push(W)}for(var m=function(b,E){for(var S,D=(w?b.edgesTo(E):b.edgesWith(E)).intersect(X),C=1/0,B=0;B<D.length;B++){var I=D[B],A=x.apply(I,[I]);(C>A||!S)&&(C=A,S=I)}return{edge:S,dist:C}};$.size()>0;){var Z=$.pop(),U=p(Z),J=Z.id();if(F[J]=U,U===Math.Infinite)break;var Q=Z.neighborhood().intersect(Y);for(H=0;H<Q.length;H++){var ee=Q[H],ne=ee.id(),re=m(Z,ee),ie=U+re.dist;ie<p(ee)&&(v(ee,ie),A[ne]={node:Z,edge:re.edge})}}return{distanceTo:function(b){var x=E.string(b)?Y.filter(b)[0]:b[0];return F[x.id()]},pathTo:function(b){var x=E.string(b)?Y.filter(b)[0]:b[0],w=[],S=x;if(x.length>0)for(w.unshift(x);A[S.id()];){var D=A[S.id()];w.unshift(D.edge),w.unshift(D.node),S=D.node}return C.collection(w)}}}};D.bfs=D.breadthFirstSearch,D.dfs=D.depthFirstSearch,x.exports=D},{"../../heap":75,"../../is":77}],6:[function(b,x,w){"use strict";var E=b("../../is"),S={closenessCentralityNormalized:function(b){b=b||{};var x=this.cy(),w=b.harmonic;void 0===w&&(w=!0);for(var S={},D=0,C=this.nodes(),B=this.floydWarshall({weight:b.weight,directed:b.directed}),I=0;I<C.length;I++){for(var A=0,F=0;F<C.length;F++)if(I!=F){var X=B.distance(C[I],C[F]);A+=w?1/X:X}w||(A=1/A),A>D&&(D=A),S[C[I].id()]=A}return{closeness:function(b){if(E.string(b))b=x.filter(b)[0].id();else b=b.id();return S[b]/D}}},closenessCentrality:function(b){if(null!=(b=b||{}).root){if(E.string(b.root))var x=this.filter(b.root)[0];else x=b.root[0];if(null!=b.weight&&E.fn(b.weight))var w=b.weight;else w=function(){return 1};if(null!=b.directed&&E.bool(b.directed))var S=b.directed;else S=!1;var D=b.harmonic;void 0===D&&(D=!0);for(var C=this.dijkstra({root:x,weight:w,directed:S}),B=0,I=this.nodes(),A=0;A<I.length;A++)if(I[A].id()!=x.id()){var F=C.distanceTo(I[A]);B+=D?1/F:F}return D?B:1/B}}};S.cc=S.closenessCentrality,S.ccn=S.closenessCentralityNormalised=S.closenessCentralityNormalized,x.exports=S},{"../../is":77}],7:[function(b,x,w){"use strict";var E=b("../../is"),S=b("../../util"),D={degreeCentralityNormalized:function(b){b=b||{};var x=this.cy();if(null!=b.directed)var w=b.directed;else w=!1;var D=this.nodes(),C=D.length;if(w){for(var B={},I={},A=0,F=0,X=0;C>X;X++){var Y=D[X],$=this.degreeCentrality(S.extend({},b,{root:Y}));A<$.indegree&&(A=$.indegree),F<$.outdegree&&(F=$.outdegree),B[Y.id()]=$.indegree,I[Y.id()]=$.outdegree}return{indegree:function(b){if(E.string(b))b=x.filter(b)[0].id();else b=b.id();return B[b]/A},outdegree:function(b){if(E.string(b))b=x.filter(b)[0].id();else b=b.id();return I[b]/F}}}var H={},W=0;for(X=0;C>X;X++){Y=D[X],$=this.degreeCentrality(S.extend({},b,{root:Y}));W<$.degree&&(W=$.degree),H[Y.id()]=$.degree}return{degree:function(b){if(E.string(b))b=x.filter(b)[0].id();else b=b.id();return H[b]/W}}},degreeCentrality:function(b){var x=this;if(null!=(b=b||{})&&null!=b.root){var w=E.string(b.root)?this.filter(b.root)[0]:b.root[0];if(null!=b.weight&&E.fn(b.weight))var S=b.weight;else S=function(b){return 1};if(null!=b.directed)var D=b.directed;else D=!1;if(null!=b.alpha&&E.number(b.alpha))var C=b.alpha;else C=0;if(D){for(var B=w.connectedEdges('edge[target = "'+w.id()+'"]').intersection(x),I=w.connectedEdges('edge[source = "'+w.id()+'"]').intersection(x),A=B.length,F=I.length,X=0,Y=0,$=0;$<B.length;$++){var H=B[$];X+=S.apply(H,[H])}for($=0;$<I.length;$++){H=I[$];Y+=S.apply(H,[H])}return{indegree:Math.pow(A,1-C)*Math.pow(X,C),outdegree:Math.pow(F,1-C)*Math.pow(Y,C)}}var W=w.connectedEdges().intersection(x),Z=W.length,U=0;for($=0;$<W.length;$++){H=W[$];U+=S.apply(H,[H])}return{degree:Math.pow(Z,1-C)*Math.pow(U,C)}}}};D.dc=D.degreeCentrality,D.dcn=D.degreeCentralityNormalised=D.degreeCentralityNormalized,x.exports=D},{"../../is":77,"../../util":94}],8:[function(b,x,w){"use strict";var E=b("../../is"),S={floydWarshall:function(b){b=b||{};var x=this.cy();if(null!=b.weight&&E.fn(b.weight))var w=b.weight;else w=function(b){return 1};if(null!=b.directed)var S=b.directed;else S=!1;for(var D=this.edges().stdFilter((function(b){return!b.isLoop()})),C=this.nodes(),B=C.length,I={},A=0;B>A;A++)I[C[A].id()]=A;var F=[];for(A=0;B>A;A++){for(var X=new Array(B),Y=0;B>Y;Y++)X[Y]=A==Y?0:1/0;F.push(X)}var $=[],H=[],f=function(b){for(var x=0;B>x;x++){for(var w=new Array(B),E=0;B>E;E++)w[E]=void 0;b.push(w)}};f($),f(H);for(A=0;A<D.length;A++){var W=I[D[A].source().id()],Z=I[D[A].target().id()],U=w.apply(D[A],[D[A]]);F[W][Z]>U&&(F[W][Z]=U,$[W][Z]=Z,H[W][Z]=D[A])}if(!S)for(A=0;A<D.length;A++){W=I[D[A].target().id()],Z=I[D[A].source().id()],U=w.apply(D[A],[D[A]]);F[W][Z]>U&&(F[W][Z]=U,$[W][Z]=Z,H[W][Z]=D[A])}for(var J=0;B>J;J++)for(A=0;B>A;A++)for(Y=0;B>Y;Y++)F[A][J]+F[J][Y]<F[A][Y]&&(F[A][Y]=F[A][J]+F[J][Y],$[A][Y]=$[A][J]);var Q=[];for(A=0;B>A;A++)Q.push(C[A].id());var ee={distance:function(b,w){if(E.string(b))var S=x.filter(b)[0].id();else S=b.id();if(E.string(w))var D=x.filter(w)[0].id();else D=w.id();return F[I[S]][I[D]]},path:function(b,w){if(E.string(b))var S=x.filter(b)[0].id();else S=b.id();if(E.string(w))var D=x.filter(w)[0].id();else D=w.id();var C=function(b,w,E,S,D){if(b===w)return x.getElementById(S[b]);if(void 0!==E[b][w]){for(var C=[x.getElementById(S[b])],B=b;b!==w;){B=b,b=E[b][w];var I=D[B][b];C.push(I),C.push(x.getElementById(S[b]))}return C}}(I[S],I[D],$,Q,H);return x.collection(C)}};return ee}};x.exports=S},{"../../is":77}],9:[function(b,x,w){"use strict";var E=b("../../util"),S={};[b("./bfs-dfs"),b("./a-star"),b("./floyd-warshall"),b("./bellman-ford"),b("./kerger-stein"),b("./page-rank"),b("./degree-centrality"),b("./closeness-centrality"),b("./betweenness-centrality")].forEach((function(b){E.extend(S,b)})),x.exports=S},{"../../util":94,"./a-star":2,"./bellman-ford":3,"./betweenness-centrality":4,"./bfs-dfs":5,"./closeness-centrality":6,"./degree-centrality":7,"./floyd-warshall":8,"./kerger-stein":10,"./page-rank":11}],10:[function(b,x,w){"use strict";var E=b("../../util"),S={kargerStein:function(b){var x=this;b=b||{};var i=function(b,x,w,E){if(E>=w)return x;var S=function(b,x,w){for(var E=w[b],S=E[1],D=E[2],C=x[S],B=x[D],I=w.filter((function(b){return!(x[b[1]]===C&&x[b[2]]===B||x[b[1]]===B&&x[b[2]]===C)})),A=0;A<I.length;A++){var F=I[A];F[1]===B?(I[A]=F.slice(0),I[A][1]=C):F[2]===B&&(I[A]=F.slice(0),I[A][2]=C)}for(A=0;A<x.length;A++)x[A]===B&&(x[A]=C);return I}(Math.floor(Math.random()*x.length),b,x);return i(b,S,w-1,E)},w=this._private.cy,S=this.edges().stdFilter((function(b){return!b.isLoop()})),D=this.nodes(),C=D.length,B=S.length,I=Math.ceil(Math.pow(Math.log(C)/Math.LN2,2)),A=Math.floor(C/Math.sqrt(2));if(!(2>C)){for(var F={},X=0;C>X;X++)F[D[X].id()]=X;var Y=[];for(X=0;B>X;X++){var $=S[X];Y.push([X,F[$.source().id()],F[$.target().id()]])}var H,W=1/0,Z=[];for(X=0;C>X;X++)Z.push(X);for(var U=0;I>=U;U++){var J=Z.slice(0),Q=i(J,Y,C,A),ee=J.slice(0),ne=i(J,Q,A,2),re=i(ee,Q,A,2);ne.length<=re.length&&ne.length<W?(W=ne.length,H=[ne,J]):re.length<=ne.length&&re.length<W&&(W=re.length,H=[re,ee])}var ie=H[0].map((function(b){return S[b[0]]})),ae=[],oe=[],le=H[1][0];for(X=0;X<H[1].length;X++){H[1][X]===le?ae.push(D[X]):oe.push(D[X])}return{cut:x.spawn(w,ie),partition1:x.spawn(ae),partition2:x.spawn(oe)}}E.error("At least 2 nodes are required for Karger-Stein algorithm")}};x.exports=S},{"../../util":94}],11:[function(b,x,w){"use strict";var E=b("../../is"),S={pageRank:function(b){var t=function(b){for(var x=b.length,w=0,E=0;x>E;E++)w+=b[E];for(E=0;x>E;E++)b[E]=b[E]/w};if(null!=(b=b||{})&&null!=b.dampingFactor)var x=b.dampingFactor;else x=.8;if(null!=b&&null!=b.precision)var w=b.precision;else w=1e-6;if(null!=b&&null!=b.iterations)var S=b.iterations;else S=200;if(null!=b&&null!=b.weight&&E.fn(b.weight))var D=b.weight;else D=function(b){return 1};for(var C=this._private.cy,B=this.edges().stdFilter((function(b){return!b.isLoop()})),I=this.nodes(),A=I.length,F=B.length,X={},Y=0;A>Y;Y++)X[I[Y].id()]=Y;var $=[],H=[],W=(1-x)/A;for(Y=0;A>Y;Y++){for(var Z=[],U=0;A>U;U++)Z.push(0);$.push(Z),H.push(0)}for(Y=0;F>Y;Y++){var J=B[Y],Q=X[J.source().id()],ee=X[J.target().id()],ne=D.apply(J,[J]);$[ee][Q]+=ne,H[Q]+=ne}var re=1/A+W;for(U=0;A>U;U++)if(0===H[U])for(Y=0;A>Y;Y++)$[Y][U]=re;else for(Y=0;A>Y;Y++)$[Y][U]=$[Y][U]/H[U]+W;var ie,ae=[],oe=[];for(Y=0;A>Y;Y++)ae.push(1),oe.push(0);for(var le=0;S>le;le++){var ce=oe.slice(0);for(Y=0;A>Y;Y++)for(U=0;A>U;U++)ce[Y]+=$[Y][U]*ae[U];t(ce),ie=ae,ae=ce;var de=0;for(Y=0;A>Y;Y++)de+=Math.pow(ie[Y]-ae[Y],2);if(w>de)break}var he={rank:function(b){if(E.string(b))var x=C.filter(b)[0].id();else x=b.id();return ae[X[x]]}};return he}};x.exports=S},{"../../is":77}],12:[function(b,x,w){"use strict";var E=b("../define"),S={animate:E.animate(),animation:E.animation(),animated:E.animated(),clearQueue:E.clearQueue(),delay:E.delay(),delayAnimation:E.delayAnimation(),stop:E.stop()};x.exports=S},{"../define":41}],13:[function(b,x,w){"use strict";var E=b("../util"),S={classes:function(b){b=b.match(/\S+/g)||[];for(var x=this,w=[],S={},D=0;D<b.length;D++){S[b[D]]=!0}for(var C=0;C<x.length;C++){var B=x[C],I=B._private,A=I.classes,F=!1;for(D=0;D<b.length;D++){if(!(Y=A[b[D]])){F=!0;break}}if(!F)for(var X in A){var Y=A[X],$=S[X];if(Y&&!$){F=!0;break}}F&&(I.classes=E.copy(S),w.push(B))}return w.length>0&&this.spawn(w).updateStyle().trigger("class"),x},addClass:function(b){return this.toggleClass(b,!0)},hasClass:function(b){var x=this[0];return!(null==x||!x._private.classes[b])},toggleClass:function(b,x){for(var w=b.match(/\S+/g)||[],E=this,S=[],D=0,C=E.length;C>D;D++)for(var B=E[D],I=!1,A=0;A<w.length;A++){var F=w[A],X=B._private.classes,Y=X[F];x||void 0===x&&!Y?(X[F]=!0,Y||I||(S.push(B),I=!0)):(X[F]=!1,Y&&!I&&(S.push(B),I=!0))}return S.length>0&&this.spawn(S).updateStyle().trigger("class"),E},removeClass:function(b){return this.toggleClass(b,!1)},flashClass:function(b,x){var w=this;if(null==x)x=250;else if(0===x)return w;return w.addClass(b),setTimeout((function(){w.removeClass(b)}),x),w}};x.exports=S},{"../util":94}],14:[function(b,x,w){"use strict";var E={allAre:function(b){return this.filter(b).length===this.length},is:function(b){return this.filter(b).length>0},some:function(b,x){for(var w=0;w<this.length;w++){if(x?b.apply(x,[this[w],w,this]):b(this[w],w,this))return!0}return!1},every:function(b,x){for(var w=0;w<this.length;w++){if(!(x?b.apply(x,[this[w],w,this]):b(this[w],w,this)))return!1}return!0},same:function(b){return b=this.cy().collection(b),this.length===b.length&&this.intersect(b).length===this.length},anySame:function(b){return b=this.cy().collection(b),this.intersect(b).length>0},allAreNeighbors:function(b){return b=this.cy().collection(b),this.neighborhood().intersect(b).length===b.length}};E.allAreNeighbours=E.allAreNeighbors,x.exports=E},{}],15:[function(b,x,w){"use strict";var E={parent:function(b){for(var x=[],w=this._private.cy,E=0;E<this.length;E++){var S=this[E],D=w.getElementById(S._private.data.parent);D.size()>0&&x.push(D)}return this.spawn(x,{unique:!0}).filter(b)},parents:function(b){for(var x=[],w=this.parent();w.nonempty();){for(var E=0;E<w.length;E++){var S=w[E];x.push(S)}w=w.parent()}return this.spawn(x,{unique:!0}).filter(b)},commonAncestors:function(b){for(var x,w=0;w<this.length;w++){var E=this[w].parents();x=(x=x||E).intersect(E)}return x.filter(b)},orphans:function(b){return this.stdFilter((function(b){return b.isNode()&&b.parent().empty()})).filter(b)},nonorphans:function(b){return this.stdFilter((function(b){return b.isNode()&&b.parent().nonempty()})).filter(b)},children:function(b){for(var x=[],w=0;w<this.length;w++){var E=this[w];x=x.concat(E._private.children)}return this.spawn(x,{unique:!0}).filter(b)},siblings:function(b){return this.parent().children().not(this).filter(b)},isParent:function(){var b=this[0];return b?0!==b._private.children.length:void 0},isChild:function(){var b=this[0];return b?void 0!==b._private.data.parent&&0!==b.parent().length:void 0},descendants:function(b){var x=[];return function t(b){for(var w=0;w<b.length;w++){var E=b[w];x.push(E),E.children().nonempty()&&t(E.children())}}(this.children()),this.spawn(x,{unique:!0}).filter(b)}};E.ancestors=E.parents,x.exports=E},{}],16:[function(b,x,w){"use strict";var E,S,D=b("../define");E=S={data:D.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:D.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:D.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:D.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:D.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:D.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var b=this[0];return b?b._private.data.id:void 0}},E.attr=E.data,E.removeAttr=E.removeData,x.exports=S},{"../define":41}],17:[function(b,x,w){"use strict";function n(b){return function(x){var w=this;if(void 0===x&&(x=!0),0!==w.length&&w.isNode()&&!w.removed()){for(var E=0,S=w[0],D=S._private.edges,C=0;C<D.length;C++){var B=D[C];!x&&B.isLoop()||(E+=b(S,B))}return E}}}function i(b,x){return function(w){for(var E,S=this.nodes(),D=0;D<S.length;D++){var C=S[D][b](w);void 0===C||void 0!==E&&!x(C,E)||(E=C)}return E}}var E=b("../util"),S={};E.extend(S,{degree:n((function(b,x){return x.source().same(x.target())?2:1})),indegree:n((function(b,x){return x.target().same(b)?1:0})),outdegree:n((function(b,x){return x.source().same(b)?1:0}))}),E.extend(S,{minDegree:i("degree",(function(b,x){return x>b})),maxDegree:i("degree",(function(b,x){return b>x})),minIndegree:i("indegree",(function(b,x){return x>b})),maxIndegree:i("indegree",(function(b,x){return b>x})),minOutdegree:i("outdegree",(function(b,x){return x>b})),maxOutdegree:i("outdegree",(function(b,x){return b>x}))}),E.extend(S,{totalDegree:function(b){for(var x=0,w=this.nodes(),E=0;E<w.length;E++)x+=w[E].degree(b);return x}}),x.exports=S},{"../util":94}],18:[function(b,x,w){"use strict";var E,S,D=b("../define"),C=b("../is"),B=b("../util");E=S={position:D.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(b){b.updateCompoundBounds().rtrigger("position")},canSet:function(b){return!b.locked()&&!b.isParent()}}),silentPosition:D.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(b){b.updateCompoundBounds()},canSet:function(b){return!b.locked()&&!b.isParent()}}),positions:function(b,x){if(C.plainObject(b))this.position(b);else if(C.fn(b)){for(var w=b,E=0;E<this.length;E++){var S=this[E];if((b=w.apply(S,[E,S]))&&!S.locked()&&!S.isParent()){var D=S._private.position;D.x=b.x,D.y=b.y}}var B=this.updateCompoundBounds(),I=B.length>0?this.add(B):this;x?I.trigger("position"):I.rtrigger("position")}return this},silentPositions:function(b){return this.positions(b,!0)},renderedPosition:function(b,x){var w=this[0],E=this.cy(),S=E.zoom(),D=E.pan(),B=C.plainObject(b)?b:void 0,I=void 0!==B||void 0!==x&&C.string(b);if(w&&w.isNode()){if(!I){var A=w._private.position;return B={x:A.x*S+D.x,y:A.y*S+D.y},void 0===b?B:B[b]}for(var F=0;F<this.length;F++){w=this[F];void 0!==x?w._private.position[b]=(x-D[b])/S:void 0!==B&&(w._private.position={x:(B.x-D.x)/S,y:(B.y-D.y)/S})}this.rtrigger("position")}else if(!I)return;return this},relativePosition:function(b,x){var w=this[0],E=this.cy(),S=C.plainObject(b)?b:void 0,D=void 0!==S||void 0!==x&&C.string(b),B=E.hasCompoundNodes();if(w&&w.isNode()){if(!D){var I=w._private.position,A=$=(Y=B?w.parent():null)&&Y.length>0;$&&(Y=Y[0]);var F=A?Y._private.position:{x:0,y:0};return S={x:I.x-F.x,y:I.y-F.y},void 0===b?S:S[b]}for(var X=0;X<this.length;X++){var Y,$;w=this[X],A=$=(Y=B?w.parent():null)&&Y.length>0;$&&(Y=Y[0]);F=A?Y._private.position:{x:0,y:0};void 0!==x?w._private.position[b]=x+F[b]:void 0!==S&&(w._private.position={x:S.x+F.x,y:S.y+F.y})}this.rtrigger("position")}else if(!D)return;return this},renderedBoundingBox:function(b){var x=this.boundingBox(b),w=this.cy(),E=w.zoom(),S=w.pan(),D=x.x1*E+S.x,C=x.x2*E+S.x,B=x.y1*E+S.y,I=x.y2*E+S.y;return{x1:D,x2:C,y1:B,y2:I,w:C-D,h:I-B}},updateCompoundBounds:function(){function e(b){var w=b.children(),E=b._private.style,S="include"===E["compound-sizing-wrt-labels"].value,D=w.boundingBox({includeLabels:S,includeEdges:!0}),C=E["padding-top"].pfValue,B=E["padding-bottom"].pfValue,I=E["padding-left"].pfValue,A=E["padding-right"].pfValue,F=b._private.position,X=!1;"auto"===E.width.value&&(b._private.autoWidth=D.w,F.x=(D.x1+D.x2-I+A)/2,X=!0),"auto"===E.height.value&&(b._private.autoHeight=D.h,F.y=(D.y1+D.y2-C+B)/2,X=!0),X&&x.push(b)}var b=this.cy();if(!b.styleEnabled()||!b.hasCompoundNodes())return b.collection();for(var x=[],w=this.parent();w.nonempty();){for(var E=0;E<w.length;E++){e(w[E])}w=w.parent()}return this.spawn(x)},boundingBox:function(b){var x=this,w=x._private.cy._private,E=w.styleEnabled,S=void 0===(b=b||B.staticEmptyObject()).includeNodes||b.includeNodes,D=void 0===b.includeEdges||b.includeEdges,C=void 0===b.includeLabels||b.includeLabels;E&&w.renderer.recalculateRenderedStyle(this);for(var I=1/0,A=-1/0,F=1/0,X=-1/0,Y=0;Y<x.length;Y++){var $,H,W,Z,U,J,Q=x[Y],ee=(be=Q._private).style,ne=E?be.style.display.value:"element",re="nodes"===be.group;if("none"!==ne){if(re&&S){!0;var ie=be.position;U=ie.x,J=ie.y;var ae=Q.outerWidth()/2,oe=Q.outerHeight()/2;I=I>($=U-ae)?$:I,A=(H=U+ae)>A?H:A,F=F>(W=J-oe)?W:F,X=(Z=J+oe)>X?Z:X}else if(Q.isEdge()&&D){!0;var le=be.source._private.position,ce=be.target._private.position,de=be.rstyle||{},he=0;if(E&&(he=ee.width.pfValue/2),($=le.x)>(H=ce.x)){var pe=$;$=H,H=pe}if((W=le.y)>(Z=ce.y)){pe=W;W=Z,Z=pe}if(I=I>($-=he)?$:I,A=(H+=he)>A?H:A,F=F>(W-=he)?W:F,X=(Z+=he)>X?Z:X,E)for(var fe=de.bezierPts||de.linePts||[],ge=0;ge<fe.length;ge++){var ye=fe[ge];I=I>($=ye.x-he)?$:I,A=(H=ye.x+he)>A?H:A,F=F>(W=ye.y-he)?W:F,X=(Z=ye.y+he)>X?Z:X}if(E&&"haystack"===ee["curve-style"].strValue){var me=de.haystackPts;if($=me[0].x,W=me[0].y,$>(H=me[1].x)){pe=$;$=H,H=pe}if(W>(Z=me[1].y)){pe=W;W=Z,Z=pe}I=I>$?$:I,A=H>A?H:A,F=F>W?W:F,X=Z>X?Z:X}}if(E){ee=(be=Q._private).style,de=be.rstyle;var be,xe=ee.label.strValue,we=ee["font-size"],_e=ee["text-halign"],Ee=ee["text-valign"],Se=de.labelWidth,De=de.labelHeight,ke=de.labelX,Te=de.labelY,Pe=Q.isEdge(),Ce="autorotate"===ee["edge-text-rotation"].strValue;if(C&&xe&&we&&null!=De&&null!=Se&&null!=ke&&null!=Te&&_e&&Ee){var Ne,Me,Be,ze,Oe=De,Ie=Se;if(Pe){if(Ne=ke-Ie/2,Me=ke+Ie/2,Be=Te-Oe/2,ze=Te+Oe/2,Ce){var Le=be.rscratch.labelAngle,Ae=Math.cos(Le),Re=Math.sin(Le),ue=function(b,x){return{x:(b-=ke)*Ae-(x-=Te)*Re+ke,y:b*Re+x*Ae+Te}},Ve=ue(Ne,Be),Fe=ue(Ne,ze),je=ue(Me,Be),qe=ue(Me,ze);Ne=Math.min(Ve.x,Fe.x,je.x,qe.x),Me=Math.max(Ve.x,Fe.x,je.x,qe.x),Be=Math.min(Ve.y,Fe.y,je.y,qe.y),ze=Math.max(Ve.y,Fe.y,je.y,qe.y)}}else{switch(_e.value){case"left":Ne=ke-Ie,Me=ke;break;case"center":Ne=ke-Ie/2,Me=ke+Ie/2;break;case"right":Ne=ke,Me=ke+Ie}switch(Ee.value){case"top":Be=Te-Oe,ze=Te;break;case"center":Be=Te-Oe/2,ze=Te+Oe/2;break;case"bottom":Be=Te,ze=Te+Oe}}I=I>Ne?Ne:I,A=Me>A?Me:A,F=F>Be?Be:F,X=ze>X?ze:X}}}}var ve=function(b){return b===1/0||b===-1/0?0:b};return{x1:I=ve(I),x2:A=ve(A),y1:F=ve(F),y2:X=ve(X),w:A-I,h:X-F}}};var l=function(b){b.uppercaseName=B.capitalize(b.name),b.autoName="auto"+b.uppercaseName,b.labelName="label"+b.uppercaseName,b.outerName="outer"+b.uppercaseName,b.uppercaseOuterName=B.capitalize(b.outerName),E[b.name]=function(){var x=this[0],w=x._private,E=w.cy._private.styleEnabled;if(x){if(!E)return 1;var S=w.style[b.name];switch(S.strValue){case"auto":return w[b.autoName]||0;case"label":return w.rstyle[b.labelName]||0;default:return S.pfValue}}},E["outer"+b.uppercaseName]=function(){var x=this[0],w=x._private,E=w.cy._private.styleEnabled;if(x){if(E){var S=w.style;return x[b.name]()+S["border-width"].pfValue+(S[b.paddings[0]].pfValue+S[b.paddings[1]].pfValue)}return 1}},E["rendered"+b.uppercaseName]=function(){var x=this[0];if(x)return x[b.name]()*this.cy().zoom()},E["rendered"+b.uppercaseOuterName]=function(){var x=this[0];if(x)return x[b.outerName]()*this.cy().zoom()}};l({name:"width",paddings:["padding-left","padding-right"]}),l({name:"height",paddings:["padding-top","padding-bottom"]}),E.modelPosition=E.point=E.position,E.modelPositions=E.points=E.positions,E.renderedPoint=E.renderedPosition,E.relativePoint=E.relativePosition,E.boundingbox=E.boundingBox,E.renderedBoundingbox=E.renderedBoundingBox,x.exports=S},{"../define":41,"../is":77,"../util":94}],19:[function(b,x,w){"use strict";var E=b("../util"),S=b("../is"),a=function(b,x,w){if(!(this instanceof a))return new a(b,x,w);if(w=!(void 0!==w&&!w),void 0!==b&&void 0!==x&&S.core(b)){var D=x.group;if(null==D&&(D=null!=x.data.source&&null!=x.data.target?"edges":"nodes"),"nodes"===D||"edges"===D){if(this.length=1,this[0]=this,this._private={cy:b,single:!0,data:x.data||{},position:x.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:D,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!x.selected,selectable:void 0===x.selectable||!!x.selectable,locked:!!x.locked,grabbed:!1,grabbable:void 0===x.grabbable||!!x.grabbable,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:x.scratch||{},edges:[],children:[]},x.renderedPosition){var C=x.renderedPosition,B=b.pan(),I=b.zoom();this._private.position={x:(C.x-B.x)/I,y:(C.y-B.y)/I}}if(S.string(x.classes))for(var A=x.classes.split(/\s+/),F=0,X=A.length;X>F;F++){var Y=A[F];Y&&""!==Y&&(this._private.classes[Y]=!0)}(x.style||x.css)&&b.style().applyBypass(this,x.style||x.css),(void 0===w||w)&&this.restore()}else E.error("An element must be of type `nodes` or `edges`; you specified `"+D+"`")}else E.error("An element must have a core reference and parameters set")};x.exports=a},{"../is":77,"../util":94}],20:[function(b,x,w){"use strict";var E=b("../define"),S={on:E.on(),one:E.on({unbindSelfOnTrigger:!0}),once:E.on({unbindAllBindersOnTrigger:!0}),off:E.off(),trigger:E.trigger(),rtrigger:function(b,x){return 0!==this.length?(this.cy().notify({type:b,collection:this}),this.trigger(b,x),this):void 0}};E.eventAliasesOn(S),x.exports=S},{"../define":41}],21:[function(b,x,w){"use strict";var E=b("../is"),S=b("../selector"),D={nodes:function(b){return this.filter((function(b,x){return x.isNode()})).filter(b)},edges:function(b){return this.filter((function(b,x){return x.isEdge()})).filter(b)},filter:function(b){if(E.fn(b)){for(var x=[],w=0;w<this.length;w++){var D=this[w];b.apply(D,[w,D])&&x.push(D)}return this.spawn(x)}return E.string(b)||E.elementOrCollection(b)?S(b).filter(this):void 0===b?this:this.spawn()},not:function(b){if(b){E.string(b)&&(b=this.filter(b));for(var x=[],w=0;w<this.length;w++){var S=this[w];b._private.ids[S.id()]||x.push(S)}return this.spawn(x)}return this},absoluteComplement:function(){return this._private.cy.elements().not(this)},intersect:function(b){if(E.string(b)){var x=b;return this.filter(x)}for(var w=[],S=b,D=this.length<b.length,C=D?S._private.ids:this._private.ids,B=D?this:S,I=0;I<B.length;I++){var A=C[B[I]._private.data.id];A&&w.push(A)}return this.spawn(w)},xor:function(b){var x=this._private.cy;E.string(b)&&(b=x.$(b));var w=[],S=b,o=function(b,x){for(var E=0;E<b.length;E++){var S=b[E],D=S._private.data.id;x._private.ids[D]||w.push(S)}};return o(this,S),o(S,this),this.spawn(w)},diff:function(b){var x=this._private.cy;E.string(b)&&(b=x.$(b));var w=[],S=[],D=[],C=b,l=function(b,x,w){for(var E=0;E<b.length;E++){var S=b[E],C=S._private.data.id;x._private.ids[C]?D.push(S):w.push(S)}};return l(this,C,w),l(C,this,S),{left:this.spawn(w,{unique:!0}),right:this.spawn(S,{unique:!0}),both:this.spawn(D,{unique:!0})}},add:function(b){var x=this._private.cy;if(!b)return this;if(E.string(b)){var w=b;b=x.elements(w)}for(var S=[],D=0;D<this.length;D++)S.push(this[D]);for(D=0;D<b.length;D++){!this._private.ids[b[D].id()]&&S.push(b[D])}return this.spawn(S)},merge:function(b){var x=this._private,w=x.cy;if(!b)return this;if(E.string(b)){var S=b;b=w.elements(S)}for(var D=0;D<b.length;D++){var C=b[D],B=C.id();if(!x.ids[B]){var I=this.length++;this[I]=C,x.ids[B]=C,x.indexes[B]=I}}return this},unmergeOne:function(b){b=b[0];var x=this._private,w=b.id(),E=x.indexes[w];if(null==E)return this;this[E]=void 0,x.ids[w]=void 0,x.indexes[w]=void 0;var S=E===this.length-1;if(this.length>1&&!S){var D=this.length-1,C=this[D];this[D]=void 0,this[E]=C,x.indexes[C.id()]=E}return this.length--,this},unmerge:function(b){var x=this._private.cy;if(!b)return this;if(E.string(b)){var w=b;b=x.elements(w)}for(var S=0;S<b.length;S++)this.unmergeOne(b[S]);return this},map:function(b,x){for(var w=[],E=this,S=0;S<E.length;S++){var D=E[S],C=x?b.apply(x,[D,S,E]):b(D,S,E);w.push(C)}return w},stdFilter:function(b,x){for(var w=[],E=this,S=0;S<E.length;S++){var D=E[S];(x?b.apply(x,[D,S,E]):b(D,S,E))&&w.push(D)}return this.spawn(w)},max:function(b,x){for(var w,E=-1/0,S=this,D=0;D<S.length;D++){var C=S[D],B=x?b.apply(x,[C,D,S]):b(C,D,S);B>E&&(E=B,w=C)}return{value:E,ele:w}},min:function(b,x){for(var w,E=1/0,S=this,D=0;D<S.length;D++){var C=S[D],B=x?b.apply(x,[C,D,S]):b(C,D,S);E>B&&(E=B,w=C)}return{value:E,ele:w}}},C=D;C.u=C["|"]=C["+"]=C.union=C.or=C.add,C["\\"]=C["!"]=C["-"]=C.difference=C.relativeComplement=C.subtract=C.not,C.n=C["&"]=C["."]=C.and=C.intersection=C.intersect,C["^"]=C["(+)"]=C["(-)"]=C.symmetricDifference=C.symdiff=C.xor,C.fnFilter=C.filterFn=C.stdFilter,C.complement=C.abscomp=C.absoluteComplement,x.exports=D},{"../is":77,"../selector":81}],22:[function(b,x,w){"use strict";x.exports={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var b=this[0];return b?b._private.group:void 0}}},{}],23:[function(b,x,w){"use strict";var E=b("../util"),S=b("../is"),D=b("./element"),C={prefix:"ele",id:0,generate:function(b,x,w){var E=(S.element(x)&&x._private,null!=w?w:this.prefix+this.id);if(b.getElementById(E).empty())this.id++;else for(;!b.getElementById(E).empty();)E=this.prefix+ ++this.id;return E}},s=function(b,x,w){if(!(this instanceof s))return new s(b,x,w);if(void 0!==b&&S.core(b)){var B={},I={},A=!1;if(x){if(x.length>0&&S.plainObject(x[0])&&!S.element(x[0])){A=!0;for(var F=[],X={},Y=0,$=x.length;$>Y;Y++){var H=x[Y];null==H.data&&(H.data={});var W=H.data;if(null==W.id)W.id=C.generate(b,H);else if(0!==b.getElementById(W.id).length||X[W.id])continue;var Z=new D(b,H,!1);F.push(Z),X[W.id]=!0}x=F}}else x=[];this.length=0;for(Y=0,$=x.length;$>Y;Y++){var U=x[Y];if(U){var J=U._private.data.id;(!w||w.unique&&!B[J])&&(B[J]=U,I[J]=this.length,this[this.length]=U,this.length++)}}this._private={cy:b,ids:B,indexes:I},A&&this.restore()}else E.error("A collection must have a reference to the core")},B=D.prototype=s.prototype;B.instanceString=function(){return"collection"},B.spawn=function(b,x,w){return S.core(b)||(w=x,x=b,b=this.cy()),new s(b,x,w)},B.cy=function(){return this._private.cy},B.element=function(){return this[0]},B.collection=function(){return S.collection(this)?this:new s(this._private.cy,[this])},B.unique=function(){return new s(this._private.cy,this,{unique:!0})},B.getElementById=function(b){var x=this._private.cy,w=this._private.ids[b];return w||new s(x)},B.json=function(b){var x=this.element(),w=this.cy();if(null==x&&b)return this;if(null!=x){var D=x._private;if(S.plainObject(b)){w.startBatch(),b.data&&x.data(b.data),b.position&&x.position(b.position);var o=function(w,E,S){var C=b[w];null!=C&&C!==D[w]&&(C?x[E]():x[S]())};return o("removed","remove","restore"),o("selected","select","unselect"),o("selectable","selectify","unselectify"),o("locked","lock","unlock"),o("grabbable","grabify","ungrabify"),null!=b.classes&&x.classes(b.classes),w.endBatch(),this}if(void 0===b){var C={data:E.copy(D.data),position:E.copy(D.position),group:D.group,removed:D.removed,selected:D.selected,selectable:D.selectable,locked:D.locked,grabbable:D.grabbable,classes:null},B=[];for(var I in D.classes)D.classes[I]&&B.push(I);return C.classes=B.join(" "),C}}},B.jsons=function(){for(var b=[],x=0;x<this.length;x++){var w=this[x].json();b.push(w)}return b},B.clone=function(){for(var b=this.cy(),x=[],w=0;w<this.length;w++){var E=this[w].json(),S=new D(b,E,!1);x.push(S)}return new s(b,x)},B.copy=B.clone,B.restore=function(b){var x=this,w=[],D=x.cy();void 0===b&&(b=!0);for(var B,I=[],A=[],F=0,X=0,Y=x.length;Y>X;X++){($=x[X]).isNode()?(I.push($),F++):(A.push($))}for(X=0,Y=(B=I.concat(A)).length;Y>X;X++){var $;if(($=B[X]).removed()){var H=$._private;if(void 0===(ce=H.data).id)ce.id=C.generate(D,$);else if(S.number(ce.id))ce.id=""+ce.id;else{if(S.emptyString(ce.id)||!S.string(ce.id)){E.error("Can not create element with invalid string ID `"+ce.id+"`");continue}if(0!==D.getElementById(ce.id).length){E.error("Can not create second element with ID `"+ce.id+"`");continue}}var W=ce.id;if($.isNode()){var Z=$,U=H.position;null==U.x&&(U.x=0),null==U.y&&(U.y=0)}if($.isEdge()){for(var J=$,Q=["source","target"],ee=Q.length,ne=!1,re=0;ee>re;re++){var ie=Q[re],ae=ce[ie];S.number(ae)&&(ae=ce[ie]=""+ce[ie]),null==ae||""===ae?(E.error("Can not create edge `"+W+"` with unspecified "+ie),ne=!0):D.getElementById(ae).empty()&&(E.error("Can not create edge `"+W+"` with nonexistant "+ie+" `"+ae+"`"),ne=!0)}if(ne)continue;var oe=D.getElementById(ce.source),le=D.getElementById(ce.target);oe._private.edges.push(J),le._private.edges.push(J),J._private.source=oe,J._private.target=le}H.ids={},H.ids[W]=$,H.removed=!1,D.addToPool($),w.push($)}}for(X=0;F>X;X++){var ce=(Z=B[X])._private.data;S.number(ce.parent)&&(ce.parent=""+ce.parent);var de=ce.parent;if(null!=de){var he=D.getElementById(de);if(he.empty())ce.parent=void 0;else{for(var pe=!1,fe=he;!fe.empty();){if(Z.same(fe)){pe=!0,ce.parent=void 0;break}fe=fe.parent()}pe||(he[0]._private.children.push(Z),Z._private.parent=he[0],D._private.hasCompoundNodes=!0)}}}(w=new s(D,w)).length>0&&(w.add(w.connectedNodes()).add(w.parent()).updateStyle(b),b?w.rtrigger("add"):w.trigger("add"));return x},B.removed=function(){var b=this[0];return b&&b._private.removed},B.inside=function(){var b=this[0];return b&&!b._private.removed},B.remove=function(b){function t(b){for(var x=b._private.edges,w=0;w<x.length;w++)n(x[w])}function r(b){for(var x=b._private.children,w=0;w<x.length;w++)n(x[w])}function n(b){S[b.id()]||(S[b.id()]=!0,b.isNode()?(E.push(b),t(b),r(b)):E.unshift(b))}function i(b,x){for(var w=b._private.edges,E=0;E<w.length;E++){if(x===w[E]){w.splice(E,1);break}}}function a(b,x){x=x[0];for(var w=(b=b[0])._private.children,E=0;E<w.length;E++)if(w[E][0]===x[0]){w.splice(E,1);break}}var x=this,w=[],E=[],S={},D=x._private.cy;void 0===b&&(b=!0);for(var C=0,B=x.length;B>C;C++){n($=x[C])}for(C=0;C<E.length;C++){if(($=E[C])._private.removed=!0,D.removeFromPool($),w.push($),$.isEdge()){var I=$.source()[0],A=$.target()[0];i(I,$),i(A,$)}else{0!==(H=$.parent()).length&&a(H,$)}}var F=D._private.elements;D._private.hasCompoundNodes=!1;for(C=0;C<F.length;C++){if(($=F[C]).isParent()){D._private.hasCompoundNodes=!0;break}}var X=new s(this.cy(),w);X.size()>0&&(b&&this.cy().notify({type:"remove",collection:X}),X.trigger("remove"));var Y={};for(C=0;C<E.length;C++){var $,H,W="nodes"===($=E[C])._private.group,Z=$._private.data.parent;if(W&&void 0!==Z&&!Y[Z])Y[Z]=!0,(H=D.getElementById(Z))&&0!==H.length&&!H._private.removed&&0===H.children().length&&H.updateStyle()}return new s(D,w)},B.move=function(b){var x=this._private.cy;if(void 0!==b.source||void 0!==b.target){var w=b.source,E=b.target,S=x.getElementById(w).length>0,D=x.getElementById(E).length>0;if(S||D){var C=this.jsons();this.remove();for(var B=0;B<C.length;B++){"edges"===(X=C[B]).group&&(S&&(X.data.source=w),D&&(X.data.target=E))}return x.add(C)}}else if(void 0!==b.parent){var I=b.parent;if(null===I||x.getElementById(I).length>0){C=this.jsons();var A=this.descendants(),F=A.merge(A.add(this).connectedEdges());this.remove();for(B=0;B<this.length;B++){var X;"nodes"===(X=C[B]).group&&(X.data.parent=null===I?void 0:I)}}return x.add(C).merge(F.restore())}return this},[b("./algorithms"),b("./animation"),b("./class"),b("./comparators"),b("./compounds"),b("./data"),b("./degree"),b("./dimensions"),b("./events"),b("./filter"),b("./group"),b("./index"),b("./iteration"),b("./layout"),b("./style"),b("./switch-functions"),b("./traversing")].forEach((function(b){E.extend(B,b)})),x.exports=s},{"../is":77,"../util":94,"./algorithms":9,"./animation":12,"./class":13,"./comparators":14,"./compounds":15,"./data":16,"./degree":17,"./dimensions":18,"./element":19,"./events":20,"./filter":21,"./group":22,"./index":23,"./iteration":24,"./layout":25,"./style":26,"./switch-functions":27,"./traversing":28}],24:[function(b,x,w){"use strict";var E=b("../is"),S=b("./zsort"),D={each:function(b){if(E.fn(b))for(var x=0;x<this.length;x++){var w=this[x];if(!1===b.apply(w,[x,w]))break}return this},forEach:function(b,x){if(E.fn(b))for(var w=0;w<this.length;w++){var S=this[w];if(!1===(x?b.apply(x,[S,w,this]):b(S,w,this)))break}return this},toArray:function(){for(var b=[],x=0;x<this.length;x++)b.push(this[x]);return b},slice:function(b,x){var w=[],E=this.length;null==x&&(x=E),null==b&&(b=0),0>b&&(b=E+b),0>x&&(x=E+x);for(var S=b;S>=0&&x>S&&E>S;S++)w.push(this[S]);return this.spawn(w)},size:function(){return this.length},eq:function(b){return this[b]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(b){if(!E.fn(b))return this;var x=this.toArray().sort(b);return this.spawn(x)},sortByZIndex:function(){return this.sort(S)},zDepth:function(){var b=this[0];if(b){var x=b._private;if("nodes"===x.group){var w=x.data.parent?b.parents().size():0;return b.isParent()?w:Number.MAX_VALUE}var E=x.source,S=x.target,D=E.zDepth(),C=S.zDepth();return Math.max(D,C,0)}}};x.exports=D},{"../is":77,"./zsort":29}],25:[function(b,x,w){"use strict";var E=b("../is"),S=b("../util"),D={layoutPositions:function(b,x,w){var S=this.nodes(),D=this.cy();if(b.trigger({type:"layoutstart",layout:b}),b.animations=[],x.animate){for(var C=0;C<S.length;C++){var B=S[C],I=C===S.length-1,A=w.call(B,C,B),F=B.position();E.number(F.x)&&E.number(F.y)||B.silentPosition({x:0,y:0});var X=B.animation({position:A,duration:x.animationDuration,easing:x.animationEasing,step:I?function(){x.fit&&D.fit(x.eles,x.padding)}:void 0,complete:I?function(){null!=x.zoom&&D.zoom(x.zoom),x.pan&&D.pan(x.pan),x.fit&&D.fit(x.eles,x.padding),b.one("layoutstop",x.stop),b.trigger({type:"layoutstop",layout:b})}:void 0});b.animations.push(X),X.play()}b.one("layoutready",x.ready),b.trigger({type:"layoutready",layout:b})}else S.positions(w),x.fit&&D.fit(x.eles,x.padding),null!=x.zoom&&D.zoom(x.zoom),x.pan&&D.pan(x.pan),b.one("layoutready",x.ready),b.trigger({type:"layoutready",layout:b}),b.one("layoutstop",x.stop),b.trigger({type:"layoutstop",layout:b});return this},layout:function(b){return this.cy().layout(S.extend({},b,{eles:this})),this},makeLayout:function(b){return this.cy().makeLayout(S.extend({},b,{eles:this}))}};D.createLayout=D.makeLayout,x.exports=D},{"../is":77,"../util":94}],26:[function(b,x,w){"use strict";var E=b("../is"),S={updateStyle:function(b){var x=this._private.cy;if(!x.styleEnabled())return this;if(x._private.batchingStyle)return x._private.batchStyleEles.merge(this),this;b=!(!b&&void 0!==b),x.style().apply(this);var w=this.updateCompoundBounds(),E=w.length>0?this.add(w):this;return b?E.rtrigger("style"):E.trigger("style"),this},updateMappers:function(b){var x=this._private.cy,w=x.style();if(b=!(!b&&void 0!==b),!x.styleEnabled())return this;w.updateMappers(this);var E=this.updateCompoundBounds(),S=E.length>0?this.add(E):this;return b?S.rtrigger("style"):S.trigger("style"),this},renderedCss:function(b){if(!this.cy().styleEnabled())return this;var x=this[0];if(x){var w=x.cy().style().getRenderedStyle(x);return void 0===b?w:w[b]}},css:function(b,x){var w=this.cy();if(!w.styleEnabled())return this;var S=w.style();if(E.plainObject(b)){var D=b;S.applyBypass(this,D,false),((C=this.updateCompoundBounds()).length>0?this.add(C):this).rtrigger("style")}else if(E.string(b)){var C;if(void 0===x)return(B=this[0])?S.getStylePropertyValue(B,b):void 0;S.applyBypass(this,b,x,false),((C=this.updateCompoundBounds()).length>0?this.add(C):this).rtrigger("style")}else if(void 0===b){var B;return(B=this[0])?S.getRawStyle(B):void 0}return this},removeCss:function(b){var x=this.cy();if(!x.styleEnabled())return this;var w=x.style(),E=this;if(void 0===b)for(var S=0;S<E.length;S++){var D=E[S];w.removeAllBypasses(D,false)}else{b=b.split(/\s+/);for(S=0;S<E.length;S++){D=E[S];w.removeBypasses(D,b,false)}}var C=this.updateCompoundBounds();return(C.length>0?this.add(C):this).rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var b=this.cy();if(!b.styleEnabled())return!0;var x=this[0],w=b.hasCompoundNodes();if(x){var E=x._private.style;if("visible"!==E.visibility.value||"element"!==E.display.value)return!1;if("nodes"===x._private.group){if(!w)return!0;var S=x._private.data.parent?x.parents():null;if(S)for(var D=0;D<S.length;D++){var C=S[D]._private.style,B=C.visibility.value,I=C.display.value;if("visible"!==B||"element"!==I)return!1}return!0}var A=x._private.source,F=x._private.target;return A.visible()&&F.visible()}},hidden:function(){var b=this[0];return b?!b.visible():void 0},effectiveOpacity:function(){var b=this.cy();if(!b.styleEnabled())return 1;var x=b.hasCompoundNodes(),w=this[0];if(w){var E=w._private,S=E.style.opacity.value;if(!x)return S;var D=E.data.parent?w.parents():null;if(D)for(var C=0;C<D.length;C++){S*=D[C]._private.style.opacity.value}return S}},transparent:function(){if(!this.cy().styleEnabled())return!1;var b=this[0],x=b.cy().hasCompoundNodes();return b?x?0===b.effectiveOpacity():0===b._private.style.opacity.value:void 0},isFullAutoParent:function(){if(!this.cy().styleEnabled())return!1;var b=this[0];if(b){var x="auto"===b._private.style.width.value,w="auto"===b._private.style.height.value;return b.isParent()&&x&&w}},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};S.bypass=S.style=S.css,S.renderedStyle=S.renderedCss,S.removeBypass=S.removeStyle=S.removeCss,x.exports=S},{"../is":77}],27:[function(b,x,w){"use strict";function n(b){return function(){var x=arguments,w=[];if(2===x.length){var E=x[0],S=x[1];this.bind(b.event,E,S)}else if(1===x.length){S=x[0];this.bind(b.event,S)}else if(0===x.length){for(var D=0;D<this.length;D++){var C=this[D],B=!b.ableField||C._private[b.ableField],I=C._private[b.field]!=b.value;if(b.overrideAble){var A=b.overrideAble(C);if(void 0!==A&&(B=A,!A))return this}B&&(C._private[b.field]=b.value,I&&w.push(C))}var F=this.spawn(w);F.updateStyle(),F.trigger(b.event)}return this}}function i(b){E[b.field]=function(){var x=this[0];if(x){if(b.overrideField){var w=b.overrideField(x);if(void 0!==w)return w}return x._private[b.field]}},E[b.on]=n({event:b.on,field:b.field,ableField:b.ableField,overrideAble:b.overrideAble,value:!0}),E[b.off]=n({event:b.off,field:b.field,ableField:b.ableField,overrideAble:b.overrideAble,value:!1})}var E={};i({field:"locked",overrideField:function(b){return!!b.cy().autolock()||void 0},on:"lock",off:"unlock"}),i({field:"grabbable",overrideField:function(b){return!b.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),i({field:"selected",ableField:"selectable",overrideAble:function(b){return!b.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),i({field:"selectable",overrideField:function(b){return!b.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),E.deselect=E.unselect,E.grabbed=function(){var b=this[0];return b?b._private.grabbed:void 0},i({field:"active",on:"activate",off:"unactivate"}),E.inactive=function(){var b=this[0];return b?!b._private.active:void 0},x.exports=E},{}],28:[function(b,x,w){"use strict";function n(b){return function(x){for(var w=[],E=0;E<this.length;E++){var S=this[E]._private[b.attr];S&&w.push(S)}return this.spawn(w,{unique:!0}).filter(x)}}function i(b){return function(x){var w=[],E=this._private.cy,D=b||{};S.string(x)&&(x=E.$(x));for(var C=this._private.ids,B=x._private.ids,I=0;I<x.length;I++)for(var A=x[I]._private.edges,F=0;F<A.length;F++){var X=A[F],Y=X._private.data,$=C[Y.source]&&B[Y.target],H=B[Y.source]&&C[Y.target];if($||H){if(D.thisIs){if("source"===D.thisIs&&!$)continue;if("target"===D.thisIs&&!H)continue}w.push(X)}}return this.spawn(w,{unique:!0})}}function a(b){return b=E.extend({},{codirected:!1},b),function(x){for(var w=[],E=this.edges(),S=b,D=0;D<E.length;D++)for(var C=E[D],B=C.source()[0],I=B.id(),A=C.target()[0].id(),F=B._private.edges,X=0;X<F.length;X++){var Y=F[X],$=Y._private.data,H=$.target,W=$.source,Z=H===A&&W===I,U=I===H&&A===W;(S.codirected&&Z||!S.codirected&&(Z||U))&&w.push(Y)}return this.spawn(w,{unique:!0}).filter(x)}}var E=b("../util"),S=b("../is"),D={};E.extend(D,{roots:function(b){for(var x=[],w=0;w<this.length;w++){var E=this[w];if(E.isNode())E.connectedEdges((function(){return this.data("target")===E.id()&&this.data("source")!==E.id()})).length>0||x.push(E)}return this.spawn(x,{unique:!0}).filter(b)},leaves:function(b){for(var x=[],w=0;w<this.length;w++){var E=this[w];if(E.isNode())E.connectedEdges((function(){return this.data("source")===E.id()&&this.data("target")!==E.id()})).length>0||x.push(E)}return this.spawn(x,{unique:!0}).filter(b)},outgoers:function(b){for(var x=[],w=0;w<this.length;w++){var E=this[w],S=E.id();if(E.isNode())for(var D=E._private.edges,C=0;C<D.length;C++){var B=D[C],I=B._private.data.source;B._private.data.target,I===S&&(x.push(B),x.push(B.target()[0]))}}return this.spawn(x,{unique:!0}).filter(b)},successors:function(b){for(var x=this,w=[],E={};;){var S=x.outgoers();if(0===S.length)break;for(var D=!1,C=0;C<S.length;C++){var B=S[C],I=B.id();E[I]||(E[I]=!0,w.push(B),D=!0)}if(!D)break;x=S}return this.spawn(w,{unique:!0}).filter(b)},incomers:function(b){for(var x=[],w=0;w<this.length;w++){var E=this[w],S=E.id();if(E.isNode())for(var D=E._private.edges,C=0;C<D.length;C++){var B=D[C];(B._private.data.source,B._private.data.target)===S&&(x.push(B),x.push(B.source()[0]))}}return this.spawn(x,{unique:!0}).filter(b)},predecessors:function(b){for(var x=this,w=[],E={};;){var S=x.incomers();if(0===S.length)break;for(var D=!1,C=0;C<S.length;C++){var B=S[C],I=B.id();E[I]||(E[I]=!0,w.push(B),D=!0)}if(!D)break;x=S}return this.spawn(w,{unique:!0}).filter(b)}}),E.extend(D,{neighborhood:function(b){for(var x=[],w=this.nodes(),E=0;E<w.length;E++)for(var S=w[E],D=S.connectedEdges(),C=0;C<D.length;C++){var B=D[C],I=B._private.source,A=B._private.target,F=S===I?A:I;F.length>0&&x.push(F[0]),x.push(B[0])}return this.spawn(x,{unique:!0}).filter(b)},closedNeighborhood:function(b){return this.neighborhood().add(this).filter(b)},openNeighborhood:function(b){return this.neighborhood(b)}}),D.neighbourhood=D.neighborhood,D.closedNeighbourhood=D.closedNeighborhood,D.openNeighbourhood=D.openNeighborhood,E.extend(D,{source:function(b){var x,w=this[0];return w&&(x=w._private.source),x&&b?x.filter(b):x},target:function(b){var x,w=this[0];return w&&(x=w._private.target),x&&b?x.filter(b):x},sources:n({attr:"source"}),targets:n({attr:"target"})}),E.extend(D,{edgesWith:i(),edgesTo:i({thisIs:"source"})}),E.extend(D,{connectedEdges:function(b){for(var x=[],w=0;w<this.length;w++){var E=this[w];if(E.isNode())for(var S=E._private.edges,D=0;D<S.length;D++){var C=S[D];x.push(C)}}return this.spawn(x,{unique:!0}).filter(b)},connectedNodes:function(b){for(var x=[],w=0;w<this.length;w++){var E=this[w];E.isEdge()&&(x.push(E.source()[0]),x.push(E.target()[0]))}return this.spawn(x,{unique:!0}).filter(b)},parallelEdges:a(),codirectedEdges:a({codirected:!0})}),E.extend(D,{components:function(){var b=this,x=b.cy(),w=b.spawn(),E=b.nodes(),S=[],a=function(b,x){w.merge(b),E.unmerge(b),x.merge(b)};if(E.empty())return b.spawn();do{var D=x.collection();S.push(D);var C=E[0];a(C,D),b.bfs({directed:!1,roots:C,visit:function(b,x,w,E,S){a(w,D)}})}while(E.length>0);return S.map((function(b){var x=b.connectedEdges().stdFilter((function(x){return b.anySame(x.source())&&b.anySame(x.target())}));return b.union(x)}))}}),x.exports=D},{"../is":77,"../util":94}],29:[function(b,x,w){"use strict";x.exports=function(b,x){var w=b.cy(),E=b._private,S=x._private,D=E.style["z-index"].value-S.style["z-index"].value,C=0,B=0,I=w.hasCompoundNodes(),A="nodes"===E.group,F="edges"===E.group,X="nodes"===S.group,Y="edges"===S.group;I&&(C=b.zDepth(),B=x.zDepth());var $=C-B;return 0===$?A&&Y?1:F&&X?-1:0===D?E.index-S.index:D:$}},{}],30:[function(b,x,w){"use strict";var E=b("../is"),S=b("../util"),D=b("../collection"),C=b("../collection/element"),B=b("../window"),I=(B&&B.document,b("../extensions/renderer/null"),{add:function(b){var x,w=this;if(E.elementOrCollection(b)){var B=b;if(B._private.cy===w)x=B.restore();else{for(var I=[],A=0;A<B.length;A++){var F=B[A];I.push(F.json())}x=new D(w,I)}}else if(E.array(b)){x=new D(w,I=b)}else if(E.plainObject(b)&&(E.array(b.nodes)||E.array(b.edges))){for(var X=b,Y=(I=[],["nodes","edges"]),$=(A=0,Y.length);$>A;A++){var H=Y[A],W=X[H];if(E.array(W))for(var Z=0,U=W.length;U>Z;Z++){var J=S.extend({group:H},W[Z]);I.push(J)}}x=new D(w,I)}else{x=new C(w,J=b).collection()}return x},remove:function(b){if(E.elementOrCollection(b));else if(E.string(b)){var x=b;b=this.$(x)}return b.remove()},load:function(b,x,w){var D=this;D.notifications(!1);var C=D.elements();C.length>0&&C.remove(),null!=b&&(E.plainObject(b)||E.array(b))&&D.add(b),D.one("layoutready",(function(b){D.notifications(!0),D.trigger(b),D.notify({type:"load",collection:D.elements()}),D.one("load",x),D.trigger("load")})).one("layoutstop",(function(){D.one("done",w),D.trigger("done")}));var B=S.extend({},D._private.options.layout);return B.eles=D.$(),D.layout(B),this}});x.exports=I},{"../collection":23,"../collection/element":19,"../extensions/renderer/null":73,"../is":77,"../util":94,"../window":100}],31:[function(b,x,w){"use strict";var E=b("../define"),S=b("../util"),D=b("../is"),C={animate:E.animate(),animation:E.animation(),animated:E.animated(),clearQueue:E.clearQueue(),delay:E.delay(),delayAnimation:E.delayAnimation(),stop:E.stop(),addToAnimationPool:function(b){this.styleEnabled()&&this._private.aniEles.merge(b)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){function t(x){function t(b,w){var S=b._private,D=S.animation.current,C=S.animation.queue,B=!1;if(0===D.length){var I=C.shift();I&&D.push(I)}for(var d=function(b){for(var x=b.length-1;x>=0;x--){(0,b[x])()}b.splice(0,b.length)},A=D.length-1;A>=0;A--){var F=D[A],X=F._private;X.stopped?(D.splice(A,1),X.hooked=!1,X.playing=!1,X.started=!1,d(X.frames)):(X.playing||X.applying)&&(X.playing&&X.applying&&(X.applying=!1),X.started||r(b,F,x),n(b,F,x,w),X.applying&&(X.applying=!1),d(X.frames),F.completed()&&(D.splice(A,1),X.hooked=!1,X.playing=!1,X.started=!1,d(X.completes)),B=!0)}return w||0!==D.length||0!==C.length||E.push(b),B}for(var w=b._private.aniEles,E=[],S=!1,D=0;D<w.length;D++){var C=t(w[D]);S=S||C}var B=t(b,!0);if(S||B){var I;if(w.length>0){var A=w.updateCompoundBounds();I=A.length>0?w.add(A):w}b.notify({type:"draw",collection:I})}w.unmerge(E)}function r(x,w,E){var S=D.core(x),C=!S,B=x,I=b._private.style,A=w._private;if(C){var F=B._private.position;A.startPosition=A.startPosition||{x:F.x,y:F.y},A.startStyle=A.startStyle||I.getValueStyle(B)}if(S){var X=b._private.pan;A.startPan=A.startPan||{x:X.x,y:X.y},A.startZoom=null!=A.startZoom?A.startZoom:b._private.zoom}A.started=!0,A.startTime=E-A.progress*A.duration}function n(x,E,S,C){var B=b._private.style,I=!C,A=x._private,F=E._private,X=F.easing,Y=F.startTime;if(!F.easingImpl)if(null==X)F.easingImpl=w.linear;else{var $,H;if(D.string(X))$=B.parse("transition-timing-function",X).value;else $=X;D.string($)?(pe=$,H=[]):(pe=$[1],H=$.slice(2).map((function(b){return+b}))),H.length>0?("spring"===pe&&H.push(F.duration),F.easingImpl=w[pe].apply(null,H)):F.easingImpl=w[pe]}var W,Z=F.easingImpl;if(W=0===F.duration?1:(S-Y)/F.duration,F.applying&&(W=F.progress),0>W?W=0:W>1&&(W=1),null==F.delay){var U=F.startPosition,J=F.position,Q=A.position;J&&I&&(o(U.x,J.x)&&(Q.x=u(U.x,J.x,W,Z)),o(U.y,J.y)&&(Q.y=u(U.y,J.y,W,Z)));var ee=F.startPan,ne=F.pan,re=A.pan,ie=null!=ne&&C;ie&&(o(ee.x,ne.x)&&(re.x=u(ee.x,ne.x,W,Z)),o(ee.y,ne.y)&&(re.y=u(ee.y,ne.y,W,Z)),x.trigger("pan"));var ae=F.startZoom,oe=F.zoom,le=null!=oe&&C;le&&(o(ae,oe)&&(A.zoom=u(ae,oe,W,Z)),x.trigger("zoom")),(ie||le)&&x.trigger("viewport");var ce=F.style;if(ce&&I)for(var de=0;de<ce.length;de++){var he=ce[de],pe=he.name,fe=he,ge=u(F.startStyle[pe],fe,W,Z);B.overrideBypass(x,pe,ge)}}return D.fn(F.step)&&F.step.apply(x,[S]),F.progress=W,W}function o(b,x){return null!=b&&null!=x&&(!(!D.number(b)||!D.number(x))||!(!b||!x))}function l(b,x){return function(w,E,S){return w+(E-w)*function s(b,x,w){var E=1-w,S=w*w;return 3*E*E*w*b+3*E*S*x+S*w}(b,x,S)}}function u(b,x,w,E){var S,C;if(0>w?w=0:w>1&&(w=1),S=null!=b.pfValue||null!=b.value?null!=b.pfValue?b.pfValue:b.value:b,C=null!=x.pfValue||null!=x.value?null!=x.pfValue?x.pfValue:x.value:x,D.number(S)&&D.number(C))return E(S,C,w);if(D.array(S)&&D.array(C)){for(var B=[],I=0;I<C.length;I++){var A=S[I],F=C[I];if(null!=A&&null!=F){var X=E(A,F,w);b.roundValue&&(X=Math.round(X)),B.push(X)}else B.push(F)}return B}}var b=this;if(b._private.animationsRunning=!0,b.styleEnabled()){!function e(){b._private.animationsRunning&&S.requestAnimationFrame((function(b){t(b),e()}))}();/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */
var x=function(){function e(b){return-b.tension*b.x-b.friction*b.v}function t(b,x,w){var E={x:b.x+w.dx*x,v:b.v+w.dv*x,tension:b.tension,friction:b.friction};return{dx:E.v,dv:e(E)}}function r(b,x){var w={dx:b.v,dv:e(b)},E=t(b,.5*x,w),S=t(b,.5*x,E),D=t(b,x,S),C=1/6*(w.dx+2*(E.dx+S.dx)+D.dx),B=1/6*(w.dv+2*(E.dv+S.dv)+D.dv);return b.x=b.x+C*x,b.v=b.v+B*x,b}return function n(b,x,w){var E,S,D,C={x:-1,v:0,tension:null,friction:null},B=[0],I=0,A=1e-4;for(b=parseFloat(b)||500,x=parseFloat(x)||20,w=w||null,C.tension=b,C.friction=x,(E=null!==w)?S=(I=n(b,x))/w*.016:S=.016;D=r(D||C,S),B.push(1+D.x),I+=16,Math.abs(D.x)>A&&Math.abs(D.v)>A;);return E?function(b){return B[b*(B.length-1)|0]}:I}}(),w={linear:function(b,x,w){return b+(x-b)*w},ease:l(.25,.1),"ease-in":l(.42,0),"ease-out":l(0,0),"ease-in-out":l(.42,0),"ease-in-sine":l(.47,0),"ease-out-sine":l(.39,.575),"ease-in-out-sine":l(.445,.05),"ease-in-quad":l(.55,.085),"ease-out-quad":l(.25,.46),"ease-in-out-quad":l(.455,.03),"ease-in-cubic":l(.55,.055),"ease-out-cubic":l(.215,.61),"ease-in-out-cubic":l(.645,.045),"ease-in-quart":l(.895,.03),"ease-out-quart":l(.165,.84),"ease-in-out-quart":l(.77,0),"ease-in-quint":l(.755,.05),"ease-out-quint":l(.23,1),"ease-in-out-quint":l(.86,0),"ease-in-expo":l(.95,.05),"ease-out-expo":l(.19,1),"ease-in-out-expo":l(1,0),"ease-in-circ":l(.6,.04),"ease-out-circ":l(.075,.82),"ease-in-out-circ":l(.785,.135),spring:function(b,E,S){if(0===S)return w.linear;var D=x(b,E,S);return function(b,x,w){return b+(x-b)*D(w)}},"cubic-bezier":function(b,x,w,E){return l(b,x)}}}}};x.exports=C},{"../define":41,"../is":77,"../util":94}],32:[function(b,x,w){"use strict";var E=b("../define"),S={on:E.on(),one:E.on({unbindSelfOnTrigger:!0}),once:E.on({unbindAllBindersOnTrigger:!0}),off:E.off(),trigger:E.trigger()};E.eventAliasesOn(S),x.exports=S},{"../define":41}],33:[function(b,x,w){"use strict";var E={png:function(b){return b=b||{},this._private.renderer.png(b)},jpg:function(b){var x=this._private.renderer;return(b=b||{}).bg=b.bg||"#fff",x.jpg(b)}};E.jpeg=E.jpg,x.exports=E},{}],34:[function(b,x,w){"use strict";var E=b("../window"),S=b("../util"),D=b("../collection"),C=b("../is"),B=b("../promise"),I=b("../define"),u=function(b){if(!(this instanceof u))return new u(b);var x=this,w=(b=S.extend({},b)).container;w&&!C.htmlElement(w)&&C.htmlElement(w[0])&&(w=w[0]);var I=w?w._cyreg:null;(I=I||{})&&I.cy&&(I.cy.destroy(),I={});var A=I.readies=I.readies||[];w&&(w._cyreg=I),I.cy=x;var F=void 0!==E&&void 0!==w&&!b.headless,X=b;X.layout=S.extend({name:F?"grid":"null"},X.layout),X.renderer=S.extend({name:F?"canvas":"null"},X.renderer);var p=function(b,x,w){return void 0!==x?x:void 0!==w?w:b},Y=this._private={container:w,ready:!1,initrender:!1,options:X,elements:[],id2index:{},listeners:[],onRenders:[],aniEles:D(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:p(!0,X.zoomingEnabled),userZoomingEnabled:p(!0,X.userZoomingEnabled),panningEnabled:p(!0,X.panningEnabled),userPanningEnabled:p(!0,X.userPanningEnabled),boxSelectionEnabled:p(!0,X.boxSelectionEnabled),autolock:p(!1,X.autolock,X.autolockNodes),autoungrabify:p(!1,X.autoungrabify,X.autoungrabifyNodes),autounselectify:p(!1,X.autounselectify),styleEnabled:void 0===X.styleEnabled?F:X.styleEnabled,zoom:C.number(X.zoom)?X.zoom:1,pan:{x:C.plainObject(X.pan)&&C.number(X.pan.x)?X.pan.x:0,y:C.plainObject(X.pan)&&C.number(X.pan.y)?X.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]},$=X.selectionType;Y.selectionType=void 0===$||"additive"!==$&&"single"!==$?"single":$,C.number(X.minZoom)&&C.number(X.maxZoom)&&X.minZoom<X.maxZoom?(Y.minZoom=X.minZoom,Y.maxZoom=X.maxZoom):C.number(X.minZoom)&&void 0===X.maxZoom?Y.minZoom=X.minZoom:C.number(X.maxZoom)&&void 0===X.minZoom&&(Y.maxZoom=X.maxZoom);x.initRenderer(S.extend({hideEdgesOnViewport:X.hideEdgesOnViewport,hideLabelsOnViewport:X.hideLabelsOnViewport,textureOnViewport:X.textureOnViewport,wheelSensitivity:C.number(X.wheelSensitivity)&&X.wheelSensitivity>0?X.wheelSensitivity:1,motionBlur:void 0===X.motionBlur||X.motionBlur,motionBlurOpacity:void 0===X.motionBlurOpacity?.05:X.motionBlurOpacity,pixelRatio:C.number(X.pixelRatio)&&X.pixelRatio>0?X.pixelRatio:void 0,desktopTapThreshold:void 0===X.desktopTapThreshold?4:X.desktopTapThreshold,touchTapThreshold:void 0===X.touchTapThreshold?8:X.touchTapThreshold},X.renderer)),function(b,x){b.some(C.promise)?B.all(b).then(x):x(b)}([X.style,X.elements],(function(b){var w=b[0],E=b[1];Y.styleEnabled&&x.setStyle(w),X.initrender&&(x.on("initrender",X.initrender),x.on("initrender",(function(){Y.initrender=!0}))),x.load(E,(function(){x.startAnimationLoop(),Y.ready=!0,C.fn(X.ready)&&x.on("ready",X.ready);for(var b=0;b<A.length;b++){var w=A[b];x.on("ready",w)}I&&(I.readies=[]),x.trigger("ready")}),X.done)}))},A=u.prototype;S.extend(A,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},ready:function(b){return this.isReady()?this.trigger("ready",[],b):this.on("ready",b),this},initrender:function(){return this._private.initrender},destroy:function(){var b=this;b.stopAnimationLoop(),b.notify({type:"destroy"});var x=b.container();if(x)for(x._cyreg=null;x.childNodes.length>0;)x.removeChild(x.childNodes[0]);return b},getElementById:function(b){var x=this._private.id2index[b];return void 0!==x?this._private.elements[x]:D(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(b){for(var x=this._private.elements,w=this._private.id2index,E=0;E<b.length;E++){var S=b[E],D=S._private.data.id,C=w[D];void 0!==C||(C=x.length,x.push(S),w[D]=C,S._private.index=C)}return this},removeFromPool:function(b){for(var x=this._private.elements,w=this._private.id2index,E=0;E<b.length;E++){var S=b[E]._private.data.id,D=w[S];if(void 0!==D){this._private.id2index[S]=void 0,x.splice(D,1);for(var C=D;C<x.length;C++){w[x[C]._private.data.id]--,x[C]._private.index--}}}},container:function(){return this._private.container},options:function(){return S.copy(this._private.options)},json:function(b){var x=this,w=x._private;if(C.plainObject(b)){if(x.startBatch(),b.elements){var E={},a=function(b,w){for(var D=0;D<b.length;D++){var C=b[D],B=C.data.id,I=x.getElementById(B);E[B]=!0,0!==I.length?I.json(C):w?x.add(S.extend({group:w},C)):x.add(C)}};if(C.array(b.elements))a(b.elements);else for(var D=["nodes","edges"],B=0;B<D.length;B++){var I=D[B],A=b.elements[I];C.array(A)&&a(A,I)}x.elements().stdFilter((function(b){return!E[b.id()]})).remove()}b.style&&x.style(b.style),null!=b.zoom&&b.zoom!==w.zoom&&x.zoom(b.zoom),b.pan&&(b.pan.x===w.pan.x&&b.pan.y===w.pan.y||x.pan(b.pan));var F=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"];for(B=0;B<F.length;B++){var X=F[B];null!=b[X]&&x[X](b[X])}return x.endBatch(),this}if(void 0===b){var Y={elements:{}};return x.elements().each((function(b,x){var w=x.group();Y.elements[w]||(Y.elements[w]=[]),Y.elements[w].push(x.json())})),this._private.styleEnabled&&(Y.style=x.style().json()),Y.zoomingEnabled=x._private.zoomingEnabled,Y.userZoomingEnabled=x._private.userZoomingEnabled,Y.zoom=x._private.zoom,Y.minZoom=x._private.minZoom,Y.maxZoom=x._private.maxZoom,Y.panningEnabled=x._private.panningEnabled,Y.userPanningEnabled=x._private.userPanningEnabled,Y.pan=S.copy(x._private.pan),Y.boxSelectionEnabled=x._private.boxSelectionEnabled,Y.renderer=S.copy(x._private.options.renderer),Y.hideEdgesOnViewport=x._private.options.hideEdgesOnViewport,Y.hideLabelsOnViewport=x._private.options.hideLabelsOnViewport,Y.textureOnViewport=x._private.options.textureOnViewport,Y.wheelSensitivity=x._private.options.wheelSensitivity,Y.motionBlur=x._private.options.motionBlur,Y}},scratch:I.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:I.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),[b("./add-remove"),b("./animation"),b("./events"),b("./export"),b("./layout"),b("./notification"),b("./renderer"),b("./search"),b("./style"),b("./viewport")].forEach((function(b){S.extend(A,b)})),x.exports=u},{"../collection":23,"../define":41,"../is":77,"../promise":80,"../util":94,"../window":100,"./add-remove":30,"./animation":31,"./events":32,"./export":33,"./layout":35,"./notification":36,"./renderer":37,"./search":38,"./style":39,"./viewport":40}],35:[function(b,x,w){"use strict";var E=b("../util"),S=b("../is"),D={layout:function(b){return(this._private.prevLayout=null==b?this._private.prevLayout:this.makeLayout(b)).run(),this},makeLayout:function(b){var x=this;if(null!=b)if(null!=b.name){var w,D=b.name,C=x.extension("layout",D);if(null!=C)return w=S.string(b.eles)?x.$(b.eles):null!=b.eles?b.eles:x.$(),new C(E.extend({},b,{cy:x,eles:w}));E.error("Can not apply layout: No such layout `"+D+"` found; did you include its JS file?")}else E.error("A `name` must be specified to make a layout");else E.error("Layout options must be specified to make a layout")}};D.createLayout=D.makeLayout,x.exports=D},{"../is":77,"../util":94}],36:[function(b,x,w){"use strict";x.exports={notify:function(b){var x=this._private;if(x.batchingNotify){var w=x.batchNotifyEles,E=x.batchNotifyTypes;return b.collection&&w.merge(b.collection),void(E.ids[b.type]||E.push(b.type))}x.notificationsEnabled&&this.renderer().notify(b)},notifications:function(b){var x=this._private;return void 0===b?x.notificationsEnabled:void(x.notificationsEnabled=!!b)},noNotifications:function(b){this.notifications(!1),b(),this.notifications(!0)},startBatch:function(){var b=this._private;return null==b.batchCount&&(b.batchCount=0),0===b.batchCount&&(b.batchingStyle=b.batchingNotify=!0,b.batchStyleEles=this.collection(),b.batchNotifyEles=this.collection(),b.batchNotifyTypes=[],b.batchNotifyTypes.ids={}),b.batchCount++,this},endBatch:function(){var b=this._private;return b.batchCount--,0===b.batchCount&&(b.batchingStyle=!1,b.batchStyleEles.updateStyle(),b.batchingNotify=!1,this.notify({type:b.batchNotifyTypes,collection:b.batchNotifyEles})),this},batch:function(b){return this.startBatch(),b(),this.endBatch(),this},batchData:function(b){var x=this;return this.batch((function(){for(var w in b){var E=b[w];x.getElementById(w).data(E)}}))}}},{}],37:[function(b,x,w){"use strict";var E=b("../util"),S={renderTo:function(b,x,w,E){return this._private.renderer.renderTo(b,x,w,E),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(b){var x=this,w=x.extension("renderer",b.name);if(null!=w){var S=E.extend({},b,{cy:x});(x._private.renderer=new w(S)).init(S)}else E.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",b.name)},triggerOnRender:function(){for(var b=this._private.onRenders,x=0;x<b.length;x++){(0,b[x])()}return this},onRender:function(b){return this._private.onRenders.push(b),this},offRender:function(b){var x=this._private.onRenders;if(null==b)return this._private.onRenders=[],this;for(var w=0;w<x.length;w++){if(b===x[w]){x.splice(w,1);break}}return this}};S.invalidateDimensions=S.resize,x.exports=S},{"../util":94}],38:[function(b,x,w){"use strict";var E=b("../is"),S=b("../collection"),D={collection:function(b,x){return E.string(b)?this.$(b):E.elementOrCollection(b)?b.collection():E.array(b)?S(this,b,x):S(this)},nodes:function(b){var x=this.$((function(){return this.isNode()}));return b?x.filter(b):x},edges:function(b){var x=this.$((function(){return this.isEdge()}));return b?x.filter(b):x},$:function(b){var x=new S(this,this._private.elements);return b?x.filter(b):x}};D.elements=D.filter=D.$,x.exports=D},{"../collection":23,"../is":77}],39:[function(b,x,w){"use strict";var E=b("../is"),S=b("../style"),D={style:function(b){b&&this.setStyle(b).update();return this._private.style},setStyle:function(b){var x=this._private;return E.stylesheet(b)?x.style=b.generateStyle(this):E.array(b)?x.style=S.fromJson(this,b):E.string(b)?x.style=S.fromString(this,b):x.style=S(this),x.style}};x.exports=D},{"../is":77,"../style":86}],40:[function(b,x,w){"use strict";var E=b("../is"),S={autolock:function(b){return void 0===b?this._private.autolock:(this._private.autolock=!!b,this)},autoungrabify:function(b){return void 0===b?this._private.autoungrabify:(this._private.autoungrabify=!!b,this)},autounselectify:function(b){return void 0===b?this._private.autounselectify:(this._private.autounselectify=!!b,this)},panningEnabled:function(b){return void 0===b?this._private.panningEnabled:(this._private.panningEnabled=!!b,this)},userPanningEnabled:function(b){return void 0===b?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!b,this)},zoomingEnabled:function(b){return void 0===b?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!b,this)},userZoomingEnabled:function(b){return void 0===b?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!b,this)},boxSelectionEnabled:function(b){return void 0===b?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!b,this)},pan:function(){var b,x,w,S,D,C=arguments,B=this._private.pan;switch(C.length){case 0:return B;case 1:if(E.string(C[0]))return B[b=C[0]];if(E.plainObject(C[0])){if(!this._private.panningEnabled)return this;S=(w=C[0]).x,D=w.y,E.number(S)&&(B.x=S),E.number(D)&&(B.y=D),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;x=C[1],"x"!==(b=C[0])&&"y"!==b||!E.number(x)||(B[b]=x),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(b){var x,w,S,D,C,B=arguments,I=this._private.pan;if(!this._private.panningEnabled)return this;switch(B.length){case 1:E.plainObject(B[0])&&(D=(S=B[0]).x,C=S.y,E.number(D)&&(I.x+=D),E.number(C)&&(I.y+=C),this.trigger("pan viewport"));break;case 2:w=B[1],"x"!==(x=B[0])&&"y"!==x||!E.number(w)||(I[x]+=w),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(b,x){var w=this.getFitViewport(b,x);if(w){var E=this._private;E.zoom=w.zoom,E.pan=w.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(b,x){if(E.number(b)&&void 0===x&&(x=b,b=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var w;if(E.string(b)){var S=b;b=this.$(S)}else if(E.boundingBox(b)){var D=b;(w={x1:D.x1,y1:D.y1,x2:D.x2,y2:D.y2}).w=w.x2-w.x1,w.h=w.y2-w.y1}else E.elementOrCollection(b)||(b=this.elements());w=w||b.boundingBox();var C,B=this.width(),I=this.height();if(x=E.number(x)?x:0,!isNaN(B)&&!isNaN(I)&&B>0&&I>0&&!isNaN(w.w)&&!isNaN(w.h)&&w.w>0&&w.h>0)return{zoom:C=(C=(C=Math.min((B-2*x)/w.w,(I-2*x)/w.h))>this._private.maxZoom?this._private.maxZoom:C)<this._private.minZoom?this._private.minZoom:C,pan:{x:(B-C*(w.x1+w.x2))/2,y:(I-C*(w.y1+w.y2))/2}}}},minZoom:function(b){return void 0===b?this._private.minZoom:(E.number(b)&&(this._private.minZoom=b),this)},maxZoom:function(b){return void 0===b?this._private.maxZoom:(E.number(b)&&(this._private.maxZoom=b),this)},zoom:function(b){var x,w;if(void 0===b)return this._private.zoom;if(E.number(b))w=b;else if(E.plainObject(b)){if(w=b.level,b.position){var S=b.position,D=this._private.pan,C=this._private.zoom;x={x:S.x*C+D.x,y:S.y*C+D.y}}else b.renderedPosition&&(x=b.renderedPosition);if(x&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!E.number(w)||x&&(!E.number(x.x)||!E.number(x.y)))return this;if(w=(w=w>this._private.maxZoom?this._private.maxZoom:w)<this._private.minZoom?this._private.minZoom:w,x){var B=this._private.pan,I=this._private.zoom,A=w,F={x:-A/I*(x.x-B.x)+x.x,y:-A/I*(x.y-B.y)+x.y};this._private.zoom=w,this._private.pan=F;var X=B.x!==F.x||B.y!==F.y;this.trigger(" zoom "+(X?" pan ":"")+" viewport ")}else this._private.zoom=w,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(b){var x=this._private,w=!0,S=!0,D=[],C=!1,B=!1;if(!b)return this;if(E.number(b.zoom)||(w=!1),E.plainObject(b.pan)||(S=!1),!w&&!S)return this;if(w){var I=b.zoom;I<x.minZoom||I>x.maxZoom||!x.zoomingEnabled?C=!0:(x.zoom=I,D.push("zoom"))}if(S&&(!C||!b.cancelOnFailedZoom)&&x.panningEnabled){var A=b.pan;E.number(A.x)&&(x.pan.x=A.x,B=!1),E.number(A.y)&&(x.pan.y=A.y,B=!1),B||D.push("pan")}return D.length>0&&(D.push("viewport"),this.trigger(D.join(" ")),this.notify({type:"viewport"})),this},center:function(b){var x=this.getCenterPan(b);return x&&(this._private.pan=x,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(b,x){if(this._private.panningEnabled){if(E.string(b)){var w=b;b=this.elements(w)}else E.elementOrCollection(b)||(b=this.elements());var S=b.boundingBox(),D=this.width(),C=this.height();return{x:(D-(x=void 0===x?this._private.zoom:x)*(S.x1+S.x2))/2,y:(C-x*(S.y1+S.y2))/2}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},width:function(){var b=this._private.container;return b?b.clientWidth:1},height:function(){var b=this._private.container;return b?b.clientHeight:1},extent:function(){var b=this._private.pan,x=this._private.zoom,w=this.renderedExtent(),E={x1:(w.x1-b.x)/x,x2:(w.x2-b.x)/x,y1:(w.y1-b.y)/x,y2:(w.y2-b.y)/x};return E.w=E.x2-E.x1,E.h=E.y2-E.y1,E},renderedExtent:function(){var b=this.width(),x=this.height();return{x1:0,y1:0,x2:b,y2:x,w:b,h:x}}};S.centre=S.center,S.autolockNodes=S.autolock,S.autoungrabifyNodes=S.autoungrabify,x.exports=S},{"../is":77}],41:[function(b,x,w){"use strict";var E=b("./util"),S=b("./is"),D=b("./selector"),C=b("./promise"),B=b("./event"),I=b("./animation"),A={data:function(b){return b=E.extend({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(b){},canSet:function(b){return!0}},b),function(x,w){var E=b,D=this,C=void 0!==D.length,B=C?D:[D],I=C?D[0]:D;if(S.string(x)){if(E.allowGetting&&void 0===w)return I&&(W=I._private[E.field][x]),W;if(E.allowSetting&&void 0!==w)if(!E.immutableKeys[x]){for(var A=0,F=B.length;F>A;A++)E.canSet(B[A])&&(B[A]._private[E.field][x]=w);E.updateStyle&&D.updateStyle(),E.onSet(D),E.settingTriggersEvent&&D[E.triggerFnName](E.settingEvent)}}else if(E.allowSetting&&S.plainObject(x)){var X,Y,$=x;for(X in $){if(Y=$[X],!E.immutableKeys[X])for(A=0,F=B.length;F>A;A++)E.canSet(B[A])&&(B[A]._private[E.field][X]=Y)}E.updateStyle&&D.updateStyle(),E.onSet(D),E.settingTriggersEvent&&D[E.triggerFnName](E.settingEvent)}else if(E.allowBinding&&S.fn(x)){var H=x;D.bind(E.bindingEvent,H)}else if(E.allowGetting&&void 0===x){var W;return I&&(W=I._private[E.field]),W}return D}},removeData:function(b){return b=E.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},b),function(x){var w=b,E=this,D=void 0!==E.length?E:[E];if(S.string(x)){for(var C=x.split(/\s+/),B=C.length,I=0;B>I;I++){var A=C[I];if(!S.emptyString(A))if(!w.immutableKeys[A])for(var F=0,X=D.length;X>F;F++)D[F]._private[w.field][A]=void 0}w.triggerEvent&&E[w.triggerFnName](w.event)}else if(void 0===x){for(F=0,X=D.length;X>F;F++){var Y=D[F]._private[w.field];for(var A in Y){!w.immutableKeys[A]&&(Y[A]=void 0)}}w.triggerEvent&&E[w.triggerFnName](w.event)}return E}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(b){return b=E.extend({},{unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1},b),function(x,w,E,C){var B=this,I=void 0!==B.length?B:[B],F=S.string(x),X=b;if(S.plainObject(w)?(C=E,E=w,w=void 0):(S.fn(w)||!1===w)&&(C=w,E=void 0,w=void 0),(S.fn(E)||!1===E)&&(C=E,E=void 0),!S.fn(C)&&!1!==C&&F)return B;if(F){var Y={};Y[x]=C,x=Y}for(var $ in x)if(!1===(C=x[$])&&(C=A.event.falseCallback),S.fn(C)){$=$.split(/\s+/);for(var H=0;H<$.length;H++){var W=$[H];if(!S.emptyString(W)){var Z=W.match(A.event.regex);if(Z)for(var U=Z[1],J=Z[2]?Z[2]:void 0,Q={callback:C,data:E,delegated:!!w,selector:w,selObj:new D(w),type:U,namespace:J,unbindSelfOnTrigger:X.unbindSelfOnTrigger,unbindAllBindersOnTrigger:X.unbindAllBindersOnTrigger,binders:I},ee=0;ee<I.length;ee++){var ne=I[ee]._private;ne.listeners=ne.listeners||[],ne.listeners.push(Q)}}}}return B}},eventAliasesOn:function(b){var x=b;x.addListener=x.listen=x.bind=x.on,x.removeListener=x.unlisten=x.unbind=x.off,x.emit=x.trigger,x.pon=x.promiseOn=function(b,x){var w=this,E=Array.prototype.slice.call(arguments,0);return new C((function(b,x){var S=E.concat([function(x){w.off.apply(w,D),b(x)}]),D=S.concat([]);w.on.apply(w,S)}))}},off:function(b){return b=E.extend({},{},b),function(b,x,w){var E=this,D=void 0!==E.length?E:[E],C=S.string(b);if(0===arguments.length){for(var B=0;B<D.length;B++)D[B]._private.listeners=[];return E}if((S.fn(x)||!1===x)&&(w=x,x=void 0),C){var I={};I[b]=w,b=I}for(var F in b){!1===(w=b[F])&&(w=A.event.falseCallback),F=F.split(/\s+/);for(var X=0;X<F.length;X++){var Y=F[X];if(!S.emptyString(Y)){var $=Y.match(A.event.optionalTypeRegex);if($){var H=$[1]?$[1]:void 0,W=$[2]?$[2]:void 0;for(B=0;B<D.length;B++)for(var Z=D[B]._private.listeners=D[B]._private.listeners||[],U=0;U<Z.length;U++){var J=Z[U],Q=!W||W===J.namespace,ee=!H||J.type===H,ne=!w||w===J.callback;Q&&ee&&ne&&(Z.splice(U,1),U--)}}}}}return E}},trigger:function(b){return b=E.extend({},{},b),function(x,w,E){var D=this,C=void 0!==D.length?D:[D],I=S.string(x),F=S.plainObject(x),X=S.event(x),Y=this._private.cy||(S.core(this)?this:null),$=!!Y&&Y.hasCompoundNodes();if(I){var H=x.split(/\s+/);x=[];for(var W=0;W<H.length;W++){var Z=H[W];if(!S.emptyString(Z)){var U=Z.match(A.event.regex),J=U[1],Q=U[2]?U[2]:void 0;x.push({type:J,namespace:Q})}}}else if(F){x=[x]}w?S.array(w)||(w=[w]):w=[];for(W=0;W<x.length;W++)for(var ee=x[W],ne=0;ne<C.length;ne++){var re=C[ne],ie=re._private.listeners=re._private.listeners||[],ae=S.element(re)||b.layout;if(X?((Z=ee).cyTarget=Z.cyTarget||re,Z.cy=Z.cy||Y):Z=new B(ee,{cyTarget:re,cy:Y,namespace:ee.namespace}),ee.layout&&(Z.layout=ee.layout),b.layout&&(Z.layout=re),Z.cyPosition){var oe=Z.cyPosition,le=Y.zoom(),ce=Y.pan();Z.cyRenderedPosition={x:oe.x*le+ce.x,y:oe.y*le+ce.y}}E&&(ie=[{namespace:Z.namespace,type:Z.type,callback:E}]);for(var de=0;de<ie.length;de++){var he=ie[de],pe=!he.namespace||he.namespace===Z.namespace,fe=he.type===Z.type,ge=!he.delegated||re!==Z.cyTarget&&S.element(Z.cyTarget)&&he.selObj.matches(Z.cyTarget);if(pe&&fe&&ge){var ye=[Z];if(ye=ye.concat(w),he.data?Z.data=he.data:Z.data=void 0,(he.unbindSelfOnTrigger||he.unbindAllBindersOnTrigger)&&(ie.splice(de,1),de--),he.unbindAllBindersOnTrigger)for(var me=he.binders,be=0;be<me.length;be++){var xe=me[be];if(xe&&xe!==re)for(var we=xe._private.listeners,_e=0;_e<we.length;_e++){we[_e]===he&&(we.splice(_e,1),_e--)}}var Ee=he.delegated?Z.cyTarget:re,Se=he.callback.apply(Ee,ye);(!1===Se||Z.isPropagationStopped())&&(ae=!1,!1===Se&&(Z.stopPropagation(),Z.preventDefault()))}}if(ae){var De=$?re._private.parent:null;null!=De&&0!==De.length?(De=De[0]).trigger(Z):Y.trigger(Z)}}return D}},animated:function(b){return b=E.extend({},{},b),function(){var b=this,x=void 0!==b.length?b:[b];if(!(this._private.cy||this).styleEnabled())return!1;var w=x[0];return w?w._private.animation.current.length>0:void 0}},clearQueue:function(b){return b=E.extend({},{},b),function(){var b=this,x=void 0!==b.length?b:[b];if(!(this._private.cy||this).styleEnabled())return this;for(var w=0;w<x.length;w++){x[w]._private.animation.queue=[]}return this}},delay:function(b){return b=E.extend({},{},b),function(b,x){return(this._private.cy||this).styleEnabled()?this.animate({delay:b,duration:b,complete:x}):this}},delayAnimation:function(b){return b=E.extend({},{},b),function(b,x){return(this._private.cy||this).styleEnabled()?this.animation({delay:b,duration:b,complete:x}):this}},animation:function(b){return b=E.extend({},{},b),function(b,x){var w=this,S=void 0!==w.length,D=S?w:[w],C=this._private.cy||this,B=!S,A=!B;if(!C.styleEnabled())return this;var F=C.style();switch(void 0===(b=E.extend({},b,x)).duration&&(b.duration=400),b.duration){case"slow":b.duration=600;break;case"fast":b.duration=200}var X=!0;if(b)for(var Y in b){X=!1;break}if(X)return new I(D[0],b);if(A&&(b.style=F.getPropsList(b.style||b.css),b.css=void 0),b.renderedPosition&&A){var $=b.renderedPosition,H=C.pan(),W=C.zoom();b.position={x:($.x-H.x)/W,y:($.y-H.y)/W}}if(b.panBy&&B){var Z=b.panBy,U=C.pan();b.pan={x:U.x+Z.x,y:U.y+Z.y}}var J=b.center||b.centre;if(J&&B){var Q=C.getCenterPan(J.eles,b.zoom);Q&&(b.pan=Q)}if(b.fit&&B){var ee=b.fit,ne=C.getFitViewport(ee.eles||ee.boundingBox,ee.padding);ne&&(b.pan=ne.pan,b.zoom=ne.zoom)}return new I(D[0],b)}},animate:function(b){return b=E.extend({},{},b),function(b,x){var w=this,S=void 0!==w.length?w:[w];if(!(this._private.cy||this).styleEnabled())return this;x&&(b=E.extend({},b,x));for(var D=0;D<S.length;D++){var C=S[D],B=C.animated()&&(void 0===b.queue||b.queue);C.animation(b,B?{queue:!0}:void 0).play()}return this}},stop:function(b){return b=E.extend({},{},b),function(b,x){var w=this,E=void 0!==w.length?w:[w],S=this._private.cy||this;if(!S.styleEnabled())return this;for(var D=0;D<E.length;D++){for(var C=E[D]._private,B=C.animation.current,I=0;I<B.length;I++){var A=B[I]._private;x&&(A.duration=0)}b&&(C.animation.queue=[]),x||(C.animation.current=[])}return S.notify({collection:this,type:"draw"}),this}}};x.exports=A},{"./animation":1,"./event":42,"./is":77,"./promise":80,"./selector":81,"./util":94}],42:[function(b,x,w){"use strict";function n(){return!1}function i(){return!0}
/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var a=function(b,x){return this instanceof a?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented?i:n):this.type=b,x&&(this.type=void 0!==x.type?x.type:this.type,this.cy=x.cy,this.cyTarget=x.cyTarget,this.cyPosition=x.cyPosition,this.cyRenderedPosition=x.cyRenderedPosition,this.namespace=x.namespace,this.layout=x.layout,this.data=x.data,this.message=x.message),void(this.timeStamp=b&&b.timeStamp||Date.now())):new a(b,x)};a.prototype={instanceString:function(){return"event"},preventDefault:function(){this.isDefaultPrevented=i;var b=this.originalEvent;b&&b.preventDefault&&b.preventDefault()},stopPropagation:function(){this.isPropagationStopped=i;var b=this.originalEvent;b&&b.stopPropagation&&b.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n},x.exports=a},{}],43:[function(b,x,w){"use strict";function n(b,x,w){var B=w;if("core"===b)C.prototype[x]=w;else if("collection"===b)D.prototype[x]=w;else if("layout"===b){for(var a=function(b){this.options=b,w.call(this,b),I.plainObject(this._private)||(this._private={}),this._private.cy=b.cy,this._private.listeners=[]},F=a.prototype=Object.create(w.prototype),X=[],Y=0;Y<X.length;Y++){var $=X[Y];F[$]=F[$]||function(){return this}}F.start&&!F.run?F.run=function(){return this.start(),this}:!F.start&&F.run&&(F.start=function(){return this.run(),this}),F.stop||(F.stop=function(){var b=this.options;if(b&&b.animate)for(var x=this.animations,w=0;w<x.length;w++)x[w].stop();return this.trigger("layoutstop"),this}),F.destroy||(F.destroy=function(){return this}),F.on=S.on({layout:!0}),F.one=S.on({layout:!0,unbindSelfOnTrigger:!0}),F.once=S.on({layout:!0,unbindAllBindersOnTrigger:!0}),F.off=S.off({layout:!0}),F.trigger=S.trigger({layout:!0}),S.eventAliasesOn(F),B=a}else if("renderer"===b&&"null"!==x&&"base"!==x){var H=i("renderer","base").prototype,W=w.prototype;for(var Z in H){var U=H[Z];if(null!=W[Z])return void E.error("Can not register renderer `"+x+"` since it overrides `"+Z+"` in its prototype");W[Z]=U}H.clientFunctions.forEach((function(b){W[b]=W[b]||function(){E.error("Renderer does not implement `renderer."+b+"()` on its prototype")}}))}return E.setMap({map:A,keys:[b,x],value:B})}function i(b,x){return E.getMap({map:A,keys:[b,x]})}function a(b,x,w,S,D){return E.setMap({map:F,keys:[b,x,w,S],value:D})}function o(b,x,w,S){return E.getMap({map:F,keys:[b,x,w,S]})}var E=b("./util"),S=b("./define"),D=b("./collection"),C=b("./core"),B=b("./extensions"),I=b("./is"),A={},F={},f=function(){return 2===arguments.length?i.apply(null,arguments):3===arguments.length?n.apply(null,arguments):4===arguments.length?o.apply(null,arguments):5===arguments.length?a.apply(null,arguments):void E.error("Invalid extension access syntax")};C.prototype.extension=f,B.forEach((function(b){b.extensions.forEach((function(x){n(b.type,x.name,x.impl)}))})),x.exports=f},{"./collection":23,"./core":34,"./define":41,"./extensions":44,"./is":77,"./util":94}],44:[function(b,x,w){"use strict";x.exports=[{type:"layout",extensions:b("./layout")},{type:"renderer",extensions:b("./renderer")}]},{"./layout":50,"./renderer":72}],45:[function(b,x,w){"use strict";function n(b){this.options=E.extend({},C,b)}var E=b("../../util"),S=b("../../math"),D=b("../../is"),C={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var b,x=this.options,w=x,E=x.cy,C=w.eles,B=C.nodes().not(":parent"),I=C,A=S.makeBoundingBox(w.boundingBox?w.boundingBox:{x1:0,y1:0,w:E.width(),h:E.height()});if(D.elementOrCollection(w.roots))b=w.roots;else if(D.array(w.roots)){for(var F=[],X=0;X<w.roots.length;X++){var Y=w.roots[X],$=E.getElementById(Y);F.push($)}b=E.collection(F)}else if(D.string(w.roots))b=E.$(w.roots);else if(w.directed)b=B.roots();else{for(var H=[],W=B;W.length>0;){var Z=E.collection();C.bfs({roots:W[0],visit:function(b,x,w,E,S){Z=Z.add(w)},directed:!1}),W=W.not(Z),H.push(Z)}b=E.collection();for(X=0;X<H.length;X++){var U=H[X],J=U.maxDegree(!1),Q=U.filter((function(){return this.degree(!1)===J}));b=b.add(Q)}}var ee=[],ne={},re={},ie={},ae={},oe={};I.bfs({roots:b,directed:w.directed,visit:function(b,x,w,E,S){var D=this[0],C=D.id();if(ee[x]||(ee[x]=[]),ee[x].push(D),ne[C]=!0,re[C]=x,ie[C]=S,ae[C]=E,S){var B=S.id();(oe[B]=oe[B]||[]).push(w)}}});var le=[];for(X=0;X<B.length;X++){$=B[X];ne[$.id()]||le.push($)}for(var ce=3*le.length,de=0;0!==le.length&&ce>de;){var he=(fe=le.shift()).neighborhood().nodes(),pe=!1;for(X=0;X<he.length;X++){if(void 0!==(Oe=re[he[X].id()])){ee[Oe].push(fe),pe=!0;break}}pe||le.push(fe),de++}for(;0!==le.length;){var fe=le.shift();(pe=!1)||(0===ee.length&&ee.push([]),ee[0].push(fe))}var z=function(){for(var b=0;b<ee.length;b++)for(var x=ee[b],w=0;w<x.length;w++){x[w]._private.scratch.breadthfirst={depth:b,index:w}}};z();for(var O=function(b){for(var x,w=b.connectedEdges((function(){return this.data("target")===b.id()})),E=b._private.scratch.breadthfirst,S=0,D=0;D<w.length;D++){var C=w[D].source()[0],B=C._private.scratch.breadthfirst;E.depth<=B.depth&&S<B.depth&&(S=B.depth,x=C)}return x},ge=0;ge<w.maximalAdjustments;ge++){var ye=ee.length,me=[];for(X=0;ye>X;X++)for(var be=(Oe=ee[X]).length,xe=0;be>xe;xe++){var we=($=Oe[xe])._private.scratch.breadthfirst;(_e=O($))&&(we.intEle=_e,me.push($))}for(X=0;X<me.length;X++){var _e,Ee=(_e=(we=($=me[X])._private.scratch.breadthfirst).intEle)._private.scratch.breadthfirst;ee[we.depth].splice(we.index,1);for(var Se=Ee.depth+1;Se>ee.length-1;)ee.push([]);ee[Se].push($),we.depth=Se,we.index=ee[Se].length-1}z()}var De=0;if(w.avoidOverlap){for(X=0;X<B.length;X++){var ke=B[X].boundingBox(),Te=ke.w,Pe=ke.h;De=Math.max(De,Te,Pe)}De*=w.spacingFactor}for(var Ce={},G=function(b){if(Ce[b.id()])return Ce[b.id()];for(var x=b._private.scratch.breadthfirst.depth,w=b.neighborhood().nodes().not(":parent"),E=0,S=0,D=0;D<w.length;D++){var C=w[D]._private.scratch.breadthfirst,B=C.index,I=C.depth,A=ee[I].length;(x>I||0===x)&&(E+=B/A,S++)}return E/=S=Math.max(1,S),0===S&&(E=void 0),Ce[b.id()]=E,E},K=function(b,x){return G(b)-G(x)},Ne=0;3>Ne;Ne++){for(X=0;X<ee.length;X++)ee[X]=ee[X].sort(K);z()}var Me=0;for(X=0;X<ee.length;X++)Me=Math.max(ee[X].length,Me);var Be={x:A.x1+A.w/2,y:A.x1+A.h/2},te=function(b,x){var E=b._private.scratch.breadthfirst,S=E.depth,D=E.index,C=ee[S].length,B=Math.max(A.w/(C+1),De),I=Math.max(A.h/(ee.length+1),De),F=Math.min(A.w/2/ee.length,A.h/2/ee.length);if(F=Math.max(F,De),w.circle){if(w.circle){var X=F*S+F-(ee.length>0&&ee[0].length<=3?F/2:0),Y=2*Math.PI/ee[S].length*D;return 0===S&&1===ee[0].length&&(X=1),{x:Be.x+X*Math.cos(Y),y:Be.y+X*Math.sin(Y)}}return{x:Be.x+(D+1-(C+1)/2)*B,y:(S+1)*I}}var $={x:Be.x+(D+1-(C+1)/2)*B,y:(S+1)*I};return $},ze={};for(X=ee.length-1;X>=0;X--){var Oe=ee[X];for(xe=0;xe<Oe.length;xe++){fe=Oe[xe];ze[fe.id()]=te(fe,ee.length)}}return B.layoutPositions(this,w,(function(){return ze[this.id()]})),this},x.exports=n},{"../../is":77,"../../math":79,"../../util":94}],46:[function(b,x,w){"use strict";function n(b){this.options=E.extend({},C,b)}var E=b("../../util"),S=b("../../math"),D=b("../../is"),C={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var b=this.options,x=b,w=b.cy,E=x.eles,C=void 0!==x.counterclockwise?!x.counterclockwise:x.clockwise,B=E.nodes().not(":parent");x.sort&&(B=B.sort(x.sort));for(var I,A=S.makeBoundingBox(x.boundingBox?x.boundingBox:{x1:0,y1:0,w:w.width(),h:w.height()}),F={x:A.x1+A.w/2,y:A.y1+A.h/2},X=(void 0===x.sweep?2*Math.PI-2*Math.PI/B.length:x.sweep)/Math.max(1,B.length-1),Y=0,$=0;$<B.length;$++){var H=B[$].boundingBox(),W=H.w,Z=H.h;Y=Math.max(Y,W,Z)}if(I=D.number(x.radius)?x.radius:B.length<=1?0:Math.min(A.h,A.w)/2-Y,B.length>1&&x.avoidOverlap){Y*=1.75;var U=Math.cos(X)-Math.cos(0),J=Math.sin(X)-Math.sin(0),Q=Math.sqrt(Y*Y/(U*U+J*J));I=Math.max(Q,I)}return B.layoutPositions(this,x,(function(b,w){var E=x.startAngle+b*X*(C?1:-1),S=I*Math.cos(E),D=I*Math.sin(E);return{x:F.x+S,y:F.y+D}})),this},x.exports=n},{"../../is":77,"../../math":79,"../../util":94}],47:[function(b,x,w){"use strict";function n(b){this.options=E.extend({},D,b)}var E=b("../../util"),S=b("../../math"),D={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(b){return b.degree()},levelWidth:function(b){return b.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){for(var b=this.options,x=b,w=void 0!==x.counterclockwise?!x.counterclockwise:x.clockwise,E=b.cy,D=x.eles.nodes().not(":parent"),C=S.makeBoundingBox(x.boundingBox?x.boundingBox:{x1:0,y1:0,w:E.width(),h:E.height()}),B={x:C.x1+C.w/2,y:C.y1+C.h/2},I=[],A=x.startAngle,F=0,X=0;X<D.length;X++){var Y,$=D[X];Y=x.concentric.apply($,[$]),I.push({value:Y,node:$}),$._private.scratch.concentric=Y}D.updateStyle();for(X=0;X<D.length;X++){var H=($=D[X]).boundingBox();F=Math.max(F,H.w,H.h)}I.sort((function(b,x){return x.value-b.value}));var W=x.levelWidth(D),Z=[[]],U=Z[0];for(X=0;X<I.length;X++){var J=I[X];if(U.length>0)Math.abs(U[0].value-J.value)>=W&&(U=[],Z.push(U));U.push(J)}var Q=F+x.minNodeSpacing;if(!x.avoidOverlap){var ee=Z.length>0&&Z[0].length>1,ne=(Math.min(C.w,C.h)/2-Q)/(Z.length+ee?1:0);Q=Math.min(Q,ne)}var re=0;for(X=0;X<Z.length;X++){var ie=Z[X],ae=void 0===x.sweep?2*Math.PI-2*Math.PI/ie.length:x.sweep,oe=ie.dTheta=ae/Math.max(1,ie.length-1);if(ie.length>1&&x.avoidOverlap){var le=Math.cos(oe)-Math.cos(0),ce=Math.sin(oe)-Math.sin(0),de=Math.sqrt(Q*Q/(le*le+ce*ce));re=Math.max(de,re)}ie.r=re,re+=Q}if(x.equidistant){var he=0;for(re=0,X=0;X<Z.length;X++){var pe=(ie=Z[X]).r-re;he=Math.max(he,pe)}re=0;for(X=0;X<Z.length;X++){ie=Z[X];0===X&&(re=ie.r),ie.r=re,re+=he}}var fe={};for(X=0;X<Z.length;X++){oe=(ie=Z[X]).dTheta,re=ie.r;for(var ge=0;ge<ie.length;ge++){J=ie[ge],A=x.startAngle+(w?1:-1)*oe*ge;var ye={x:B.x+re*Math.cos(A),y:B.y+re*Math.sin(A)};fe[J.node.id()]=ye}}return D.layoutPositions(this,x,(function(){var b=this.id();return fe[b]})),this},x.exports=n},{"../../math":79,"../../util":94}],48:[function(b,x,w){"use strict";function n(b){this.options=S.extend({},I,b),this.options.layout=this}var E,S=b("../../util"),D=b("../../math"),C=b("../../thread"),B=b("../../is"),I={ready:function(){},stop:function(){},animate:!0,animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,componentSpacing:100,nodeRepulsion:function(b){return 4e5},nodeOverlap:10,idealEdgeLength:function(b){return 10},edgeElasticity:function(b){return 100},nestingFactor:5,gravity:80,numIter:1e3,initialTemp:200,coolingFactor:.95,minTemp:1,useMultitasking:!0};n.prototype.run=function(){var b=this.options,x=b.cy,w=this,D=this.thread;D&&!D.stopped()||(D=this.thread=C({disabled:!b.useMultitasking})),w.stopped=!1,w.trigger({type:"layoutstart",layout:w}),E=!0===b.debug;var B=c(x,w,b);E&&p(B),v(B,x);var I=Date.now(),A=!1,d=function(w){w=w||{},A&&!w.next||!w.force&&Date.now()-I<b.animationThreshold||(A=!0,S.requestAnimationFrame((function(){f(B,x,b),!0===b.fit&&x.fit(b.padding),A=!1,w.next&&w.next()})))};D.on("message",(function(b){var x=b.message;B.layoutNodes=x,d()})),D.pass({layoutInfo:B,options:{animate:b.animate,refresh:b.refresh,componentSpacing:b.componentSpacing,nodeOverlap:b.nodeOverlap,nestingFactor:b.nestingFactor,gravity:b.gravity,numIter:b.numIter,initialTemp:b.initialTemp,coolingFactor:b.coolingFactor,minTemp:b.minTemp}}).run((function(b){var x=b.layoutInfo,w=b.options,o=function(b,x){for(var w=0;w<b.graphSet.length;w++)for(var E=b.graphSet[w],S=E.length,D=0;S>D;D++)for(var C=b.layoutNodes[b.idToIndex[E[D]]],B=D+1;S>B;B++){var I=b.layoutNodes[b.idToIndex[E[B]]];s(C,I,b,x)}},s=function(b,x,w,E){if(b.cmptId===x.cmptId||w.isCompound){var S=x.positionX-b.positionX,D=x.positionY-b.positionY;if(0!==S||0!==D){var C=l(b,x,S,D);if(C>0)var B=(A=E.nodeOverlap*C)*S/(W=Math.sqrt(S*S+D*D)),I=A*D/W;else{var A,F=u(b,S,D),X=u(x,-1*S,-1*D),Y=X.x-F.x,$=X.y-F.y,H=Y*Y+$*$,W=Math.sqrt(H);B=(A=(b.nodeRepulsion+x.nodeRepulsion)/H)*Y/W,I=A*$/W}b.isLocked||(b.offsetX-=B,b.offsetY-=I),x.isLocked||(x.offsetX+=B,x.offsetY+=I)}}},l=function(b,x,w,E){if(w>0)var S=b.maxX-x.minX;else S=x.maxX-b.minX;if(E>0)var D=b.maxY-x.minY;else D=x.maxY-b.minY;return S>=0&&D>=0?Math.sqrt(S*S+D*D):0},u=function(b,x,w){var E=b.positionX,S=b.positionY,D=b.height||1,C=b.width||1,B=w/x,I=D/C,A={};do{if(0===x&&w>0){A.x=E,A.y=S+D/2;break}if(0===x&&0>w){A.x=E,A.y=S+D/2;break}if(x>0&&B>=-1*I&&I>=B){A.x=E+C/2,A.y=S+C*w/2/x;break}if(0>x&&B>=-1*I&&I>=B){A.x=E-C/2,A.y=S-C*w/2/x;break}if(w>0&&(-1*I>=B||B>=I)){A.x=E+D*x/2/w,A.y=S+D/2;break}if(0>w&&(-1*I>=B||B>=I)){A.x=E-D*x/2/w,A.y=S-D/2;break}}while(0);return A},c=function(b,x){for(var w=0;w<b.edgeSize;w++){var E=b.layoutEdges[w],S=b.idToIndex[E.sourceId],D=b.layoutNodes[S],C=b.idToIndex[E.targetId],B=b.layoutNodes[C],I=B.positionX-D.positionX,A=B.positionY-D.positionY;if(0===I&&0===A)return;var F=u(D,I,A),X=u(B,-1*I,-1*A),Y=X.x-F.x,$=X.y-F.y,H=Math.sqrt(Y*Y+$*$),W=Math.pow(E.idealLength-H,2)/E.elasticity;if(0!==H)var Z=W*Y/H,U=W*$/H;else Z=0,U=0;D.isLocked||(D.offsetX+=Z,D.offsetY+=U),B.isLocked||(B.offsetX-=Z,B.offsetY-=U)}},d=function(b,x){for(var w=0;w<b.graphSet.length;w++){var E=b.graphSet[w],S=E.length;if(0===w)var D=b.clientHeight/2,C=b.clientWidth/2;else{var B=b.layoutNodes[b.idToIndex[E[0]]],I=b.layoutNodes[b.idToIndex[B.parentId]];D=I.positionX,C=I.positionY}for(var A=0;S>A;A++){var F=b.layoutNodes[b.idToIndex[E[A]]];if(!F.isLocked){var X=D-F.positionX,Y=C-F.positionY,$=Math.sqrt(X*X+Y*Y);if($>1){var H=x.gravity*X/$,W=x.gravity*Y/$;F.offsetX+=H,F.offsetY+=W}}}}},h=function(b,x){var w=[],E=0,S=-1;for(w.push.apply(w,b.graphSet[0]),S+=b.graphSet[0].length;S>=E;){var D=w[E++],C=b.idToIndex[D],B=b.layoutNodes[C],I=B.children;if(0<I.length&&!B.isLocked){for(var A=B.offsetX,F=B.offsetY,X=0;X<I.length;X++){var Y=b.layoutNodes[b.idToIndex[I[X]]];Y.offsetX+=A,Y.offsetY+=F,w[++S]=I[X]}B.offsetX=0,B.offsetY=0}}},p=function(b,x){for(var w=0;w<b.nodeSize;w++){0<(S=b.layoutNodes[w]).children.length&&(S.maxX=void 0,S.minX=void 0,S.maxY=void 0,S.minY=void 0)}for(w=0;w<b.nodeSize;w++){if(!(0<(S=b.layoutNodes[w]).children.length||S.isLocked)){var E=v(S.offsetX,S.offsetY,b.temperature);S.positionX+=E.x,S.positionY+=E.y,S.offsetX=0,S.offsetY=0,S.minX=S.positionX-S.width,S.maxX=S.positionX+S.width,S.minY=S.positionY-S.height,S.maxY=S.positionY+S.height,f(S,b)}}for(w=0;w<b.nodeSize;w++){var S;0<(S=b.layoutNodes[w]).children.length&&!S.isLocked&&(S.positionX=(S.maxX+S.minX)/2,S.positionY=(S.maxY+S.minY)/2,S.width=S.maxX-S.minX,S.height=S.maxY-S.minY)}},v=function(b,x,w){var E=Math.sqrt(b*b+x*x);if(E>w)var S={x:w*b/E,y:w*x/E};else S={x:b,y:x};return S},f=function(b,x){var w=b.parentId;if(null!=w){var E=x.layoutNodes[x.idToIndex[w]],S=!1;return(null==E.maxX||b.maxX+E.padRight>E.maxX)&&(E.maxX=b.maxX+E.padRight,S=!0),(null==E.minX||b.minX-E.padLeft<E.minX)&&(E.minX=b.minX-E.padLeft,S=!0),(null==E.maxY||b.maxY+E.padBottom>E.maxY)&&(E.maxY=b.maxY+E.padBottom,S=!0),(null==E.minY||b.minY-E.padTop<E.minY)&&(E.minY=b.minY-E.padTop,S=!0),S?f(E,x):void 0}},y=function(b){return function(b,x,w){o(b,x),c(b,x),d(b,x),h(b,x),p(b,x)}(x,w),x.temperature=x.temperature*w.coolingFactor,!(x.temperature<w.minTemp)},E=0;do{for(var S=0;S<w.refresh&&E<w.numIter;){var D;if(!(D=y()))break;S++,E++}w.animate&&broadcast(x.layoutNodes)}while(D&&E+1<w.numIter);return function(b,w){for(var E=x.layoutNodes,S=[],D=0;D<E.length;D++){var C=E[D],B=C.cmptId;(S[B]=S[B]||[]).push(C)}var I=0;for(D=0;D<S.length;D++){(Z=S[D]).x1=1/0,Z.x2=-1/0,Z.y1=1/0,Z.y2=-1/0;for(var A=0;A<Z.length;A++){var F=Z[A];Z.x1=Math.min(Z.x1,F.positionX-F.width/2),Z.x2=Math.max(Z.x2,F.positionX+F.width/2),Z.y1=Math.min(Z.y1,F.positionY-F.height/2),Z.y2=Math.max(Z.y2,F.positionY+F.height/2)}Z.w=Z.x2-Z.x1,Z.h=Z.y2-Z.y1,I+=Z.w*Z.h}S.sort((function(b,x){return x.w*x.h-b.w*b.h}));var X=0,Y=0,$=0,H=0,W=Math.sqrt(I)*x.clientWidth/x.clientHeight;for(D=0;D<S.length;D++){var Z=S[D];for(A=0;A<Z.length;A++){(F=Z[A]).isLocked||(F.positionX+=X,F.positionY+=Y)}X+=Z.w+w.componentSpacing,$+=Z.w+w.componentSpacing,H=Math.max(H,Z.h),$>W&&(Y+=H+w.componentSpacing,X=0,$=0,H=0)}}(0,w),x})).then((function(b){B.layoutNodes=b.layoutNodes,D.stop(),h()}));var h=function(){d({force:!0,next:function(){w.one("layoutstop",b.stop),w.trigger({type:"layoutstop",layout:w})}})};return this},n.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.trigger("layoutstop"),this},n.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var c=function(b,x,w){for(var E=w.eles.edges(),S=w.eles.nodes(),C={isCompound:b.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:S.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:E.size(),temperature:w.initialTemp,clientWidth:b.width(),clientHeight:b.width(),boundingBox:D.makeBoundingBox(w.boundingBox?w.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()})},I=w.eles.components(),A={},F=0;F<I.length;F++)for(var X=I[F],Y=0;Y<X.length;Y++){A[X[Y].id()]=F}for(F=0;F<C.nodeSize;F++){var $=(J=S[F]).boundingBox();(me={}).isLocked=J.locked(),me.id=J.data("id"),me.parentId=J.data("parent"),me.cmptId=A[J.id()],me.children=[],me.positionX=J.position("x"),me.positionY=J.position("y"),me.offsetX=0,me.offsetY=0,me.height=$.w,me.width=$.h,me.maxX=me.positionX+me.width/2,me.minX=me.positionX-me.width/2,me.maxY=me.positionY+me.height/2,me.minY=me.positionY-me.height/2,me.padLeft=parseFloat(J.style("padding-left")),me.padRight=parseFloat(J.style("padding-right")),me.padTop=parseFloat(J.style("padding-top")),me.padBottom=parseFloat(J.style("padding-bottom")),me.nodeRepulsion=B.fn(w.nodeRepulsion)?w.nodeRepulsion.call(J,J):w.nodeRepulsion,C.layoutNodes.push(me),C.idToIndex[me.id]=F}var H=[],W=0,Z=-1,U=[];for(F=0;F<C.nodeSize;F++){var J,Q=(J=C.layoutNodes[F]).parentId;null!=Q?C.layoutNodes[C.idToIndex[Q]].children.push(J.id):(H[++Z]=J.id,U.push(J.id))}for(C.graphSet.push(U);Z>=W;){var ee=H[W++],ne=C.idToIndex[ee],re=C.layoutNodes[ne].children;if(re.length>0){C.graphSet.push(re);for(F=0;F<re.length;F++)H[++Z]=re[F]}}for(F=0;F<C.graphSet.length;F++){var ie=C.graphSet[F];for(Y=0;Y<ie.length;Y++){var ae=C.idToIndex[ie[Y]];C.indexToGraph[ae]=F}}for(F=0;F<C.edgeSize;F++){var oe=E[F],le={};le.id=oe.data("id"),le.sourceId=oe.data("source"),le.targetId=oe.data("target");var ce=B.fn(w.idealEdgeLength)?w.idealEdgeLength.call(oe,oe):w.idealEdgeLength,de=B.fn(w.edgeElasticity)?w.edgeElasticity.call(oe,oe):w.edgeElasticity,he=C.idToIndex[le.sourceId],pe=C.idToIndex[le.targetId];if(C.indexToGraph[he]!=C.indexToGraph[pe]){for(var fe=d(le.sourceId,le.targetId,C),ge=C.graphSet[fe],ye=0,me=C.layoutNodes[he];-1===ge.indexOf(me.id);)me=C.layoutNodes[C.idToIndex[me.parentId]],ye++;for(me=C.layoutNodes[pe];-1===ge.indexOf(me.id);)me=C.layoutNodes[C.idToIndex[me.parentId]],ye++;ce*=ye*w.nestingFactor}le.idealLength=ce,le.elasticity=de,C.layoutEdges.push(le)}return C},d=function(b,x,w){var E=h(b,x,0,w);return 2>E.count?0:E.graph},h=function(b,x,w,E){var S=E.graphSet[w];if(-1<S.indexOf(b)&&-1<S.indexOf(x))return{count:2,graph:w};for(var D=0,C=0;C<S.length;C++){var B=S[C],I=E.idToIndex[B],A=E.layoutNodes[I].children;if(0!==A.length){var F=E.indexToGraph[E.idToIndex[A[0]]],X=h(b,x,F,E);if(0!==X.count){if(1!==X.count)return X;if(2===++D)break}}}return{count:D,graph:w}},p=function(b){if(E){console.debug("layoutNodes:");for(var x=0;x<b.nodeSize;x++){var w=b.layoutNodes[x],S="\nindex: "+x+"\nId: "+w.id+"\nChildren: "+w.children.toString()+"\nparentId: "+w.parentId+"\npositionX: "+w.positionX+"\npositionY: "+w.positionY+"\nOffsetX: "+w.offsetX+"\nOffsetY: "+w.offsetY+"\npadLeft: "+w.padLeft+"\npadRight: "+w.padRight+"\npadTop: "+w.padTop+"\npadBottom: "+w.padBottom;console.debug(S)}for(var x in console.debug("idToIndex"),b.idToIndex)console.debug("Id: "+x+"\nIndex: "+b.idToIndex[x]);console.debug("Graph Set");var D=b.graphSet;for(x=0;x<D.length;x++)console.debug("Set : "+x+": "+D[x].toString());for(S="IndexToGraph",x=0;x<b.indexToGraph.length;x++)S+="\nIndex : "+x+" Graph: "+b.indexToGraph[x];console.debug(S),S="Layout Edges";for(x=0;x<b.layoutEdges.length;x++){var C=b.layoutEdges[x];S+="\nEdge Index: "+x+" ID: "+C.id+" SouceID: "+C.sourceId+" TargetId: "+C.targetId+" Ideal Length: "+C.idealLength}console.debug(S),S="nodeSize: "+b.nodeSize,S+="\nedgeSize: "+b.edgeSize,S+="\ntemperature: "+b.temperature,console.debug(S)}},v=function(b,x){for(var w=b.clientWidth,E=b.clientHeight,S=0;S<b.nodeSize;S++){var D=b.layoutNodes[S];0!==D.children.length||D.isLocked||(D.positionX=Math.random()*w,D.positionY=Math.random()*E)}},f=function(b,x,w){var E=w.layout,S=w.eles.nodes(),D=b.boundingBox,C={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};w.boundingBox&&(S.forEach((function(x){var w=b.layoutNodes[b.idToIndex[x.data("id")]];C.x1=Math.min(C.x1,w.positionX),C.x2=Math.max(C.x2,w.positionX),C.y1=Math.min(C.y1,w.positionY),C.y2=Math.max(C.y2,w.positionY)})),C.w=C.x2-C.x1,C.h=C.y2-C.y1),S.positions((function(x,E){var S=b.layoutNodes[b.idToIndex[E.data("id")]];if(w.boundingBox){var B=(S.positionX-C.x1)/C.w,I=(S.positionY-C.y1)/C.h;return{x:D.x1+B*D.w,y:D.y1+I*D.h}}return{x:S.positionX,y:S.positionY}})),!0!==b.ready&&(b.ready=!0,E.one("layoutready",w.ready),E.trigger({type:"layoutready",layout:this}))};x.exports=n},{"../../is":77,"../../math":79,"../../thread":92,"../../util":94}],49:[function(b,x,w){"use strict";function n(b){this.options=E.extend({},D,b)}var E=b("../../util"),S=b("../../math"),D={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:function(b){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var b=this.options,x=b,w=b.cy,E=x.eles.nodes().not(":parent");x.sort&&(E=E.sort(x.sort));var D=S.makeBoundingBox(x.boundingBox?x.boundingBox:{x1:0,y1:0,w:w.width(),h:w.height()});if(0===D.h||0===D.w)E.layoutPositions(this,x,(function(){return{x:D.x1,y:D.y1}}));else{var C=E.size(),B=Math.sqrt(C*D.h/D.w),I=Math.round(B),A=Math.round(D.w/D.h*B),d=function(b){if(null==b)return Math.min(I,A);Math.min(I,A)==I?I=b:A=b},h=function(b){if(null==b)return Math.max(I,A);Math.max(I,A)==I?I=b:A=b},F=x.rows,X=null!=x.cols?x.cols:x.columns;if(null!=F&&null!=X)I=F,A=X;else if(null!=F&&null==X)I=F,A=Math.ceil(C/I);else if(null==F&&null!=X)A=X,I=Math.ceil(C/A);else if(A*I>C){(($=d())-1)*(Y=h())>=C?d($-1):(Y-1)*$>=C&&h(Y-1)}else for(;C>A*I;){var Y,$=d();((Y=h())+1)*$>=C?h(Y+1):d($+1)}var H=D.w/A,W=D.h/I;if(x.condense&&(H=0,W=0),x.avoidOverlap)for(var Z=0;Z<E.length;Z++){null!=(ce=(oe=E[Z])._private.position).x&&null!=ce.y||(ce.x=0,ce.y=0);var U=oe.boundingBox(),J=x.avoidOverlapPadding,Q=U.w+J,ee=U.h+J;H=Math.max(H,Q),W=Math.max(W,ee)}var ne={},T=function(b,x){return!!ne["c-"+b+"-"+x]},P=function(b,x){ne["c-"+b+"-"+x]=!0},re=0,ie=0,M=function(){++ie>=A&&(ie=0,re++)},ae={};for(Z=0;Z<E.length;Z++){var oe=E[Z],le=x.position(oe);if(le&&(void 0!==le.row||void 0!==le.col)){var ce;if(void 0===(ce={row:le.row,col:le.col}).col)for(ce.col=0;T(ce.row,ce.col);)ce.col++;else if(void 0===ce.row)for(ce.row=0;T(ce.row,ce.col);)ce.row++;ae[oe.id()]=ce,P(ce.row,ce.col)}}E.layoutPositions(this,x,(function(b,x){var w,E;if(x.locked()||x.isFullAutoParent())return!1;var S=ae[x.id()];if(S)w=S.col*H+H/2+D.x1,E=S.row*W+W/2+D.y1;else{for(;T(re,ie);)M();w=ie*H+H/2+D.x1,E=re*W+W/2+D.y1,P(re,ie),M()}return{x:w,y:E}}))}return this},x.exports=n},{"../../math":79,"../../util":94}],50:[function(b,x,w){"use strict";x.exports=[{name:"breadthfirst",impl:b("./breadthfirst")},{name:"circle",impl:b("./circle")},{name:"concentric",impl:b("./concentric")},{name:"cose",impl:b("./cose")},{name:"grid",impl:b("./grid")},{name:"null",impl:b("./null")},{name:"preset",impl:b("./preset")},{name:"random",impl:b("./random")}]},{"./breadthfirst":45,"./circle":46,"./concentric":47,"./cose":48,"./grid":49,"./null":51,"./preset":52,"./random":53}],51:[function(b,x,w){"use strict";function n(b){this.options=E.extend({},S,b)}var E=b("../../util"),S={ready:function(){},stop:function(){}};n.prototype.run=function(){var b=this.options,x=b.eles,w=this;return b.cy,w.trigger("layoutstart"),x.nodes().positions((function(){return{x:0,y:0}})),w.one("layoutready",b.ready),w.trigger("layoutready"),w.one("layoutstop",b.stop),w.trigger("layoutstop"),this},n.prototype.stop=function(){return this},x.exports=n},{"../../util":94}],52:[function(b,x,w){"use strict";function n(b){this.options=E.extend({},D,b)}var E=b("../../util"),S=b("../../is"),D={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){function e(x){if(null==b.positions)return null;if(w)return b.positions.apply(x,[x]);var E=b.positions[x._private.data.id];return null==E?null:E}var b=this.options,x=b.eles.nodes(),w=S.fn(b.positions);return x.layoutPositions(this,b,(function(b,x){var w=e(x);return!x.locked()&&null!=w&&w})),this},x.exports=n},{"../../is":77,"../../util":94}],53:[function(b,x,w){"use strict";function n(b){this.options=E.extend({},D,b)}var E=b("../../util"),S=b("../../math"),D={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var b=this.options,x=b.cy,w=b.eles.nodes().not(":parent"),E=S.makeBoundingBox(b.boundingBox?b.boundingBox:{x1:0,y1:0,w:x.width(),h:x.height()});return w.layoutPositions(this,b,(function(b,x){return{x:E.x1+Math.round(Math.random()*E.w),y:E.y1+Math.round(Math.random()*E.h)}})),this},x.exports=n},{"../../math":79,"../../util":94}],54:[function(b,x,w){"use strict";var E=b("../../../math"),S=b("../../../is"),D=b("../../../util"),C={arrowShapeHeight:.3,registerArrowShapes:function(){var b=this.arrowShapes={},x=this,r=function(b,x,w,E,S,D){var C=S.x-w/2-D,B=S.x+w/2+D,I=S.y-w/2-D,A=S.y+w/2+D;return b>=C&&B>=b&&x>=I&&A>=x},o=function(b,x,w,E,S){var D=b*Math.cos(E)-x*Math.sin(E),C=(b*Math.sin(E)+x*Math.cos(E))*w;return{x:D*w+S.x,y:C+S.y}},s=function(b,x,w,E){for(var S=[],D=0;D<b.length;D+=2){var C=b[D],B=b[D+1];S.push(o(C,B,x,w,E))}return S},l=function(b){for(var x=[],w=0;w<b.length;w++){var E=b[w];x.push(E.x,E.y)}return x},u=function(w,C){S.string(C)&&(C=b[C]),b[w]=D.extend({name:w,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(b,x,w,S,D,C){var B=l(s(this.points,w+2*C,S,D));return E.pointInsidePolygonPoints(b,x,B)},roughCollide:r,draw:function(b,w,E,S){var D=s(this.points,w,E,S);x.arrowShapeImpl("polygon")(b,D)},spacing:function(b){return 0},gap:function(b){return 2*b._private.style.width.pfValue}},C)};u("none",{collide:D.falsify,roughCollide:D.falsify,draw:D.noop,spacing:D.zeroify,gap:D.zeroify}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:b.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(b,w,E,S){var D=s(this.points,w,E,S),C=this.controlPoint,B=o(C[0],C[1],w,E,S);x.arrowShapeImpl(this.name)(b,D,B)},gap:function(b){return b._private.style.width.pfValue}}),u("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(b,x,w,S,D,C){var B=l(s(this.points,w+2*C,S,D)),I=l(s(this.pointsTee,w+2*C,S,D));return E.pointInsidePolygonPoints(b,x,B)||E.pointInsidePolygonPoints(b,x,I)},draw:function(b,w,E,S){var D=s(this.points,w,E,S),C=s(this.pointsTee,w,E,S);x.arrowShapeImpl(this.name)(b,D,C)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(b){return b._private.style.width.pfValue}}),u("half-triangle-overshot",{points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0}),u("circle",{radius:.15,collide:function(b,x,w,E,S,D){var C=S;return Math.pow(C.x-b,2)+Math.pow(C.y-x,2)<=Math.pow((w+2*D)*this.radius,2)},draw:function(b,w,E,S){x.arrowShapeImpl(this.name)(b,S.x,S.y,this.radius*w)},spacing:function(b){return x.getArrowWidth(b._private.style.width.pfValue)*this.radius}}),u("inhibitor",{points:[-.25,0,-.25,-.1,.25,-.1,.25,0],spacing:function(b){return 1},gap:function(b){return 1}}),u("tee","inhibitor"),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(b){return b._private.style.width.pfValue}})}};x.exports=C},{"../../../is":77,"../../../math":79,"../../../util":94}],55:[function(b,x,w){"use strict";var E={},a=function(b){return b.eleEache||(b.eleEache={nodes:b.cy.nodes(),edges:b.cy.edges()}),b.eleEache};E.getCachedElements=function(){return a(this)},E.getCachedNodes=function(){return a(this).nodes},E.getCachedEdges=function(){return a(this).edges},E.updateElementsCache=function(){return function(b){b.eleEache=null}(this),a(this)},x.exports=E},{}],56:[function(b,x,w){"use strict";function n(b,x){var r=function(b,x,w,S){return E.qbezierAt(b,x,w,S)},w=b._private.rstyle.bezierPts;w.push({x:r(x[0],x[2],x[4],.05),y:r(x[1],x[3],x[5],.05)}),w.push({x:r(x[0],x[2],x[4],.25),y:r(x[1],x[3],x[5],.25)}),w.push({x:r(x[0],x[2],x[4],.4),y:r(x[1],x[3],x[5],.4)}),w.push({x:r(x[0],x[2],x[4],.5),y:r(x[1],x[3],x[5],.5)}),w.push({x:r(x[0],x[2],x[4],.6),y:r(x[1],x[3],x[5],.6)}),w.push({x:r(x[0],x[2],x[4],.75),y:r(x[1],x[3],x[5],.75)}),w.push({x:r(x[0],x[2],x[4],.95),y:r(x[1],x[3],x[5],.95)})}var E=b("../../../math"),S=b("../../../is"),D=b("../../../collection/zsort"),C={projectIntoViewport:function(b,x){var w=this.findContainerClientCoords(),E=b-w[0],S=x-w[1];return E-=this.cy.pan().x,S-=this.cy.pan().y,[E/=this.cy.zoom(),S/=this.cy.zoom()]},findContainerClientCoords:function(){var b=this.container,x=this.containerBB=this.containerBB||b.getBoundingClientRect();return[x.left,x.top,x.right-x.left,x.bottom-x.top]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(b,x,w,S){function a(E){var S=E._private;if("no"!==S.style.events.strValue){var B=E.outerWidth()+2*Y,A=E.outerHeight()+2*Y,F=B/2,X=A/2,$=S.position;if($.x-F<=b&&b<=$.x+F&&$.y-X<=x&&x<=$.y+X){var H=!w||E.visible()&&!E.transparent();if(w&&!H)return;C.nodeShapes[D.getNodeShape(E)].checkPoint(b,x,0,B,A,$.x,$.y)&&I.push(E)}}}function o(S){var B=S._private;if("no"!==B.style.events.strValue){var A,Y=B.rscratch,$=B.style,H=$.width.pfValue/2+X,W=H*H,Z=2*H,U=B.source,J=B.target,Q=!1,_=function(){return void 0!==A?A:w?S.visible()&&!S.transparent()?(A=!0,!0):(A=!1,!1):(A=!0,!0)};if("segments"===Y.edgeType||"straight"===Y.edgeType||"haystack"===Y.edgeType)for(var ee=Y.allpts,ne=0;ne+3<ee.length;ne+=2)(Q=E.inLineVicinity(b,x,ee[ne],ee[ne+1],ee[ne+2],ee[ne+3],Z))&&_()&&W>E.sqDistanceToFiniteLine(b,x,ee[ne],ee[ne+1],ee[ne+2],ee[ne+3])&&I.push(S);else if("bezier"===Y.edgeType||"multibezier"===Y.edgeType||"self"===Y.edgeType||"compound"===Y.edgeType)for(ee=Y.allpts,ne=0;ne+5<Y.allpts.length;ne+=4)(Q=E.inBezierVicinity(b,x,ee[ne],ee[ne+1],ee[ne+2],ee[ne+3],ee[ne+4],ee[ne+5],Z))&&_()&&W>E.sqDistanceToQuadraticBezier(b,x,ee[ne],ee[ne+1],ee[ne+2],ee[ne+3],ee[ne+4],ee[ne+5])&&I.push(S);if(Q&&_()&&0===I.length||I[I.length-1]!==S){U=U||B.source,J=J||B.target;var re=$.width.pfValue,ie=D.getArrowWidth(re),ae=[{name:"source",x:Y.arrowStartX,y:Y.arrowStartY,angle:Y.srcArrowAngle},{name:"target",x:Y.arrowEndX,y:Y.arrowEndY,angle:Y.tgtArrowAngle},{name:"mid-source",x:Y.midX,y:Y.midY,angle:Y.midsrcArrowAngle},{name:"mid-target",x:Y.midX,y:Y.midY,angle:Y.midtgtArrowAngle}];for(ne=0;ne<ae.length;ne++){var oe=ae[ne],le=C.arrowShapes[$[oe.name+"-arrow-shape"].value];if(le.roughCollide(b,x,ie,oe.angle,{x:oe.x,y:oe.y},X)&&le.collide(b,x,ie,oe.angle,{x:oe.x,y:oe.y},X)){I.push(S);break}}}F&&I.length>0&&I[I.length-1]===S&&(a(U),a(J))}}function s(w){var S=w._private,D=$;if("no"!==S.style["text-events"].strValue)if("edges"===S.group&&"autorotate"===S.style["edge-text-rotation"].strValue){var C=S.rstyle,B=C.labelWidth+2*D,A=C.labelHeight+2*D,F=C.labelX,X=C.labelY,Y=S.rscratch.labelAngle,H=Math.cos(Y),W=Math.sin(Y),f=function(b,x){return{x:(b-=F)*H-(x-=X)*W+F,y:b*W+x*H+X}},Z=F-B/2,U=F+B/2,J=X-A/2,Q=X+A/2,ee=f(Z,J),ne=f(Z,Q),re=f(U,J),ie=f(U,Q),ae=[ee.x,ee.y,re.x,re.y,ie.x,ie.y,ne.x,ne.y];E.pointInsidePolygonPoints(b,x,ae)&&I.push(w)}else{var oe=w.boundingBox({includeLabels:!0,includeNodes:!1,includeEdges:!1});oe.x1-=D,oe.y1-=D,oe.x2+=D,oe.y2+=D,oe.w=oe.x2-oe.x1,oe.h=oe.y2-oe.y1,E.inBoundingBox(oe,b,x)&&I.push(w)}}for(var D=this,C=this,B=C.getCachedZSortedEles(),I=[],A=C.cy.zoom(),F=C.cy.hasCompoundNodes(),X=(S?24:8)/A,Y=(S?8:2)/A,$=(S?8:2)/A,H=B.length-1;H>=0;H--){var W=B[H],Z=W._private;if(I.length>0)break;"nodes"===Z.group?a(W):o(W),s(W)}return I.length>0?I[I.length-1]:null},getAllInBox:function(b,x,w,S){var D=this.getCachedNodes(),C=this.getCachedEdges(),B=[],I=Math.min(b,w),A=Math.max(b,w),F=Math.min(x,S),X=Math.max(x,S);b=I,w=A,x=F,S=X;for(var Y=E.makeBoundingBox({x1:b,y1:x,x2:w,y2:S}),$=0;$<D.length;$++){var H=D[$].boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});E.boundingBoxesIntersect(Y,H)&&B.push(D[$])}for(var W=0;W<C.length;W++){var Z=C[W],U=Z._private,J=U.rscratch;if((null==J.startX||null==J.startY||E.inBoundingBox(Y,J.startX,J.startY))&&(null==J.endX||null==J.endY||E.inBoundingBox(Y,J.endX,J.endY)))if("bezier"===J.edgeType||"multibezier"===J.edgeType||"self"===J.edgeType||"compound"===J.edgeType||"segments"===J.edgeType||"haystack"===J.edgeType){var Q=U.rstyle.bezierPts||U.rstyle.linePts||U.rstyle.haystackPts,ee=!0;for($=0;$<Q.length;$++)if(!E.pointInBoundingBox(Y,Q[$])){ee=!1;break}ee&&B.push(Z)}else"haystack"!==J.edgeType&&"straight"!==J.edgeType||B.push(Z)}return B},getNodeShape:function(b){var x=b._private.style,w=x.shape.value;if(b.isParent())return"rectangle"===w||"roundrectangle"===w?w:"rectangle";if("polygon"===w){var E=x["shape-polygon-points"].value;return this.nodeShapes.makePolygon(E).name}return w},updateCachedZSortedEles:function(){this.getCachedZSortedEles(!0)},getCachedZSortedEles:function(b){var x=this.lastZOrderCachedNodes,w=this.lastZOrderCachedEdges,E=this.getCachedNodes(),S=this.getCachedEdges(),C=[];if(!b&&x&&w&&x===E&&w===S)C=this.cachedZSortedEles;else{for(var B=0;B<E.length;B++){var I=E[B];(I.animated()||I.visible()&&!I.transparent())&&C.push(I)}for(B=0;B<S.length;B++){var A=S[B];(A.animated()||A.visible()&&!A.transparent())&&C.push(A)}C.sort(D),this.cachedZSortedEles=C}return this.lastZOrderCachedNodes=E,this.lastZOrderCachedEdges=S,C},projectLines:function(b){var x=b._private,w=x.rscratch,E=w.edgeType;if("multibezier"===E||"bezier"===E||"self"===E||"compound"===E)for(var S=(x.rstyle.bezierPts=[],0);S+5<w.allpts.length;S+=4)n(b,w.allpts.slice(S,S+6));else if("segments"===E){var D=x.rstyle.linePts=[];for(S=0;S+1<w.allpts.length;S+=2)D.push({x:w.allpts[S],y:w.allpts[S+1]})}else if("haystack"===E){var C=w.haystackPts;x.rstyle.haystackPts=[{x:C[0],y:C[1]},{x:C[2],y:C[3]}]}}};C.projectBezier=C.projectLines,C.recalculateNodeLabelProjection=function(b){var x=b._private.style.label.strValue;if(x&&!x.match(/^\s+$/)){var w,E,S=b.outerWidth(),D=b.outerHeight(),C=b._private.position,B=b._private.style["text-halign"].strValue,I=b._private.style["text-valign"].strValue,A=b._private.rscratch,F=b._private.rstyle;switch(B){case"left":w=C.x-S/2;break;case"right":w=C.x+S/2;break;default:w=C.x}switch(I){case"top":E=C.y-D/2;break;case"bottom":E=C.y+D/2;break;default:E=C.y}A.labelX=w,A.labelY=E,F.labelX=w,F.labelY=E,this.applyLabelDimensions(b)}},C.recalculateEdgeLabelProjection=function(b){var x=b._private.style.label.strValue;if(x&&!x.match(/^\s+$/)){var w,E,S=b._private,D=S.rscratch,C=S.rstyle;w=D.midX,E=D.midY,D.labelX=w,D.labelY=E,C.labelX=w,C.labelY=E,this.applyLabelDimensions(b)}},C.applyLabelDimensions=function(b){var x=b._private.rscratch,w=b._private.rstyle,E=this.getLabelText(b),S=this.calculateLabelDimensions(b,E);w.labelWidth=S.width,x.labelWidth=S.width,w.labelHeight=S.height,x.labelHeight=S.height},C.getLabelText=function(b){var x=b._private.style,w=b._private.style.label.strValue,E=x["text-transform"].value,S=b._private.rscratch;if("none"==E||("uppercase"==E?w=w.toUpperCase():"lowercase"==E&&(w=w.toLowerCase())),"wrap"===x["text-wrap"].value){if(S.labelWrapKey&&S.labelWrapKey===S.labelKey)return S.labelWrapCachedText;for(var D=w.split("\n"),C=x["text-max-width"].pfValue,B=[],I=0;I<D.length;I++){var A=D[I];if(this.calculateLabelDimensions(b,A,"line="+A).width>C){for(var F=A.split(/\s+/),X="",Y=0;Y<F.length;Y++){var $=F[Y],H=0===X.length?$:X+" "+$;C>=this.calculateLabelDimensions(b,H,"testLine="+H).width?X+=$+" ":(B.push(X),X=$+" ")}X.match(/^\s+$/)||B.push(X)}else B.push(A)}S.labelWrapCachedLines=B,S.labelWrapCachedText=w=B.join("\n"),S.labelWrapKey=S.labelKey}return w},C.calculateLabelDimensions=function(b,x,w){var E=b._private.style,S=E["font-style"].strValue,D=E["font-size"].pfValue+"px",C=E["font-family"].strValue,B=E["font-weight"].strValue,I=b._private.labelKey;w&&(I+="$@$"+w);var A=this.labelDimCache||(this.labelDimCache={});if(A[I])return A[I];var F=this.labelCalcDiv;F||(F=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(F));var X=F.style;return X.fontFamily=C,X.fontStyle=S,X.fontSize=D,X.fontWeight=B,X.position="absolute",X.left="-9999px",X.top="-9999px",X.zIndex="-1",X.visibility="hidden",X.pointerEvents="none",X.padding="0",X.lineHeight="1","wrap"===E["text-wrap"].value?X.whiteSpace="pre":X.whiteSpace="normal",F.textContent=x,A[I]={width:F.clientWidth,height:F.clientHeight},A[I]},C.recalculateRenderedStyle=function(b){for(var x=[],w=[],E={},S=0;S<b.length;S++){var D=b[S],C=D._private,B=C.style,I=C.rscratch,A=C.rstyle,F=C.data.id,X=null!=I.boundingBoxKey&&C.boundingBoxKey===I.boundingBoxKey,Y=null!=I.labelKey&&C.labelKey===I.labelKey,$=X&&Y;if("nodes"===C.group){var H=C.position,W=null!=A.nodeX&&null!=A.nodeY&&H.x===A.nodeX&&H.y===A.nodeY,Z=null!=A.nodeW&&A.nodeW===B.width.pfValue,U=null!=A.nodeH&&A.nodeH===B.height.pfValue;W&&$&&Z&&U||w.push(D),A.nodeX=H.x,A.nodeY=H.y,A.nodeW=B.width.pfValue,A.nodeH=B.height.pfValue}else{var J=C.source._private.position,Q=C.target._private.position,ee=null!=A.srcX&&null!=A.srcY&&J.x===A.srcX&&J.y===A.srcY,ne=null!=A.tgtX&&null!=A.tgtY&&Q.x===A.tgtX&&Q.y===A.tgtY;if(!(ee&&ne)||!$)if("bezier"===I.edgeType||"straight"===I.edgeType||"self"===I.edgeType||"compound"===I.edgeType){if(!E[F]){x.push(D),E[F]=!0;var re=D.parallelEdges();for(S=0;S<re.length;S++){var ie=re[S],ae=ie._private.data.id;E[ae]||(x.push(ie),E[ae]=!0)}}}else x.push(D);A.srcX=J.x,A.srcY=J.y,A.tgtX=Q.x,A.tgtY=Q.y}I.boundingBoxKey=C.boundingBoxKey,I.labelKey=C.labelKey}this.recalculateEdgeProjections(x),this.recalculateLabelProjections(w,x)},C.recalculateLabelProjections=function(b,x){for(var w=0;w<b.length;w++)this.recalculateNodeLabelProjection(b[w]);for(w=0;w<x.length;w++)this.recalculateEdgeLabelProjection(x[w])},C.recalculateEdgeProjections=function(b){this.findEdgeControlPoints(b)},C.findEdgeControlPoints=function(b){if(b&&0!==b.length){for(var x,w=this,D=w.cy.hasCompoundNodes(),C={},B=[],I=[],A=[],F=0;F<b.length;F++){var X=(At=(Gt=b[F])._private).data,Y="unbundled-bezier"===(Ee=(_e=At.style)["curve-style"].value)||"segments"===Ee;if("none"!==_e.display.value)if("autorotate"===_e["edge-text-rotation"].strValue&&A.push(Gt),"haystack"!==Ee){var $=X.source,H=X.target;x=$>H?H+"$-$"+$:$+"$-$"+H,Y&&(x="unbundled$-$"+X.id),null==C[x]&&(C[x]=[],B.push(x)),C[x].push(Gt),Y&&(C[x].hasUnbundled=!0)}else I.push(Gt)}for(var W,Z,U,J,Q,ee,ne=0;ne<B.length;ne++){var re=C[x=B[ne]];if(re.sort((function(b,x){return b._private.index-x._private.index})),jt=re[0]._private.source,qt=re[0]._private.target,W=jt._private,Z=qt._private,W.data.id>Z.data.id){var ie=jt;jt=qt,qt=ie}if(Xt=W.position,Yt=Z.position,$t=jt.outerWidth(),Wt=jt.outerHeight(),Ht=qt.outerWidth(),Zt=qt.outerHeight(),U=w.nodeShapes[this.getNodeShape(jt)],J=w.nodeShapes[this.getNodeShape(qt)],ee=!1,re.length>1&&jt!==qt||re.hasUnbundled){var ae=U.intersectLine(Xt.x,Xt.y,$t,Wt,Yt.x,Yt.y,0),oe=J.intersectLine(Yt.x,Yt.y,Ht,Zt,Xt.x,Xt.y,0),le={x1:ae[0],x2:oe[0],y1:ae[1],y2:oe[1]},ce=oe[1]-ae[1],de=oe[0]-ae[0],he=Math.sqrt(de*de+ce*ce),pe={x:de,y:ce},fe={x:pe.x/he,y:pe.y/he};Q={x:-fe.y,y:fe.x},(J.checkPoint(ae[0],ae[1],0,Ht,Zt,Yt.x,Yt.y)||U.checkPoint(oe[0],oe[1],0,$t,Wt,Xt.x,Xt.y))&&(Q={},ee=!0)}var ge;for(F=0;F<re.length;F++){var ye=(Vt=(ge=(Gt=re[F])._private).rscratch).lastEdgeIndex,me=F,be=Vt.lastNumEdges,xe=re.length,we=ge.style,_e=we,Ee=we["curve-style"].value,Se=we["control-point-distances"],De=we["control-point-weights"],ke=Se&&De?Math.min(Se.value.length,De.value.length):1,Te=we["control-point-step-size"].pfValue,Pe=void 0!==Se?Se.pfValue[0]:void 0,Ce=De.value[0],Ne=(Y="unbundled-bezier"===Ee||"segments"===Ee,ge.source!==jt);Ne&&Y&&(Pe*=-1);var Me=Vt.lastSrcCtlPtX,Be=Xt.x,ze=Vt.lastSrcCtlPtY,Oe=Xt.y,Ie=Vt.lastSrcCtlPtW,Le=jt.outerWidth(),Ae=Vt.lastSrcCtlPtH,Re=jt.outerHeight(),Ve=Vt.lastTgtCtlPtX,Fe=Yt.x,je=Vt.lastTgtCtlPtY,qe=Yt.y,Xe=Vt.lastTgtCtlPtW,Ye=qt.outerWidth(),$e=Vt.lastTgtCtlPtH,He=qt.outerHeight(),We=Vt.lastW,Ze=we["control-point-step-size"].pfValue;if(Vt.badBezier=!!ee,Me!==Be||ze!==Oe||Ie!==Le||Ae!==Re||Ve!==Fe||je!==qe||Xe!==Ye||$e!==He||We!==Ze||!(ye===me&&be===xe||Y)){if(Vt.lastSrcCtlPtX=Be,Vt.lastSrcCtlPtY=Oe,Vt.lastSrcCtlPtW=Le,Vt.lastSrcCtlPtH=Re,Vt.lastTgtCtlPtX=Fe,Vt.lastTgtCtlPtY=qe,Vt.lastTgtCtlPtW=Ye,Vt.lastTgtCtlPtH=He,Vt.lastEdgeIndex=me,Vt.lastNumEdges=xe,Vt.lastWidth=Ze,jt===qt){Vt.edgeType="self";var Ue=F,Ge=Te;Y&&(Ue=0,Ge=Pe),Vt.ctrlpts=[Xt.x,Xt.y-(1+Math.pow(Wt,1.12)/100)*Ge*(Ue/3+1),Xt.x-(1+Math.pow($t,1.12)/100)*Ge*(Ue/3+1),Xt.y]}else if(D&&(jt.isParent()||jt.isChild()||qt.isParent()||qt.isChild())&&(jt.parents().anySame(qt)||qt.parents().anySame(jt))){Vt.edgeType="compound",Vt.badBezier=!1;Ue=F,Ge=Te;Y&&(Ue=0,Ge=Pe);var Ke={x:Xt.x-$t/2,y:Xt.y-Wt/2},Je={x:Yt.x-Ht/2,y:Yt.y-Zt/2},Qe={x:Math.min(Ke.x,Je.x),y:Math.min(Ke.y,Je.y)},et=Math.max(.5,Math.log(.01*$t)),tt=Math.max(.5,Math.log(.01*Ht));Vt.ctrlpts=[Qe.x,Qe.y-(1+Math.pow(50,1.12)/100)*Ge*(Ue/3+1)*et,Qe.x-(1+Math.pow(50,1.12)/100)*Ge*(Ue/3+1)*tt,Qe.y]}else if("segments"===Ee){Vt.edgeType="segments",Vt.segpts=[];for(var nt=we["segment-weights"].pfValue,rt=we["segment-distances"].pfValue,it=Math.min(nt.length,rt.length),at=0;it>at;at++){var ot=nt[at],st=rt[at],lt=1-ot,ut=ot,ct={x:le.x1*lt+le.x2*ut,y:le.y1*lt+le.y2*ut};Vt.segpts.push(ct.x+Q.x*st,ct.y+Q.y*st)}}else if(re.length%2!=1||F!==Math.floor(re.length/2)||Y){var dt=Y;Vt.edgeType=dt?"multibezier":"bezier",Vt.ctrlpts=[];for(var ht=0;ke>ht;ht++){var pt,ft=(.5-re.length/2+F)*Te,gt=E.signum(ft);dt&&(Pe=Se?Se.pfValue[ht]:Te,Ce=De.value[ht]);var vt=void 0!==(pt=Y?Pe:void 0!==Pe?gt*Pe:void 0)?pt:ft;lt=!Ne||Y?1-Ce:Ce,ut=!Ne||Y?Ce:1-Ce,ct={x:le.x1*lt+le.x2*ut,y:le.y1*lt+le.y2*ut};Vt.ctrlpts.push(ct.x+Q.x*vt,ct.y+Q.y*vt)}}else Vt.edgeType="straight";this.findEndpoints(Gt);var yt=!S.number(Vt.startX)||!S.number(Vt.startY),mt=!S.number(Vt.arrowStartX)||!S.number(Vt.arrowStartY),bt=!S.number(Vt.endX)||!S.number(Vt.endY),xt=!S.number(Vt.arrowEndX)||!S.number(Vt.arrowEndY),wt=3*(this.getArrowWidth(we.width.pfValue)*this.arrowShapeHeight);if("bezier"===Vt.edgeType){var _t=E.distance({x:Vt.ctrlpts[0],y:Vt.ctrlpts[1]},{x:Vt.startX,y:Vt.startY}),Et=wt>_t,St=E.distance({x:Vt.ctrlpts[0],y:Vt.ctrlpts[1]},{x:Vt.endX,y:Vt.endY}),Dt=wt>St,kt=!1;if(yt||mt||Et){kt=!0;var Tt={x:Vt.ctrlpts[0]-Xt.x,y:Vt.ctrlpts[1]-Xt.y},Pt=Math.sqrt(Tt.x*Tt.x+Tt.y*Tt.y),Ct={x:Tt.x/Pt,y:Tt.y/Pt},Nt=Math.max($t,Wt),Mt={x:Vt.ctrlpts[0]+2*Ct.x*Nt,y:Vt.ctrlpts[1]+2*Ct.y*Nt},Bt=U.intersectLine(Xt.x,Xt.y,$t,Wt,Mt.x,Mt.y,0);Et?(Vt.ctrlpts[0]=Vt.ctrlpts[0]+Ct.x*(wt-_t),Vt.ctrlpts[1]=Vt.ctrlpts[1]+Ct.y*(wt-_t)):(Vt.ctrlpts[0]=Bt[0]+Ct.x*wt,Vt.ctrlpts[1]=Bt[1]+Ct.y*wt)}if(bt||xt||Dt){kt=!0;Tt={x:Vt.ctrlpts[0]-Yt.x,y:Vt.ctrlpts[1]-Yt.y},Pt=Math.sqrt(Tt.x*Tt.x+Tt.y*Tt.y),Ct={x:Tt.x/Pt,y:Tt.y/Pt},Nt=Math.max($t,Wt),Mt={x:Vt.ctrlpts[0]+2*Ct.x*Nt,y:Vt.ctrlpts[1]+2*Ct.y*Nt};var zt=J.intersectLine(Yt.x,Yt.y,Ht,Zt,Mt.x,Mt.y,0);Dt?(Vt.ctrlpts[0]=Vt.ctrlpts[0]+Ct.x*(wt-St),Vt.ctrlpts[1]=Vt.ctrlpts[1]+Ct.y*(wt-St)):(Vt.ctrlpts[0]=zt[0]+Ct.x*wt,Vt.ctrlpts[1]=zt[1]+Ct.y*wt)}kt&&this.findEndpoints(Gt)}if("multibezier"===Vt.edgeType||"bezier"===Vt.edgeType||"self"===Vt.edgeType||"compound"===Vt.edgeType){Vt.allpts=[],Vt.allpts.push(Vt.startX,Vt.startY);for(ht=0;ht+1<Vt.ctrlpts.length;ht+=2)Vt.allpts.push(Vt.ctrlpts[ht],Vt.ctrlpts[ht+1]),ht+3<Vt.ctrlpts.length&&Vt.allpts.push((Vt.ctrlpts[ht]+Vt.ctrlpts[ht+2])/2,(Vt.ctrlpts[ht+1]+Vt.ctrlpts[ht+3])/2);var Ot;Vt.allpts.push(Vt.endX,Vt.endY),"bezier"===Vt.edgeType?(Vt.midX=E.qbezierAt(Vt.arrowStartX,Vt.ctrlpts[0],Vt.arrowEndX,.5),Vt.midY=E.qbezierAt(Vt.arrowStartY,Vt.ctrlpts[1],Vt.arrowEndY,.5)):Vt.ctrlpts.length/2%2==0?(Ot=Vt.allpts.length/2-1,Vt.midX=Vt.allpts[Ot],Vt.midY=Vt.allpts[Ot+1]):(Ot=Vt.allpts.length/2-3,.5,Vt.midX=E.qbezierAt(Vt.allpts[Ot],Vt.allpts[Ot+2],Vt.allpts[Ot+4],.5),Vt.midY=E.qbezierAt(Vt.allpts[Ot+1],Vt.allpts[Ot+3],Vt.allpts[Ot+5],.5))}else if("straight"===Vt.edgeType)Vt.allpts=[Vt.startX,Vt.startY,Vt.endX,Vt.endY],Vt.midX=(Vt.arrowStartX+Vt.arrowEndX)/2,Vt.midY=(Vt.arrowStartY+Vt.arrowEndY)/2;else if("segments"===Vt.edgeType)if(Vt.allpts=[],Vt.allpts.push(Vt.startX,Vt.startY),Vt.allpts.push.apply(Vt.allpts,Vt.segpts),Vt.allpts.push(Vt.endX,Vt.endY),Vt.segpts.length%4==0){var It=Vt.segpts.length/2,Lt=It-2;Vt.midX=(Vt.segpts[Lt]+Vt.segpts[It])/2,Vt.midY=(Vt.segpts[Lt+1]+Vt.segpts[It+1])/2}else{Lt=Vt.segpts.length/2-1;Vt.midX=Vt.segpts[Lt],Vt.midY=Vt.segpts[Lt+1]}this.projectLines(Gt),this.calculateArrowAngles(Gt),this.recalculateEdgeLabelProjection(Gt)}}}for(F=0;F<I.length;F++){_e=(At=(Gt=I[F])._private).style;var At,Rt=At.rscratch,Vt=Rt;if(!Rt.haystack){var Ft=2*Math.random()*Math.PI;Rt.source={x:Math.cos(Ft),y:Math.sin(Ft)};Ft=2*Math.random()*Math.PI;Rt.target={x:Math.cos(Ft),y:Math.sin(Ft)}}var jt=At.source,qt=At.target,Xt=jt._private.position,Yt=qt._private.position,$t=jt.width(),Ht=qt.width(),Wt=jt.height(),Zt=qt.height(),Ut=(Nt=_e["haystack-radius"].value)/2;Vt.haystackPts=Vt.allpts=[Vt.source.x*$t*Ut+Xt.x,Vt.source.y*Wt*Ut+Xt.y,Vt.target.x*Ht*Ut+Yt.x,Vt.target.y*Zt*Ut+Yt.y],Vt.midX=(Vt.allpts[0]+Vt.allpts[2])/2,Vt.midY=(Vt.allpts[1]+Vt.allpts[3])/2,Rt.edgeType="haystack",Rt.haystack=!0,this.projectLines(Gt),this.calculateArrowAngles(Gt),this.recalculateEdgeLabelProjection(Gt)}for(F=0;F<A.length;F++){var Gt;(Vt=(Gt=A[F])._private.rscratch).labelAngle=Math.atan(Vt.midDispY/Vt.midDispX)}return C}};var l=function(b,x){return Math.atan2(x,b)-Math.PI/2};C.calculateArrowAngles=function(b){var x,w,S,D,C,B,I=b._private.rscratch,A="haystack"===I.edgeType,F="multibezier"===I.edgeType,X="segments"===I.edgeType,Y="compound"===I.edgeType,$="self"===I.edgeType,H=b.source().position(),W=b.target().position();A?(S=I.haystackPts[0],D=I.haystackPts[1],C=I.haystackPts[2],B=I.haystackPts[3]):(S=I.arrowStartX,D=I.arrowStartY,C=I.arrowEndX,B=I.arrowEndY),x=H.x-S,w=H.y-D,I.srcArrowAngle=l(x,w);I.midX,I.midY;if(A&&((S+C)/2,(D+B)/2),x=C-S,w=B-D,$)x=-1,w=1;else if(X){if((ie=I.allpts).length/2%2==0){var Z=(U=ie.length/2)-2;x=ie[U]-ie[Z],w=ie[U+1]-ie[Z+1]}else{Z=(U=ie.length/2-1)-2;var U,J=U+2;x=ie[U]-ie[Z],w=ie[U+1]-ie[Z+1]}}else if(F||Y){var Q,ee,ne,re,ie=I.allpts;if(I.ctrlpts.length/2%2==0){var ae=(oe=(le=ie.length/2-1)+2)+2;Q=E.qbezierAt(ie[le],ie[oe],ie[ae],0),ee=E.qbezierAt(ie[le+1],ie[oe+1],ie[ae+1],0),ne=E.qbezierAt(ie[le],ie[oe],ie[ae],1e-4),re=E.qbezierAt(ie[le+1],ie[oe+1],ie[ae+1],1e-4)}else{var oe,le=(oe=ie.length/2-1)-2;ae=oe+2;Q=E.qbezierAt(ie[le],ie[oe],ie[ae],.4999),ee=E.qbezierAt(ie[le+1],ie[oe+1],ie[ae+1],.4999),ne=E.qbezierAt(ie[le],ie[oe],ie[ae],.5),re=E.qbezierAt(ie[le+1],ie[oe+1],ie[ae+1],.5)}x=ne-Q,w=re-ee}(I.midtgtArrowAngle=l(x,w),I.midDispX=x,I.midDispY=w,x*=-1,w*=-1,X)&&((ie=I.allpts).length/2%2==0||(x=-(ie[J=(U=ie.length/2-1)+2]-ie[U]),w=-(ie[J+1]-ie[U+1])));I.midsrcArrowAngle=l(x,w),x=W.x-C,w=W.y-B,I.tgtArrowAngle=l(x,w)},C.findEndpoints=function(b){var x,w,D,C=this,B=b.source()[0],I=b.target()[0],A=B._private,F=I._private,X=A.position,Y=F.position,$=b._private.style["target-arrow-shape"].value,H=b._private.style["source-arrow-shape"].value,W=b._private.rscratch,Z=W.edgeType,U="bezier"!==Z,J="straight"===Z||"segments"===Z,Q="segments"===Z;if("bezier"===Z||"multibezier"===Z||"self"===Z||"compound"===Z){var ee=[W.ctrlpts[0],W.ctrlpts[1]];w=U?[W.ctrlpts[W.ctrlpts.length-2],W.ctrlpts[W.ctrlpts.length-1]]:ee,D=ee}else if(J){var ne=Q?W.segpts.slice(0,2):[Y.x,Y.y];w=Q?W.segpts.slice(W.segpts.length-2):[X.x,X.y],D=ne}x=C.nodeShapes[this.getNodeShape(I)].intersectLine(Y.x,Y.y,I.outerWidth(),I.outerHeight(),w[0],w[1],0);var re=E.shortenIntersection(x,w,C.arrowShapes[$].spacing(b)),ie=E.shortenIntersection(x,w,C.arrowShapes[$].gap(b));W.endX=ie[0],W.endY=ie[1],W.arrowEndX=re[0],W.arrowEndY=re[1],x=C.nodeShapes[this.getNodeShape(B)].intersectLine(X.x,X.y,B.outerWidth(),B.outerHeight(),D[0],D[1],0);var ae=E.shortenIntersection(x,D,C.arrowShapes[H].spacing(b)),oe=E.shortenIntersection(x,D,C.arrowShapes[H].gap(b));W.startX=oe[0],W.startY=oe[1],W.arrowStartX=ae[0],W.arrowStartY=ae[1],J&&(S.number(W.startX)&&S.number(W.startY)&&S.number(W.endX)&&S.number(W.endY)?W.badLine=!1:W.badLine=!0)},C.getArrowWidth=C.getArrowHeight=function(b){var x=this.arrowWidthCache=this.arrowWidthCache||{},w=x[b];return w||(w=Math.max(Math.pow(13.37*b,.9),29),x[b]=w,w)},x.exports=C},{"../../../collection/zsort":29,"../../../is":77,"../../../math":79}],57:[function(b,x,w){"use strict";var E={getCachedImage:function(b,x){var w=this.imageCache=this.imageCache||{};if(w[b]&&w[b].image)return w[b].image;var E=(w[b]=w[b]||{}).image=new Image;return E.addEventListener("load",x),E.src=b,E}};x.exports=E},{}],58:[function(b,x,w){"use strict";var E=b("../../../is"),S=b("../../../util"),o=function(){},D=o.prototype;D.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],D.init=function(b){var x=this;x.options=b,x.cy=b.cy,x.container=b.cy.container(),x.selection=[void 0,void 0,void 0,void 0,0],x.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},x.dragData={possibleDragElements:[]},x.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},x.redraws=0,x.showFps=b.showFps,x.hideEdgesOnViewport=b.hideEdgesOnViewport,x.hideLabelsOnViewport=b.hideLabelsOnViewport,x.textureOnViewport=b.textureOnViewport,x.wheelSensitivity=b.wheelSensitivity,x.motionBlurEnabled=b.motionBlur,x.forcedPixelRatio=b.pixelRatio,x.motionBlur=!0,x.motionBlurOpacity=b.motionBlurOpacity,x.motionBlurTransparency=1-x.motionBlurOpacity,x.motionBlurPxRatio=1,x.mbPxRBlurry=1,x.minMbLowQualFrames=4,x.fullQualityMb=!1,x.clearedForMotionBlur=[],x.desktopTapThreshold=b.desktopTapThreshold,x.desktopTapThreshold2=b.desktopTapThreshold*b.desktopTapThreshold,x.touchTapThreshold=b.touchTapThreshold,x.touchTapThreshold2=b.touchTapThreshold*b.touchTapThreshold,x.tapholdDuration=500,x.bindings=[],x.registerNodeShapes(),x.registerArrowShapes(),x.load()},D.notify=function(b){var x,w=this;x=E.array(b.type)?b.type:[b.type];for(var S=0;S<x.length;S++){var D=x[S];switch(D){case"destroy":return void w.destroy();case"add":case"remove":case"load":w.updateElementsCache();break;case"viewport":w.redrawHint("select",!0);break;case"style":w.updateCachedZSortedEles()}"load"!==D&&"resize"!==D||(w.invalidateContainerClientCoordsCache(),w.matchCanvasSize(w.container))}w.redrawHint("eles",!0),w.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()},D.destroy=function(){this.destroyed=!0,this.cy.stopAnimationLoop();for(var b=0;b<this.bindings.length;b++){var x=this.bindings[b];x.target.removeEventListener(x.event,x.handler,x.useCapture)}if(this.removeObserver&&this.removeObserver.disconnect(),this.labelCalcDiv)try{document.body.removeChild(this.labelCalcDiv)}catch(b){}},[b("./arrow-shapes"),b("./cached-eles"),b("./coord-ele-math"),b("./images"),b("./load-listeners"),b("./node-shapes"),b("./redraw")].forEach((function(b){S.extend(D,b)})),x.exports=o},{"../../../is":77,"../../../util":94,"./arrow-shapes":54,"./cached-eles":55,"./coord-ele-math":56,"./images":57,"./load-listeners":59,"./node-shapes":60,"./redraw":61}],59:[function(b,x,w){"use strict";var E=b("../../../is"),S=b("../../../util"),D=b("../../../event"),C=b("../../../collection"),B={registerBinding:function(b,x,w,E){this.bindings.push({target:b,event:x,handler:w,useCapture:E}),b.addEventListener(x,w,E)},nodeIsDraggable:function(b){return!(0===b._private.style.opacity.value||"visible"!=b._private.style.visibility.value||"element"!=b._private.style.display.value||b.locked()||!b.grabbable())}};B.load=function(){var b=this,t=function(x,w,E,C){null==x&&(x=b.cy);for(var B=0;B<w.length;B++){var I=w[B],A=D(E,S.extend({type:I},C));x.trigger(A)}},r=function(b){return b.shiftKey||b.metaKey||b.ctrlKey},s=function(x){var w;if(x.addToList&&b.cy.hasCompoundNodes()){if(!x.addToList.hasId){x.addToList.hasId={};for(var E=0;E<x.addToList.length;E++){var S=x.addToList[E];x.addToList.hasId[S.id()]=!0}}w=x.addToList.hasId}return w||{}},u=function(b,x){var w=b._private,E=s(x);x.inDragLayer&&(w.rscratch.inDragLayer=!0),x.addToList&&!E[b.id()]&&(x.addToList.push(b),E[b.id()]=!0,w.grabbed=!0);for(var S=w.edges,D=0;x.inDragLayer&&D<S.length;D++)S[D]._private.rscratch.inDragLayer=!0;(function(b,x){if(b._private.cy.hasCompoundNodes()&&(null!=x.inDragLayer||null!=x.addToList))for(var w=s(x),E=b.descendants(),S=0;S<E.size();S++){var D=E[S],C=D._private;x.inDragLayer&&(C.rscratch.inDragLayer=!0),x.addToList&&!w[D.id()]&&(x.addToList.push(D),w[D.id()]=!0,C.grabbed=!0);for(var B=C.edges,I=0;x.inDragLayer&&I<B.length;I++)B[I]._private.rscratch.inDragLayer=!0}})(b,x),d(b,{inDragLayer:x.inDragLayer})},c=function(b){if(b)for(var x=0;x<b.length;x++){var w=b[x]._private;if("nodes"===w.group){w.rscratch.inDragLayer=!1,w.grabbed=!1;for(var E=w.edges,S=0;S<E.length;S++)E[S]._private.rscratch.inDragLayer=!1;d(b[x],{inDragLayer:!1})}else"edges"===w.group&&(w.rscratch.inDragLayer=!1)}},d=function(b,x){if(null!=x.inDragLayer||null!=x.addToList){var w=b;if(b._private.cy.hasCompoundNodes()){for(;w.parent().nonempty();)w=w.parent()[0];if(w!=b){for(var E=w.descendants().merge(w).unmerge(b).unmerge(b.descendants()),S=E.connectedEdges(),D=s(x),C=0;C<E.size();C++)void 0!==x.inDragLayer&&(E[C]._private.rscratch.inDragLayer=x.inDragLayer),x.addToList&&!D[E[C].id()]&&(x.addToList.push(E[C]),D[E[C].id()]=!0,E[C]._private.grabbed=!0);for(var B=0;void 0!==x.inDragLayer&&B<S.length;B++)S[B]._private.rscratch.inDragLayer=x.inDragLayer}}}};"undefined"!=typeof MutationObserver?(b.removeObserver=new MutationObserver((function(x){for(var w=0;w<x.length;w++){var E=x[w].removedNodes;if(E)for(var S=0;S<E.length;S++){if(E[S]===b.container){b.destroy();break}}}})),b.container.parentNode&&b.removeObserver.observe(b.container.parentNode,{childList:!0})):b.registerBinding(b.container,"DOMNodeRemoved",(function(x){b.destroy()})),b.registerBinding(window,"resize",S.debounce((function(x){b.invalidateContainerClientCoordsCache(),b.matchCanvasSize(b.container),b.redrawHint("eles",!0),b.redraw()}),100));for(var h=function(x){b.registerBinding(x,"scroll",(function(x){b.invalidateContainerClientCoordsCache()}))},x=b.cy.container();h(x),x.parentNode;)x=x.parentNode;b.registerBinding(b.container,"contextmenu",(function(b){b.preventDefault()}));b.registerBinding(b.container,"mousedown",(function(x){x.preventDefault(),b.hoverData.capture=!0,b.hoverData.which=x.which;var w=b.cy,E=b.projectIntoViewport(x.clientX,x.clientY),S=b.selection,C=b.findNearestElement(E[0],E[1],!0,!1),B=b.dragData.possibleDragElements;b.hoverData.mdownPos=E;if(3==x.which){b.hoverData.cxtStarted=!0;var I=D(x,{type:"cxttapstart",cyPosition:{x:E[0],y:E[1]}});C?(C.activate(),C.trigger(I),b.hoverData.down=C):w.trigger(I),b.hoverData.downTime=(new Date).getTime(),b.hoverData.cxtDragged=!1}else if(1==x.which){if(C&&C.activate(),null!=C&&b.nodeIsDraggable(C)){var A=D(x,{type:"grab",cyPosition:{x:E[0],y:E[1]}});if(C.isNode()&&!C.selected())B=b.dragData.possibleDragElements=[],u(C,{addToList:B}),C.trigger(A);else if(C.isNode()&&C.selected()){B=b.dragData.possibleDragElements=[];for(var F=w.$((function(){return this.isNode()&&this.selected()})),X=0;X<F.length;X++)b.nodeIsDraggable(F[X])&&u(F[X],{addToList:B});C.trigger(A)}b.redrawHint("eles",!0),b.redrawHint("drag",!0)}b.hoverData.down=C,b.hoverData.downTime=(new Date).getTime(),t(C,["mousedown","tapstart","vmousedown"],x,{cyPosition:{x:E[0],y:E[1]}}),null==C?(S[4]=1,b.data.bgActivePosistion={x:E[0],y:E[1]},b.redrawHint("select",!0),b.redraw()):C.isEdge()&&(S[4]=1),b.hoverData.tapholdCancelled=!1,clearTimeout(b.hoverData.tapholdTimeout),b.hoverData.tapholdTimeout=setTimeout((function(){if(!b.hoverData.tapholdCancelled){var S=b.hoverData.down;S?S.trigger(D(x,{type:"taphold",cyPosition:{x:E[0],y:E[1]}})):w.trigger(D(x,{type:"taphold",cyPosition:{x:E[0],y:E[1]}}))}}),b.tapholdDuration)}S[0]=S[2]=E[0],S[1]=S[3]=E[1]}),!1),b.registerBinding(window,"mousemove",(function(x){var w=!1;if(!b.hoverData.capture){var S=b.findContainerClientCoords();if(!(x.clientX>S[0]&&x.clientX<S[0]+b.canvasWidth&&x.clientY>S[1]&&x.clientY<S[1]+b.canvasHeight))return;for(var B=b.container,I=x.target.parentNode,A=!1;I;){if(I===B){A=!0;break}I=I.parentNode}if(!A)return}var F=b.cy,X=F.zoom(),Y=b.projectIntoViewport(x.clientX,x.clientY),$=b.selection,H=null;b.hoverData.draggingEles||(H=b.findNearestElement(Y[0],Y[1],!0,!1));var W=b.hoverData.last,Z=b.hoverData.down,U=[Y[0]-$[2],Y[1]-$[3]],J=b.dragData.possibleDragElements,Q=$[2]-$[0],ee=Q*Q,ne=$[3]-$[1],re=(ee+ne*ne)*X*X,ie=r(x),ae=re>=b.desktopTapThreshold2;ae&&(b.hoverData.tapholdCancelled=!0);if(w=!0,t(H,["mousemove","vmousemove","tapdrag"],x,{cyPosition:{x:Y[0],y:Y[1]}}),3===b.hoverData.which){if(ae){var oe=D(x,{type:"cxtdrag",cyPosition:{x:Y[0],y:Y[1]}});Z?Z.trigger(oe):F.trigger(oe),b.hoverData.cxtDragged=!0,b.hoverData.cxtOver&&H===b.hoverData.cxtOver||(b.hoverData.cxtOver&&b.hoverData.cxtOver.trigger(D(x,{type:"cxtdragout",cyPosition:{x:Y[0],y:Y[1]}})),b.hoverData.cxtOver=H,H&&H.trigger(D(x,{type:"cxtdragover",cyPosition:{x:Y[0],y:Y[1]}})))}}else if(b.hoverData.dragging){if(w=!0,F.panningEnabled()&&F.userPanningEnabled()){var le;if(b.hoverData.justStartedPan){var ce=b.hoverData.mdownPos;le={x:(Y[0]-ce[0])*X,y:(Y[1]-ce[1])*X},b.hoverData.justStartedPan=!1}else le={x:U[0]*X,y:U[1]*X};F.panBy(le),b.hoverData.dragged=!0}Y=b.projectIntoViewport(x.clientX,x.clientY)}else if(1!=$[4]||null!=Z&&!Z.isEdge()){if(Z&&Z.isEdge()&&Z.active()&&Z.unactivate(),H!=W&&(W&&t(W,["mouseout","tapdragout"],x,{cyPosition:{x:Y[0],y:Y[1]}}),H&&t(H,["mouseover","tapdragover"],x,{cyPosition:{x:Y[0],y:Y[1]}}),b.hoverData.last=H),Z&&Z.isNode()&&b.nodeIsDraggable(Z))if(ae){var de=!b.dragData.didDrag;de&&b.redrawHint("eles",!0),b.dragData.didDrag=!0;for(var he=[],pe=0;pe<J.length;pe++){var fe=J[pe];if(b.hoverData.draggingEles||u(fe,{inDragLayer:!0}),fe.isNode()&&b.nodeIsDraggable(fe)&&fe.grabbed()){var ge=fe._private.position;if(he.push(fe),E.number(U[0])&&E.number(U[1])){var ye=!fe.isParent();if(ye&&(ge.x+=U[0],ge.y+=U[1]),de){var me=b.hoverData.dragDelta;ye&&E.number(me[0])&&E.number(me[1])&&(ge.x+=me[0],ge.y+=me[1])}}}}b.hoverData.draggingEles=!0;var be=C(F,he);be.updateCompoundBounds(),be.trigger("position drag"),b.redrawHint("drag",!0),b.redraw()}else!function(){var x=b.hoverData.dragDelta=b.hoverData.dragDelta||[];0===x.length?(x.push(U[0]),x.push(U[1])):(x[0]+=U[0],x[1]+=U[1])}();w=!0}else b.hoverData.dragging||!F.boxSelectionEnabled()||!ie&&F.panningEnabled()&&F.userPanningEnabled()?!b.hoverData.selecting&&F.panningEnabled()&&F.userPanningEnabled()&&(b.hoverData.dragging=!0,b.hoverData.justStartedPan=!0,$[4]=0,b.data.bgActivePosistion={x:Y[0],y:Y[1]},b.redrawHint("select",!0),b.redraw()):(b.data.bgActivePosistion=void 0,b.hoverData.selecting=!0,b.redrawHint("select",!0),b.redraw()),Z&&Z.isEdge()&&Z.active()&&Z.unactivate();return $[2]=Y[0],$[3]=Y[1],w?(x.stopPropagation&&x.stopPropagation(),x.preventDefault&&x.preventDefault(),!1):void 0}),!1),b.registerBinding(window,"mouseup",(function(x){if(b.hoverData.capture){b.hoverData.capture=!1;var w=b.cy,E=b.projectIntoViewport(x.clientX,x.clientY),S=b.selection,B=b.findNearestElement(E[0],E[1],!0,!1),I=b.dragData.possibleDragElements,A=b.hoverData.down,F=r(x);if(b.data.bgActivePosistion&&(b.redrawHint("select",!0),b.redraw()),b.hoverData.tapholdCancelled=!0,b.data.bgActivePosistion=void 0,A&&A.unactivate(),3===b.hoverData.which){var X=D(x,{type:"cxttapend",cyPosition:{x:E[0],y:E[1]}});if(A?A.trigger(X):w.trigger(X),!b.hoverData.cxtDragged){var Y=D(x,{type:"cxttap",cyPosition:{x:E[0],y:E[1]}});A?A.trigger(Y):w.trigger(Y)}b.hoverData.cxtDragged=!1,b.hoverData.which=null}else if(1===b.hoverData.which){if(null!=A||b.dragData.didDrag||b.hoverData.selecting||b.hoverData.dragged||r(x)||(w.$((function(){return this.selected()})).unselect(),I.length>0&&b.redrawHint("eles",!0),b.dragData.possibleDragElements=I=[]),t(B,["mouseup","tapend","vmouseup"],x,{cyPosition:{x:E[0],y:E[1]}}),b.dragData.didDrag||b.hoverData.dragged||t(B,["click","tap","vclick"],x,{cyPosition:{x:E[0],y:E[1]}}),B!=A||b.dragData.didDrag||b.hoverData.selecting||null!=B&&B._private.selectable&&(b.hoverData.dragging||("additive"===w.selectionType()||F?B.selected()?B.unselect():B.select():F||(w.$(":selected").unmerge(B).unselect(),B.select())),b.redrawHint("eles",!0)),b.hoverData.selecting){var $=[],H=b.getAllInBox(S[0],S[1],S[2],S[3]);b.redrawHint("select",!0),H.length>0&&b.redrawHint("eles",!0);for(var W=0;W<H.length;W++)H[W]._private.selectable&&$.push(H[W]);var Z=C(w,$);"additive"===w.selectionType()||F||w.$(":selected").unmerge(Z).unselect(),Z.select(),b.redraw()}b.hoverData.dragging&&(b.hoverData.dragging=!1,b.redrawHint("select",!0),b.redrawHint("eles",!0),b.redraw()),S[4]||(b.redrawHint("drag",!0),b.redrawHint("eles",!0),c(I),A&&A.trigger("free"))}S[4]=0,b.hoverData.down=null,b.hoverData.cxtStarted=!1,b.hoverData.draggingEles=!1,b.hoverData.selecting=!1,b.dragData.didDrag=!1,b.hoverData.dragged=!1,b.hoverData.dragDelta=[]}}),!1);b.registerBinding(b.container,"wheel",(function(x){if(!b.scrollingPage){var w=b.cy,E=b.projectIntoViewport(x.clientX,x.clientY),S=[E[0]*w.zoom()+w.pan().x,E[1]*w.zoom()+w.pan().y];if(b.hoverData.draggingEles||b.hoverData.dragging||b.hoverData.cxtStarted||0!==b.selection[4])return void x.preventDefault();if(w.panningEnabled()&&w.userPanningEnabled()&&w.zoomingEnabled()&&w.userZoomingEnabled()){x.preventDefault(),b.data.wheelZooming=!0,clearTimeout(b.data.wheelTimeout),b.data.wheelTimeout=setTimeout((function(){b.data.wheelZooming=!1,b.redrawHint("eles",!0),b.redraw()}),150);var D=x.deltaY/-250||x.wheelDeltaY/1e3||x.wheelDelta/1e3;D*=b.wheelSensitivity,1===x.deltaMode&&(D*=33),w.zoom({level:w.zoom()*Math.pow(10,D),renderedPosition:{x:S[0],y:S[1]}})}}}),!0),b.registerBinding(window,"scroll",(function(x){b.scrollingPage=!0,clearTimeout(b.scrollingPageTimeout),b.scrollingPageTimeout=setTimeout((function(){b.scrollingPage=!1}),250)}),!0),b.registerBinding(b.container,"mouseout",(function(x){var w=b.projectIntoViewport(x.clientX,x.clientY);b.cy.trigger(D(x,{type:"mouseout",cyPosition:{x:w[0],y:w[1]}}))}),!1),b.registerBinding(b.container,"mouseover",(function(x){var w=b.projectIntoViewport(x.clientX,x.clientY);b.cy.trigger(D(x,{type:"mouseover",cyPosition:{x:w[0],y:w[1]}}))}),!1);var w,B,I,A,F,X,Y,$,H,W,Z,U,J,Q,ee,ne,re,N=function(b,x,w,E){return Math.sqrt((w-b)*(w-b)+(E-x)*(E-x))},M=function(b,x,w,E){return(w-b)*(w-b)+(E-x)*(E-x)};if(b.registerBinding(b.container,"touchstart",Q=function(x){b.touchData.capture=!0,b.data.bgActivePosistion=void 0;var E=b.cy,S=b.getCachedNodes(),C=b.getCachedEdges(),Q=b.touchData.now,ee=b.touchData.earlier;if(x.touches[0]){var ne=b.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);Q[0]=ne[0],Q[1]=ne[1]}if(x.touches[1]){ne=b.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);Q[2]=ne[0],Q[3]=ne[1]}if(x.touches[2]){ne=b.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);Q[4]=ne[0],Q[5]=ne[1]}if(x.touches[1]){var d=function(b){for(var x=0;x<b.length;x++)b[x]._private.grabbed=!1,b[x]._private.rscratch.inDragLayer=!1,b[x].active()&&b[x].unactivate()};d(S),d(C);var re=b.findContainerClientCoords();H=re[0],W=re[1],Z=re[2],U=re[3],w=x.touches[0].clientX-H,B=x.touches[0].clientY-W,I=x.touches[1].clientX-H,A=x.touches[1].clientY-W,J=w>=0&&Z>=w&&I>=0&&Z>=I&&B>=0&&U>=B&&A>=0&&U>=A;var ie=E.pan(),ae=E.zoom();F=N(w,B,I,A),X=M(w,B,I,A),$=[((Y=[(w+I)/2,(B+A)/2])[0]-ie.x)/ae,(Y[1]-ie.y)/ae];if(4e4>X&&!x.touches[2]){var oe=b.findNearestElement(Q[0],Q[1],!0,!0),le=b.findNearestElement(Q[2],Q[3],!0,!0);return oe&&oe.isNode()?(oe.activate().trigger(D(x,{type:"cxttapstart",cyPosition:{x:Q[0],y:Q[1]}})),b.touchData.start=oe):le&&le.isNode()?(le.activate().trigger(D(x,{type:"cxttapstart",cyPosition:{x:Q[0],y:Q[1]}})),b.touchData.start=le):(E.trigger(D(x,{type:"cxttapstart",cyPosition:{x:Q[0],y:Q[1]}})),b.touchData.start=null),b.touchData.start&&(b.touchData.start._private.grabbed=!1),b.touchData.cxt=!0,b.touchData.cxtDragged=!1,b.data.bgActivePosistion=void 0,void b.redraw()}}if(x.touches[2]);else if(x.touches[1]);else if(x.touches[0]){var ce=b.findNearestElement(Q[0],Q[1],!0,!0);if(null!=ce&&(ce.activate(),b.touchData.start=ce,ce.isNode()&&b.nodeIsDraggable(ce))){var de=b.dragData.touchDragEles=[];if(b.redrawHint("eles",!0),b.redrawHint("drag",!0),ce.selected())for(var he=E.$((function(){return this.isNode()&&this.selected()})),pe=0;pe<he.length;pe++){var fe=he[pe];b.nodeIsDraggable(fe)&&u(fe,{addToList:de})}else u(ce,{addToList:de});ce.trigger(D(x,{type:"grab",cyPosition:{x:Q[0],y:Q[1]}}))}t(ce,["touchstart","tapstart","vmousedown"],x,{cyPosition:{x:Q[0],y:Q[1]}}),null==ce&&(b.data.bgActivePosistion={x:ne[0],y:ne[1]},b.redrawHint("select",!0),b.redraw());for(var ge=0;ge<Q.length;ge++)ee[ge]=Q[ge],b.touchData.startPosition[ge]=Q[ge];b.touchData.singleTouchMoved=!1,b.touchData.singleTouchStartTime=+new Date,clearTimeout(b.touchData.tapholdTimeout),b.touchData.tapholdTimeout=setTimeout((function(){!1!==b.touchData.singleTouchMoved||b.pinching||b.touchData.selecting||(t(b.touchData.start,["taphold"],x,{cyPosition:{x:Q[0],y:Q[1]}}),b.touchData.start||E.$(":selected").unselect())}),b.tapholdDuration)}},!1),b.registerBinding(window,"touchmove",ee=function(x){var S=b.selection,Y=b.touchData.capture,Z=b.cy,U=b.touchData.now,Q=b.touchData.earlier,ee=Z.zoom();if(x.touches[0]){var ne=b.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);U[0]=ne[0],U[1]=ne[1]}if(x.touches[1]){ne=b.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);U[2]=ne[0],U[3]=ne[1]}if(x.touches[2]){ne=b.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);U[4]=ne[0],U[5]=ne[1]}for(var re=[],ie=0;ie<U.length;ie++)re[ie]=U[ie]-Q[ie];var ae=b.touchData.startPosition,oe=U[0]-ae[0],le=oe*oe,ce=U[1]-ae[1],de=(le+ce*ce)*ee*ee>=b.touchTapThreshold2;if(Y&&b.touchData.cxt){x.preventDefault();var he=x.touches[0].clientX-H,pe=x.touches[0].clientY-W,fe=x.touches[1].clientX-H,ge=x.touches[1].clientY-W,ye=M(he,pe,fe,ge);if(ye/X>=2.25||ye>=22500){b.touchData.cxt=!1,b.touchData.start&&(b.touchData.start.unactivate(),b.touchData.start=null),b.data.bgActivePosistion=void 0,b.redrawHint("select",!0);var me=D(x,{type:"cxttapend",cyPosition:{x:U[0],y:U[1]}});b.touchData.start?b.touchData.start.trigger(me):Z.trigger(me)}}if(Y&&b.touchData.cxt){me=D(x,{type:"cxtdrag",cyPosition:{x:U[0],y:U[1]}});b.data.bgActivePosistion=void 0,b.redrawHint("select",!0),b.touchData.start?b.touchData.start.trigger(me):Z.trigger(me),b.touchData.start&&(b.touchData.start._private.grabbed=!1),b.touchData.cxtDragged=!0;var be=b.findNearestElement(U[0],U[1],!0,!0);b.touchData.cxtOver&&be===b.touchData.cxtOver||(b.touchData.cxtOver&&b.touchData.cxtOver.trigger(D(x,{type:"cxtdragout",cyPosition:{x:U[0],y:U[1]}})),b.touchData.cxtOver=be,be&&be.trigger(D(x,{type:"cxtdragover",cyPosition:{x:U[0],y:U[1]}})))}else if(Y&&x.touches[2]&&Z.boxSelectionEnabled())x.preventDefault(),b.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,b.touchData.selecting=!0,b.redrawHint("select",!0),S&&0!==S.length&&void 0!==S[0]?(S[2]=(U[0]+U[2]+U[4])/3,S[3]=(U[1]+U[3]+U[5])/3):(S[0]=(U[0]+U[2]+U[4])/3,S[1]=(U[1]+U[3]+U[5])/3,S[2]=(U[0]+U[2]+U[4])/3+1,S[3]=(U[1]+U[3]+U[5])/3+1),S[4]=1,b.touchData.selecting=!0,b.redraw();else if(Y&&x.touches[1]&&Z.zoomingEnabled()&&Z.panningEnabled()&&Z.userZoomingEnabled()&&Z.userPanningEnabled()){if(x.preventDefault(),b.data.bgActivePosistion=void 0,b.redrawHint("select",!0),Ie=b.dragData.touchDragEles){b.redrawHint("drag",!0);for(var xe=0;xe<Ie.length;xe++)Ie[xe]._private.grabbed=!1,Ie[xe]._private.rscratch.inDragLayer=!1}he=x.touches[0].clientX-H,pe=x.touches[0].clientY-W,fe=x.touches[1].clientX-H,ge=x.touches[1].clientY-W;var we=N(he,pe,fe,ge),_e=we/F;if(1!=_e&&J){var Ee=(he-w+(fe-I))/2,Se=(pe-B+(ge-A))/2,De=Z.zoom(),ke=De*_e,Te=Z.pan(),Pe=$[0]*De+Te.x,Ce=$[1]*De+Te.y,Ne={x:-ke/De*(Pe-Te.x-Ee)+Pe,y:-ke/De*(Ce-Te.y-Se)+Ce};if(b.touchData.start){if(Ie=b.dragData.touchDragEles)for(xe=0;xe<Ie.length;xe++){var Me=Ie[xe]._private;Me.grabbed=!1,Me.rscratch.inDragLayer=!1}var Be=b.touchData.start._private;Be.active=!1,Be.grabbed=!1,Be.rscratch.inDragLayer=!1,b.redrawHint("drag",!0),b.touchData.start.trigger("free").trigger("unactivate")}Z.viewport({zoom:ke,pan:Ne,cancelOnFailedZoom:!0}),F=we,w=he,B=pe,I=fe,A=ge,b.pinching=!0}if(x.touches[0]){ne=b.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);U[0]=ne[0],U[1]=ne[1]}if(x.touches[1]){ne=b.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);U[2]=ne[0],U[3]=ne[1]}if(x.touches[2]){ne=b.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);U[4]=ne[0],U[5]=ne[1]}}else if(x.touches[0]){var ze=b.touchData.start,Oe=b.touchData.last;be=be||b.findNearestElement(U[0],U[1],!0,!0);if(null!=ze&&x.preventDefault(),null!=ze&&"nodes"==ze._private.group&&b.nodeIsDraggable(ze))if(de){for(var Ie=b.dragData.touchDragEles,Le=!b.dragData.didDrag,Ae=0;Ae<Ie.length;Ae++){var Re=Ie[Ae];if(Le&&u(Re,{inDragLayer:!0}),b.nodeIsDraggable(Re)&&Re.isNode()&&Re.grabbed()){b.dragData.didDrag=!0;var Ve=Re._private.position,Fe=!Re.isParent();if(Fe&&E.number(re[0])&&E.number(re[1])&&(Ve.x+=re[0],Ve.y+=re[1]),Le){b.redrawHint("eles",!0);var je=b.touchData.dragDelta;Fe&&E.number(je[0])&&E.number(je[1])&&(Ve.x+=je[0],Ve.y+=je[1])}}}var qe=C(Z,Ie);qe.updateCompoundBounds(),qe.trigger("position drag"),b.hoverData.draggingEles=!0,b.redrawHint("drag",!0),b.touchData.startPosition[0]==Q[0]&&b.touchData.startPosition[1]==Q[1]&&b.redrawHint("eles",!0),b.redraw()}else{0===(je=b.touchData.dragDelta=b.touchData.dragDelta||[]).length?(je.push(re[0]),je.push(re[1])):(je[0]+=re[0],je[1]+=re[1])}t(ze||be,["touchmove","tapdrag","vmousemove"],x,{cyPosition:{x:U[0],y:U[1]}}),be!=Oe&&(Oe&&Oe.trigger(D(x,{type:"tapdragout",cyPosition:{x:U[0],y:U[1]}})),be&&be.trigger(D(x,{type:"tapdragover",cyPosition:{x:U[0],y:U[1]}}))),b.touchData.last=be;for(xe=0;xe<U.length;xe++)U[xe]&&b.touchData.startPosition[xe]&&de&&(b.touchData.singleTouchMoved=!0);if(Y&&(null==ze||ze.isEdge())&&Z.panningEnabled()&&Z.userPanningEnabled()){x.preventDefault(),b.swipePanning?Z.panBy({x:re[0]*ee,y:re[1]*ee}):de&&(b.swipePanning=!0,Z.panBy({x:oe*ee,y:ce*ee}),ze&&(ze.unactivate(),b.data.bgActivePosistion||(b.data.bgActivePosistion={x:U[0],y:U[1]}),b.redrawHint("select",!0),b.touchData.start=null));ne=b.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);U[0]=ne[0],U[1]=ne[1]}}for(ie=0;ie<U.length;ie++)Q[ie]=U[ie]},!1),b.registerBinding(window,"touchcancel",ne=function(x){var w=b.touchData.start;b.touchData.capture=!1,w&&w.unactivate()}),b.registerBinding(window,"touchend",re=function(x){var w=b.touchData.start;if(b.touchData.capture){b.touchData.capture=!1,x.preventDefault();var E=b.selection;b.swipePanning=!1,b.hoverData.draggingEles=!1;var S,B=b.cy,I=B.zoom(),A=b.touchData.now,F=b.touchData.earlier;if(x.touches[0]){var X=b.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);A[0]=X[0],A[1]=X[1]}if(x.touches[1]){X=b.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);A[2]=X[0],A[3]=X[1]}if(x.touches[2]){X=b.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);A[4]=X[0],A[5]=X[1]}if(w&&w.unactivate(),b.touchData.cxt){if(S=D(x,{type:"cxttapend",cyPosition:{x:A[0],y:A[1]}}),w?w.trigger(S):B.trigger(S),!b.touchData.cxtDragged){var Y=D(x,{type:"cxttap",cyPosition:{x:A[0],y:A[1]}});w?w.trigger(Y):B.trigger(Y)}return b.touchData.start&&(b.touchData.start._private.grabbed=!1),b.touchData.cxt=!1,b.touchData.start=null,void b.redraw()}if(!x.touches[2]&&B.boxSelectionEnabled()&&b.touchData.selecting){b.touchData.selecting=!1;var $=[],H=b.getAllInBox(E[0],E[1],E[2],E[3]);E[0]=void 0,E[1]=void 0,E[2]=void 0,E[3]=void 0,E[4]=0,b.redrawHint("select",!0);for(var W=0;W<H.length;W++)H[W]._private.selectable&&$.push(H[W]);var Z=C(B,$);Z.select(),Z.length>0?b.redrawHint("eles",!0):b.redraw()}var U=!1;if(null!=w&&(w._private.active=!1,U=!0,w.unactivate()),x.touches[2])b.data.bgActivePosistion=void 0,b.redrawHint("select",!0);else if(x.touches[1]);else if(x.touches[0]);else if(!x.touches[0]){b.data.bgActivePosistion=void 0,b.redrawHint("select",!0);var J=b.dragData.touchDragEles;if(null!=w){var Q=w._private.grabbed;c(J),b.redrawHint("drag",!0),b.redrawHint("eles",!0),Q&&w.trigger("free"),t(w,["touchend","tapend","vmouseup"],x,{cyPosition:{x:A[0],y:A[1]}}),w.unactivate(),b.touchData.start=null}else{var ee=b.findNearestElement(A[0],A[1],!0,!0);t(ee,["touchend","tapend","vmouseup"],x,{cyPosition:{x:A[0],y:A[1]}})}var ne=b.touchData.startPosition[0]-A[0],re=ne*ne,ie=b.touchData.startPosition[1]-A[1],ae=(re+ie*ie)*I*I;null!=w&&!b.dragData.didDrag&&w._private.selectable&&ae<b.touchTapThreshold2&&!b.pinching&&("single"===B.selectionType()?(B.$(":selected").unmerge(w).unselect(),w.select()):w.selected()?w.unselect():w.select(),U=!0,b.redrawHint("eles",!0)),b.touchData.singleTouchMoved||t(w,["tap","vclick"],x,{cyPosition:{x:A[0],y:A[1]}}),b.touchData.singleTouchMoved=!0}for(var oe=0;oe<A.length;oe++)F[oe]=A[oe];b.dragData.didDrag=!1,0===x.touches.length&&(b.touchData.dragDelta=[]),U&&w&&w.updateStyle(!1),x.touches.length<2&&(b.pinching=!1,b.redrawHint("eles",!0),b.redraw())}},!1),"undefined"==typeof TouchEvent){var ie=[],L=function(b){return{clientX:b.clientX,clientY:b.clientY,force:1,identifier:b.pointerId,pageX:b.pageX,pageY:b.pageY,radiusX:b.width/2,radiusY:b.height/2,screenX:b.screenX,screenY:b.screenY,target:b.target}},R=function(b){ie.push(function(b){return{event:b,touch:L(b)}}(b))},V=function(b){for(var x=0;x<ie.length;x++){if(ie[x].event.pointerId===b.pointerId)return void ie.splice(x,1)}},j=function(b){b.touches=ie.map((function(b){return b.touch}))},q=function(b){return"mouse"===b.pointerType||4===b.pointerType};b.registerBinding(b.container,"pointerdown",(function(b){q(b)||(b.preventDefault(),R(b),j(b),Q(b))})),b.registerBinding(b.container,"pointerup",(function(b){q(b)||(V(b),j(b),re(b))})),b.registerBinding(b.container,"pointercancel",(function(b){q(b)||(V(b),j(b),ne())})),b.registerBinding(b.container,"pointermove",(function(b){q(b)||(b.preventDefault(),function(b){var x=ie.filter((function(x){return x.event.pointerId===b.pointerId}))[0];x.event=b,x.touch=L(b)}(b),j(b),ee(b))}))}},x.exports=B},{"../../../collection":23,"../../../event":42,"../../../is":77,"../../../util":94}],60:[function(b,x,w){"use strict";var E=b("../../../math"),S={registerNodeShapes:function(){function e(w,S){return b[w]={name:w,points:S,draw:function(b,w,E,S,D){x.nodeShapeImpl("polygon")(b,w,E,S,D,this.points)},intersectLine:function(b,x,w,S,D,C,B){return E.polygonIntersectLine(D,C,this.points,b,x,w/2,S/2,B)},checkPoint:function(x,S,D,C,B,I,A){return E.pointInsidePolygon(x,S,b[w].points,I,A,C,B,[0,-1],D)}}}var b=this.nodeShapes={},x=this;b.ellipse={name:"ellipse",draw:function(b,w,E,S,D){x.nodeShapeImpl(this.name)(b,w,E,S,D)},intersectLine:function(b,x,w,S,D,C,B){return E.intersectLineEllipse(D,C,b,x,w/2+B,S/2+B)},checkPoint:function(b,x,w,E,S,D,C){return b-=D,x-=C,1>=(b/=E/2+w)*b+(x/=S/2+w)*x}},e("triangle",E.generateUnitNgonPointsFitToSquare(3,0)),e("square",E.generateUnitNgonPointsFitToSquare(4,0)),b.rectangle=b.square,b.roundrectangle={name:"roundrectangle",points:E.generateUnitNgonPointsFitToSquare(4,0),draw:function(b,w,E,S,D){x.nodeShapeImpl(this.name)(b,w,E,S,D)},intersectLine:function(b,x,w,S,D,C,B){return E.roundRectangleIntersectLine(D,C,b,x,w,S,B)},checkPoint:function(b,x,w,S,D,C,B){var I=E.getRoundRectangleRadius(S,D);if(E.pointInsidePolygon(b,x,this.points,C,B,S,D-2*I,[0,-1],w))return!0;if(E.pointInsidePolygon(b,x,this.points,C,B,S-2*I,D,[0,-1],w))return!0;var u=function(b,x,w,E,S,D,C){return b-=w,x-=E,1>=(b/=S/2+C)*b+(x/=D/2+C)*x};return!!u(b,x,C-S/2+I,B-D/2+I,2*I,2*I,w)||(!!u(b,x,C+S/2-I,B-D/2+I,2*I,2*I,w)||(!!u(b,x,C+S/2-I,B+D/2-I,2*I,2*I,w)||!!u(b,x,C-S/2+I,B+D/2-I,2*I,2*I,w)))}},e("diamond",[0,1,1,0,0,-1,-1,0]),e("pentagon",E.generateUnitNgonPointsFitToSquare(5,0)),e("hexagon",E.generateUnitNgonPointsFitToSquare(6,0)),e("heptagon",E.generateUnitNgonPointsFitToSquare(7,0)),e("octagon",E.generateUnitNgonPointsFitToSquare(8,0));var w=new Array(20),S=E.generateUnitNgonPoints(5,0),D=E.generateUnitNgonPoints(5,Math.PI/5),C=.5*(3-Math.sqrt(5));C*=1.57;for(var B=0;B<D.length/2;B++)D[2*B]*=C,D[2*B+1]*=C;for(B=0;5>B;B++)w[4*B]=S[2*B],w[4*B+1]=S[2*B+1],w[4*B+2]=D[2*B],w[4*B+3]=D[2*B+1];e("star",w=E.fitPolygonToSquare(w)),e("vee",[-1,-1,0,-.333,1,-1,0,1]),e("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),b.makePolygon=function(x){var w,E="polygon-"+x.join("$");return(w=b[E])?w:e(E,x)}}};x.exports=S},{"../../../math":79}],61:[function(b,x,w){"use strict";var E=b("../../../util"),S={timeToRender:function(){return this.redrawTotalTime/this.redrawCount}},D=1e3/60;S.redraw=function(b){var x=this,w=(b=b||E.staticEmptyObject()).forcedContext;void 0===x.averageRedrawTime&&(x.averageRedrawTime=0),void 0===x.lastRedrawTime&&(x.lastRedrawTime=0);var S=x.lastRedrawTime;S=1e3>(S=D>S?D:S)?S:1e3,void 0===x.lastDrawTime&&(x.lastDrawTime=0);var C=Date.now()-x.lastDrawTime;return w||C>=S?(x.requestedFrame=!0,void(x.renderOptions=b)):void(x.skipFrame=!0)},S.startRenderLoop=function(){var b=this;if(!b.renderLoopStarted){b.renderLoopStarted=!0;var t=function(){if(!b.destroyed){if(b.requestedFrame&&!b.skipFrame){var x=E.performanceNow();b.render(b.renderOptions);var w=b.lastRedrawTime=E.performanceNow();void 0===b.averageRedrawTime&&(b.averageRedrawTime=w-x),void 0===b.redrawCount&&(b.redrawCount=0),b.redrawCount++,void 0===b.redrawTotalTime&&(b.redrawTotalTime=0);var S=w-x;b.redrawTotalTime+=S,b.lastRedrawTime=S,b.averageRedrawTime=b.averageRedrawTime/2+S/2,b.requestedFrame=!1}b.skipFrame=!1,E.requestAnimationFrame(t)}};E.requestAnimationFrame(t)}},x.exports=S},{"../../../util":94}],62:[function(b,x,w){"use strict";var E,S={arrowShapeImpl:function(b){return(E||(E={polygon:function(b,x){for(var w=0;w<x.length;w++){var E=x[w];b.lineTo(E.x,E.y)}},"triangle-backcurve":function(b,x,w){for(var E,S=0;S<x.length;S++){var D=x[S];0===S&&(E=D),b.lineTo(D.x,D.y)}b.quadraticCurveTo(w.x,w.y,E.x,E.y)},"triangle-tee":function(b,x,w){for(var E=x,S=0;S<E.length;S++){var D=E[S];b.lineTo(D.x,D.y)}var C=w,B=w[0];b.moveTo(B.x,B.y);for(S=0;S<C.length;S++){D=C[S];b.lineTo(D.x,D.y)}},circle:function(b,x,w,E){b.arc(x,w,E,0,2*Math.PI,!1)}}))[b]}};x.exports=S},{}],63:[function(b,x,w){"use strict";var E={drawEdge:function(b,x,w){var E=x._private.rscratch,S=this.usePaths();if(!(E.badBezier||E.badLine||isNaN(E.allpts[0]))){var D=x._private.style;if(!(D.width.pfValue<=0)){var C=D["overlay-padding"].pfValue,B=D["overlay-opacity"].value,I=D["overlay-color"].value;if(w){if(0===B)return;this.strokeStyle(b,I[0],I[1],I[2],B),b.lineCap="round","self"!=E.edgeType||S||(b.lineCap="butt")}else{var A=D["line-color"].value;this.strokeStyle(b,A[0],A[1],A[2],D.opacity.value),b.lineCap="butt"}var F=D.width.pfValue+(w?2*C:0),X=w?"solid":D["line-style"].value;b.lineWidth=F;var Y=D["shadow-blur"].pfValue,$=D["shadow-opacity"].value,H=D["shadow-color"].value,W=D["shadow-offset-x"].pfValue,Z=D["shadow-offset-y"].pfValue;this.shadowStyle(b,H,w?0:$,Y,W,Z),this.drawEdgePath(x,b,E.allpts,X,F),this.drawArrowheads(b,x,w),this.shadowStyle(b,"transparent",0)}}},drawEdgePath:function(b,x,w,E,S){var D,C=b._private.rscratch,B=x,I=!1,A=this.usePaths();if(A){var F=w.join("$");C.pathCacheKey&&C.pathCacheKey===F?(D=x=C.pathCache,I=!0):(D=x=new Path2D,C.pathCacheKey=F,C.pathCache=D)}if(B.setLineDash)switch(E){case"dotted":B.setLineDash([1,1]);break;case"dashed":B.setLineDash([6,3]);break;case"solid":B.setLineDash([])}if(!I)switch(x.beginPath&&x.beginPath(),x.moveTo(w[0],w[1]),C.edgeType){case"bezier":case"self":case"compound":case"multibezier":if(!C.badBezier)for(var X=2;X+3<w.length;X+=4)x.quadraticCurveTo(w[X],w[X+1],w[X+2],w[X+3]);break;case"straight":case"segments":case"haystack":if(!C.badLine)for(X=2;X+1<w.length;X+=2)x.lineTo(w[X],w[X+1])}x=B,A?x.stroke(D):x.stroke(),x.setLineDash&&x.setLineDash([])},drawArrowheads:function(b,x,w){if(!w){var E=x._private.rscratch,S="haystack"===E.edgeType;S||this.drawArrowhead(b,x,"source",E.arrowStartX,E.arrowStartY,E.srcArrowAngle),this.drawArrowhead(b,x,"mid-target",E.midX,E.midY,E.midtgtArrowAngle),this.drawArrowhead(b,x,"mid-source",E.midX,E.midY,E.midsrcArrowAngle),S||this.drawArrowhead(b,x,"target",E.arrowEndX,E.arrowEndY,E.tgtArrowAngle)}},drawArrowhead:function(b,x,w,E,S,D){if(!(isNaN(E)||null==E||isNaN(S)||null==S||isNaN(D)||null==D)){var C=this,B=x._private.style,I=B[w+"-arrow-shape"].value;if("none"!==I){var A=b.globalCompositeOperation,F="hollow"===B[w+"-arrow-fill"].value?"both":"filled",X=B[w+"-arrow-fill"].value;"half-triangle-overshot"===I&&(X="hollow",F="hollow"),1===B.opacity.value&&"hollow"!==X||(b.globalCompositeOperation="destination-out",C.fillStyle(b,255,255,255,1),C.strokeStyle(b,255,255,255,1),C.drawArrowShape(x,w,b,F,B.width.pfValue,B[w+"-arrow-shape"].value,E,S,D),b.globalCompositeOperation=A);var Y=B[w+"-arrow-color"].value;C.fillStyle(b,Y[0],Y[1],Y[2],B.opacity.value),C.strokeStyle(b,Y[0],Y[1],Y[2],B.opacity.value),C.drawArrowShape(x,w,b,X,B.width.pfValue,B[w+"-arrow-shape"].value,E,S,D)}}},drawArrowShape:function(b,x,w,E,S,D,C,B,I){var A,F=this.usePaths(),X=b._private.rscratch,Y=!1,$=w,H={x:C,y:B},W=this.getArrowWidth(S),Z=this.arrowShapes[D];if(F){var U=W+"$"+D+"$"+I+"$"+C+"$"+B;X.arrowPathCacheKey=X.arrowPathCacheKey||{},X.arrowPathCache=X.arrowPathCache||{},X.arrowPathCacheKey[x]===U?(A=w=X.arrowPathCache[x],Y=!0):(A=w=new Path2D,X.arrowPathCacheKey[x]=U,X.arrowPathCache[x]=A)}w.beginPath&&w.beginPath(),Y||Z.draw(w,W,I,H),!Z.leavePathOpen&&w.closePath&&w.closePath(),w=$,"filled"!==E&&"both"!==E||(F?w.fill(A):w.fill()),"hollow"!==E&&"both"!==E||(w.lineWidth=Z.matchEdgeWidth?S:1,w.lineJoin="miter",F?w.stroke(A):w.stroke())}};x.exports=E},{}],64:[function(b,x,w){"use strict";var E={safeDrawImage:function(b,x,w,E,S,D,C,B,I,A){var F=this;try{b.drawImage(x,w,E,S,D,C,B,I,A)}catch(b){F.data.canvasNeedsRedraw[F.NODE]=!0,F.data.canvasNeedsRedraw[F.DRAG]=!0,F.drawingImage=!0,F.redraw()}},drawInscribedImage:function(b,x,w){var E=this,S=w._private.position.x,D=w._private.position.y,C=w._private.style,B=C["background-fit"].value,I=C["background-position-x"],A=C["background-position-y"],F=C["background-repeat"].value,X=w.width(),Y=w.height(),$=w._private.rscratch,H="node"===C["background-clip"].value,W=C["background-image-opacity"].value,Z=x.width||x.cachedW,U=x.height||x.cachedH;null!=Z&&null!=U||(document.body.appendChild(x),Z=x.cachedW=x.width||x.offsetWidth,U=x.cachedH=x.height||x.offsetHeight,document.body.removeChild(x));var J=Z,Q=U,ee=C["background-width"];"auto"!==ee.value&&(J="%"===ee.units?ee.value/100*X:ee.pfValue);var ne=C["background-height"];if("auto"!==ne.value&&(Q="%"===ne.units?ne.value/100*Y:ne.pfValue),0!==J&&0!==Q){if("contain"===B)J*=re=Math.min(X/J,Y/Q),Q*=re;else if("cover"===B){var re;J*=re=Math.max(X/J,Y/Q),Q*=re}var ie=S-X/2;ie+="%"===I.units?(X-J)*I.value/100:I.pfValue;var ae=D-Y/2;ae+="%"===A.units?(Y-Q)*A.value/100:A.pfValue,$.pathCache&&(ie-=S,ae-=D,S=0,D=0);var oe=b.globalAlpha;if(b.globalAlpha=W,"no-repeat"===F)H&&(b.save(),$.pathCache?b.clip($.pathCache):(E.nodeShapes[E.getNodeShape(w)].draw(b,S,D,X,Y),b.clip())),E.safeDrawImage(b,x,0,0,Z,U,ie,ae,J,Q),H&&b.restore();else{var le=b.createPattern(x,F);b.fillStyle=le,E.nodeShapes[E.getNodeShape(w)].draw(b,S,D,X,Y),b.translate(ie,ae),b.fill(),b.translate(-ie,-ae)}b.globalAlpha=oe}}};x.exports=E},{}],65:[function(b,x,w){"use strict";var E=b("../../../is"),S={drawEdgeText:function(b,x){var w=x._private.style.label.strValue;if(w&&!w.match(/^\s+$/)&&(!this.hideEdgesOnViewport||!(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var S=x._private.style["font-size"].pfValue*x.cy().zoom();if(!(x._private.style["min-zoomed-font-size"].pfValue>S)){b.textAlign="center",b.textBaseline="middle";var D,C=x._private.rscratch;if(E.number(C.labelX)&&E.number(C.labelY))"autorotate"===x._private.style["edge-text-rotation"].strValue?(D=C.labelAngle,b.translate(C.labelX,C.labelY),b.rotate(D),this.drawText(b,x,0,0),b.rotate(-D),b.translate(-C.labelX,-C.labelY)):this.drawText(b,x,C.labelX,C.labelY)}}},drawNodeText:function(b,x){var w=x._private.style.label.strValue;if(w&&!w.match(/^\s+$/)){var S=x._private.style["font-size"].pfValue*x.cy().zoom();if(!(x._private.style["min-zoomed-font-size"].pfValue>S)){var D=x._private.style["text-halign"].strValue,C=x._private.style["text-valign"].strValue,B=x._private.rscratch;if(E.number(B.labelX)&&E.number(B.labelY)){switch(D){case"left":b.textAlign="right";break;case"right":b.textAlign="left";break;default:b.textAlign="center"}switch(C){case"top":b.textBaseline="bottom";break;case"bottom":b.textBaseline="top";break;default:b.textBaseline="middle"}this.drawText(b,x,B.labelX,B.labelY)}}}},getFontCache:function(b){var x;this.fontCaches=this.fontCaches||[];for(var w=0;w<this.fontCaches.length;w++)if((x=this.fontCaches[w]).context===b)return x;return x={context:b},this.fontCaches.push(x),x},setupTextStyle:function(b,x){var w=x.effectiveOpacity(),E=x._private.style,S=E["font-style"].strValue,D=E["font-size"].pfValue+"px",C=E["font-family"].strValue,B=E["font-weight"].strValue,I=E["text-opacity"].value*E.opacity.value*w,A=E["text-outline-opacity"].value*I,F=E.color.value,X=E["text-outline-color"].value,Y=E["text-shadow-blur"].pfValue,$=E["text-shadow-opacity"].value,H=E["text-shadow-color"].value,W=E["text-shadow-offset-x"].pfValue,Z=E["text-shadow-offset-y"].pfValue,U=x._private.fontKey,J=this.getFontCache(b);J.key!==U&&(b.font=S+" "+B+" "+D+" "+C,J.key=U);var Q=this.getLabelText(x);return b.lineJoin="round",this.fillStyle(b,F[0],F[1],F[2],I),this.strokeStyle(b,X[0],X[1],X[2],A),this.shadowStyle(b,H,$,Y,W,Z),Q},drawText:function(b,x,w,E){var S=x._private,D=S.style,C=S.rstyle,B=S.rscratch,I=x.effectiveOpacity();if(0!==I&&0!==D["text-opacity"].value){var A=this.setupTextStyle(b,x),F=D["text-halign"].value,X=D["text-valign"].value;if(x.isEdge()&&(F="center",X="center"),x.isNode())w+=D["padding-left"].pfValue/2,w-=D["padding-right"].pfValue/2,E+=D["padding-top"].pfValue/2,E-=D["padding-bottom"].pfValue/2;if(null!=A&&!isNaN(w)&&!isNaN(E)){var Y=D["text-background-opacity"].value,$=D["text-border-opacity"].value,H=D["text-border-width"].pfValue;if(Y>0||H>0&&$>0){var W=4+H/2;x.isNode()&&("top"===X?E-=W:"bottom"===X&&(E+=W),"left"===F?w-=W:"right"===F&&(w+=W));var Z=C.labelWidth,U=C.labelHeight,J=w;F&&("center"==F?J-=Z/2:"left"==F&&(J-=Z));var Q=E;if(x.isNode()?"top"==X?Q-=U:"center"==X&&(Q-=U/2):Q-=U/2,"autorotate"===D["edge-text-rotation"].strValue?(J=w-(Z+=4)/2,Q=(E=0)-U/2):(J-=W,Q-=W,U+=2*W,Z+=2*W),Y>0){var ee=b.fillStyle,ne=D["text-background-color"].value;b.fillStyle="rgba("+ne[0]+","+ne[1]+","+ne[2]+","+Y*I+")","roundrectangle"==D["text-background-shape"].strValue?function n(b,x,w,E,S,D){D=D||5,b.beginPath(),b.moveTo(x+D,w),b.lineTo(x+E-D,w),b.quadraticCurveTo(x+E,w,x+E,w+D),b.lineTo(x+E,w+S-D),b.quadraticCurveTo(x+E,w+S,x+E-D,w+S),b.lineTo(x+D,w+S),b.quadraticCurveTo(x,w+S,x,w+S-D),b.lineTo(x,w+D),b.quadraticCurveTo(x,w,x+D,w),b.closePath(),b.fill()}(b,J,Q,Z,U,2):b.fillRect(J,Q,Z,U),b.fillStyle=ee}if(H>0&&$>0){var re=b.strokeStyle,ie=b.lineWidth,ae=D["text-border-color"].value,oe=D["text-border-style"].value;if(b.strokeStyle="rgba("+ae[0]+","+ae[1]+","+ae[2]+","+$*I+")",b.lineWidth=H,b.setLineDash)switch(oe){case"dotted":b.setLineDash([1,1]);break;case"dashed":b.setLineDash([4,2]);break;case"double":b.lineWidth=H/4,b.setLineDash([]);break;case"solid":b.setLineDash([])}if(b.strokeRect(J,Q,Z,U),"double"===oe){var le=H/2;b.strokeRect(J+le,Q+le,Z-2*le,U-2*le)}b.setLineDash&&b.setLineDash([]),b.lineWidth=ie,b.strokeStyle=re}}var ce=2*D["text-outline-width"].pfValue;if(ce>0&&(b.lineWidth=ce),"wrap"===D["text-wrap"].value){var de=B.labelWrapCachedLines,he=C.labelHeight/de.length;switch(X){case"top":E-=(de.length-1)*he;break;case"bottom":break;default:E-=(de.length-1)*he/2}for(var pe=0;pe<de.length;pe++)ce>0&&b.strokeText(de[pe],w,E),b.fillText(de[pe],w,E),E+=he}else ce>0&&b.strokeText(A,w,E),b.fillText(A,w,E);this.shadowStyle(b,"transparent",0)}}}};x.exports=S},{"../../../is":77}],66:[function(b,x,w){"use strict";var E=b("../../../is"),S={drawNode:function(b,x,w){var S,D,C=this,B=x._private.style,I=x._private.rscratch,A=x._private,F=A.position;if(E.number(F.x)&&E.number(F.y)){var X,Y=this.usePaths(),$=b,H=!1,W=B["overlay-padding"].pfValue,Z=B["overlay-opacity"].value,U=B["overlay-color"].value;if(!w||0!==Z){var J=x.effectiveOpacity();if(0!==J)if(S=x.width()+B["padding-left"].pfValue+B["padding-right"].pfValue,D=x.height()+B["padding-top"].pfValue+B["padding-bottom"].pfValue,b.lineWidth=B["border-width"].pfValue,void 0!==w&&w)Z>0&&(this.fillStyle(b,U[0],U[1],U[2],Z),C.nodeShapes.roundrectangle.draw(b,x._private.position.x,x._private.position.y,S+2*W,D+2*W),b.fill());else{var Q,ee=B["background-image"].value[2]||B["background-image"].value[1];if(void 0!==ee){Q=this.getCachedImage(ee,(function(){C.data.canvasNeedsRedraw[C.NODE]=!0,C.data.canvasNeedsRedraw[C.DRAG]=!0,C.drawingImage=!0,C.redraw()}));var ne=A.backgrounding;A.backgrounding=!Q.complete,ne!==A.backgrounding&&x.updateStyle(!1)}var re=B["background-color"].value,ie=B["border-color"].value,ae=B["border-style"].value;this.fillStyle(b,re[0],re[1],re[2],B["background-opacity"].value*J),this.strokeStyle(b,ie[0],ie[1],ie[2],B["border-opacity"].value*J);var oe=B["shadow-blur"].pfValue,le=B["shadow-opacity"].value,ce=B["shadow-color"].value,de=B["shadow-offset-x"].pfValue,he=B["shadow-offset-y"].pfValue;if(this.shadowStyle(b,ce,le,oe,de,he),b.lineJoin="miter",b.setLineDash)switch(ae){case"dotted":b.setLineDash([1,1]);break;case"dashed":b.setLineDash([4,2]);break;case"solid":case"double":b.setLineDash([])}var pe=B.shape.strValue;if(Y){var fe=pe+"$"+S+"$"+D;b.translate(F.x,F.y),I.pathCacheKey===fe?(X=b=I.pathCache,H=!0):(X=b=new Path2D,I.pathCacheKey=fe,I.pathCache=X)}if(!H){var ge=F;Y&&(ge={x:0,y:0}),C.nodeShapes[this.getNodeShape(x)].draw(b,ge.x,ge.y,S,D)}b=$,Y?b.fill(X):b.fill(),this.shadowStyle(b,"transparent",0),void 0!==ee&&Q.complete&&this.drawInscribedImage(b,Q,x);var ye=B["background-blacken"].value,me=B["border-width"].pfValue;if(this.hasPie(x)&&(this.drawPie(b,x,J),0===ye&&0===me||Y||C.nodeShapes[this.getNodeShape(x)].draw(b,F.x,F.y,S,D)),ye>0?(this.fillStyle(b,0,0,0,ye),Y?b.fill(X):b.fill()):0>ye&&(this.fillStyle(b,255,255,255,-ye),Y?b.fill(X):b.fill()),me>0&&(Y?b.stroke(X):b.stroke(),"double"===ae)){b.lineWidth=B["border-width"].pfValue/3;var be=b.globalCompositeOperation;b.globalCompositeOperation="destination-out",Y?b.stroke(X):b.stroke(),b.globalCompositeOperation=be}Y&&b.translate(-F.x,-F.y),b.setLineDash&&b.setLineDash([])}}}},hasPie:function(b){return(b=b[0])._private.hasPie},drawPie:function(b,x,w){var E=(x=x[0])._private,S=x.cy().style(),D=E.style,C=D["pie-size"],B=x.width(),I=x.height(),A=E.position.x,F=E.position.y,X=Math.min(B,I)/2,Y=0;this.usePaths()&&(A=0,F=0),"%"===C.units?X=X*C.value/100:void 0!==C.pfValue&&(X=C.pfValue/2);for(var $=1;$<=S.pieBackgroundN;$++){var H=D["pie-"+$+"-background-size"].value,W=D["pie-"+$+"-background-color"].value,Z=D["pie-"+$+"-background-opacity"].value*w,U=H/100;U+Y>1&&(U=1-Y);var J=1.5*Math.PI+2*Math.PI*Y,Q=J+2*Math.PI*U;0===H||Y>=1||Y+U>1||(b.beginPath(),b.moveTo(A,F),b.arc(A,F,X,J,Q),b.closePath(),this.fillStyle(b,W[0],W[1],W[2],Z),b.fill(),Y+=U)}}};x.exports=S},{"../../../is":77}],67:[function(b,x,w){"use strict";var E={},S=b("../../../util"),D=b("../../../math");E.getPixelRatio=function(){var b=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var x=b.backingStorePixelRatio||b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/x},E.paintCache=function(b){for(var x,w=this.paintCaches=this.paintCaches||[],E=!0,S=0;S<w.length;S++)if((x=w[S]).context===b){E=!1;break}return E&&(x={context:b},w.push(x)),x},E.fillStyle=function(b,x,w,E,S){b.fillStyle="rgba("+x+","+w+","+E+","+S+")"},E.strokeStyle=function(b,x,w,E,S){b.strokeStyle="rgba("+x+","+w+","+E+","+S+")"},E.shadowStyle=function(b,x,w,E,S,D){var C=this.cy.zoom(),B=this.paintCache(b);0===B.shadowOpacity&&0===w||(B.shadowOpacity=w,w>0?(b.shadowBlur=E*C,b.shadowColor="rgba("+x[0]+","+x[1]+","+x[2]+","+w+")",b.shadowOffsetX=S*C,b.shadowOffsetY=D*C):(b.shadowBlur=0,b.shadowColor="transparent"))},E.matchCanvasSize=function(b){var x=this,w=x.data,E=b.clientWidth,S=b.clientHeight,D=x.getPixelRatio(),C=x.motionBlurPxRatio;b!==x.data.bufferCanvases[x.MOTIONBLUR_BUFFER_NODE]&&b!==x.data.bufferCanvases[x.MOTIONBLUR_BUFFER_DRAG]||(D=C);var B,I=E*D,A=S*D;if(I!==x.canvasWidth||A!==x.canvasHeight){x.fontCaches=null;var F=w.canvasContainer;F.style.width=E+"px",F.style.height=S+"px";for(var X=0;X<x.CANVAS_LAYERS;X++)(B=w.canvases[X]).width===I&&B.height===A||(B.width=I,B.height=A,B.style.width=E+"px",B.style.height=S+"px");for(X=0;X<x.BUFFER_COUNT;X++)(B=w.bufferCanvases[X]).width===I&&B.height===A||(B.width=I,B.height=A,B.style.width=E+"px",B.style.height=S+"px");x.textureMult=1,1>=D&&(B=w.bufferCanvases[x.TEXTURE_BUFFER],x.textureMult=2,B.width=I*x.textureMult,B.height=A*x.textureMult),x.canvasWidth=I,x.canvasHeight=A}},E.renderTo=function(b,x,w,E){this.render({forcedContext:b,forcedZoom:x,forcedPan:w,drawAllLayers:!0,forcedPxRatio:E})},E.render=function(b){function t(b,x,w,E,S){var D=b.globalCompositeOperation;b.globalCompositeOperation="destination-out",I.fillStyle(b,255,255,255,I.motionBlurTransparency),b.fillRect(x,w,E,S),b.globalCompositeOperation=D}function r(b,E){var S,D,A,F;I.clearingMotionBlur||b!==X.bufferContexts[I.MOTIONBLUR_BUFFER_NODE]&&b!==X.bufferContexts[I.MOTIONBLUR_BUFFER_DRAG]?(S=oe,D=ie,A=I.canvasWidth,F=I.canvasHeight):(S={x:ae.x*W,y:ae.y*W},D=re*W,A=I.canvasWidth*W,F=I.canvasHeight*W),b.setTransform(1,0,0,1,0,0),"motionBlur"===E?t(b,0,0,A,F):x||void 0!==E&&!E||b.clearRect(0,0,A,F),w||(b.translate(S.x,S.y),b.scale(D,D)),B&&b.translate(B.x,B.y),C&&b.scale(C,C)}function n(b,x){for(var w=b.eles,E=0;E<w.length;E++){var S=w[E];S.isNode()?(I.drawNode(x,S),xe||I.drawNodeText(x,S),I.drawNode(x,S,!0)):be||(I.drawEdge(x,S),xe||I.drawEdgeText(x,S),I.drawEdge(x,S,!0))}}var x=(b=b||S.staticEmptyObject()).forcedContext,w=b.drawAllLayers,E=b.drawOnlyNodeLayer,C=b.forcedZoom,B=b.forcedPan,I=this,A=void 0===b.forcedPxRatio?this.getPixelRatio():b.forcedPxRatio,F=I.cy,X=I.data,Y=X.canvasNeedsRedraw,$=I.textureOnViewport&&!x&&(I.pinching||I.hoverData.dragging||I.swipePanning||I.data.wheelZooming),H=void 0!==b.motionBlur?b.motionBlur:I.motionBlur,W=I.motionBlurPxRatio,Z=F.hasCompoundNodes(),U=I.hoverData.draggingEles,J=!(!I.hoverData.selecting&&!I.touchData.selecting),Q=H=H&&!x&&I.motionBlurEnabled&&!J;x||(I.prevPxRatio!==A&&(I.invalidateContainerClientCoordsCache(),I.matchCanvasSize(I.container),I.redrawHint("eles",!0),I.redrawHint("drag",!0)),I.prevPxRatio=A),!x&&I.motionBlurTimeout&&clearTimeout(I.motionBlurTimeout),H&&(null==I.mbFrames&&(I.mbFrames=0),I.drawingImage||I.mbFrames++,I.mbFrames<3&&(Q=!1),I.mbFrames>I.minMbLowQualFrames&&(I.motionBlurPxRatio=I.mbPxRBlurry)),I.clearingMotionBlur&&(I.motionBlurPxRatio=1),I.textureDrawLastFrame&&!$&&(Y[I.NODE]=!0,Y[I.SELECT_BOX]=!0);var ee=I.getCachedEdges(),ne=F.style()._private.coreStyle,re=F.zoom(),ie=void 0!==C?C:re,ae=F.pan(),oe={x:ae.x,y:ae.y},le={zoom:re,pan:{x:ae.x,y:ae.y}},ce=I.prevViewport;void 0===ce||le.zoom!==ce.zoom||le.pan.x!==ce.pan.x||le.pan.y!==ce.pan.y||U&&!Z||(I.motionBlurPxRatio=1),B&&(oe=B),ie*=A,oe.x*=A,oe.y*=A;var de={drag:{nodes:[],edges:[],eles:[]},nondrag:{nodes:[],edges:[],eles:[]}};if($||(I.textureDrawLastFrame=!1),$){if(I.textureDrawLastFrame=!0,!I.textureCache){I.textureCache={},De=I.textureCache.bb=F.elements().boundingBox(),I.textureCache.texture=I.data.bufferCanvases[I.TEXTURE_BUFFER];var he=I.data.bufferContexts[I.TEXTURE_BUFFER];he.setTransform(1,0,0,1,0,0),he.clearRect(0,0,I.canvasWidth*I.textureMult,I.canvasHeight*I.textureMult),I.render({forcedContext:he,drawOnlyNodeLayer:!0,forcedPxRatio:A*I.textureMult}),(le=I.textureCache.viewport={zoom:F.zoom(),pan:F.pan(),width:I.canvasWidth,height:I.canvasHeight}).mpan={x:(0-le.pan.x)/le.zoom,y:(0-le.pan.y)/le.zoom}}Y[I.DRAG]=!1,Y[I.NODE]=!1;var pe=X.contexts[I.NODE],fe=I.textureCache.texture;le=I.textureCache.viewport;De=I.textureCache.bb,pe.setTransform(1,0,0,1,0,0),H?t(pe,0,0,le.width,le.height):pe.clearRect(0,0,le.width,le.height);var ge=ne["outside-texture-bg-color"].value,ye=ne["outside-texture-bg-opacity"].value;I.fillStyle(pe,ge[0],ge[1],ge[2],ye),pe.fillRect(0,0,le.width,le.height);re=F.zoom();r(pe,!1),pe.clearRect(le.mpan.x,le.mpan.y,le.width/le.zoom/A,le.height/le.zoom/A),pe.drawImage(fe,le.mpan.x,le.mpan.y,le.width/le.zoom/A,le.height/le.zoom/A)}else I.textureOnViewport&&!x&&(I.textureCache=null);var me=I.pinching||I.hoverData.dragging||I.swipePanning||I.data.wheelZooming||I.hoverData.draggingEles,be=I.hideEdgesOnViewport&&me,xe=I.hideLabelsOnViewport&&me;if(Y[I.DRAG]||Y[I.NODE]||w||E){be||I.findEdgeControlPoints(ee);for(var we=I.getCachedZSortedEles(),_e=F.extent(),Ee=0;Ee<we.length;Ee++){var Se=we[Ee],De=x?null:Se.boundingBox();(!!x||D.boundingBoxesIntersect(_e,De))&&(Se._private.rscratch.inDragLayer?de.drag:de.nondrag).eles.push(Se)}}var ke=[];if(ke[I.NODE]=!Y[I.NODE]&&H&&!I.clearedForMotionBlur[I.NODE]||I.clearingMotionBlur,ke[I.NODE]&&(I.clearedForMotionBlur[I.NODE]=!0),ke[I.DRAG]=!Y[I.DRAG]&&H&&!I.clearedForMotionBlur[I.DRAG]||I.clearingMotionBlur,ke[I.DRAG]&&(I.clearedForMotionBlur[I.DRAG]=!0),Y[I.NODE]||w||E||ke[I.NODE]){var Te=H&&!ke[I.NODE]&&1!==W;r(pe=x||(Te?I.data.bufferContexts[I.MOTIONBLUR_BUFFER_NODE]:X.contexts[I.NODE]),H&&!Te?"motionBlur":void 0),n(de.nondrag,pe),w||H||(Y[I.NODE]=!1)}if(!E&&(Y[I.DRAG]||w||ke[I.DRAG])){Te=H&&!ke[I.DRAG]&&1!==W;r(pe=x||(Te?I.data.bufferContexts[I.MOTIONBLUR_BUFFER_DRAG]:X.contexts[I.DRAG]),H&&!Te?"motionBlur":void 0),n(de.drag,pe),w||H||(Y[I.DRAG]=!1)}if(I.showFps||!E&&Y[I.SELECT_BOX]&&!w){if(r(pe=x||X.contexts[I.SELECT_BOX]),1==I.selection[4]&&(I.hoverData.selecting||I.touchData.selecting)){re=I.cy.zoom();var Pe=ne["selection-box-border-width"].value/re;pe.lineWidth=Pe,pe.fillStyle="rgba("+ne["selection-box-color"].value[0]+","+ne["selection-box-color"].value[1]+","+ne["selection-box-color"].value[2]+","+ne["selection-box-opacity"].value+")",pe.fillRect(I.selection[0],I.selection[1],I.selection[2]-I.selection[0],I.selection[3]-I.selection[1]),Pe>0&&(pe.strokeStyle="rgba("+ne["selection-box-border-color"].value[0]+","+ne["selection-box-border-color"].value[1]+","+ne["selection-box-border-color"].value[2]+","+ne["selection-box-opacity"].value+")",pe.strokeRect(I.selection[0],I.selection[1],I.selection[2]-I.selection[0],I.selection[3]-I.selection[1]))}if(X.bgActivePosistion&&!I.hoverData.selecting){re=I.cy.zoom();var Ce=X.bgActivePosistion;pe.fillStyle="rgba("+ne["active-bg-color"].value[0]+","+ne["active-bg-color"].value[1]+","+ne["active-bg-color"].value[2]+","+ne["active-bg-opacity"].value+")",pe.beginPath(),pe.arc(Ce.x,Ce.y,ne["active-bg-size"].pfValue/re,0,2*Math.PI),pe.fill()}var Ne=I.lastRedrawTime;if(I.showFps&&Ne){Ne=Math.round(Ne);var Me=Math.round(1e3/Ne);pe.setTransform(1,0,0,1,0,0),pe.fillStyle="rgba(255, 0, 0, 0.75)",pe.strokeStyle="rgba(255, 0, 0, 0.75)",pe.lineWidth=1,pe.fillText("1 frame = "+Ne+" ms = "+Me+" fps",0,20);pe.strokeRect(0,30,250,20),pe.fillRect(0,30,250*Math.min(Me/60,1),20)}w||(Y[I.SELECT_BOX]=!1)}if(H&&1!==W){var Be=X.contexts[I.NODE],ze=I.data.bufferCanvases[I.MOTIONBLUR_BUFFER_NODE],Oe=X.contexts[I.DRAG],Ie=I.data.bufferCanvases[I.MOTIONBLUR_BUFFER_DRAG],se=function(b,x,w){b.setTransform(1,0,0,1,0,0),w||!Q?b.clearRect(0,0,I.canvasWidth,I.canvasHeight):t(b,0,0,I.canvasWidth,I.canvasHeight);var E=W;b.drawImage(x,0,0,I.canvasWidth*E,I.canvasHeight*E,0,0,I.canvasWidth,I.canvasHeight)};(Y[I.NODE]||ke[I.NODE])&&(se(Be,ze,ke[I.NODE]),Y[I.NODE]=!1),(Y[I.DRAG]||ke[I.DRAG])&&(se(Oe,Ie,ke[I.DRAG]),Y[I.DRAG]=!1)}I.prevViewport=le,I.clearingMotionBlur&&(I.clearingMotionBlur=!1,I.motionBlurCleared=!0,I.motionBlur=!0),H&&(I.motionBlurTimeout=setTimeout((function(){I.motionBlurTimeout=null,I.clearedForMotionBlur[I.NODE]=!1,I.clearedForMotionBlur[I.DRAG]=!1,I.motionBlur=!1,I.clearingMotionBlur=!$,I.mbFrames=0,Y[I.NODE]=!0,Y[I.DRAG]=!0,I.redraw()}),100)),I.drawingImage=!1,x||I.initrender||(I.initrender=!0,F.trigger("initrender")),x||F.triggerOnRender()},x.exports=E},{"../../../math":79,"../../../util":94}],68:[function(b,x,w){"use strict";for(var E=b("../../../math"),S={drawPolygonPath:function(b,x,w,E,S,D){var C=E/2,B=S/2;b.beginPath&&b.beginPath(),b.moveTo(x+C*D[0],w+B*D[1]);for(var I=1;I<D.length/2;I++)b.lineTo(x+C*D[2*I],w+B*D[2*I+1]);b.closePath()},drawRoundRectanglePath:function(b,x,w,S,D,C){var B=S/2,I=D/2,A=E.getRoundRectangleRadius(S,D);b.beginPath&&b.beginPath(),b.moveTo(x,w-I),b.arcTo(x+B,w-I,x+B,w,A),b.arcTo(x+B,w+I,x,w+I,A),b.arcTo(x-B,w+I,x-B,w,A),b.arcTo(x-B,w-I,x,w-I,A),b.lineTo(x,w-I),b.closePath()}},D=Math.sin(0),C=Math.cos(0),B={},I={},A=Math.PI/40,F=0*Math.PI;F<2*Math.PI;F+=A)B[F]=Math.sin(F),I[F]=Math.cos(F);S.drawEllipsePath=function(b,x,w,E,S){if(b.beginPath&&b.beginPath(),b.ellipse)b.ellipse(x,w,E/2,S/2,0,0,2*Math.PI);else for(var F,X,Y=E/2,$=S/2,H=0*Math.PI;H<2*Math.PI;H+=A)F=x-Y*B[H]*D+Y*I[H]*C,X=w+$*I[H]*D+$*B[H]*C,0===H?b.moveTo(F,X):b.lineTo(F,X);b.closePath()},x.exports=S},{"../../../math":79}],69:[function(b,x,w){"use strict";var E=b("../../../is"),S={createBuffer:function(b,x){var w=document.createElement("canvas");return w.width=b,w.height=x,[w,w.getContext("2d")]},bufferCanvasImage:function(b){var x=this.cy,w=x.elements().boundingBox(),S=b.full?Math.ceil(w.w):this.container.clientWidth,D=b.full?Math.ceil(w.h):this.container.clientHeight,C=1;if(void 0!==b.scale)S*=b.scale,D*=b.scale,C=b.scale;else if(E.number(b.maxWidth)||E.number(b.maxHeight)){var B=1/0,I=1/0;E.number(b.maxWidth)&&(B=C*b.maxWidth/S),E.number(b.maxHeight)&&(I=C*b.maxHeight/D),S*=C=Math.min(B,I),D*=C}var A=document.createElement("canvas");A.width=S,A.height=D,A.style.width=S+"px",A.style.height=D+"px";var F=A.getContext("2d");if(S>0&&D>0)if(F.clearRect(0,0,S,D),b.bg&&(F.fillStyle=b.bg,F.rect(0,0,S,D),F.fill()),F.globalCompositeOperation="source-over",b.full)this.render({forcedContext:F,drawAllLayers:!0,forcedZoom:C,forcedPan:{x:-w.x1*C,y:-w.y1*C},forcedPxRatio:1});else{var X=x.pan(),Y={x:X.x*C,y:X.y*C},$=x.zoom()*C;this.render({forcedContext:F,drawAllLayers:!0,forcedZoom:$,forcedPan:Y,forcedPxRatio:1})}return A},png:function(b){return this.bufferCanvasImage(b).toDataURL("image/png")},jpg:function(b){return this.bufferCanvasImage(b).toDataURL("image/jpeg")}};x.exports=S},{"../../../is":77}],70:[function(b,x,w){"use strict";function n(b){var x=this;x.data={canvases:new Array(C.CANVAS_LAYERS),contexts:new Array(C.CANVAS_LAYERS),canvasNeedsRedraw:new Array(C.CANVAS_LAYERS),bufferCanvases:new Array(C.BUFFER_COUNT),bufferContexts:new Array(C.CANVAS_LAYERS)},x.data.canvasContainer=document.createElement("div");var w=x.data.canvasContainer.style;x.data.canvasContainer.setAttribute("style","-webkit-tap-highlight-color: rgba(0,0,0,0);"),w.position="relative",w.zIndex="0",w.overflow="hidden";var E=b.cy.container();E.appendChild(x.data.canvasContainer),E.setAttribute("style",(E.getAttribute("style")||"")+"-webkit-tap-highlight-color: rgba(0,0,0,0);");for(var D=0;D<C.CANVAS_LAYERS;D++){var B=x.data.canvases[D]=document.createElement("canvas");x.data.contexts[D]=B.getContext("2d"),B.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(S.ms()?" -ms-touch-action: none; touch-action: none; ":"")),B.style.position="absolute",B.setAttribute("data-id","layer"+D),B.style.zIndex=String(C.CANVAS_LAYERS-D),x.data.canvasContainer.appendChild(B),x.data.canvasNeedsRedraw[D]=!1}x.data.topCanvas=x.data.canvases[0],x.data.canvases[C.NODE].setAttribute("data-id","layer"+C.NODE+"-node"),x.data.canvases[C.SELECT_BOX].setAttribute("data-id","layer"+C.SELECT_BOX+"-selectbox"),x.data.canvases[C.DRAG].setAttribute("data-id","layer"+C.DRAG+"-drag");for(D=0;D<C.BUFFER_COUNT;D++)x.data.bufferCanvases[D]=document.createElement("canvas"),x.data.bufferContexts[D]=x.data.bufferCanvases[D].getContext("2d"),x.data.bufferCanvases[D].style.position="absolute",x.data.bufferCanvases[D].setAttribute("data-id","buffer"+D),x.data.bufferCanvases[D].style.zIndex=String(-D-1),x.data.bufferCanvases[D].style.visibility="hidden";x.pathsEnabled=!0}var E=b("../../../util"),S=b("../../../is"),D=n,C=n.prototype;C.CANVAS_LAYERS=3,C.SELECT_BOX=0,C.DRAG=1,C.NODE=2,C.BUFFER_COUNT=3,C.TEXTURE_BUFFER=0,C.MOTIONBLUR_BUFFER_NODE=1,C.MOTIONBLUR_BUFFER_DRAG=2,C.redrawHint=function(b,x){var w=this;switch(b){case"eles":w.data.canvasNeedsRedraw[C.NODE]=x;break;case"drag":w.data.canvasNeedsRedraw[C.DRAG]=x;break;case"select":w.data.canvasNeedsRedraw[C.SELECT_BOX]=x}};var B="undefined"!=typeof Path2D;C.path2dEnabled=function(b){return void 0===b?this.pathsEnabled:void(this.pathsEnabled=!!b)},C.usePaths=function(){return B&&this.pathsEnabled},[b("./arrow-shapes"),b("./drawing-edges"),b("./drawing-images"),b("./drawing-label-text"),b("./drawing-nodes"),b("./drawing-redraw"),b("./drawing-shapes"),b("./export-image"),b("./node-shapes")].forEach((function(b){E.extend(C,b)})),x.exports=D},{"../../../is":77,"../../../util":94,"./arrow-shapes":62,"./drawing-edges":63,"./drawing-images":64,"./drawing-label-text":65,"./drawing-nodes":66,"./drawing-redraw":67,"./drawing-shapes":68,"./export-image":69,"./node-shapes":71}],71:[function(b,x,w){"use strict";var E,S={nodeShapeImpl:function(b){var x=this;return(E||(E={ellipse:function(b,w,E,S,D){x.drawEllipsePath(b,w,E,S,D)},polygon:function(b,w,E,S,D,C){x.drawPolygonPath(b,w,E,S,D,C)},roundrectangle:function(b,w,E,S,D){x.drawRoundRectanglePath(b,w,E,S,D,10)}}))[b]}};x.exports=S},{}],72:[function(b,x,w){"use strict";x.exports=[{name:"null",impl:b("./null")},{name:"base",impl:b("./base")},{name:"canvas",impl:b("./canvas")}]},{"./base":58,"./canvas":70,"./null":73}],73:[function(b,x,w){"use strict";function n(b){this.options=b,this.notifications=0}var i=function(){};n.prototype={recalculateRenderedStyle:i,notify:function(){this.notifications++},init:i},x.exports=n},{}],74:[function(b,x,w){/*! Weaver licensed under MIT (https://tldrlegal.com/license/mit-license), copyright Max Franz */
"use strict";var E=b("./is"),S=b("./util"),D=b("./thread"),C=b("./promise"),B=b("./define"),l=function(x){if(!(this instanceof l))return new l(x);this._private={pass:[]};if(E.number(x),"undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency)x=navigator.hardwareConcurrency;else try{x=b("os").cpus().length}catch(b){x=4}for(var w=0;x>w;w++)this[w]=new D;this.length=x},I=l.prototype;S.extend(I,{instanceString:function(){return"fabric"},require:function(b,x){for(var w=0;w<this.length;w++){this[w].require(b,x)}return this},random:function(){return this[Math.round((this.length-1)*Math.random())]},run:function(b){var x=this._private.pass.shift();return this.random().pass(x).run(b)},message:function(b){return this.random().message(b)},broadcast:function(b){for(var x=0;x<this.length;x++){this[x].message(b)}return this},stop:function(){for(var b=0;b<this.length;b++){this[b].stop()}return this},pass:function(b){var x=this._private.pass;if(!E.array(b))throw"Only arrays may be used with fabric.pass()";return x.push(b),this},spreadSize:function(){var b=Math.ceil(this._private.pass[0].length/this.length);return Math.max(1,b)},spread:function(b){for(var x=this._private,w=this.spreadSize(),E=x.pass.shift().concat([]),S=[],D=0;D<this.length;D++){var B=this[D],I=E.splice(0,w),A=B.pass(I).run(b);if(S.push(A),0===E.length)break}return C.all(S).then((function(b){for(var x=[],w=0,E=0;E<b.length;E++)for(var S=b[E],D=0;D<S.length;D++){var C=S[D];x[w++]=C}return x}))},map:function(b){return this.require(b,"_$_$_fabmap"),this.spread((function(b){var x=[],w=resolve;resolve=function(b){x.push(b)};for(var E=0;E<b.length;E++){var S=x.length,D=_$_$_fabmap(b[E]);S===x.length&&x.push(D)}return resolve=w,x}))},filter:function(b){var x=this._private.pass[0];return this.map(b).then((function(b){for(var w=[],E=0;E<x.length;E++){var S=x[E];b[E]&&w.push(S)}return w}))},sort:function(b){var x=this._private.pass[0].length,w=this.spreadSize();return b=b||function(b,x){return x>b?-1:b>x?1:0},this.require(b,"_$_$_cmp"),this.spread((function(b){var x=b.sort(_$_$_cmp);resolve(x)})).then((function(E){for(var i=function(w,S,D){S=Math.min(S,x),D=Math.min(D,x);for(var C=w,B=S,I=[],A=C;D>A;A++){var F=E[w],X=E[S];B>w&&(S>=D||b(F,X)<=0)?(I.push(F),w++):(I.push(X),S++)}for(A=0;A<I.length;A++){E[C+A]=I[A]}},S=w;x>S;S*=2)for(var D=0;x>D;D+=2*S)i(D,D+S,D+2*S);return E}))}});var c=function(b){return b=b||{},function(x,w){var E=this._private.pass.shift();return this.random().pass(E)[b.threadFn](x,w)}};S.extend(I,{randomMap:c({threadFn:"map"}),reduce:c({threadFn:"reduce"}),reduceRight:c({threadFn:"reduceRight"})});var A=I;A.promise=A.run,A.terminate=A.halt=A.stop,A.include=A.require,S.extend(I,{on:B.on(),one:B.on({unbindSelfOnTrigger:!0}),off:B.off(),trigger:B.trigger()}),B.eventAliasesOn(I),x.exports=l},{"./define":41,"./is":77,"./promise":80,"./thread":92,"./util":94,os:void 0}],75:[function(b,x,w){
/*!
Ported by Xueqiao Xu <xueqiaoxu@gmail.com>;

PSF LICENSE AGREEMENT FOR PYTHON 2.7.2

1. This LICENSE AGREEMENT is between the Python Software Foundation (“PSF”), and the Individual or Organization (“Licensee”) accessing and otherwise using Python 2.7.2 software in source or binary form and its associated documentation.
2. Subject to the terms and conditions of this License Agreement, PSF hereby grants Licensee a nonexclusive, royalty-free, world-wide license to reproduce, analyze, test, perform and/or display publicly, prepare derivative works, distribute, and otherwise use Python 2.7.2 alone or in any derivative version, provided, however, that PSF’s License Agreement and PSF’s notice of copyright, i.e., “Copyright © 2001-2012 Python Software Foundation; All Rights Reserved” are retained in Python 2.7.2 alone or in any derivative version prepared by Licensee.
3. In the event Licensee prepares a derivative work that is based on or incorporates Python 2.7.2 or any part thereof, and wants to make the derivative work available to others as provided herein, then Licensee hereby agrees to include in any such work a brief summary of the changes made to Python 2.7.2.
4. PSF is making Python 2.7.2 available to Licensee on an “AS IS” basis. PSF MAKES NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED. BY WAY OF EXAMPLE, BUT NOT LIMITATION, PSF MAKES NO AND DISCLAIMS ANY REPRESENTATION OR WARRANTY OF MERCHANTABILITY OR FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF PYTHON 2.7.2 WILL NOT INFRINGE ANY THIRD PARTY RIGHTS.
5. PSF SHALL NOT BE LIABLE TO LICENSEE OR ANY OTHER USERS OF PYTHON 2.7.2 FOR ANY INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES OR LOSS AS A RESULT OF MODIFYING, DISTRIBUTING, OR OTHERWISE USING PYTHON 2.7.2, OR ANY DERIVATIVE THEREOF, EVEN IF ADVISED OF THE POSSIBILITY THEREOF.
6. This License Agreement will automatically terminate upon a material breach of its terms and conditions.
7. Nothing in this License Agreement shall be deemed to create any relationship of agency, partnership, or joint venture between PSF and Licensee. This License Agreement does not grant permission to use PSF trademarks or trade name in a trademark sense to endorse or promote products or services of Licensee, or any third party.
8. By copying, installing or otherwise using Python 2.7.2, Licensee agrees to be bound by the terms and conditions of this License Agreement.
*/
"use strict";(function(){var b,E,S,D,C,B,I,A,F,X,Y,$,H,W,Z;S=Math.floor,X=Math.min,E=function(b,x){return x>b?-1:b>x?1:0},F=function(b,x,w,D,C){var B;if(null==w&&(w=0),null==C&&(C=E),0>w)throw new Error("lo must be non-negative");for(null==D&&(D=b.length);D>w;)C(x,b[B=S((w+D)/2)])<0?D=B:w=B+1;return[].splice.apply(b,[w,w-w].concat(x)),x},B=function(b,x,w){return null==w&&(w=E),b.push(x),W(b,0,b.length-1,w)},C=function(b,x){var w,S;return null==x&&(x=E),w=b.pop(),b.length?(S=b[0],b[0]=w,Z(b,0,x)):S=w,S},A=function(b,x,w){var S;return null==w&&(w=E),S=b[0],b[0]=x,Z(b,0,w),S},I=function(b,x,w){var S;return null==w&&(w=E),b.length&&w(b[0],x)<0&&(x=(S=[b[0],x])[0],b[0]=S[1],Z(b,0,w)),x},D=function(b,x){var w,D,C,B,I,A;for(null==x&&(x=E),B=function(){A=[];for(var x=0,w=S(b.length/2);w>=0?w>x:x>w;w>=0?x++:x--)A.push(x);return A}.apply(this).reverse(),I=[],D=0,C=B.length;C>D;D++)w=B[D],I.push(Z(b,w,x));return I},H=function(b,x,w){var S;return null==w&&(w=E),-1!==(S=b.indexOf(x))?(W(b,0,S,w),Z(b,S,w)):void 0},Y=function(b,x,w){var S,C,B,A,F;if(null==w&&(w=E),!(C=b.slice(0,x)).length)return C;for(D(C,w),B=0,A=(F=b.slice(x)).length;A>B;B++)S=F[B],I(C,S,w);return C.sort(w).reverse()},$=function(b,x,w){var S,B,I,A,Y,$,H,W,Z;if(null==w&&(w=E),10*x<=b.length){if(!(I=b.slice(0,x).sort(w)).length)return I;for(B=I[I.length-1],A=0,$=(H=b.slice(x)).length;$>A;A++)w(S=H[A],B)<0&&(F(I,S,0,null,w),I.pop(),B=I[I.length-1]);return I}for(D(b,w),Z=[],Y=0,W=X(x,b.length);W>=0?W>Y:Y>W;W>=0?++Y:--Y)Z.push(C(b,w));return Z},W=function(b,x,w,S){var D,C,B;for(null==S&&(S=E),D=b[w];w>x&&S(D,C=b[B=w-1>>1])<0;)b[w]=C,w=B;return b[w]=D},Z=function(b,x,w){var S,D,C,B,I;for(null==w&&(w=E),D=b.length,I=x,C=b[x],S=2*x+1;D>S;)D>(B=S+1)&&!(w(b[S],b[B])<0)&&(S=B),b[x]=b[S],S=2*(x=S)+1;return b[x]=C,W(b,I,x,w)},b=function(){function e(b){this.cmp=null!=b?b:E,this.nodes=[]}return e.push=B,e.pop=C,e.replace=A,e.pushpop=I,e.heapify=D,e.updateItem=H,e.nlargest=Y,e.nsmallest=$,e.prototype.push=function(b){return B(this.nodes,b,this.cmp)},e.prototype.pop=function(){return C(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(b){return-1!==this.nodes.indexOf(b)},e.prototype.replace=function(b){return A(this.nodes,b,this.cmp)},e.prototype.pushpop=function(b){return I(this.nodes,b,this.cmp)},e.prototype.heapify=function(){return D(this.nodes,this.cmp)},e.prototype.updateItem=function(b){return H(this.nodes,b,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var b;return(b=new e).nodes=this.nodes.slice(0),b},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(b,E){"function"==typeof define&&define.amd?define([],E):"object"==typeof w?x.exports=E():b.Heap=E()}(this,(function(){return b}))}).call(this)},{}],76:[function(b,x,w){"use strict";var E=b("./window"),S=b("./is"),D=b("./core"),C=b("./extension"),B=b("./jquery-plugin"),I=b("./stylesheet"),A=b("./thread"),F=b("./fabric"),d=function(b){return void 0===b&&(b={}),S.plainObject(b)?new D(b):S.string(b)?C.apply(C,arguments):void 0};d.version="2.6.7",E&&E.jQuery&&B(E.jQuery,d),d.registerJquery=function(b){B(b,d)},d.stylesheet=d.Stylesheet=I,d.thread=d.Thread=A,d.fabric=d.Fabric=F,x.exports=d},{"./core":34,"./extension":43,"./fabric":74,"./is":77,"./jquery-plugin":78,"./stylesheet":91,"./thread":92,"./window":100}],77:[function(b,x,w){"use strict";var E=b("./window"),S=E?E.navigator:null,D=typeof{},C=typeof HTMLElement,u=function(b){return b&&b.instanceString&&B.fn(b.instanceString)?b.instanceString():null},B={defined:function(b){return null!=b},string:function(b){return null!=b&&"string"==typeof b},fn:function(b){return null!=b&&"function"==typeof b},array:function(b){return Array.isArray?Array.isArray(b):null!=b&&b instanceof Array},plainObject:function(b){return null!=b&&typeof b===D&&!B.array(b)&&b.constructor===Object},object:function(b){return null!=b&&typeof b===D},number:function(b){return null!=b&&"number"==typeof b&&!isNaN(b)},integer:function(b){return B.number(b)&&Math.floor(b)===b},bool:function(b){return null!=b&&"boolean"==typeof b},htmlElement:function(b){return"undefined"===C?void 0:null!=b&&b instanceof HTMLElement},elementOrCollection:function(b){return B.element(b)||B.collection(b)},element:function(b){return"collection"===u(b)&&b._private.single},collection:function(b){return"collection"===u(b)&&!b._private.single},core:function(b){return"core"===u(b)},style:function(b){return"style"===u(b)},stylesheet:function(b){return"stylesheet"===u(b)},event:function(b){return"event"===u(b)},thread:function(b){return"thread"===u(b)},fabric:function(b){return"fabric"===u(b)},emptyString:function(b){return!b||!(!B.string(b)||""!==b&&!b.match(/^\s+$/))},nonemptyString:function(b){return!(!b||!B.string(b)||""===b||b.match(/^\s+$/))},domElement:function(b){return"undefined"!=typeof HTMLElement&&b instanceof HTMLElement},boundingBox:function(b){return B.plainObject(b)&&B.number(b.x1)&&B.number(b.x2)&&B.number(b.y1)&&B.number(b.y2)},promise:function(b){return B.object(b)&&B.fn(b.then)},touch:function(){return E&&("ontouchstart"in E||E.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return S&&S.vendor.match(/kde/i)},khtmlEtc:function(){return B.khtml()||B.webkit()||B.chromium()},ms:function(){return S&&S.userAgent.match(/msie|trident|edge/i)},windows:function(){return S&&S.appVersion.match(/Win/i)},mac:function(){return S&&S.appVersion.match(/Mac/i)},linux:function(){return S&&S.appVersion.match(/Linux/i)},unix:function(){return S&&S.appVersion.match(/X11/i)}};x.exports=B},{"./window":100}],78:[function(b,x,w){"use strict";var E=b("./is"),i=function(b){return b[0]._cyreg=b[0]._cyreg||{}};x.exports=function(b,x){b&&(b.fn.cytoscape||(b.fn.cytoscape=function(w){var S=b(this);if("get"===w)return i(S).cy;if(E.fn(w)){var D=w,C=i(S).cy;if(C&&C.isReady())C.trigger("ready",[],D);else{var B=i(S);(B.readies=B.readies||[]).push(D)}}else if(E.plainObject(w))return S.each((function(){var E=b.extend({},w,{container:b(this)[0]});x(E)}))},b.cytoscape=x,null==b.fn.cy&&null==b.cy&&(b.fn.cy=b.fn.cytoscape,b.cy=b.cytoscape)))}},{"./is":77}],79:[function(b,x,w){"use strict";var E={signum:function(b){return b>0?1:0>b?-1:0},distance:function(b,x){return Math.sqrt(E.sqDistance(b,x))},sqDistance:function(b,x){var w=x.x-b.x,E=x.y-b.y;return w*w+E*E},qbezierAt:function(b,x,w,E){return(1-E)*(1-E)*b+2*(1-E)*E*x+E*E*w},qbezierPtAt:function(b,x,w,S){return{x:E.qbezierAt(b.x,x.x,w.x,S),y:E.qbezierAt(b.y,x.y,w.y,S)}},makeBoundingBox:function(b){if(null!=b.x1&&null!=b.y1){if(null!=b.x2&&null!=b.y2&&b.x2>=b.x1&&b.y2>=b.y1)return{x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2,w:b.x2-b.x1,h:b.y2-b.y1};if(null!=b.w&&null!=b.h&&b.w>=0&&b.h>=0)return{x1:b.x1,y1:b.y1,x2:b.x1+b.w,y2:b.y1+b.h,w:b.w,h:b.h}}},boundingBoxesIntersect:function(b,x){return!(b.x1>x.x2)&&(!(x.x1>b.x2)&&(!(b.x2<x.x1)&&(!(x.x2<b.x1)&&(!(b.y2<x.y1)&&(!(x.y2<b.y1)&&(!(b.y1>x.y2)&&!(x.y1>b.y2)))))))},inBoundingBox:function(b,x,w){return b.x1<=x&&x<=b.x2&&b.y1<=w&&w<=b.y2},pointInBoundingBox:function(b,x){return this.inBoundingBox(b,x.x,x.y)},roundRectangleIntersectLine:function(b,x,w,E,S,D,C){var B,I=this.getRoundRectangleRadius(S,D),A=S/2,F=D/2,X=w-A+I-C,Y=E-F-C,$=w+A-I+C,H=Y;if((B=this.finiteLinesIntersect(b,x,w,E,X,Y,$,H,!1)).length>0)return B;var W=w+A+C,Z=E-F+I-C,U=W,J=E+F-I+C;if((B=this.finiteLinesIntersect(b,x,w,E,W,Z,U,J,!1)).length>0)return B;var Q=w-A+I-C,ee=E+F+C,ne=w+A-I+C,re=ee;if((B=this.finiteLinesIntersect(b,x,w,E,Q,ee,ne,re,!1)).length>0)return B;var ie=w-A-C,ae=E-F+I-C,oe=ie,le=E+F-I+C;if((B=this.finiteLinesIntersect(b,x,w,E,ie,ae,oe,le,!1)).length>0)return B;var ce,de=w-A+I,he=E-F+I;if((ce=this.intersectLineCircle(b,x,w,E,de,he,I+C)).length>0&&ce[0]<=de&&ce[1]<=he)return[ce[0],ce[1]];var pe=w+A-I,fe=E-F+I;if((ce=this.intersectLineCircle(b,x,w,E,pe,fe,I+C)).length>0&&ce[0]>=pe&&ce[1]<=fe)return[ce[0],ce[1]];var ge=w+A-I,ye=E+F-I;if((ce=this.intersectLineCircle(b,x,w,E,ge,ye,I+C)).length>0&&ce[0]>=ge&&ce[1]>=ye)return[ce[0],ce[1]];var me=w-A+I,be=E+F-I;return(ce=this.intersectLineCircle(b,x,w,E,me,be,I+C)).length>0&&ce[0]<=me&&ce[1]>=be?[ce[0],ce[1]]:[]},inLineVicinity:function(b,x,w,E,S,D,C){var B=C,I=Math.min(w,S),A=Math.max(w,S),F=Math.min(E,D),X=Math.max(E,D);return b>=I-B&&A+B>=b&&x>=F-B&&X+B>=x},inBezierVicinity:function(b,x,w,E,S,D,C,B,I){var A=Math.min(w,C,S)-I,F=Math.max(w,C,S)+I,X=Math.min(E,B,D)-I,Y=Math.max(E,B,D)+I;return!(b<A||b>F||x<X||x>Y)},solveCubic:function(b,x,w,E,S){var D,C,B,I,A,F,X,Y;return B=-27*(E/=b)+(x/=b)*(9*(w/=b)-x*x*2),D=(C=(3*w-x*x)/9)*C*C+(B/=54)*B,S[1]=0,X=x/3,D>0?(A=0>(A=B+Math.sqrt(D))?-Math.pow(-A,1/3):Math.pow(A,1/3),F=0>(F=B-Math.sqrt(D))?-Math.pow(-F,1/3):Math.pow(F,1/3),S[0]=-X+A+F,X+=(A+F)/2,S[4]=S[2]=-X,X=Math.sqrt(3)*(-F+A)/2,S[3]=X,void(S[5]=-X)):(S[5]=S[3]=0,0===D?(Y=0>B?-Math.pow(-B,1/3):Math.pow(B,1/3),S[0]=2*Y-X,void(S[4]=S[2]=-(Y+X))):(I=(C=-C)*C*C,I=Math.acos(B/Math.sqrt(I)),Y=2*Math.sqrt(C),S[0]=-X+Y*Math.cos(I/3),S[2]=-X+Y*Math.cos((I+2*Math.PI)/3),void(S[4]=-X+Y*Math.cos((I+4*Math.PI)/3))))},sqDistanceToQuadraticBezier:function(b,x,w,E,S,D,C,B){var I=1*w*w-4*w*S+2*w*C+4*S*S-4*S*C+C*C+E*E-4*E*D+2*E*B+4*D*D-4*D*B+B*B,A=9*w*S-3*w*w-3*w*C-6*S*S+3*S*C+9*E*D-3*E*E-3*E*B-6*D*D+3*D*B,F=3*w*w-6*w*S+w*C-w*b+2*S*S+2*S*b-C*b+3*E*E-6*E*D+E*B-E*x+2*D*D+2*D*x-B*x,X=1*w*S-w*w+w*b-S*b+E*D-E*E+E*x-D*x,Y=[];this.solveCubic(I,A,F,X,Y);for(var $=[],H=0;6>H;H+=2)Math.abs(Y[H+1])<1e-7&&Y[H]>=0&&Y[H]<=1&&$.push(Y[H]);$.push(1),$.push(0);for(var W,Z,U,J=-1,Q=0;Q<$.length;Q++)W=Math.pow(1-$[Q],2)*w+2*(1-$[Q])*$[Q]*S+$[Q]*$[Q]*C,Z=Math.pow(1-$[Q],2)*E+2*(1-$[Q])*$[Q]*D+$[Q]*$[Q]*B,U=Math.pow(W-b,2)+Math.pow(Z-x,2),J>=0?J>U&&(J=U,$[Q]):(J=U,$[Q]);return J},sqDistanceToFiniteLine:function(b,x,w,E,S,D){var C=[b-w,x-E],B=[S-w,D-E],I=B[0]*B[0]+B[1]*B[1],A=C[0]*C[0]+C[1]*C[1],F=C[0]*B[0]+C[1]*B[1],X=F*F/I;return 0>F?A:X>I?(b-S)*(b-S)+(x-D)*(x-D):A-X},pointInsidePolygonPoints:function(b,x,w){for(var E,S,D,C,B,I=0,A=0;A<w.length/2;A++)if(E=w[2*A],S=w[2*A+1],A+1<w.length/2?(D=w[2*(A+1)],C=w[2*(A+1)+1]):(D=w[2*(A+1-w.length/2)],C=w[2*(A+1-w.length/2)+1]),E==b&&D==b);else{if(!(E>=b&&b>=D||b>=E&&D>=b))continue;(B=(b-E)/(D-E)*(C-S)+S)>x&&I++,x>B&&0}return I%2!=0},pointInsidePolygon:function(b,x,w,S,D,C,B,I,A){var F,X,Y=new Array(w.length);null!=I[0]?(F=Math.atan(I[1]/I[0]),I[0]<0?F+=Math.PI/2:F=-F-Math.PI/2):F=I;for(var $=Math.cos(-F),H=Math.sin(-F),W=0;W<Y.length/2;W++)Y[2*W]=C/2*(w[2*W]*$-w[2*W+1]*H),Y[2*W+1]=B/2*(w[2*W+1]*$+w[2*W]*H),Y[2*W]+=S,Y[2*W+1]+=D;if(A>0){var Z=this.expandPolygon(Y,-A);X=this.joinLines(Z)}else X=Y;return E.pointInsidePolygonPoints(b,x,X)},joinLines:function(b){for(var x,w,E,S,D,C,B,I,A=new Array(b.length/2),F=0;F<b.length/4;F++){x=b[4*F],w=b[4*F+1],E=b[4*F+2],S=b[4*F+3],F<b.length/4-1?(D=b[4*(F+1)],C=b[4*(F+1)+1],B=b[4*(F+1)+2],I=b[4*(F+1)+3]):(D=b[0],C=b[1],B=b[2],I=b[3]);var X=this.finiteLinesIntersect(x,w,E,S,D,C,B,I,!0);A[2*F]=X[0],A[2*F+1]=X[1]}return A},expandPolygon:function(b,x){for(var w,E,S,D,C=new Array(2*b.length),B=0;B<b.length/2;B++){w=b[2*B],E=b[2*B+1],B<b.length/2-1?(S=b[2*(B+1)],D=b[2*(B+1)+1]):(S=b[0],D=b[1]);var I=D-E,A=-(S-w),F=Math.sqrt(I*I+A*A),X=I/F,Y=A/F;C[4*B]=w+X*x,C[4*B+1]=E+Y*x,C[4*B+2]=S+X*x,C[4*B+3]=D+Y*x}return C},intersectLineEllipse:function(b,x,w,E,S,D){var C=w-b,B=E-x;C/=S,B/=D;var I=Math.sqrt(C*C+B*B),A=I-1;if(0>A)return[];var F=A/I;return[(w-b)*F+b,(E-x)*F+x]},intersectLineCircle:function(b,x,w,E,S,D,C){var B=[w-b,E-x],I=[b-S,x-D],A=B[0]*B[0]+B[1]*B[1],F=2*(I[0]*B[0]+I[1]*B[1]),X=F*F-4*A*(I[0]*I[0]+I[1]*I[1]-C*C);if(0>X)return[];var Y=(-F+Math.sqrt(X))/(2*A),$=(-F-Math.sqrt(X))/(2*A),H=Math.min(Y,$),W=Math.max(Y,$),Z=[];if(H>=0&&1>=H&&Z.push(H),W>=0&&1>=W&&Z.push(W),0===Z.length)return[];var U=Z[0]*B[0]+b,J=Z[0]*B[1]+x;return Z.length>1?Z[0]==Z[1]?[U,J]:[U,J,Z[1]*B[0]+b,Z[1]*B[1]+x]:[U,J]},findCircleNearPoint:function(b,x,w,E,S){var D=E-b,C=S-x,B=Math.sqrt(D*D+C*C);return[b+D/B*w,x+C/B*w]},findMaxSqDistanceToOrigin:function(b){for(var x,w=1e-6,E=0;E<b.length/2;E++)(x=b[2*E]*b[2*E]+b[2*E+1]*b[2*E+1])>w&&(w=x);return w},finiteLinesIntersect:function(b,x,w,E,S,D,C,B,I){var A=(C-S)*(x-D)-(B-D)*(b-S),F=(w-b)*(x-D)-(E-x)*(b-S),X=(B-D)*(w-b)-(C-S)*(E-x);if(0!==X){var Y=A/X,$=F/X;return Y>=0&&1>=Y&&$>=0&&1>=$||I?[b+Y*(w-b),x+Y*(E-x)]:[]}return 0===A||0===F?[b,w,C].sort()[1]===C?[C,B]:[b,w,S].sort()[1]===S?[S,D]:[S,C,w].sort()[1]===w?[w,E]:[]:[]},polygonIntersectLine:function(b,x,w,S,D,C,B,I){for(var A,F=[],X=new Array(w.length),Y=0;Y<X.length/2;Y++)X[2*Y]=w[2*Y]*C+S,X[2*Y+1]=w[2*Y+1]*B+D;var $;if(I>0){var H=E.expandPolygon(X,-I);$=E.joinLines(H)}else $=X;var W,Z,U,J;for(Y=0;Y<$.length/2;Y++)W=$[2*Y],Z=$[2*Y+1],Y<$.length/2-1?(U=$[2*(Y+1)],J=$[2*(Y+1)+1]):(U=$[0],J=$[1]),0!==(A=this.finiteLinesIntersect(b,x,S,D,W,Z,U,J)).length&&F.push(A[0],A[1]);return F},shortenIntersection:function(b,x,w){var E=[b[0]-x[0],b[1]-x[1]],S=Math.sqrt(E[0]*E[0]+E[1]*E[1]),D=(S-w)/S;return 0>D&&(D=1e-5),[x[0]+D*E[0],x[1]+D*E[1]]},generateUnitNgonPointsFitToSquare:function(b,x){var w=E.generateUnitNgonPoints(b,x);return E.fitPolygonToSquare(w)},fitPolygonToSquare:function(b){for(var x,w,E=b.length/2,S=1/0,D=1/0,C=-1/0,B=-1/0,I=0;E>I;I++)x=b[2*I],w=b[2*I+1],S=Math.min(S,x),C=Math.max(C,x),D=Math.min(D,w),B=Math.max(B,w);var A=2/(C-S),F=2/(B-D);for(I=0;E>I;I++)x=b[2*I]=b[2*I]*A,w=b[2*I+1]=b[2*I+1]*F,S=Math.min(S,x),C=Math.max(C,x),D=Math.min(D,w),B=Math.max(B,w);if(-1>D)for(I=0;E>I;I++)w=b[2*I+1]=b[2*I+1]+(-1-D);return b},generateUnitNgonPoints:function(b,x){var w=1/b*2*Math.PI,E=b%2==0?Math.PI/2+w/2:Math.PI/2;E+=x;for(var S,D=new Array(2*b),C=0;b>C;C++)S=C*w+E,D[2*C]=Math.cos(S),D[2*C+1]=Math.sin(-S);return D},getRoundRectangleRadius:function(b,x){return Math.min(b/4,x/4,8)}};x.exports=E},{}],80:[function(b,x,w){
/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/
"use strict";var o=function(b){return this instanceof o?(this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof b&&b.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new o(b)};o.prototype={fulfill:function(b){return s(this,1,"fulfillValue",b)},reject:function(b){return s(this,2,"rejectReason",b)},then:function(b,x){var w=this,E=new o;return w.onFulfilled.push(c(b,E,"fulfill")),w.onRejected.push(c(x,E,"reject")),l(w),E.proxy}};var s=function(b,x,w,E){return 0===b.state&&(b.state=x,b[w]=E,l(b)),b},l=function(b){1===b.state?u(b,"onFulfilled",b.fulfillValue):2===b.state&&u(b,"onRejected",b.rejectReason)},u=function(b,x,w){if(0!==b[x].length){var E=b[x];b[x]=[];var i=function(){for(var b=0;b<E.length;b++)E[b](w)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},c=function(b,x,w){return function(E){if("function"!=typeof b)x[w].call(x,E);else{var S;try{S=b(E)}catch(b){return void x.reject(b)}d(x,S)}}},d=function(b,x){if(b!==x&&b.proxy!==x){var w;if("object"==typeof x&&null!==x||"function"==typeof x)try{w=x.then}catch(x){return void b.reject(x)}if("function"!=typeof w)b.fulfill(x);else{var E=!1;try{w.call(x,(function(w){E||(E=!0,w===x?b.reject(new TypeError("circular thenable chain")):d(b,w))}),(function(x){E||(E=!0,b.reject(x))}))}catch(x){E||b.reject(x)}}}else b.reject(new TypeError("cannot resolve promise with itself"))};o.all=function(b){return new o((function(x,w){for(var E=new Array(b.length),S=0,a=function(w,D){E[w]=D,++S===b.length&&x(E)},D=0;D<b.length;D++)!function(x){var E=b[x];null!=E&&null!=E.then?E.then((function(b){a(x,b)}),(function(b){w(b)})):a(x,E)}(D)}))},o.resolve=function(b){return new o((function(x,w){x(b)}))},o.reject=function(b){return new o((function(x,w){w(b)}))},x.exports="undefined"!=typeof Promise?Promise:o},{}],81:[function(b,x,w){"use strict";var E=b("./is"),S=b("./util"),a=function(b,x){if(!(this instanceof a))return new a(b,x);void 0===x&&void 0!==b&&(x=b,b=void 0);var w=this;if(w._private={selectorText:null,invalid:!0},!x||E.string(x)&&x.match(/^\s*$/))null==b?w.length=0:(w[0]=l(),w[0].group=b,w.length=1);else if(E.elementOrCollection(x)){var D=x.collection();w[0]=l(),w[0].collection=D,w.length=1}else if(E.fn(x))w[0]=l(),w[0].filter=x,w.length=1;else{if(!E.string(x))return void S.error("A selector must be created from a string; found "+x);var C=null,l=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},B={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])+\"|'(?:\\\\'|[^'])+'",number:S.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};B.variable="(?:[\\w-]|(?:\\\\"+B.metaChar+"))+",B.value=B.string+"|"+B.number,B.className=B.variable,B.id=B.variable;for(var c=function(b){return b.replace(new RegExp("\\\\("+B.metaChar+")","g"),(function(b,x,w,E){return x}))},I=B.comparatorOp.split("|"),A=0;A<I.length;A++){var F=I[A];B.comparatorOp+="|@"+F}for(I=B.comparatorOp.split("|"),A=0;A<I.length;A++){(F=I[A]).indexOf("!")>=0||"="!==F&&(B.comparatorOp+="|\\!"+F)}var X=[{name:"group",query:!0,regex:"(node|edge|\\*)",populate:function(b){this.group="*"==b?b:b+"s"}},{name:"state",query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(b){this.colonSelectors.push(b)}},{name:"id",query:!0,regex:"\\#("+B.id+")",populate:function(b){this.ids.push(c(b))}},{name:"className",query:!0,regex:"\\.("+B.className+")",populate:function(b){this.classes.push(c(b))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+B.variable+")\\s*\\]",populate:function(b){this.data.push({field:c(b)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+B.variable+")\\s*("+B.comparatorOp+")\\s*("+B.value+")\\s*\\]",populate:function(b,x,w){w=null!=new RegExp("^"+B.string+"$").exec(w)?w.substring(1,w.length-1):parseFloat(w),this.data.push({field:c(b),operator:x,value:w})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+B.boolOp+")\\s*("+B.variable+")\\s*\\]",populate:function(b,x){this.data.push({field:c(x),operator:b})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+B.meta+")\\s*("+B.comparatorOp+")\\s*("+B.number+")\\s*\\]\\]",populate:function(b,x,w){this.meta.push({field:c(b),operator:x,value:parseFloat(w)})}},{name:"nextQuery",separator:!0,regex:B.separator,populate:function(){w[++A]=l(),C=null}},{name:"child",separator:!0,regex:B.child,populate:function(){var b=l();b.parent=this,b.subject=C,w[A]=b}},{name:"descendant",separator:!0,regex:B.descendant,populate:function(){var b=l();b.ancestor=this,b.subject=C,w[A]=b}},{name:"subject",modifier:!0,regex:B.subject,populate:function(){return null!=C&&this.subject!=this?(S.error("Redefinition of subject in selector `"+x+"`"),!1):(C=this,void(this.subject=this))}}];w._private.selectorText=x;var Y=x,$=(A=0,function(b){for(var x,w,S,D=0;D<X.length;D++){var C=X[D],B=C.name;if(!E.fn(b)||b(B,C)){var I=Y.match(new RegExp("^"+C.regex));if(null!=I){w=I,x=C,S=B;var A=I[0];Y=Y.substring(A.length);break}}}return{expr:x,match:w,name:S}});for(w[0]=l(),function(){var b=Y.match(/^\s+/);if(b){var x=b[0];Y=Y.substring(x.length)}}();;){var H=$();if(null==H.expr)return void S.error("The selector `"+x+"`is invalid");for(var W=[],Z=1;Z<H.match.length;Z++)W.push(H.match[Z]);if(!1===H.expr.populate.apply(w[A],W))return;if(Y.match(/^\s*$/))break}w.length=A+1;for(Z=0;Z<w.length;Z++){var U=w[Z];if(null!=U.subject){for(;U.subject!=U;)if(null!=U.parent){var J=U.parent,Q=U;Q.parent=null,J.child=Q,U=J}else{if(null==U.ancestor){S.error("When adjusting references for the selector `"+U+"`, neither parent nor ancestor was found");break}var ee=U.ancestor,ne=U;ne.ancestor=null,ee.descendant=ne,U=ee}w[Z]=U.subject}}if(null!=b)for(Z=0;Z<w.length;Z++){if(null!=w[Z].group&&w[Z].group!=b)return void S.error("Group `"+w[Z].group+"` conflicts with implicit group `"+b+"` in selector `"+x+"`");w[Z].group=b}}w._private.invalid=!1},D=a.prototype;D.size=function(){return this.length},D.eq=function(b){return this[b]};var s=function(b,x){if(null!=b.group&&"*"!=b.group&&b.group!=x._private.group)return!1;for(var w=x.cy(),S=!0,D=0;D<b.colonSelectors.length;D++){switch(b.colonSelectors[D]){case":selected":S=x.selected();break;case":unselected":S=!x.selected();break;case":selectable":S=x.selectable();break;case":unselectable":S=!x.selectable();break;case":locked":S=x.locked();break;case":unlocked":S=!x.locked();break;case":visible":S=x.visible();break;case":hidden":S=!x.visible();break;case":transparent":S=x.transparent();break;case":grabbed":S=x.grabbed();break;case":free":S=!x.grabbed();break;case":removed":S=x.removed();break;case":inside":S=!x.removed();break;case":grabbable":S=x.grabbable();break;case":ungrabbable":S=!x.grabbable();break;case":animated":S=x.animated();break;case":unanimated":S=!x.animated();break;case":parent":S=x.isNode()&&x.children().nonempty();break;case":child":case":nonorphan":S=x.isNode()&&x.parent().nonempty();break;case":orphan":S=x.isNode()&&x.parent().empty();break;case":loop":S=x.isEdge()&&x.data("source")===x.data("target");break;case":simple":S=x.isEdge()&&x.data("source")!==x.data("target");break;case":active":S=x.active();break;case":inactive":S=!x.active();break;case":touch":S=E.touch();break;case":backgrounding":S=x.backgrounding();break;case":nonbackgrounding":S=!x.backgrounding()}if(!S)break}if(!S)return!1;var C=!0;for(D=0;D<b.ids.length;D++){var B=b.ids[D],I=x._private.data.id;if(!(C=C&&B==I))break}if(!C)return!1;var A=!0;for(D=0;D<b.classes.length;D++){var F=b.classes[D];if(!(A=A&&x.hasClass(F)))break}if(!A)return!1;var p=function(x){for(var w=!0,S=0;S<b[x.name].length;S++){var D,C=b[x.name][S],B=C.operator,I=C.value,A=C.field;if(null!=B&&null!=I){var F=x.fieldValue(A),X=E.string(F)||E.number(F)?""+F:"",Y=""+I,$=!1;B.indexOf("@")>=0&&(X=X.toLowerCase(),Y=Y.toLowerCase(),B=B.replace("@",""),$=!0);var H=!1,W=!1;switch(B.indexOf("!")>=0&&(B=B.replace("!",""),H=!0),$&&(I=Y.toLowerCase(),F=X.toLowerCase()),B){case"*=":D=X.search(Y)>=0;break;case"$=":D=null!=new RegExp(Y+"$").exec(X);break;case"^=":D=null!=new RegExp("^"+Y).exec(X);break;case"=":D=F===I;break;case"!=":D=F!==I;break;case">":D=H?I>=F:F>I,W=!0;break;case">=":D=H?I>F:F>=I,W=!0;break;case"<":D=H?F>=I:I>F,W=!0;break;case"<=":D=H?F>I:I>=F,W=!0;break;default:D=!1}}else if(null!=B)switch(B){case"?":D=x.fieldTruthy(A);break;case"!":D=!x.fieldTruthy(A);break;case"^":D=x.fieldUndefined(A)}else D=!x.fieldUndefined(A);if(H&&!W&&(D=!D,W=!0),!D){w=!1;break}}return w},X=p({name:"data",fieldValue:function(b){return x._private.data[b]},fieldRef:function(b){return"element._private.data."+b},fieldUndefined:function(b){return void 0===x._private.data[b]},fieldTruthy:function(b){return!!x._private.data[b]}});if(!X)return!1;var Y=p({name:"meta",fieldValue:function(b){return x[b]()},fieldRef:function(b){return"element."+b+"()"},fieldUndefined:function(b){return null==x[b]()},fieldTruthy:function(b){return!!x[b]()}});if(!Y)return!1;if(null!=b.collection&&!(null!=b.collection._private.ids[x.id()]))return!1;if(null!=b.filter&&0===x.collection().filter(b.filter).size())return!1;var y=function(b,x){if(null!=b){var E=!1;if(!w.hasCompoundNodes())return!1;x=x();for(var S=0;S<x.length;S++)if(s(b,x[S])){E=!0;break}return E}return!0};return!!(y(b.parent,(function(){return x.parent()}))&&y(b.ancestor,(function(){return x.parents()}))&&y(b.child,(function(){return x.children()})))&&!!y(b.descendant,(function(){return x.descendants()}))};D.filter=function(b){var x=this,w=b.cy();if(x._private.invalid)return w.collection();var n=function(b,w){for(var E=0;E<x.length;E++){var S=x[E];if(s(S,w))return!0}return!1};return null==x._private.selectorText&&(n=function(){return!0}),b.filter(n)},D.matches=function(b){var x=this;if(x._private.invalid)return!1;for(var w=0;w<x.length;w++){var E=x[w];if(s(E,b))return!0}return!1},D.toString=D.selector=function(){for(var b="",t=function(b,x){return E.string(b)?x?'"'+b+'"':b:""},r=function(b){var w="";b.subject===b&&(w+="$");var E=t(b.group);w+=E.substring(0,E.length-1);for(var S=0;S<b.data.length;S++){var D=b.data[S];w+=D.value?"["+D.field+t(D.operator)+t(D.value,!0)+"]":"["+t(D.operator)+D.field+"]"}for(S=0;S<b.meta.length;S++){var C=b.meta[S];w+="[["+C.field+t(C.operator)+t(C.value,!0)+"]]"}for(S=0;S<b.colonSelectors.length;S++){w+=b.colonSelectors[x]}for(S=0;S<b.ids.length;S++){w+="#"+b.ids[x]}for(S=0;S<b.classes.length;S++){w+="."+b.classes[S]}return null!=b.parent&&(w=r(b.parent)+" > "+w),null!=b.ancestor&&(w=r(b.ancestor)+" "+w),null!=b.child&&(w+=" > "+r(b.child)),null!=b.descendant&&(w+=" "+r(b.descendant)),w},x=0;x<this.length;x++){var w=this[x];b+=r(w),this.length>1&&x<this.length-1&&(b+=", ")}return b},x.exports=a},{"./is":77,"./util":94}],82:[function(b,x,w){"use strict";var E=b("../util"),S=b("../is"),D={apply:function(b){var x=this;x._private.newStyle&&(this._private.contextStyles={},this._private.propDiffs={});for(var w=0;w<b.length;w++){var E=b[w],S=x.getContextMeta(E),D=x.getContextStyle(S),C=x.applyContextStyle(S,D,E);x.updateTransitions(E,C.diffProps),x.updateStyleHints(E)}x._private.newStyle=!1},getPropertiesDiff:function(b,x){var w=this,E=w._private.propDiffs=w._private.propDiffs||{},S=b+"-"+x,D=E[S];if(D)return D;for(var C=[],B={},I=0;I<w.length;I++){var A=w[I],F="t"===b[I]!==("t"===x[I]),X=A.mappedProperties.length>0;if(F||X){var Y;F&&X||F?Y=A.properties:X&&(Y=A.mappedProperties);for(var $=0;$<Y.length;$++){for(var H=Y[$],W=H.name,Z=!1,U=I+1;U<w.length;U++){var J=w[U];if("t"===x[U]&&(Z=null!=J.properties[H.name]))break}B[W]||Z||(B[W]=!0,C.push(W))}}}return E[S]=C,C},getContextMeta:function(b){var x,w=this,E="",S=b._private.styleCxtKey||"";w._private.newStyle&&(S="");for(var D=0;D<w.length;D++){var C=w[D];E+=C.selector&&C.selector.matches(b)?"t":"f"}return x=w.getPropertiesDiff(S,E),b._private.styleCxtKey=E,{key:E,diffPropNames:x}},getContextStyle:function(b){var x=b.key,w=this._private.contextStyles=this._private.contextStyles||{};if(w[x])return w[x];for(var E={_private:{key:x}},S=0;S<this.length;S++){var D=this[S];if("t"===x[S])for(var C=0;C<D.properties.length;C++){var B=D.properties[C];(E[B.name]=B).context=D}}return w[x]=E,E},applyContextStyle:function(b,x,w){for(var E=b.diffPropNames,S={},D=0;D<E.length;D++){var C=E[D],B=x[C],I=w._private.style[C];if(B&&I!==B){var A=S[C]={prev:I};this.applyParsedProperty(w,B),A.next=w._private.style[C],A.next&&A.next.bypass&&(A.next=A.next.bypassed)}}return{diffProps:S}},updateStyleHints:function(b){var x=b._private,w=x.style;if(!b.removed()){var E=!1;if("nodes"===x.group&&this._private.hasPie)for(var S=1;S<=this.pieBackgroundN;S++){if((I=x.style["pie-"+S+"-background-size"].value)>0){E=!0;break}}x.hasPie=E;var D=w["text-transform"].strValue,C=w.label.strValue,B=w["font-style"].strValue,I=w["font-size"].pfValue+"px",A=w["font-family"].strValue,F=w["font-weight"].strValue,X=w["text-valign"].strValue,Y=w["text-valign"].strValue,$=w["text-outline-width"].pfValue,H=w["text-wrap"].strValue,W=w["text-max-width"].pfValue;x.labelKey=B+"$"+I+"$"+A+"$"+F+"$"+C+"$"+D+"$"+X+"$"+Y+"$"+$+"$"+H+"$"+W,x.fontKey=B+"$"+F+"$"+I+"$"+A;var Z=w.width.pfValue,U=w.height.pfValue,J=w["border-width"].pfValue;if(x.boundingBoxKey=Z+"$"+U+"$"+J,"edges"===b._private.group){var Q=w["control-point-step-size"].pfValue,ee=w["control-point-distances"]?w["control-point-distances"].pfValue.join("_"):void 0,ne=w["control-point-weights"].value.join("_"),re=w["curve-style"].strValue,ie=w["segment-distances"]?w["segment-distances"].pfValue.join("_"):void 0,ae=w["segment-weights"].value.join("_");x.boundingBoxKey+="$"+Q+"$"+ee+"$"+ne+"$"+ie+"$"+ae+"$"+re}x.styleKey=Date.now()}},applyParsedProperty:function(b,x){var w,D=x,C=b._private.style,B=this.types,I=this.properties[D.name].type,A=D.bypass,F=C[D.name],X=F&&F.bypass,Y=b._private;if(("height"===x.name||"width"===x.name)&&b.isNode()){if("auto"===x.value&&!b.isParent())return!1;"auto"!==x.value&&b.isParent()&&(D=x=this.parse(x.name,"auto",A))}if(A&&D.deleteBypass){var $=C[D.name];return!$||!(!$.bypass||!$.bypassed)&&(C[D.name]=$.bypassed,!0)}var g=function(){E.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+b.id()+"` for property `"+D.name+"` with data field `"+D.field+"`); try a `["+D.field+"]` selector to limit scope to elements with `"+D.field+"` defined")};switch(D.mapped){case B.mapData:case B.mapLayoutData:case B.mapScratch:var H,W=D.mapped===B.mapLayoutData,Z=D.mapped===B.mapScratch,U=D.field.split(".");he=Z||W?Y.scratch:Y.data;for(var J=0;J<U.length&&he;J++){he=he[U[J]]}if(0>(H=S.number(he)?(he-D.fieldMin)/(D.fieldMax-D.fieldMin):0)?H=0:H>1&&(H=1),I.color){var Q=D.valueMin[0],ee=D.valueMax[0],ne=D.valueMin[1],re=D.valueMax[1],ie=D.valueMin[2],ae=D.valueMax[2],oe=null==D.valueMin[3]?1:D.valueMin[3],le=null==D.valueMax[3]?1:D.valueMax[3],ce=[Math.round(Q+(ee-Q)*H),Math.round(ne+(re-ne)*H),Math.round(ie+(ae-ie)*H),Math.round(oe+(le-oe)*H)];w={bypass:D.bypass,name:D.name,value:ce,strValue:"rgb("+ce[0]+", "+ce[1]+", "+ce[2]+")"}}else{if(!I.number)return!1;var de=D.valueMin+(D.valueMax-D.valueMin)*H;w=this.parse(D.name,de,D.bypass,!0)}w||(w=this.parse(D.name,F.strValue,D.bypass,!0)),w||g(),w.mapping=D,D=w;break;case B.data:case B.layoutData:case B.scratch:var he;W=D.mapped===B.layoutData,Z=D.mapped===B.scratch,U=D.field.split(".");if(he=Z||W?Y.scratch:Y.data)for(J=0;J<U.length;J++){he=he[U[J]]}if(!(w=this.parse(D.name,he,D.bypass,!0))){var pe=F?F.strValue:"";w=this.parse(D.name,pe,D.bypass,!0)}w||g(),w.mapping=D,D=w;break;case B.fn:var fe=(0,D.value)(b);(w=this.parse(D.name,fe,D.bypass,!0)).mapping=D,D=w;break;case void 0:break;default:return!1}return A?(D.bypassed=X?F.bypassed:F,C[D.name]=D):X?F.bypassed=D:C[D.name]=D,!0},update:function(){this._private.cy.elements().updateStyle()},updateMappers:function(b){for(var x=0;x<b.length;x++){for(var w=b[x],E=w._private.style,S=0;S<this.properties.length;S++){var D=E[this.properties[S].name];if(D&&D.mapping){var C=D.mapping;this.applyParsedProperty(w,C)}}this.updateStyleHints(w)}},updateTransitions:function(b,x,w){var E=this,D=b._private,C=D.style,B=C["transition-property"].value,I=C["transition-duration"].pfValue,A=C["transition-delay"].pfValue,F={};if(B.length>0&&I>0){for(var X=!1,Y=0;Y<B.length;Y++){var $=B[Y],H=C[$],W=x[$];if(W){var Z,U=W.prev,J=null!=W.next?W.next:H,Q=!1,ee=1e-6;U&&(S.number(U.pfValue)&&S.number(J.pfValue)?(Q=J.pfValue-U.pfValue,Z=U.pfValue+ee*Q):S.number(U.value)&&S.number(J.value)?(Q=J.value-U.value,Z=U.value+ee*Q):S.array(U.value)&&S.array(J.value)&&(Q=U.value[0]!==J.value[0]||U.value[1]!==J.value[1]||U.value[2]!==J.value[2],Z=U.strValue),Q&&(F[$]=J.strValue,this.applyBypass(b,$,Z),X=!0))}}if(!X)return;D.transitioning=!0,b.stop(),A>0&&b.delay(A),b.animate({css:F},{duration:I,easing:C["transition-timing-function"].value,queue:!1,complete:function(){w||E.removeBypasses(b,B),D.transitioning=!1}})}else D.transitioning&&(b.stop(),this.removeBypasses(b,B),D.transitioning=!1)}};x.exports=D},{"../is":77,"../util":94}],83:[function(b,x,w){"use strict";var E=b("../is"),S=b("../util"),D={applyBypass:function(b,x,w,D){var C=this,B=[];if("*"===x||"**"===x){if(void 0!==w)for(var I=0;I<C.properties.length;I++){x=(U=C.properties[I]).name;(F=this.parse(x,w,!0))&&B.push(F)}}else if(E.string(x)){(F=this.parse(x,w,!0))&&B.push(F)}else{if(!E.plainObject(x))return!1;var A=x;D=w;for(I=0;I<C.properties.length;I++){var F;if(void 0===(w=A[x=(U=C.properties[I]).name])&&(w=A[S.dash2camel(x)]),void 0!==w)(F=this.parse(x,w,!0))&&B.push(F)}}if(0===B.length)return!1;var X=!1;for(I=0;I<b.length;I++){for(var Y,$=b[I],H=$._private.style,W={},Z=0;Z<B.length;Z++){var U=B[Z];if(D){var J=H[U.name];Y=W[U.name]={prev:J}}X=this.applyParsedProperty($,U)||X,D&&(Y.next=H[U.name])}X&&this.updateStyleHints($),D&&this.updateTransitions($,W,true)}return X},overrideBypass:function(b,x,w){x=S.camel2dash(x);for(var E=0;E<b.length;E++){var D=b[E],C=D._private.style[x],B=this.properties[x].type,I=B.color,A=B.mutiple;C.bypass?(C.value=w,null!=C.pfValue&&(C.pfValue=w),C.strValue=I?"rgb("+w.join(",")+")":A?w.join(" "):""+w):this.applyBypass(D,x,w)}},removeAllBypasses:function(b,x){return this.removeBypasses(b,this.propertyNames,x)},removeBypasses:function(b,x,w){for(var E=0;E<b.length;E++){for(var S=b[E],D={},C=S._private.style,B=0;B<x.length;B++){var I=x[B],A=this.properties[I],F=this.parse(I,"",!0),X=C[A.name],Y=D[A.name]={prev:X};this.applyParsedProperty(S,F),Y.next=C[A.name]}this.updateStyleHints(S),w&&this.updateTransitions(S,D,true)}}};x.exports=D},{"../is":77,"../util":94}],84:[function(b,x,w){"use strict";var E=b("../window"),S={getEmSizeInPixels:function(){var b=this.containerCss("font-size");return null!=b?parseFloat(b):1},containerCss:function(b){var x=this._private.cy.container();return E&&x&&E.getComputedStyle?E.getComputedStyle(x).getPropertyValue(b):void 0}};x.exports=S},{"../window":100}],85:[function(b,x,w){"use strict";var E=b("../util"),S=b("../is"),D={getRenderedStyle:function(b){return this.getRawStyle(b,!0)},getRawStyle:function(b,x){var w=this;if(b=b[0]){for(var S={},D=0;D<w.properties.length;D++){var C=w.properties[D],B=w.getStylePropertyValue(b,C.name,x);B&&(S[C.name]=B,S[E.dash2camel(C.name)]=B)}return S}},getStylePropertyValue:function(b,x,w){if(b=b[0]){var E=b._private.style,S=this.properties[x],D=S.type,C=E[S.name],B=b.cy().zoom();if(C){var I=C.units?D.implicitUnits||"px":null,A=I?[].concat(C.pfValue).map((function(b){return b*(w?B:1)+I})).join(" "):C.strValue;return A}}},getValueStyle:function(b){var x,w={};if(x=S.element(b)?b._private.style:b)for(var D=0;D<this.properties.length;D++){var C=this.properties[D],B=x[C.name]||x[E.dash2camel(C.name)];void 0!==B&&(B=S.plainObject(B)?this.parse(C.name,B.strValue):this.parse(C.name,B)),B&&(w[C.name]=B,w[E.dash2camel(C.name)]=B)}return w},getPropsList:function(b){var x=[],w=b,S=this.properties;if(w)for(var D in w){var C=w[D],B=S[D]||S[E.camel2dash(D)],I=this.parse(B.name,C);x.push(I)}return x}};x.exports=D},{"../is":77,"../util":94}],86:[function(b,x,w){"use strict";var E=b("../is"),S=b("../util"),D=b("../selector"),o=function(b){return this instanceof o?E.core(b)?(this._private={cy:b,coreStyle:{},newStyle:!0},this.length=0,void this.addDefaultStylesheet()):void S.error("A style must have a core reference"):new o(b)},C=o.prototype;C.instanceString=function(){return"style"},C.clear=function(){for(var b=0;b<this.length;b++)this[b]=void 0;return this.length=0,this._private.newStyle=!0,this},C.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},C.core=function(){return this._private.coreStyle},C.selector=function(b){var x="core"===b?null:new D(b),w=this.length++;return this[w]={selector:x,properties:[],mappedProperties:[],index:w},this},C.css=function(){var b=arguments;switch(b.length){case 1:for(var x=b[0],w=0;w<this.properties.length;w++){var E=this.properties[w],D=x[E.name];void 0===D&&(D=x[S.dash2camel(E.name)]),void 0!==D&&this.cssRule(E.name,D)}break;case 2:this.cssRule(b[0],b[1])}return this},C.style=C.css,C.cssRule=function(b,x){var w=this.parse(b,x);if(w){var E=this.length-1;this[E].properties.push(w),this[E].properties[w.name]=w,w.name.match(/pie-(\d+)-background-size/)&&w.value&&(this._private.hasPie=!0),w.mapped&&this[E].mappedProperties.push(w),!this[E].selector&&(this._private.coreStyle[w.name]=w)}return this},o.fromJson=function(b,x){var w=new o(b);return w.fromJson(x),w},o.fromString=function(b,x){return new o(b).fromString(x)},[b("./apply"),b("./bypass"),b("./container"),b("./get-for-ele"),b("./json"),b("./string-sheet"),b("./properties"),b("./parse")].forEach((function(b){S.extend(C,b)})),o.types=C.types,o.properties=C.properties,x.exports=o},{"../is":77,"../selector":81,"../util":94,"./apply":82,"./bypass":83,"./container":84,"./get-for-ele":85,"./json":87,"./parse":88,"./properties":89,"./string-sheet":90}],87:[function(b,x,w){"use strict";var E={applyFromJson:function(b){for(var x=this,w=0;w<b.length;w++){var E=b[w],S=E.selector,D=E.style||E.css;for(var C in x.selector(S),D){var B=D[C];x.css(C,B)}}return x},fromJson:function(b){var x=this;return x.resetToDefault(),x.applyFromJson(b),x},json:function(){for(var b=[],x=this.defaultLength;x<this.length;x++){for(var w=this[x],E=w.selector,S=w.properties,D={},C=0;C<S.length;C++){var B=S[C];D[B.name]=B.strValue}b.push({selector:E?E.toString():"core",style:D})}return b}};x.exports=E},{}],88:[function(b,x,w){"use strict";var E=b("../util"),S=b("../is"),D={parse:function(b,x,w,S){var D,C=[b,x,w,S].join("$"),B=this.propCache=this.propCache||{},I=o.bind(this);return(D=B[C])||(D=B[C]=I(b,x,w,S)),(D=E.copy(D))&&(D.value=E.copy(D.value)),D}},o=function(b,x,w,D){var C=this;b=E.camel2dash(b);var B=C.properties[b],I=x,A=C.types;if(!B)return null;if(null==x)return null;B.alias&&(B=B.pointsTo,b=B.name);var F=S.string(x);F&&(x=x.trim());var X,Y,$,H,W,Z,U=B.type;if(!U)return null;if(w&&(""===x||null===x))return{name:b,value:x,bypass:!0,deleteBypass:!0};if(S.fn(x))return{name:b,value:x,strValue:"fn",mapped:A.fn,bypass:w};if(!F||D);else{if((X=new RegExp(A.data.regex).exec(x))||($=new RegExp(A.layoutData.regex).exec(x))||(W=new RegExp(A.scratch.regex).exec(x)))return!w&&(J=X?A.data:$?A.layoutData:A.scratch,{name:b,value:X=X||$||W,strValue:""+x,mapped:J,field:X[1],bypass:w});if((Y=new RegExp(A.mapData.regex).exec(x))||(H=new RegExp(A.mapLayoutData.regex).exec(x))||(Z=new RegExp(A.mapScratch.regex).exec(x))){if(w)return!1;if(U.multiple)return!1;var J;if(J=Y?A.mapData:H?A.mapLayoutData:A.mapScratch,Y=Y||H||Z,!U.color&&!U.number)return!1;var Q=this.parse(b,Y[4]);if(!Q||Q.mapped)return!1;var ee=this.parse(b,Y[5]);if(!ee||ee.mapped)return!1;if(Q.value===ee.value)return!1;if(U.color){var ne=Q.value,re=ee.value;if(!(ne[0]!==re[0]||ne[1]!==re[1]||ne[2]!==re[2]||ne[3]!==re[3]&&(null!=ne[3]&&1!==ne[3]||null!=re[3]&&1!==re[3])))return!1}return{name:b,value:Y,strValue:""+x,mapped:J,field:Y[1],fieldMin:parseFloat(Y[2]),fieldMax:parseFloat(Y[3]),valueMin:Q.value,valueMax:ee.value,bypass:w}}}if(U.multiple&&"multiple"!==D){var ie;if(ie=F?x.split(/\s+/):S.array(x)?x:[x],U.evenMultiple&&ie.length%2!=0)return null;var ae=ie.map((function(x){var E=C.parse(b,x,w,"multiple");return null!=E.pfValue?E.pfValue:E.value}));return{name:b,value:ae,pfValue:ae,strValue:ae.join(" "),bypass:w,units:U.number&&!U.unitless?U.implicitUnits||"px":void 0}}var k=function(){for(var E=0;E<U.enums.length;E++){if(U.enums[E]===x)return{name:b,value:x,strValue:""+x,bypass:w}}return null};if(U.number){var oe,le="px";if(U.units&&(oe=U.units),U.implicitUnits&&(le=U.implicitUnits),!U.unitless)if(F){var ce="px|em"+(U.allowPercent?"|\\%":"");oe&&(ce=oe);var de=x.match("^("+E.regex.number+")("+ce+")?$");de&&(x=de[1],oe=de[2]||le)}else oe&&!U.implicitUnits||(oe=le);if(x=parseFloat(x),isNaN(x)&&void 0===U.enums)return null;if(isNaN(x)&&void 0!==U.enums)return x=I,k();if(U.integer&&!S.integer(x))return null;if(void 0!==U.min&&x<U.min||void 0!==U.max&&x>U.max)return null;var he={name:b,value:x,strValue:""+x+(oe||""),units:oe,bypass:w};return U.unitless||"px"!==oe&&"em"!==oe?he.pfValue=x:he.pfValue="px"!==oe&&oe?this.getEmSizeInPixels()*x:x,"ms"!==oe&&"s"!==oe||(he.pfValue="ms"===oe?x:1e3*x),"deg"!==oe&&"rad"!==oe||(he.pfValue="rad"===oe?x:x*Math.PI/180),he}if(U.propList){var pe=[],fe=""+x;if("none"===fe);else{for(var ge=fe.split(","),ye=0;ye<ge.length;ye++){var me=ge[ye].trim();C.properties[me]&&pe.push(me)}if(0===pe.length)return null}return{name:b,value:pe,strValue:0===pe.length?"none":pe.join(", "),bypass:w}}if(U.color){var be=E.color2tuple(x);return be?{name:b,value:be,strValue:""+x,bypass:w,roundValue:!0}:null}if(U.regex||U.regexes){if(U.enums){var xe=k();if(xe)return xe}var we=U.regexes?U.regexes:[U.regex];for(ye=0;ye<we.length;ye++){var _e=new RegExp(we[ye]).exec(x);if(_e)return{name:b,value:_e,strValue:""+x,bypass:w}}return null}return U.string?{name:b,value:x,strValue:""+x,bypass:w}:U.enums?k():null};x.exports=D},{"../is":77,"../util":94}],89:[function(b,x,w){"use strict";var E=b("../util"),S={};!function(){var b=E.regex.number,x=E.regex.rgbaNoBackRefs,w=E.regex.hslaNoBackRefs,D=E.regex.hex3,C=E.regex.hex6,s=function(b){return"^"+b+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(E){var S=b+"|\\w+|"+x+"|"+w+"|"+D+"|"+C;return"^"+E+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+b+")\\s*\\,\\s*("+b+")\\s*,\\s*("+S+")\\s*\\,\\s*("+S+")\\)$"};S.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["auto","label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:s("data")},layoutData:{mapping:!0,regex:s("layoutData")},scratch:{mapping:!0,regex:s("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},easing:{regexes:["^(spring)\\s*\\(\\s*("+b+")\\s*,\\s*("+b+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+b+")\\s*,\\s*("+b+")\\s*,\\s*("+b+")\\s*,\\s*("+b+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var B=S.types,I=S.properties=[{name:"text-valign",type:B.valign},{name:"text-halign",type:B.halign},{name:"color",type:B.color},{name:"label",type:B.text},{name:"text-outline-color",type:B.color},{name:"text-outline-width",type:B.size},{name:"text-outline-opacity",type:B.zeroOneNumber},{name:"text-opacity",type:B.zeroOneNumber},{name:"text-background-color",type:B.color},{name:"text-background-opacity",type:B.zeroOneNumber},{name:"text-border-opacity",type:B.zeroOneNumber},{name:"text-border-color",type:B.color},{name:"text-border-width",type:B.size},{name:"text-border-style",type:B.borderStyle},{name:"text-background-shape",type:B.textBackgroundShape},{name:"text-transform",type:B.textTransform},{name:"text-wrap",type:B.textWrap},{name:"text-max-width",type:B.size},{name:"text-events",type:B.bool},{name:"font-family",type:B.fontFamily},{name:"font-style",type:B.fontStyle},{name:"font-weight",type:B.fontWeight},{name:"font-size",type:B.size},{name:"min-zoomed-font-size",type:B.size},{name:"edge-text-rotation",type:B.textRotation},{name:"events",type:B.bool},{name:"display",type:B.display},{name:"visibility",type:B.visibility},{name:"opacity",type:B.zeroOneNumber},{name:"z-index",type:B.nonNegativeInt},{name:"overlay-padding",type:B.size},{name:"overlay-color",type:B.color},{name:"overlay-opacity",type:B.zeroOneNumber},{name:"shadow-blur",type:B.size},{name:"shadow-color",type:B.color},{name:"shadow-opacity",type:B.zeroOneNumber},{name:"shadow-offset-x",type:B.bidirectionalSize},{name:"shadow-offset-y",type:B.bidirectionalSize},{name:"text-shadow-blur",type:B.size},{name:"text-shadow-color",type:B.color},{name:"text-shadow-opacity",type:B.zeroOneNumber},{name:"text-shadow-offset-x",type:B.bidirectionalSize},{name:"text-shadow-offset-y",type:B.bidirectionalSize},{name:"transition-property",type:B.propList},{name:"transition-duration",type:B.time},{name:"transition-delay",type:B.time},{name:"transition-timing-function",type:B.easing},{name:"height",type:B.nodeSize},{name:"width",type:B.nodeSize},{name:"shape",type:B.nodeShape},{name:"shape-polygon-points",type:B.polygonPointList},{name:"background-color",type:B.color},{name:"background-opacity",type:B.zeroOneNumber},{name:"background-blacken",type:B.nOneOneNumber},{name:"padding-left",type:B.size},{name:"padding-right",type:B.size},{name:"padding-top",type:B.size},{name:"padding-bottom",type:B.size},{name:"border-color",type:B.color},{name:"border-opacity",type:B.zeroOneNumber},{name:"border-width",type:B.size},{name:"border-style",type:B.borderStyle},{name:"background-image",type:B.url},{name:"background-image-opacity",type:B.zeroOneNumber},{name:"background-position-x",type:B.bgPos},{name:"background-position-y",type:B.bgPos},{name:"background-repeat",type:B.bgRepeat},{name:"background-fit",type:B.bgFit},{name:"background-clip",type:B.bgClip},{name:"background-width",type:B.bgWH},{name:"background-height",type:B.bgWH},{name:"position",type:B.position},{name:"compound-sizing-wrt-labels",type:B.compoundIncludeLabels},{name:"line-style",type:B.lineStyle},{name:"line-color",type:B.color},{name:"curve-style",type:B.curveStyle},{name:"haystack-radius",type:B.zeroOneNumber},{name:"control-point-step-size",type:B.size},{name:"control-point-distances",type:B.bidirectionalSizes},{name:"control-point-weights",type:B.numbers},{name:"segment-distances",type:B.bidirectionalSizes},{name:"segment-weights",type:B.numbers},{name:"selection-box-color",type:B.color},{name:"selection-box-opacity",type:B.zeroOneNumber},{name:"selection-box-border-color",type:B.color},{name:"selection-box-border-width",type:B.size},{name:"active-bg-color",type:B.color},{name:"active-bg-opacity",type:B.zeroOneNumber},{name:"active-bg-size",type:B.size},{name:"outside-texture-bg-color",type:B.color},{name:"outside-texture-bg-opacity",type:B.zeroOneNumber}],A=S.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"}];S.pieBackgroundN=16,I.push({name:"pie-size",type:B.bgSize});for(var F=1;F<=S.pieBackgroundN;F++)I.push({name:"pie-"+F+"-background-color",type:B.color}),I.push({name:"pie-"+F+"-background-size",type:B.percent}),I.push({name:"pie-"+F+"-background-opacity",type:B.zeroOneNumber});var X=S.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:B.arrowShape},{name:"arrow-color",type:B.color},{name:"arrow-fill",type:B.arrowFill}].forEach((function(b){X.forEach((function(x){var w=x+"-"+b.name,E=b.type;I.push({name:w,type:E})}))}),{}),S.propertyNames=I.map((function(b){return b.name}));for(F=0;F<I.length;F++){var Y=I[F];I[Y.name]=Y}for(F=0;F<A.length;F++){var $=A[F],H=I[$.pointsTo],W={name:$.name,alias:!0,pointsTo:H};I.push(W),I[$.name]=W}}(),S.addDefaultStylesheet=function(){this.selector("node, edge").css(E.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"edge-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,label:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include"},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(b,x){for(var w=1;w<=S.pieBackgroundN;w++){var E=x.name.replace("{{i}}",w),D=x.value;b[E]=D}return b}),{}),{"line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"curve-style":"bezier","haystack-radius":.8},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#ddd"},{name:"arrow-fill",value:"filled"}].reduce((function(b,x){return S.arrowPrefixes.forEach((function(w){var E=w+"-"+x.name,S=x.value;b[E]=S})),b}),{}))).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},x.exports=S},{"../util":94}],90:[function(b,x,w){"use strict";var E=b("../util"),S=b("../selector"),D={applyFromString:function(b){function t(){B=B.length>x.length?B.substr(x.length):""}function r(){w=w.length>D.length?w.substr(D.length):""}var x,w,D,C=this,B=""+b;for(B=B.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){if(B.match(/^\s*$/))break;var I=B.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!I){E.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+B);break}x=I[0];var A=I[1];if("core"!==A)if(new S(A)._private.invalid){E.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+A),t();continue}var F=I[2],X=!1;w=F;for(var Y=[];;){if(w.match(/^\s*$/))break;var $=w.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!$){E.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+F),X=!0;break}D=$[0];var H=$[1],W=$[2];if(U=this.properties[H])C.parse(H,W)?(Y.push({name:H,val:W}),r()):(E.error("Skipping property: Invalid property definition in: "+D),r());else E.error("Skipping property: Invalid property name in: "+D),r()}if(X){t();break}C.selector(A);for(var Z=0;Z<Y.length;Z++){var U=Y[Z];C.css(U.name,U.val)}t()}return C},fromString:function(b){var x=this;return x.resetToDefault(),x.applyFromString(b),x}};x.exports=D},{"../selector":81,"../util":94}],91:[function(b,x,w){"use strict";var E=b("./is"),S=b("./util"),D=b("./style"),o=function(){return this instanceof o?void(this.length=0):new o},C=o.prototype;C.instanceString=function(){return"stylesheet"},C.selector=function(b){return this[this.length++]={selector:b,properties:[]},this},C.css=function(b,x){var w=this.length-1;if(E.string(b))this[w].properties.push({name:b,value:x});else if(E.plainObject(b))for(var C=b,B=0;B<D.properties.length;B++){var I=D.properties[B],A=C[I.name];if(void 0===A&&(A=C[S.dash2camel(I.name)]),void 0!==A){b=I.name,x=A;this[w].properties.push({name:b,value:x})}}return this},C.style=C.css,C.generateStyle=function(b){for(var x=new D(b),w=0;w<this.length;w++){var E=this[w],S=E.selector,C=E.properties;x.selector(S);for(var B=0;B<C.length;B++){var I=C[B];x.css(I.name,I.value)}}return x},x.exports=o},{"./is":77,"./style":86,"./util":94}],92:[function(_dereq_,module,exports){/*! Weaver licensed under MIT (https://tldrlegal.com/license/mit-license), copyright Max Franz */
"use strict";var window=_dereq_("./window"),util=_dereq_("./util"),Promise=_dereq_("./promise"),Event=_dereq_("./event"),define=_dereq_("./define"),is=_dereq_("./is"),Thread=function(b){if(!(this instanceof Thread))return new Thread(b);var x=this._private={requires:[],files:[],queue:null,pass:[],disabled:!1};is.plainObject(b)&&null!=b.disabled&&(x.disabled=!!b.disabled)},thdfn=Thread.prototype,stringifyFieldVal=function(b){return is.fn(b)?b.toString():"JSON.parse('"+JSON.stringify(b)+"')"},fnAsRequire=function(b){var x,w;is.object(b)&&b.fn?(x=fnAs(b.fn,b.name),w=b.name,b=b.fn):is.fn(b)?(x=b.toString(),w=b.name):is.string(b)?x=b:is.object(b)&&(x=b.proto?"":b.name+" = {};",w=b.name,b=b.obj),x+="\n";var n=function(b,w){if(b.prototype){var E=!1;for(var S in b.prototype){E=!0;break}E&&(x+=fnAsRequire({name:w,obj:b,proto:!0},b))}};if(b.prototype&&null!=w)for(var E in b.prototype){var S="",D=b.prototype[E];(S+=(B=w+".prototype."+E)+" = "+stringifyFieldVal(D)+";\n")&&(x+=S),n(D,B)}if(!is.string(b))for(var E in b){var C="";if(b.hasOwnProperty(E)){var B;D=b[E];C+=(B=w+'["'+E+'"]')+" = "+stringifyFieldVal(D)+";\n"}C&&(x+=C),n(D,B)}return x},isPathStr=function(b){return is.string(b)&&b.match(/\.js$/)};util.extend(thdfn,{instanceString:function(){return"thread"},require:function(b,x){var w=this._private.requires;if(isPathStr(b))return this._private.files.push(b),this;if(x)b=is.fn(b)?{name:x,fn:b}:{name:x,obj:b};else if(is.fn(b)){if(!b.name)throw'The function name could not be automatically determined.  Use thread.require( someFunction, "someFunction" )';b={name:b.name,fn:b}}return w.push(b),this},pass:function(b){return this._private.pass.push(b),this},run:function(fn,pass){var self=this,_p=this._private;if(pass=pass||_p.pass.shift(),_p.stopped)throw"Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.";if(_p.running)return _p.queue=_p.queue.then((function(){return self.run(fn,pass)}));var useWW=null!=window&&!_p.disabled,useNode=!window&&void 0!==module&&!_p.disabled;self.trigger("run");var runP=new Promise((function(resolve,reject){_p.running=!0;var threadTechAlreadyExists=_p.ran,fnImplStr=is.string(fn)?fn:fn.toString(),fnStr="\n"+_p.requires.map((function(b){return fnAsRequire(b)})).concat(_p.files.map((function(b){if(useWW){return'importScripts("'+function(b){return b.match(/^\.\//)||b.match(/^\.\./)?window.location.origin+window.location.pathname+b:b.match(/^\//)?window.location.origin+"/"+b:b}(b)+'");'}if(useNode)return'eval( require("fs").readFileSync("'+b+'", { encoding: "utf8" }) );';throw"External file `"+b+"` can not be required without any threading technology."}))).concat(["( function(){","var ret = ("+fnImplStr+")("+JSON.stringify(pass)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(_p.requires=[],_p.files=[],useWW){var fnBlob,fnUrl;if(!threadTechAlreadyExists){var fnPre=fnStr+"";fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),fnStr+=fnPre,fnBlob=new Blob([fnStr],{type:"application/javascript"}),fnUrl=window.URL.createObjectURL(fnBlob)}var ww=_p.webworker=_p.webworker||new Worker(fnUrl),cb;threadTechAlreadyExists&&ww.postMessage({$$eval:fnStr}),ww.addEventListener("message",cb=function(b){var x=is.object(b)&&is.object(b.data);x&&"$$resolve"in b.data?(ww.removeEventListener("message",cb),resolve(b.data.$$resolve)):x&&"$$reject"in b.data?(ww.removeEventListener("message",cb),reject(b.data.$$reject)):self.trigger(new Event(b,{type:"message",message:b.data}))},!1),threadTechAlreadyExists||ww.postMessage("$$start")}else if(useNode){_p.child||(_p.child=_dereq_("child_process").fork(_dereq_("path").join(__dirname,"thread-node-fork")));var child=_p.child,cb;child.on("message",cb=function(b){is.object(b)&&"$$resolve"in b?(child.removeListener("message",cb),resolve(b.$$resolve)):is.object(b)&&"$$reject"in b?(child.removeListener("message",cb),reject(b.$$reject)):self.trigger(new Event({},{type:"message",message:b}))}),child.send({$$eval:fnStr})}else{var promiseResolve=resolve,promiseReject=reject,timer=_p.timer=_p.timer||{listeners:[],exec:function(){fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };",'function message(m){ self.trigger( new Event({}, { type: "message", message: m }) ); };',"function listen(fn){ timer.listeners.push( fn ); };","function resolve(v){ promiseResolve(v); };","function reject(v){ promiseReject(v); };"].join("\n")+fnStr,eval(fnStr)},message:function(b){for(var x=timer.listeners,w=0;w<x.length;w++){(0,x[w])(b)}}};timer.exec()}})).then((function(b){return _p.running=!1,_p.ran=!0,self.trigger("ran"),b}));return null==_p.queue&&(_p.queue=runP),runP},message:function(b){var x=this._private;return x.webworker&&x.webworker.postMessage(b),x.child&&x.child.send(b),x.timer&&x.timer.message(b),this},stop:function(){var b=this._private;return b.webworker&&b.webworker.terminate(),b.child&&b.child.kill(),b.timer,b.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var fnAs=function(b,x){var w=b.toString();return w.replace(/function\s*?\S*?\s*?\(/,"function "+x+"(")},defineFnal=function(b){return b=b||{},function(x,w){var E=fnAs(x,"_$_$_"+b.name);return this.require(E),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+b.name+"( _$_$_"+b.name+(arguments.length>1?", "+JSON.stringify(w):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};util.extend(thdfn,{reduce:defineFnal({name:"reduce"}),reduceRight:defineFnal({name:"reduceRight"}),map:defineFnal({name:"map"})});var fn=thdfn;fn.promise=fn.run,fn.terminate=fn.halt=fn.stop,fn.include=fn.require,util.extend(thdfn,{on:define.on(),one:define.on({unbindSelfOnTrigger:!0}),off:define.off(),trigger:define.trigger()}),define.eventAliasesOn(thdfn),module.exports=Thread},{"./define":41,"./event":42,"./is":77,"./promise":80,"./util":94,"./window":100,child_process:void 0,path:void 0}],93:[function(b,x,w){"use strict";var E=b("../is");x.exports={hex2tuple:function(b){if((4===b.length||7===b.length)&&"#"===b[0]){var x,w,E,S=16;return 4===b.length?(x=parseInt(b[1]+b[1],S),w=parseInt(b[2]+b[2],S),E=parseInt(b[3]+b[3],S)):(x=parseInt(b[1]+b[2],S),w=parseInt(b[3]+b[4],S),E=parseInt(b[5]+b[6],S)),[x,w,E]}},hsl2tuple:function(b){function t(b,x,w){return 0>w&&(w+=1),w>1&&(w-=1),1/6>w?b+6*(x-b)*w:.5>w?x:2/3>w?b+(x-b)*(2/3-w)*6:b}var x,w,E,S,D,C,B,I,A=new RegExp("^"+this.regex.hsla+"$").exec(b);if(A){if(0>(w=parseInt(A[1]))?w=(360- -1*w%360)%360:w>360&&(w%=360),w/=360,0>(E=parseFloat(A[2]))||E>100)return;if(E/=100,0>(S=parseFloat(A[3]))||S>100)return;if(S/=100,void 0!==(D=A[4])&&(0>(D=parseFloat(D))||D>1))return;if(0===E)C=B=I=Math.round(255*S);else{var F=.5>S?S*(1+E):S+E-S*E,X=2*S-F;C=Math.round(255*t(X,F,w+1/3)),B=Math.round(255*t(X,F,w)),I=Math.round(255*t(X,F,w-1/3))}x=[C,B,I,D]}return x},rgb2tuple:function(b){var x,w=new RegExp("^"+this.regex.rgba+"$").exec(b);if(w){x=[];for(var E=[],S=1;3>=S;S++){var D=w[S];if("%"===D[D.length-1]&&(E[S]=!0),D=parseFloat(D),E[S]&&(D=D/100*255),0>D||D>255)return;x.push(Math.floor(D))}var C=E[1]||E[2]||E[3],B=E[1]&&E[2]&&E[3];if(C&&!B)return;var I=w[4];if(void 0!==I){if(0>(I=parseFloat(I))||I>1)return;x.push(I)}}return x},colorname2tuple:function(b){return this.colors[b.toLowerCase()]},color2tuple:function(b){return(E.array(b)?b:null)||this.colorname2tuple(b)||this.hex2tuple(b)||this.rgb2tuple(b)||this.hsl2tuple(b)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},{"../is":77}],94:[function(b,x,w){"use strict";var E=b("../is"),S=b("../math"),D={falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(b){console.error?(console.error.apply(console,arguments),console.trace&&console.trace()):(console.log.apply(console,arguments),console.trace&&console.trace())},clone:function(b){return this.extend({},b)},copy:function(b){return null==b?b:E.array(b)?b.slice():E.plainObject(b)?this.clone(b):b}};D.makeBoundingBox=S.makeBoundingBox.bind(S),D._staticEmptyObject={},D.staticEmptyObject=function(){return D._staticEmptyObject},D.extend=null!=Object.assign?Object.assign:function(b){for(var x=arguments,w=1;w<x.length;w++){var E=x[w];for(var S in E)b[S]=E[S]}return b},[b("./colors"),b("./maps"),{memoize:b("./memoize")},b("./regex"),b("./strings"),b("./timing")].forEach((function(b){D.extend(D,b)})),x.exports=D},{"../is":77,"../math":79,"./colors":93,"./maps":95,"./memoize":96,"./regex":97,"./strings":98,"./timing":99}],95:[function(b,x,w){"use strict";var E=b("../is");x.exports={mapEmpty:function(b){var x=!0;if(null!=b)for(var w in b){x=!1;break}return x},pushMap:function(b){var x=this.getMap(b);null==x?this.setMap(this.extend({},b,{value:[b.value]})):x.push(b.value)},setMap:function(b){for(var x=b.map,w=b.keys,S=w.length,D=0;S>D;D++){var C=w[D];E.plainObject(C)&&this.error("Tried to set map with object key"),D<w.length-1?(null==x[C]&&(x[C]={}),x=x[C]):x[C]=b.value}},getMap:function(b){for(var x=b.map,w=b.keys,S=w.length,D=0;S>D;D++){var C=w[D];if(E.plainObject(C)&&this.error("Tried to get map with object key"),null==(x=x[C]))return x}return x},deleteMap:function(b){for(var x=b.map,w=b.keys,S=w.length,D=b.keepChildren,C=0;S>C;C++){var B=w[C];if(E.plainObject(B)&&this.error("Tried to delete map with object key"),C===b.keys.length-1)if(D)for(var I in x)D[I]||(x[I]=void 0);else x[B]=void 0;else x=x[B]}}}},{"../is":77}],96:[function(b,x,w){"use strict";x.exports=function(b,x){var w=this,E={};return x||(x=function(){if(1===arguments.length)return arguments[0];for(var b=[],x=0;x<arguments.length;x++)b.push(arguments[x]);return b.join("$")}),function(){var S,D=arguments,C=x.apply(w,D);return(S=E[C])||(S=E[C]=b.apply(w,D)),S}}},{}],97:[function(b,x,w){"use strict";var E="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",S="rgb[a]?\\(("+E+"[%]?)\\s*,\\s*("+E+"[%]?)\\s*,\\s*("+E+"[%]?)(?:\\s*,\\s*("+E+"))?\\)",D="rgb[a]?\\((?:"+E+"[%]?)\\s*,\\s*(?:"+E+"[%]?)\\s*,\\s*(?:"+E+"[%]?)(?:\\s*,\\s*(?:"+E+"))?\\)",C="hsl[a]?\\(("+E+")\\s*,\\s*("+E+"[%])\\s*,\\s*("+E+"[%])(?:\\s*,\\s*("+E+"))?\\)",B="hsl[a]?\\((?:"+E+")\\s*,\\s*(?:"+E+"[%])\\s*,\\s*(?:"+E+"[%])(?:\\s*,\\s*(?:"+E+"))?\\)";x.exports={regex:{number:E,rgba:S,rgbaNoBackRefs:D,hsla:C,hslaNoBackRefs:B,hex3:"\\#[0-9a-fA-F]{3}",hex6:"\\#[0-9a-fA-F]{6}"}}},{}],98:[function(b,x,w){"use strict";var E=b("./memoize"),S=b("../is");x.exports={camel2dash:E((function(b){return b.replace(/([A-Z])/g,(function(b){return"-"+b.toLowerCase()}))})),dash2camel:E((function(b){return b.replace(/(-\w)/g,(function(b){return b[1].toUpperCase()}))})),capitalize:function(b){return S.emptyString(b)?b:b.charAt(0).toUpperCase()+b.substring(1)}}},{"../is":77,"./memoize":96}],99:[function(b,x,w){"use strict";var E=b("../window"),S=b("../is"),D=E?E.performance:null,C={},B=E?E.requestAnimationFrame||E.mozRequestAnimationFrame||E.webkitRequestAnimationFrame||E.msRequestAnimationFrame:null;B=B||function(b){b&&setTimeout((function(){b(I())}),1e3/60)},C.requestAnimationFrame=function(b){B(b)};var I=D&&D.now?function(){return D.now()}:function(){return Date.now()};C.performanceNow=I,C.throttle=function(b,x,w){var E=!0,D=!0;return!1===w?E=!1:S.plainObject(w)&&(E="leading"in w?w.leading:E,D="trailing"in w?w.trailing:D),(w=w||{}).leading=E,w.maxWait=x,w.trailing=D,C.debounce(b,x,w)},C.now=function(){return Date.now()},C.debounce=function(b,x,w){var E,D,C,B,I,A,F,X=this,Y=0,$=!1,H=!0;if(S.fn(b)){if(x=Math.max(0,x)||0,!0===w){var W=!0;H=!1}else S.plainObject(w)&&(W=w.leading,$="maxWait"in w&&(Math.max(x,w.maxWait)||0),H="trailing"in w?w.trailing:H);var g=function(){var w=x-(X.now()-B);if(0>=w){D&&clearTimeout(D);var S=F;D=A=F=void 0,S&&(Y=X.now(),C=b.apply(I,E),A||D||(E=I=null))}else A=setTimeout(g,w)},y=function(){A&&clearTimeout(A),D=A=F=void 0,(H||$!==x)&&(Y=X.now(),C=b.apply(I,E),A||D||(E=I=null))};return function(){if(E=arguments,B=X.now(),I=this,F=H&&(A||!W),!1===$)var w=W&&!A;else{D||W||(Y=B);var S=$-(B-Y),Z=0>=S;Z?(D&&(D=clearTimeout(D)),Y=B,C=b.apply(I,E)):D||(D=setTimeout(y,S))}return Z&&A?A=clearTimeout(A):A||x===$||(A=setTimeout(g,x)),w&&(Z=!0,C=b.apply(I,E)),!Z||A||D||(E=I=null),C}}},x.exports=C},{"../is":77,"../window":100}],100:[function(b,x,w){x.exports="undefined"==typeof window?null:window},{}]},{},[76])(76)}));