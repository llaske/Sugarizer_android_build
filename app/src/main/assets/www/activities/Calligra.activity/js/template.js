var TemplateItem={template:'\n\t\t<div class="col-xs-4 col-md-2 col-lg-2 template-col" v-on:click="onClick">\n\t\t\t<img class="mr3 template-item-image" v-bind:src="image" v-bind:style="{visibility:image?\'visible\':\'hidden\'}"></img>\n\t\t\t<div id="text-item" class="template-item-text" v-bind:style="computeStyle()">{{text}}</div>\n\t\t\t<div v-bind:class="computeClass()"></div>\n\t\t</div>\n\t\t',props:["image","text","editMode"],methods:{computeStyle:function(){var t={};t.visibility=this.text?"visible":"hidden";var e=6;if(this.text&&this.text.length){for(var i=document.getElementsByClassName("template-col")[0],m=i?i.getBoundingClientRect():{width:194,height:165},n=!1,l=e=6;l<300&&!n;l++){var a=getTextSize(this.text,l+"px Arial");(n=a.width>m.width-10||2*a.height>m.height-15)||(e=l)}a=getTextSize(this.text,e+"px Arial"),t.top=(m.height-a.height)/2-7.5+"px",t.left=22.5+(m.width-a.width)/2+"px"}return t.fontSize=e+"px",t},onClick:function(){this.$emit("clicked")},computeClass:function(){return"template-item-remove"+(this.editMode?" template-item-remove-editable":"")}}},TemplateViewer={components:{"template-item":TemplateItem},template:'\n\t\t<div class="row">\n\t\t<template v-if="template">\n\t\t\t<template-item v-for="(item,i) in visibleImages" :key="item.image"\n\t\t\t\tv-bind:ref="\'item\'+(i++)"\n\t\t\t\tv-bind:image="item.image"\n\t\t\t\tv-bind:text="item.text"\n\t\t\t\tv-bind:editMode="editMode"\n\t\t\t\tv-on:clicked="itemClicked(item)">\n\t\t\t</template-item>\n\t\t</template>\n\t\t</div>\n\t',props:["template"],data:function(){return{editMode:!1}},computed:{visibleImages:function(){return"template-word"!==this.template.name?this.template.images.map((t=>({...t,visible:void 0===t.visible||t.visible,delete:void 0!==t.delete&&t.delete}))).filter((t=>t.visible&&!t.delete)):this.template.images.filter((function(t){return 0!=t.visible}))}},methods:{itemClicked:function(t){this.$emit("selected",t,this.editMode)}}};function getTextSize(t,e){var i=(getTextSize.canvas||(getTextSize.canvas=document.createElement("canvas"))).getContext("2d");return i.font=e,{width:i.measureText(t).width,height:parseInt(i.font)}}