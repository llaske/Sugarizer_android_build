define(["sugar-web/graphics/palette","mustache"],(function(t,e){var o={ZoomPalette:function(o,n){t.Palette.call(this,o,n),this.getPalette().id="zoompalette",this.zoomEvent=document.createEvent("CustomEvent"),this.zoomEvent.initCustomEvent("zoom",!0,!0,{zoom:1}),this.popEvent=document.createEvent("CustomEvent"),this.popEvent.initCustomEvent("pop",!0,!0,{}),this.template='{{#rows}}{{#.}}<button class="toolbutton zoombuttons" style="height:55px; width:55px; background-image: url({{ icon }}); "></button></td>{{/.}}{{/rows}}';var i=document.createElement("div");i.innerHTML=e.render(this.template,{rows:[[{icon:"icons/zoom-out.svg"},{icon:"icons/zoom-original.svg"},{icon:"icons/zoom-in.svg"}]]}),this.setContent([i]);var a=i.querySelectorAll("button"),s=this;o.addEventListener("click",(function(t){s.getPalette().dispatchEvent(s.popEvent)}));for(var r=0;r<a.length;r++)a[r].addEventListener("click",(function(t){for(var e=0;e<a.length&&this!=a[e];e++);s.zoomEvent.detail.zoom=e,s.getPalette().dispatchEvent(s.zoomEvent),s.popDown()}));!function popDownOnButtonClick(t){s.popDown()}(a[0])}};return o.ZoomPalette.prototype=Object.create(t.Palette.prototype,{addEventListener:{value:function(t,e,o){return this.getPalette().addEventListener(t,e,o)},enumerable:!0,configurable:!0,writable:!0}}),o}));