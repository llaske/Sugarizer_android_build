define(["sugar-web/graphics/palette","text!activity/palettes/exportPalette.html"],(function(t,e){var n={ExportPalette:function(n,r){t.Palette.call(this,n,r),this.getPalette().id="export-palette";var o=document.createElement("div");o.innerHTML=e,this.setContent([o]),this.exportStorySelectedEvent=document.createEvent("CustomEvent"),this.exportStorySelectedEvent.initCustomEvent("export-story-selected",!0,!0,{});addEventListenerForGridSize(this,this.exportStorySelectedEvent)}},addEventListenerForGridSize=function(t,e){let n=document.getElementById("export-buttons").children;for(var r=0;r<n.length;r++){let o=n[r].title;n[r].addEventListener("click",(function(n){t.exportStorySelectedEvent.fileType=o,t.getPalette().dispatchEvent(e),t.popDown()}))}};return n.ExportPalette.prototype=Object.create(t.Palette.prototype,{addEventListener:{value:function(t,e,n){return this.getPalette().addEventListener(t,e,n)},enumerable:!0,configurable:!0,writable:!0}}),n}));