/*!
 * This file is part of Cytoscape.js 2.4.5.
 * 
 * Cytoscape.js is free software: you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as published by the Free
 * Software Foundation, either version 3 of the License, or (at your option) any
 * later version.
 * 
 * Cytoscape.js is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more
 * details.
 * 
 * You should have received a copy of the GNU Lesser General Public License along with
 * Cytoscape.js. If not, see <http://www.gnu.org/licenses/>.
 */
var cytoscape;!function(e){"use strict";var S=cytoscape=function(){return cytoscape.init.apply(cytoscape,arguments)};S.version="2.4.5",S.init=function(e){return void 0===e&&(e={}),S.is.plainObject(e)?new S.Core(e):S.is.string(e)?S.extension.apply(S.extension,arguments):void 0},S.fn={},"undefined"!=typeof module&&module.exports&&(module.exports=cytoscape),"undefined"!=typeof define&&define.amd&&define("cytoscape",(function(){return cytoscape})),e&&(e.cytoscape=cytoscape)}("undefined"==typeof window?null:window),this.cytoscape=cytoscape,function(e){"use strict";var n=function(e){return this instanceof n?(this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new n(e)};n.prototype={fulfill:function(e){return a(this,1,"fulfillValue",e)},reject:function(e){return a(this,2,"rejectReason",e)},then:function(e,S){var P=this,C=new n;return P.onFulfilled.push(l(e,C,"fulfill")),P.onRejected.push(l(S,C,"reject")),o(P),C.proxy}};var a=function(e,S,P,C){return 0===e.state&&(e.state=S,e[P]=C,o(e)),e},o=function(e){1===e.state?s(e,"onFulfilled",e.fulfillValue):2===e.state&&s(e,"onRejected",e.rejectReason)},s=function(e,S,P){if(0!==e[S].length){var C=e[S];e[S]=[];var n=function(){for(var e=0;e<C.length;e++)C[e](P)};"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(n):"function"==typeof setImmediate?setImmediate(n):setTimeout(n,0)}},l=function(e,S,P){return function(C){if("function"!=typeof e)S[P].call(S,C);else{var M;try{M=e(C)}catch(e){return void S.reject(e)}u(S,M)}}},u=function(e,S){if(e!==S&&e.proxy!==S){var P;if("object"==typeof S&&null!==S||"function"==typeof S)try{P=S.then}catch(S){return void e.reject(S)}if("function"!=typeof P)e.fulfill(S);else{var C=!1;try{P.call(S,(function(P){C||(C=!0,P===S?e.reject(new TypeError("circular thenable chain")):u(e,P))}),(function(S){C||(C=!0,e.reject(S))}))}catch(S){C||e.reject(S)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};e.Promise="undefined"==typeof Promise?n:Promise,e.Promise.all=e.Promise.all||function(S){return new e.Promise((function(e,P){for(var C=new Array(S.length),M=0,a=function(P,B){C[P]=B,++M===S.length&&e(C)},B=0;B<S.length;B++)!function(e){var C=S[e];null!=C.then?C.then((function(S){a(e,S)}),(function(e){P(e)})):a(e,C)}(B)}))}}(cytoscape),function(e,S){"use strict";var P=typeof{};e.is={defined:function(e){return null!=e},string:function(e){return null!=e&&"string"==typeof e},fn:function(e){return null!=e&&"function"==typeof e},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(S){return null!=S&&typeof S===P&&!e.is.array(S)&&S.constructor===Object},object:function(e){return null!=e&&typeof e===P},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(S){return e.is.number(S)&&Math.floor(S)===S},color:function(e){return null!=e&&"string"==typeof e&&""!==$.Color(e).toString()},bool:function(e){return null!=e&&"boolean"==typeof e},elementOrCollection:function(S){return e.is.element(S)||e.is.collection(S)},element:function(S){return S instanceof e.Element&&S._private.single},collection:function(S){return S instanceof e.Collection&&!S._private.single},core:function(S){return S instanceof e.Core},style:function(S){return S instanceof e.Style},stylesheet:function(S){return S instanceof e.Stylesheet},event:function(S){return S instanceof e.Event},thread:function(S){return S instanceof e.Thread},fabric:function(S){return S instanceof e.Fabric},emptyString:function(S){return!S||!(!e.is.string(S)||""!==S&&!S.match(/^\s+$/))},nonemptyString:function(S){return!(!S||!e.is.string(S)||""===S||S.match(/^\s+$/))},domElement:function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement},boundingBox:function(S){return e.is.plainObject(S)&&e.is.number(S.x1)&&e.is.number(S.x2)&&e.is.number(S.y1)&&e.is.number(S.y2)},promise:function(S){return e.is.object(S)&&e.is.fn(S.then)},touch:function(){return S&&("ontouchstart"in S||S.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return navigator.vendor.match(/kde/i)},khtmlEtc:function(){return e.is.khtml()||e.is.webkit()||e.is.chromium()},trident:function(){/*@cc_on!@*/
return"undefined"!=typeof ActiveXObject||!1},windows:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Win/i)},mac:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Mac/i)},linux:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Linux/i)},unix:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/X11/i)}}}(cytoscape,"undefined"==typeof window?null:window),function(e,S){"use strict";e.util={extend:function(){var S,P,C,M,B,O,z=arguments[0]||{},L=1,R=arguments.length,V=!1;for("boolean"==typeof z&&(V=z,z=arguments[1]||{},L=2),"object"==typeof z||e.is.fn(z)||(z={}),R===L&&(z=this,--L);R>L;L++)if(null!=(S=arguments[L]))for(P in S)C=z[P],z!==(M=S[P])&&(V&&M&&(e.is.plainObject(M)||(B=e.is.array(M)))?(B?(B=!1,O=C&&e.is.array(C)?C:[]):O=C&&e.is.plainObject(C)?C:{},z[P]=e.util.extend(V,O,M)):void 0!==M&&(z[P]=M));return z},require:function(P,C,M){var B;M=e.util.extend({msgIfNotFound:!0},M);var O=!1,s=function(e){O=!0,C(e)},c=function(e){"undefined"!=typeof module&&module.exports&&require&&(B=require(P)),void 0!==B&&s(B),e&&e()},d=function(){O||h(p)},h=function(e){"undefined"!=typeof define&&define.amd&&require&&require([P],(function(S){void 0!==(B=S)&&s(B),e&&e()}))},p=function(){!O&&M.msgIfNotFound&&e.util.error("Cytoscape.js tried to pull in dependency `"+P+"` but no module (i.e. CommonJS, AMD, or window) was found")};!function(e){S&&(B=S[P]),void 0!==B&&s(B),e&&e()}((function(){O||c(d)}))},requires:function(S,P){for(var C=[],M=[],a=function(){for(var e=0;e<S.length;e++)if(!M[e])return;P.apply(P,C)},B=0;B<S.length;B++)!function(){var P=S[B],O=B;e.util.require(P,(function(e){C[O]=e,M[O]=!0,a()}))}()},throttle:function(S,P,C){var M=!0,B=!0;return!1===C?M=!1:e.is.plainObject(C)&&(M="leading"in C?C.leading:M,B="trailing"in C?C.trailing:B),(C=C||{}).leading=M,C.maxWait=P,C.trailing=B,e.util.debounce(S,P,C)},now:function(){return+new Date},debounce:function(S,P,C){var M,B,O,z,L,R,V,A=0,X=!1,F=!0;if(e.is.fn(S)){if(P=Math.max(0,P)||0,!0===C){var Y=!0;F=!1}else e.is.plainObject(C)&&(Y=C.leading,X="maxWait"in C&&(Math.max(P,C.maxWait)||0),F="trailing"in C?C.trailing:F);var f=function(){var C=P-(e.util.now()-z);if(0>=C){B&&clearTimeout(B);var X=V;B=R=V=void 0,X&&(A=e.util.now(),O=S.apply(L,M),R||B||(M=L=null))}else R=setTimeout(f,C)},g=function(){R&&clearTimeout(R),B=R=V=void 0,(F||X!==P)&&(A=e.util.now(),O=S.apply(L,M),R||B||(M=L=null))};return function(){if(M=arguments,z=e.util.now(),L=this,V=F&&(R||!Y),!1===X)var C=Y&&!R;else{B||Y||(A=z);var q=X-(z-A),j=0>=q;j?(B&&(B=clearTimeout(B)),A=z,O=S.apply(L,M)):B||(B=setTimeout(g,q))}return j&&R?R=clearTimeout(R):R||P===X||(R=setTimeout(f,P)),C&&(j=!0,O=S.apply(L,M)),!j||R||B||(M=L=null),O}}},error:function(e){if(!console)throw e;if(console.error)console.error.apply(console,arguments);else{if(!console.log)throw e;console.log.apply(console,arguments)}},clone:function(e){var S={};for(var P in e)e.hasOwnProperty(P)&&(S[P]=e[P]);return S},copy:function(S){return null==S?S:e.is.array(S)?S.slice():e.is.plainObject(S)?e.util.clone(S):S},makeBoundingBox:function(e){if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},mapEmpty:function(e){var S=!0;if(null!=e)for(var P in e){S=!1;break}return S},pushMap:function(S){var P=e.util.getMap(S);null==P?e.util.setMap($.extend({},S,{value:[S.value]})):P.push(S.value)},setMap:function(S){for(var P=S.map,C=S.keys,M=C.length,B=0;M>B;B++){var O=C[B];e.is.plainObject(O)&&e.util.error("Tried to set map with object key"),B<C.length-1?(null==P[O]&&(P[O]={}),P=P[O]):P[O]=S.value}},getMap:function(S){for(var P=S.map,C=S.keys,M=C.length,B=0;M>B;B++){var O=C[B];if(e.is.plainObject(O)&&e.util.error("Tried to get map with object key"),null==(P=P[O]))return P}return P},deleteMap:function(S){for(var P=S.map,C=S.keys,M=C.length,B=S.keepChildren,O=0;M>O;O++){var z=C[O];if(e.is.plainObject(z)&&e.util.error("Tried to delete map with object key"),O===S.keys.length-1)if(B)for(var L in P)B[L]||(P[L]=void 0);else P[z]=void 0;else P=P[z]}},capitalize:function(S){return e.is.emptyString(S)?S:S.charAt(0).toUpperCase()+S.substring(1)},camel2dash:function(e){for(var S=[],P=0;P<e.length;P++){var C=e[P],M=C.toLowerCase();C!==M?(S.push("-"),S.push(M)):S.push(C)}return S.length===e.length?e:S.join("")},dash2camel:function(e){for(var S=[],P=!1,C=0;C<e.length;C++){var M=e[C];"-"===M?P=!0:(S.push(P?M.toUpperCase():M),P=!1)}return S.join("")},trim:function(e){var S,P;for(S=0;S<e.length&&" "===e[S];S++);for(P=e.length-1;P>S&&" "===e[P];P--);return e.substring(S,P+1)},hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var S,P,C,M=16;return 4===e.length?(S=parseInt(e[1]+e[1],M),P=parseInt(e[2]+e[2],M),C=parseInt(e[3]+e[3],M)):(S=parseInt(e[1]+e[2],M),P=parseInt(e[3]+e[4],M),C=parseInt(e[5]+e[6],M)),[S,P,C]}},hsl2tuple:function(S){function r(e,S,P){return 0>P&&(P+=1),P>1&&(P-=1),1/6>P?e+6*(S-e)*P:.5>P?S:2/3>P?e+(S-e)*(2/3-P)*6:e}var P,C,M,B,O,z,L,R,V=new RegExp("^"+e.util.regex.hsla+"$").exec(S);if(V){if(0>(C=parseInt(V[1]))?C=(360- -1*C%360)%360:C>360&&(C%=360),C/=360,0>(M=parseFloat(V[2]))||M>100)return;if(M/=100,0>(B=parseFloat(V[3]))||B>100)return;if(B/=100,void 0!==(O=V[4])&&(0>(O=parseFloat(O))||O>1))return;if(0===M)z=L=R=Math.round(255*B);else{var A=.5>B?B*(1+M):B+M-B*M,X=2*B-A;z=Math.round(255*r(X,A,C+1/3)),L=Math.round(255*r(X,A,C)),R=Math.round(255*r(X,A,C-1/3))}P=[z,L,R,O]}return P},rgb2tuple:function(S){var P,C=new RegExp("^"+e.util.regex.rgba+"$").exec(S);if(C){P=[];for(var M=[],B=1;3>=B;B++){var O=C[B];if("%"===O[O.length-1]&&(M[B]=!0),O=parseFloat(O),M[B]&&(O=O/100*255),0>O||O>255)return;P.push(Math.floor(O))}var z=M[1]||M[2]||M[3],L=M[1]&&M[2]&&M[3];if(z&&!L)return;var R=C[4];if(void 0!==R){if(0>(R=parseFloat(R))||R>1)return;P.push(R)}}return P},colorname2tuple:function(S){return e.util.colors[S.toLowerCase()]},color2tuple:function(S){return(e.is.array(S)?S:null)||e.util.colorname2tuple(S)||e.util.hex2tuple(S)||e.util.rgb2tuple(S)||e.util.hsl2tuple(S)},tuple2hex:function(e){function t(e){var S=e.toString(16);return 1===S.length&&(S="0"+S),S}var S=e[0],P=e[1],C=e[2];return"#"+t(S)+t(P)+t(C)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},e.util.regex={},e.util.regex.number="(?:[-]?\\d*\\.\\d+|[-]?\\d+|[-]?\\d*\\.\\d+[eE]\\d+)",e.util.regex.rgba="rgb[a]?\\(("+e.util.regex.number+"[%]?)\\s*,\\s*("+e.util.regex.number+"[%]?)\\s*,\\s*("+e.util.regex.number+"[%]?)(?:\\s*,\\s*("+e.util.regex.number+"))?\\)",e.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+e.util.regex.number+"[%]?)\\s*,\\s*(?:"+e.util.regex.number+"[%]?)\\s*,\\s*(?:"+e.util.regex.number+"[%]?)(?:\\s*,\\s*(?:"+e.util.regex.number+"))?\\)",e.util.regex.hsla="hsl[a]?\\(("+e.util.regex.number+")\\s*,\\s*("+e.util.regex.number+"[%])\\s*,\\s*("+e.util.regex.number+"[%])(?:\\s*,\\s*("+e.util.regex.number+"))?\\)",e.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+e.util.regex.number+")\\s*,\\s*(?:"+e.util.regex.number+"[%])\\s*,\\s*(?:"+e.util.regex.number+"[%])(?:\\s*,\\s*(?:"+e.util.regex.number+"))?\\)",e.util.regex.hex3="\\#[0-9a-fA-F]{3}",e.util.regex.hex6="\\#[0-9a-fA-F]{6}";var P=S?S.requestAnimationFrame||S.mozRequestAnimationFrame||S.webkitRequestAnimationFrame||S.msRequestAnimationFrame:null;P=P||function(e){e&&setTimeout(e,1e3/60)},e.util.requestAnimationFrame=function(e){P(e)}}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.math={},e.math.signum=function(e){return e>0?1:0>e?-1:0},e.math.distance=function(e,S){var P=S.x-e.x,C=S.y-e.y;return Math.sqrt(P*P+C*C)},e.math.qbezierAt=function(e,S,P,C){return(1-C)*(1-C)*e+2*(1-C)*C*S+C*C*P},e.math.qbezierPtAt=function(S,P,C,M){return{x:e.math.qbezierAt(S.x,P.x,C.x,M),y:e.math.qbezierAt(S.y,P.y,C.y,M)}},e.math.boundingBoxesIntersect=function(e,S){return!(e.x1>S.x2)&&(!(S.x1>e.x2)&&(!(e.x2<S.x1)&&(!(S.x2<e.x1)&&(!(e.y2<S.y1)&&(!(S.y2<e.y1)&&(!(e.y1>S.y2)&&!(S.y1>e.y2)))))))},e.math.inBoundingBox=function(e,S,P){return e.x1<=S&&S<=e.x2&&e.y1<=P&&P<=e.y2},e.math.pointInBoundingBox=function(e,S){return this.inBoundingBox(e,S.x,S.y)},e.math.roundRectangleIntersectLine=function(e,S,P,C,M,B,O){var z,L=this.getRoundRectangleRadius(M,B),R=M/2,V=B/2,A=P-R+L-O,X=C-V-O,F=P+R-L+O,Y=X;if((z=this.finiteLinesIntersect(e,S,P,C,A,X,F,Y,!1)).length>0)return z;var q=P+R+O,j=C-V+L-O,$=q,W=C+V-L+O;if((z=this.finiteLinesIntersect(e,S,P,C,q,j,$,W,!1)).length>0)return z;var U=P-R+L-O,G=C+V+O,K=P+R-L+O,Q=G;if((z=this.finiteLinesIntersect(e,S,P,C,U,G,K,Q,!1)).length>0)return z;var ee=P-R-O,te=C-V+L-O,re=ee,ne=C+V-L+O;if((z=this.finiteLinesIntersect(e,S,P,C,ee,te,re,ne,!1)).length>0)return z;var ae,se=P-R+L,le=C-V+L;if((ae=this.intersectLineCircle(e,S,P,C,se,le,L+O)).length>0&&ae[0]<=se&&ae[1]<=le)return[ae[0],ae[1]];var ue=P+R-L,ce=C-V+L;if((ae=this.intersectLineCircle(e,S,P,C,ue,ce,L+O)).length>0&&ae[0]>=ue&&ae[1]<=ce)return[ae[0],ae[1]];var de=P+R-L,he=C+V-L;if((ae=this.intersectLineCircle(e,S,P,C,de,he,L+O)).length>0&&ae[0]>=de&&ae[1]>=he)return[ae[0],ae[1]];var pe=P-R+L,fe=C+V-L;return(ae=this.intersectLineCircle(e,S,P,C,pe,fe,L+O)).length>0&&ae[0]<=pe&&ae[1]>=fe?[ae[0],ae[1]]:[]},e.math.roundRectangleIntersectBox=function(e,S,P,C,M,B,O,z,L){var R=this.getRoundRectangleRadius(M,B),V=O-M/2-L,A=z-B/2+R-L,X=O+M/2+L,F=z+B/2-R+L,Y=O-M/2+R-L,q=z-B/2-L,j=O+M/2-R+L,$=z+B/2+L,W=Math.min(e,P),U=Math.max(e,P),G=Math.min(S,C),K=Math.max(S,C);return!(V>U)&&(!(W>X)&&(!(q>K)&&(!(G>$)&&(V>=W&&U>=V&&A>=G&&K>=A||(X>=W&&U>=X&&A>=G&&K>=A||(X>=W&&U>=X&&F>=G&&K>=F||(V>=W&&U>=V&&F>=G&&K>=F||(W>=V&&X>=W&&G>=A&&F>=G||(U>=V&&X>=U&&G>=A&&F>=G||(U>=V&&X>=U&&K>=A&&F>=K||(W>=V&&X>=W&&K>=A&&F>=K||(Y>=W&&U>=Y&&q>=G&&K>=q||(j>=W&&U>=j&&q>=G&&K>=q||(j>=W&&U>=j&&$>=G&&K>=$||(Y>=W&&U>=Y&&$>=G&&K>=$||(W>=Y&&j>=W&&G>=q&&$>=G||(U>=Y&&j>=U&&G>=q&&$>=G||(U>=Y&&j>=U&&K>=q&&$>=K||(W>=Y&&j>=W&&K>=q&&$>=K||(!!this.boxIntersectEllipse(W,G,U,K,L,2*R,2*R,Y+L,A+L)||(!!this.boxIntersectEllipse(W,G,U,K,L,2*R,2*R,j-L,A+L)||(!!this.boxIntersectEllipse(W,G,U,K,L,2*R,2*R,j-L,F-L)||!!this.boxIntersectEllipse(W,G,U,K,L,2*R,2*R,Y+L,F-L)))))))))))))))))))))))},e.math.checkInBoundingCircle=function(e,S,P,C,M,B,O,z){return P>=(e=(e-O)/(M+C))*e+(S=(S-z)/(B+C))*S},e.math.boxInBezierVicinity=function(e,S,P,C,M,B,O,z,L,R,V){var A=.25*M+.5*O+.25*L,X=.25*B+.5*z+.25*R,F=Math.min(e,P)-V,Y=Math.min(S,C)-V,q=Math.max(e,P)+V,j=Math.max(S,C)+V;if(M>=F&&q>=M&&B>=Y&&j>=B)return 1;if(L>=F&&q>=L&&R>=Y&&j>=R)return 1;if(A>=F&&q>=A&&X>=Y&&j>=X)return 1;if(O>=F&&q>=O&&z>=Y&&j>=z)return 1;var $=Math.min(M,A,L),W=Math.min(B,X,R),U=Math.max(M,A,L),G=Math.max(B,X,R);return $>q||F>U||W>j||Y>G?0:1},e.math.checkBezierInBox=function(S,P,C,M,B,O,z,L,R,V,A){function h(A){var X=e.math.qbezierAt(B,z,R,A),F=e.math.qbezierAt(O,L,V,A);return X>=S&&C>=X&&F>=P&&M>=F}for(var X=0;1>=X;X+=.25)if(!h(X))return!1;return!0},e.math.checkStraightEdgeInBox=function(e,S,P,C,M,B,O,z,L){return M>=e&&P>=M&&O>=e&&P>=O&&B>=S&&C>=B&&z>=S&&C>=z},e.math.checkStraightEdgeCrossesBox=function(e,S,P,C,M,B,O,z,L){var R,V,A=Math.min(e,P)-L,X=Math.min(S,C)-L,F=Math.max(e,P)+L,Y=Math.max(S,C)+L,q=O-M,j=M,$=z-B,W=B;if(Math.abs(q)<1e-4)return M>=A&&F>=M&&Math.min(B,z)<=X&&Math.max(B,z)>=Y;var U=(A-j)/q;if(U>0&&1>=U&&((R=$*U+W)>=X&&Y>=R))return!0;var G=(F-j)/q;if(G>0&&1>=G&&((R=$*G+W)>=X&&Y>=R))return!0;var K=(X-W)/$;if(K>0&&1>=K&&((V=q*K+j)>=A&&F>=V))return!0;var Q=(Y-W)/$;return Q>0&&1>=Q&&((V=q*Q+j)>=A&&F>=V)},e.math.checkBezierCrossesBox=function(e,S,P,C,M,B,O,z,L,R,V){var A=Math.min(e,P)-V,X=Math.min(S,C)-V,F=Math.max(e,P)+V,Y=Math.max(S,C)+V;if(M>=A&&F>=M&&B>=X&&Y>=B)return!0;if(L>=A&&F>=L&&R>=X&&Y>=R)return!0;var q=M-2*O+L,j=-2*M+2*O,$=M,W=[];if(Math.abs(q)<1e-4){var U=(A-M)/j,G=(F-M)/j;W.push(U,G)}else{var K,Q,ee=j*j-4*q*($-A);if(ee>0)K=(-j+(ye=Math.sqrt(ee)))/(2*q),Q=(-j-ye)/(2*q),W.push(K,Q);var te,re,ne=j*j-4*q*($-F);if(ne>0)te=(-j+(ye=Math.sqrt(ne)))/(2*q),re=(-j-ye)/(2*q),W.push(te,re)}W.sort((function(e,S){return e-S}));var ae=B-2*z+R,se=-2*B+2*z,le=B,ue=[];if(Math.abs(ae)<1e-4){var ce=(X-B)/se,de=(Y-B)/se;ue.push(ce,de)}else{var he,pe,fe=se*se-4*ae*(le-X);if(fe>0)he=(-se+(ye=Math.sqrt(fe)))/(2*ae),pe=(-se-ye)/(2*ae),ue.push(he,pe);var ge,ve,ye,me=se*se-4*ae*(le-Y);if(me>0)ge=(-se+(ye=Math.sqrt(me)))/(2*ae),ve=(-se-ye)/(2*ae),ue.push(ge,ve)}ue.sort((function(e,S){return e-S}));for(var xe=0;xe<W.length;xe+=2)for(var be=1;be<ue.length;be+=2)if(W[xe]<ue[be]&&ue[be]>=0&&W[xe]<=1&&W[xe+1]>ue[be-1]&&ue[be-1]<=1&&W[xe+1]>=0)return!0;return!1},e.math.inLineVicinity=function(e,S,P,C,M,B,O){var z=O,L=Math.min(P,M),R=Math.max(P,M),V=Math.min(C,B),A=Math.max(C,B);return e>=L-z&&R+z>=e&&S>=V-z&&A+z>=S},e.math.inBezierVicinity=function(e,S,P,C,M,B,O,z,L){var R=Math.min(P,O,M),V=Math.max(P,O,M),A=Math.min(C,z,B),X=Math.max(C,z,B);return!(e<R||e>V||S<A||S>X)},e.math.solveCubic=function(e,S,P,C,M){var B,O,z,L,R,V,A,X;return z=-27*(C/=e)+(S/=e)*(9*(P/=e)-2*S*S),B=(O=(3*P-S*S)/9)*O*O+(z/=54)*z,M[1]=0,A=S/3,B>0?(R=0>(R=z+Math.sqrt(B))?-Math.pow(-R,1/3):Math.pow(R,1/3),V=0>(V=z-Math.sqrt(B))?-Math.pow(-V,1/3):Math.pow(V,1/3),M[0]=-A+R+V,A+=(R+V)/2,M[4]=M[2]=-A,A=Math.sqrt(3)*(-V+R)/2,M[3]=A,void(M[5]=-A)):(M[5]=M[3]=0,0===B?(X=0>z?-Math.pow(-z,1/3):Math.pow(z,1/3),M[0]=2*X-A,void(M[4]=M[2]=-(X+A))):(L=(O=-O)*O*O,L=Math.acos(z/Math.sqrt(L)),X=2*Math.sqrt(O),M[0]=-A+X*Math.cos(L/3),M[2]=-A+X*Math.cos((L+2*Math.PI)/3),void(M[4]=-A+X*Math.cos((L+4*Math.PI)/3))))},e.math.sqDistanceToQuadraticBezier=function(e,S,P,C,M,B,O,z){var L=1*P*P-4*P*M+2*P*O+4*M*M-4*M*O+O*O+C*C-4*C*B+2*C*z+4*B*B-4*B*z+z*z,R=9*P*M-3*P*P-3*P*O-6*M*M+3*M*O+9*C*B-3*C*C-3*C*z-6*B*B+3*B*z,V=3*P*P-6*P*M+P*O-P*e+2*M*M+2*M*e-O*e+3*C*C-6*C*B+C*z-C*S+2*B*B+2*B*S-z*S,A=1*P*M-P*P+P*e-M*e+C*B-C*C+C*S-B*S,X=[];this.solveCubic(L,R,V,A,X);for(var F=[],Y=0;6>Y;Y+=2)Math.abs(X[Y+1])<1e-7&&X[Y]>=0&&X[Y]<=1&&F.push(X[Y]);F.push(1),F.push(0);for(var q,j,$,W=-1,U=0;U<F.length;U++)q=Math.pow(1-F[U],2)*P+2*(1-F[U])*F[U]*M+F[U]*F[U]*O,j=Math.pow(1-F[U],2)*C+2*(1-F[U])*F[U]*B+F[U]*F[U]*z,$=Math.pow(q-e,2)+Math.pow(j-S,2),W>=0?W>$&&(W=$,F[U]):(W=$,F[U]);return W},e.math.sqDistanceToFiniteLine=function(e,S,P,C,M,B){var O=[e-P,S-C],z=[M-P,B-C],L=z[0]*z[0]+z[1]*z[1],R=O[0]*O[0]+O[1]*O[1],V=O[0]*z[0]+O[1]*z[1],A=V*V/L;return 0>V?R:A>L?(e-M)*(e-M)+(S-B)*(S-B):R-A},e.math.pointInsidePolygon=function(e,S,P,C,M,B,O,z,L){var R,V=new Array(P.length),A=Math.asin(z[1]/Math.sqrt(z[0]*z[0]+z[1]*z[1]));z[0]<0?A+=Math.PI/2:A=-A-Math.PI/2;for(var X=Math.cos(-A),F=Math.sin(-A),Y=0;Y<V.length/2;Y++)V[2*Y]=B/2*(P[2*Y]*X-P[2*Y+1]*F),V[2*Y+1]=O/2*(P[2*Y+1]*X+P[2*Y]*F),V[2*Y]+=C,V[2*Y+1]+=M;if(L>0){var q=this.expandPolygon(V,-L);R=this.joinLines(q)}else R=V;var j,$,W,U,G,K=0;for(Y=0;Y<R.length/2;Y++)if(j=R[2*Y],$=R[2*Y+1],Y+1<R.length/2?(W=R[2*(Y+1)],U=R[2*(Y+1)+1]):(W=R[2*(Y+1-R.length/2)],U=R[2*(Y+1-R.length/2)+1]),j==e&&W==e);else{if(!(j>=e&&e>=W||e>=j&&W>=e))continue;(G=(e-j)/(W-j)*(U-$)+$)>S&&K++,S>G&&0}return K%2!=0},e.math.joinLines=function(e){for(var S,P,C,M,B,O,z,L,R=new Array(e.length/2),V=0;V<e.length/4;V++){S=e[4*V],P=e[4*V+1],C=e[4*V+2],M=e[4*V+3],V<e.length/4-1?(B=e[4*(V+1)],O=e[4*(V+1)+1],z=e[4*(V+1)+2],L=e[4*(V+1)+3]):(B=e[0],O=e[1],z=e[2],L=e[3]);var A=this.finiteLinesIntersect(S,P,C,M,B,O,z,L,!0);R[2*V]=A[0],R[2*V+1]=A[1]}return R},e.math.expandPolygon=function(e,S){for(var P,C,M,B,O=new Array(2*e.length),z=0;z<e.length/2;z++){P=e[2*z],C=e[2*z+1],z<e.length/2-1?(M=e[2*(z+1)],B=e[2*(z+1)+1]):(M=e[0],B=e[1]);var L=B-C,R=-(M-P),V=Math.sqrt(L*L+R*R),A=L/V,X=R/V;O[4*z]=P+A*S,O[4*z+1]=C+X*S,O[4*z+2]=M+A*S,O[4*z+3]=B+X*S}return O},e.math.intersectLineEllipse=function(e,S,P,C,M,B){var O=P-e,z=C-S;O/=M,z/=B;var L=Math.sqrt(O*O+z*z),R=L-1;if(0>R)return[];var V=R/L;return[(P-e)*V+e,(C-S)*V+S]},e.math.dotProduct=function(e,S){if(2!=e.length||2!=S.length)throw"dot product: arguments are not vectors";return e[0]*S[0]+e[1]*S[1]},e.math.intersectLineCircle=function(e,S,P,C,M,B,O){var z=[P-e,C-S],L=[e-M,S-B],R=z[0]*z[0]+z[1]*z[1],V=2*(L[0]*z[0]+L[1]*z[1]),A=V*V-4*R*(L[0]*L[0]+L[1]*L[1]-O*O);if(0>A)return[];var X=(-V+Math.sqrt(A))/(2*R),F=(-V-Math.sqrt(A))/(2*R),Y=Math.min(X,F),q=Math.max(X,F),j=[];if(Y>=0&&1>=Y&&j.push(Y),q>=0&&1>=q&&j.push(q),0===j.length)return[];var $=j[0]*z[0]+e,W=j[0]*z[1]+S;return j.length>1?j[0]==j[1]?[$,W]:[$,W,j[1]*z[0]+e,j[1]*z[1]+S]:[$,W]},e.math.findCircleNearPoint=function(e,S,P,C,M){var B=C-e,O=M-S,z=Math.sqrt(B*B+O*O);return[e+B/z*P,S+O/z*P]},e.math.findMaxSqDistanceToOrigin=function(e){for(var S,P=1e-6,C=0;C<e.length/2;C++)(S=e[2*C]*e[2*C]+e[2*C+1]*e[2*C+1])>P&&(P=S);return P},e.math.finiteLinesIntersect=function(e,S,P,C,M,B,O,z,L){var R=(O-M)*(S-B)-(z-B)*(e-M),V=(P-e)*(S-B)-(C-S)*(e-M),A=(z-B)*(P-e)-(O-M)*(C-S);if(0!==A){var X=R/A,F=V/A;return X>=0&&1>=X&&F>=0&&1>=F||L?[e+X*(P-e),S+X*(C-S)]:[]}return 0===R||0===V?[e,P,O].sort()[1]===O?[O,z]:[e,P,M].sort()[1]===M?[M,B]:[M,O,P].sort()[1]===P?[P,C]:[]:[]},e.math.boxIntersectEllipse=function(e,S,P,C,M,B,O,z,L){if(e>P){var R=e;e=P,P=R}if(S>C){var V=S;S=C,C=V}var A=[z-B/2-M,L],X=[z+B/2+M,L],F=[z,L-O/2-M],Y=[z,L+O/2+M];return!(P<A[0])&&(!(e>X[0])&&(!(S>Y[1])&&(!(C<F[1])&&(e<=X[0]&&X[0]<=P&&S<=X[1]&&X[1]<=C||(e<=A[0]&&A[0]<=P&&S<=A[1]&&A[1]<=C||(e<=F[0]&&F[0]<=P&&S<=F[1]&&F[1]<=C||(e<=Y[0]&&Y[0]<=P&&S<=Y[1]&&Y[1]<=C||(P=(P-z)/(B/2+M),C=(C-L)/(O/2+M),1>=(e=(e-z)/(B/2+M))*e+(S=(S-L)/(O/2+M))*S||(1>=P*P+S*S||(1>=P*P+C*C||1>=e*e+C*C))))))))))},e.math.boxIntersectPolygon=function(S,P,C,M,B,O,z,L,R,V,A){if(S>C){var X=S;S=C,C=X}if(P>M){var F=P;P=M,M=F}var Y,q=new Array(B.length),j=Math.asin(V[1]/Math.sqrt(V[0]*V[0]+V[1]*V[1]));V[0]<0?j+=Math.PI/2:j=-j-Math.PI/2;for(var $=Math.cos(-j),W=Math.sin(-j),U=0;U<q.length/2;U++)q[2*U]=O/2*(B[2*U]*$-B[2*U+1]*W),q[2*U+1]=z/2*(B[2*U+1]*$+B[2*U]*W),q[2*U]+=L,q[2*U+1]+=R;var G=q[0],K=q[0],Q=q[1],ee=q[1];for(U=1;U<q.length/2;U++)q[2*U]>K&&(K=q[2*U]),q[2*U]<G&&(G=q[2*U]),q[2*U+1]>ee&&(ee=q[2*U+1]),q[2*U+1]<Q&&(Q=q[2*U+1]);if(G-A>C)return!1;if(S>K+A)return!1;if(Q-A>M)return!1;if(P>ee+A)return!1;if(A>0){var te=e.math.expandPolygon(q,-A);Y=e.math.joinLines(te)}else Y=q;for(U=0;U<q.length/2;U++)if(S<=q[2*U]&&q[2*U]<=C&&P<=q[2*U+1]&&q[2*U+1]<=M)return!0;for(U=0;U<Y.length/2;U++){var re,ne,ae=Y[2*U],se=Y[2*U+1];if(U<Y.length/2-1?(re=Y[2*(U+1)],ne=Y[2*(U+1)+1]):(re=Y[0],ne=Y[1]),e.math.finiteLinesIntersect(ae,se,re,ne,S,P,C,P,!1).length>0)return!0;if(e.math.finiteLinesIntersect(ae,se,re,ne,S,M,C,M,!1).length>0)return!0;if(e.math.finiteLinesIntersect(ae,se,re,ne,S,P,S,M,!1).length>0)return!0;if(e.math.finiteLinesIntersect(ae,se,re,ne,C,P,C,M,!1).length>0)return!0}return!1},e.math.polygonIntersectLine=function(S,P,C,M,B,O,z,L){for(var R,V=[],A=new Array(C.length),X=0;X<A.length/2;X++)A[2*X]=C[2*X]*O+M,A[2*X+1]=C[2*X+1]*z+B;var F;if(L>0){var Y=e.math.expandPolygon(A,-L);F=e.math.joinLines(Y)}else F=A;var q,j,$,W;for(X=0;X<F.length/2;X++)q=F[2*X],j=F[2*X+1],X<F.length/2-1?($=F[2*(X+1)],W=F[2*(X+1)+1]):($=F[0],W=F[1]),0!==(R=this.finiteLinesIntersect(S,P,M,B,q,j,$,W)).length&&V.push(R[0],R[1]);return V},e.math.shortenIntersection=function(e,S,P){var C=[e[0]-S[0],e[1]-S[1]],M=Math.sqrt(C[0]*C[0]+C[1]*C[1]),B=(M-P)/M;return 0>B&&(B=1e-5),[S[0]+B*C[0],S[1]+B*C[1]]},e.math.generateUnitNgonPointsFitToSquare=function(S,P){var C=e.math.generateUnitNgonPoints(S,P);return e.math.fitPolygonToSquare(C)},e.math.fitPolygonToSquare=function(e){for(var S,P,C=e.length/2,M=1/0,B=1/0,O=-1/0,z=-1/0,L=0;C>L;L++)S=e[2*L],P=e[2*L+1],M=Math.min(M,S),O=Math.max(O,S),B=Math.min(B,P),z=Math.max(z,P);var R=2/(O-M),V=2/(z-B);for(L=0;C>L;L++)S=e[2*L]=e[2*L]*R,P=e[2*L+1]=e[2*L+1]*V,M=Math.min(M,S),O=Math.max(O,S),B=Math.min(B,P),z=Math.max(z,P);if(-1>B)for(L=0;C>L;L++)P=e[2*L+1]=e[2*L+1]+(-1-B);return e},e.math.generateUnitNgonPoints=function(e,S){var P=1/e*2*Math.PI,C=e%2==0?Math.PI/2+P/2:Math.PI/2;C+=S;for(var M,B=new Array(2*e),O=0;e>O;O++)M=O*P+C,B[2*O]=Math.cos(M),B[2*O+1]=Math.sin(-M);return B},e.math.getRoundRectangleRadius=function(e,S){return Math.min(e/4,S/4,8)}}(cytoscape),function(e){"use strict";function t(P,C,M){var B={};switch(B[C]=M,P){case"core":case"collection":e.fn[P](B)}if("layout"===P){for(var O=M.prototype,z=[],L=0;L<z.length;L++){var R=z[L];O[R]=O[R]||function(){return this}}O.start&&!O.run?O.run=function(){return this.start(),this}:!O.start&&O.run&&(O.start=function(){return this.run(),this}),O.stop||(O.stop=function(){var e=this.options;return e&&e.animate&&e.eles.stop(),this}),O.on=e.define.on({layout:!0}),O.one=e.define.on({layout:!0,unbindSelfOnTrigger:!0}),O.once=e.define.on({layout:!0,unbindAllBindersOnTrigger:!0}),O.off=e.define.off({layout:!0}),O.trigger=e.define.trigger({layout:!0}),e.define.eventAliasesOn(O)}return e.util.setMap({map:S,keys:[P,C],value:M})}function r(P,C){return e.util.getMap({map:S,keys:[P,C]})}function i(S,C,M,B,O){return e.util.setMap({map:P,keys:[S,C,M,B],value:O})}function n(S,C,M,B){return e.util.getMap({map:P,keys:[S,C,M,B]})}var S={};e.extensions=S;var P={};e.modules=P,e.extension=function(){return 2==arguments.length?r.apply(this,arguments):3==arguments.length?t.apply(this,arguments):4==arguments.length?n.apply(this,arguments):5==arguments.length?i.apply(this,arguments):void e.util.error("Invalid extension access syntax")}}(cytoscape),function(e,S){"use strict";if(e){var r=function(e){return e[0]._cyreg=e[0]._cyreg||{}};e.fn.cytoscape=function(P){var C=e(this);if("get"===P)return r(C).cy;if(S.is.fn(P)){var M=P,B=r(C).cy;if(B&&B.isReady())B.trigger("ready",[],M);else{var O=r(C);(O.readies=O.readies||[]).push(M)}}else if(S.is.plainObject(P))return C.each((function(){var S=e.extend({},P,{container:e(this)[0]});cytoscape(S)}))},e.cytoscape=cytoscape,null==e.fn.cy&&null==e.cy&&(e.fn.cy=e.fn.cytoscape,e.cy=e.cytoscape)}}("undefined"!=typeof jQuery?jQuery:null,cytoscape),function(e){"use strict";function t(){return!1}function r(){return!0}e.Event=function(S,P){return this instanceof e.Event?(S&&S.type?(this.originalEvent=S,this.type=S.type,this.isDefaultPrevented=S.defaultPrevented?r:t):this.type=S,P&&(this.type=void 0!==P.type?P.type:this.type,this.cy=P.cy,this.cyTarget=P.cyTarget,this.cyPosition=P.cyPosition,this.cyRenderedPosition=P.cyRenderedPosition,this.namespace=P.namespace,this.layout=P.layout,this.data=P.data,this.message=P.message),void(this.timeStamp=S&&S.timeStamp||+new Date)):new e.Event(S,P)},e.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=r;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t}}(cytoscape),function(e){"use strict";e.define={data:function(S){return S=e.util.extend({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(e){},canSet:function(e){return!0}},S),function(P,C){var M=S,B=this,O=void 0!==B.length,z=O?B:[B],L=O?B[0]:B;if(e.is.string(P)){if(M.allowGetting&&void 0===C)return L&&(q=L._private[M.field][P]),q;if(M.allowSetting&&void 0!==C)if(!M.immutableKeys[P]){for(var R=0,V=z.length;V>R;R++)M.canSet(z[R])&&(z[R]._private[M.field][P]=C);M.updateStyle&&B.updateStyle(),M.onSet(B),M.settingTriggersEvent&&B[M.triggerFnName](M.settingEvent)}}else if(M.allowSetting&&e.is.plainObject(P)){var A,X,F=P;for(A in F){if(X=F[A],!M.immutableKeys[A])for(R=0,V=z.length;V>R;R++)M.canSet(z[R])&&(z[R]._private[M.field][A]=X)}M.updateStyle&&B.updateStyle(),M.onSet(B),M.settingTriggersEvent&&B[M.triggerFnName](M.settingEvent)}else if(M.allowBinding&&e.is.fn(P)){var Y=P;B.bind(M.bindingEvent,Y)}else if(M.allowGetting&&void 0===P){var q;return L&&(q=L._private[M.field]),q}return B}},removeData:function(S){return S=e.util.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},S),function(P){var C=S,M=this,B=void 0!==M.length?M:[M];if(e.is.string(P)){for(var O=P.split(/\s+/),z=O.length,L=0;z>L;L++){var R=O[L];if(!e.is.emptyString(R))if(!C.immutableKeys[R])for(var V=0,A=B.length;A>V;V++)B[V]._private[C.field][R]=void 0}C.triggerEvent&&M[C.triggerFnName](C.event)}else if(void 0===P){for(V=0,A=B.length;A>V;V++){var X=B[V]._private[C.field];for(var R in X){!C.immutableKeys[R]&&(X[R]=void 0)}}C.triggerEvent&&M[C.triggerFnName](C.event)}return M}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(S){return S=e.util.extend({},{unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1},S),function(P,C,M,B){var O=this,z=void 0!==O.length?O:[O],L=e.is.string(P),R=S;if(e.is.plainObject(C)?(B=M,M=C,C=void 0):(e.is.fn(C)||!1===C)&&(B=C,M=void 0,C=void 0),(e.is.fn(M)||!1===M)&&(B=M,M=void 0),!e.is.fn(B)&&!1!==B&&L)return O;if(L){var V={};V[P]=B,P=V}for(var A in P)if(!1===(B=P[A])&&(B=e.define.event.falseCallback),e.is.fn(B)){A=A.split(/\s+/);for(var X=0;X<A.length;X++){var F=A[X];if(!e.is.emptyString(F)){var Y=F.match(e.define.event.regex);if(Y)for(var q=Y[1],j=Y[2]?Y[2]:void 0,$={callback:B,data:M,delegated:!!C,selector:C,selObj:new e.Selector(C),type:q,namespace:j,unbindSelfOnTrigger:R.unbindSelfOnTrigger,unbindAllBindersOnTrigger:R.unbindAllBindersOnTrigger,binders:z},W=0;W<z.length;W++){var U=z[W]._private;U.listeners=U.listeners||[],U.listeners.push($)}}}}return O}},eventAliasesOn:function(S){var P=S;P.addListener=P.listen=P.bind=P.on,P.removeListener=P.unlisten=P.unbind=P.off,P.emit=P.trigger,P.pon=P.promiseOn=function(S,P){var C=this,M=Array.prototype.slice.call(arguments,0);return new e.Promise((function(e,S){var P=M.concat([function(S){C.off.apply(C,B),e(S)}]),B=P.concat([]);C.on.apply(C,P)}))}},off:function(S){return S=e.util.extend({},{},S),function(S,P,C){var M=this,B=void 0!==M.length?M:[M],O=e.is.string(S);if(0===arguments.length){for(var z=0;z<B.length;z++)B[z]._private.listeners=[];return M}if((e.is.fn(P)||!1===P)&&(C=P,P=void 0),O){var L={};L[S]=C,S=L}for(var R in S){!1===(C=S[R])&&(C=e.define.event.falseCallback),R=R.split(/\s+/);for(var V=0;V<R.length;V++){var A=R[V];if(!e.is.emptyString(A)){var X=A.match(e.define.event.optionalTypeRegex);if(X){var F=X[1]?X[1]:void 0,Y=X[2]?X[2]:void 0;for(z=0;z<B.length;z++)for(var q=B[z]._private.listeners=B[z]._private.listeners||[],j=0;j<q.length;j++){var $=q[j],W=!Y||Y===$.namespace,U=!F||$.type===F,G=!C||C===$.callback;W&&U&&G&&(q.splice(j,1),j--)}}}}}return M}},trigger:function(S){return S=e.util.extend({},{},S),function(P,C,M){var B=this,O=void 0!==B.length?B:[B],z=e.is.string(P),L=e.is.plainObject(P),R=e.is.event(P),V=this._private.cy||(e.is.core(this)?this:null),A=!!V&&V.hasCompoundNodes();if(z){var X=P.split(/\s+/);P=[];for(var F=0;F<X.length;F++){var Y=X[F];if(!e.is.emptyString(Y)){var q=Y.match(e.define.event.regex),j=q[1],$=q[2]?q[2]:void 0;P.push({type:j,namespace:$})}}}else if(L){P=[P]}C?e.is.array(C)||(C=[C]):C=[];for(F=0;F<P.length;F++)for(var W=P[F],U=0;U<O.length;U++){var G=O[U],K=G._private.listeners=G._private.listeners||[],Q=e.is.element(G)||S.layout;if(R?((Y=W).cyTarget=Y.cyTarget||G,Y.cy=Y.cy||V):Y=new e.Event(W,{cyTarget:G,cy:V,namespace:W.namespace}),W.layout&&(Y.layout=W.layout),S.layout&&(Y.layout=G),Y.cyPosition){var ee=Y.cyPosition,te=V.zoom(),re=V.pan();Y.cyRenderedPosition={x:ee.x*te+re.x,y:ee.y*te+re.y}}M&&(K=[{namespace:Y.namespace,type:Y.type,callback:M}]);for(var ne=0;ne<K.length;ne++){var ae=K[ne],se=!ae.namespace||ae.namespace===Y.namespace,le=ae.type===Y.type,ue=!ae.delegated||G!==Y.cyTarget&&e.is.element(Y.cyTarget)&&ae.selObj.matches(Y.cyTarget);if(se&&le&&ue){var ce=[Y];if(ce=ce.concat(C),Y.data=ae.data?ae.data:void 0,(ae.unbindSelfOnTrigger||ae.unbindAllBindersOnTrigger)&&(K.splice(ne,1),ne--),ae.unbindAllBindersOnTrigger)for(var de=ae.binders,he=0;he<de.length;he++){var pe=de[he];if(pe&&pe!==G)for(var fe=pe._private.listeners,ge=0;ge<fe.length;ge++){fe[ge]===ae&&(fe.splice(ge,1),ge--)}}var ve=ae.delegated?Y.cyTarget:G,ye=ae.callback.apply(ve,ce);(!1===ye||Y.isPropagationStopped())&&(Q=!1,!1===ye&&(Y.stopPropagation(),Y.preventDefault()))}}if(Q){var me=A?G._private.parent:null;null!=me&&0!==me.length?(me=me[0]).trigger(Y):V.trigger(Y)}}return B}},animated:function(S){return S=e.util.extend({},{},S),function(){var e=this,S=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var P=S[0];return P?P._private.animation.current.length>0:void 0}},clearQueue:function(S){return S=e.util.extend({},{},S),function(){var e=this,S=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var P=0;P<S.length;P++){S[P]._private.animation.queue=[]}return this}},delay:function(S){return S=e.util.extend({},{},S),function(e,S){return(this._private.cy||this).styleEnabled()?(this.animate({delay:e},{duration:e,complete:S}),this):this}},animate:function(S){return S=e.util.extend({},{},S),function(e,S){var P=this,C=void 0!==P.length,M=C?P:[P],B=this._private.cy||this,O=!C,z=!O;if(!B.styleEnabled())return this;var L=+new Date,R=B.style();switch(void 0===S&&(S={}),void 0===S.duration&&(S.duration=400),S.duration){case"slow":S.duration=600;break;case"fast":S.duration=200}var V=!0;if(e)for(var A in e){V=!1;break}if(V)return this;if(e.css&&z&&(e.css=R.getValueStyle(e.css,{array:!0})),e.renderedPosition&&z){var X=e.renderedPosition,F=B.pan(),Y=B.zoom();e.position={x:(X.x-F.x)/Y,y:(X.y-F.y)/Y}}if(e.panBy&&O){var q=e.panBy,j=B.pan();e.pan={x:j.x+q.x,y:j.y+q.y}}var $=e.center||e.centre;if($&&O){var W=B.getCenterPan($.eles,e.zoom);W&&(e.pan=W)}if(e.fit&&O){var U=e.fit,G=B.getFitViewport(U.eles||U.boundingBox,U.padding);G&&(e.pan=G.pan,e.zoom=G.zoom)}for(A=0;A<M.length;A++){var K=M[A];(K.animated()&&(void 0===S.queue||S.queue)?K._private.animation.queue:K._private.animation.current).push({properties:e,duration:S.duration,params:S,callTime:L})}return z&&B.addToAnimationPool(this),this}},stop:function(S){return S=e.util.extend({},{},S),function(e,S){var P=this,C=void 0!==P.length?P:[P],M=this._private.cy||this;if(!M.styleEnabled())return this;for(var B=0;B<C.length;B++){for(var O=C[B],z=O._private.animation.current,L=0;L<z.length;L++){var R=z[L];S&&(R.duration=0)}e&&(O._private.animation.queue=[]),S||(O._private.animation.current=[])}return M.notify({collection:this,type:"draw"}),this}}}}(cytoscape),function(e){"use strict";e.fn.selector=function(S,P){for(var C in S){var M=S[C];e.Selector.prototype[C]=M}},e.Selector=function(S,P){if(!(this instanceof e.Selector))return new e.Selector(S,P);void 0===P&&void 0!==S&&(P=S,S=void 0);var C=this;if(C._private={selectorText:null,invalid:!0},!P||e.is.string(P)&&P.match(/^\s*$/))null==S?C.length=0:(C[0]=o(),C[0].group=S,C.length=1);else if(e.is.element(P)){var M=new e.Collection(C.cy(),[P]);C[0]=o(),C[0].collection=M,C.length=1}else if(e.is.collection(P))C[0]=o(),C[0].collection=P,C.length=1;else if(e.is.fn(P))C[0]=o(),C[0].filter=P,C.length=1;else{if(!e.is.string(P))return void e.util.error("A selector must be created from a string; found "+P);var B=null,o=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},O={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])+\"|'(?:\\\\'|[^'])+'",number:e.util.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};O.variable="(?:[\\w-]|(?:\\\\"+O.metaChar+"))+",O.value=O.string+"|"+O.number,O.className=O.variable,O.id=O.variable;for(var l=function(e){return e.replace(new RegExp("\\\\("+O.metaChar+")","g"),(function(e,S,P,C){return S}))},z=O.comparatorOp.split("|"),L=0;L<z.length;L++){var R=z[L];O.comparatorOp+="|@"+R}for(z=O.comparatorOp.split("|"),L=0;L<z.length;L++){(R=z[L]).indexOf("!")>=0||"="!==R&&(O.comparatorOp+="|\\!"+R)}var V={group:{query:!0,regex:"(node|edge|\\*)",populate:function(e){this.group="*"==e?e:e+"s"}},state:{query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(e){this.colonSelectors.push(e)}},id:{query:!0,regex:"\\#("+O.id+")",populate:function(e){this.ids.push(l(e))}},className:{query:!0,regex:"\\.("+O.className+")",populate:function(e){this.classes.push(l(e))}},dataExists:{query:!0,regex:"\\[\\s*("+O.variable+")\\s*\\]",populate:function(e){this.data.push({field:l(e)})}},dataCompare:{query:!0,regex:"\\[\\s*("+O.variable+")\\s*("+O.comparatorOp+")\\s*("+O.value+")\\s*\\]",populate:function(e,S,P){P=null!=new RegExp("^"+O.string+"$").exec(P)?P.substring(1,P.length-1):parseFloat(P),this.data.push({field:l(e),operator:S,value:P})}},dataBool:{query:!0,regex:"\\[\\s*("+O.boolOp+")\\s*("+O.variable+")\\s*\\]",populate:function(e,S){this.data.push({field:l(S),operator:e})}},metaCompare:{query:!0,regex:"\\[\\[\\s*("+O.meta+")\\s*("+O.comparatorOp+")\\s*("+O.number+")\\s*\\]\\]",populate:function(e,S,P){this.meta.push({field:l(e),operator:S,value:parseFloat(P)})}},nextQuery:{separator:!0,regex:O.separator,populate:function(){C[++L]=o(),B=null}},child:{separator:!0,regex:O.child,populate:function(){var e=o();e.parent=this,e.subject=B,C[L]=e}},descendant:{separator:!0,regex:O.descendant,populate:function(){var e=o();e.ancestor=this,e.subject=B,C[L]=e}},subject:{modifier:!0,regex:O.subject,populate:function(){return null!=B&&this.subject!=this?(e.util.error("Redefinition of subject in selector `"+P+"`"),!1):(B=this,void(this.subject=this))}}},A=0;for(var X in V)V[A]=V[X],V[A].name=X,A++;V.length=A,C._private.selectorText=P;var F=P,Y=(L=0,function(S){for(var P,C,M,B=0;B<V.length;B++){var O=V[B],z=O.name;if(!e.is.fn(S)||S(z,O)){var L=F.match(new RegExp("^"+O.regex));if(null!=L){C=L,P=O,M=z;var R=L[0];F=F.substring(R.length);break}}}return{expr:P,match:C,name:M}});for(C[0]=o(),function(){var e=F.match(/^\s+/);if(e){var S=e[0];F=F.substring(S.length)}}();;){var q=Y();if(null==q.expr)return void e.util.error("The selector `"+P+"`is invalid");var j=[];for(A=1;A<q.match.length;A++)j.push(q.match[A]);if(!1===q.expr.populate.apply(C[L],j))return;if(F.match(/^\s*$/))break}for(C.length=L+1,A=0;A<C.length;A++){var $=C[A];if(null!=$.subject){for(;$.subject!=$;)if(null!=$.parent){var W=$.parent,U=$;U.parent=null,W.child=U,$=W}else{if(null==$.ancestor){e.util.error("When adjusting references for the selector `"+$+"`, neither parent nor ancestor was found");break}var G=$.ancestor,K=$;K.ancestor=null,G.descendant=K,$=G}C[A]=$.subject}}if(null!=S)for(A=0;A<C.length;A++){if(null!=C[A].group&&C[A].group!=S)return void e.util.error("Group `"+C[A].group+"` conflicts with implicit group `"+S+"` in selector `"+P+"`");C[A].group=S}}C._private.invalid=!1},e.selfn=e.Selector.prototype,e.selfn.size=function(){return this.length},e.selfn.eq=function(e){return this[e]},e.selfn.find=function(){};var t=function(S,P){if(null!=S.group&&"*"!=S.group&&S.group!=P._private.group)return!1;for(var C=P.cy(),M=!0,B=0;B<S.colonSelectors.length;B++){switch(S.colonSelectors[B]){case":selected":M=P.selected();break;case":unselected":M=!P.selected();break;case":selectable":M=P.selectable();break;case":unselectable":M=!P.selectable();break;case":locked":M=P.locked();break;case":unlocked":M=!P.locked();break;case":visible":M=P.visible();break;case":hidden":M=!P.visible();break;case":transparent":M=P.transparent();break;case":grabbed":M=P.grabbed();break;case":free":M=!P.grabbed();break;case":removed":M=P.removed();break;case":inside":M=!P.removed();break;case":grabbable":M=P.grabbable();break;case":ungrabbable":M=!P.grabbable();break;case":animated":M=P.animated();break;case":unanimated":M=!P.animated();break;case":parent":M=P.isNode()&&P.children().nonempty();break;case":child":case":nonorphan":M=P.isNode()&&P.parent().nonempty();break;case":orphan":M=P.isNode()&&P.parent().empty();break;case":loop":M=P.isEdge()&&P.data("source")===P.data("target");break;case":simple":M=P.isEdge()&&P.data("source")!==P.data("target");break;case":active":M=P.active();break;case":inactive":M=!P.active();break;case":touch":M=e.is.touch();break;case":backgrounding":M=P.backgrounding();break;case":nonbackgrounding":M=!P.backgrounding()}if(!M)break}if(!M)return!1;var O=!0;for(B=0;B<S.ids.length;B++){var z=S.ids[B],L=P._private.data.id;if(!(O=O&&z==L))break}if(!O)return!1;var R=!0;for(B=0;B<S.classes.length;B++){var V=S.classes[B];if(!(R=R&&P.hasClass(V)))break}if(!R)return!1;var p=function(P){for(var C=!0,M=0;M<S[P.name].length;M++){var B,O=S[P.name][M],z=O.operator,L=O.value,R=O.field;if(null!=z&&null!=L){var V=P.fieldValue(R),A=e.is.string(V)||e.is.number(V)?""+V:"",X=""+L,F=!1;z.indexOf("@")>=0&&(A=A.toLowerCase(),X=X.toLowerCase(),z=z.replace("@",""),F=!0);var Y=!1,q=!1;switch(z.indexOf("!")>=0&&(z=z.replace("!",""),Y=!0),F&&(L=X.toLowerCase(),V=A.toLowerCase()),z){case"*=":B=A.search(X)>=0;break;case"$=":B=null!=new RegExp(X+"$").exec(A);break;case"^=":B=null!=new RegExp("^"+X).exec(A);break;case"=":B=V===L;break;case"!=":B=V!==L;break;case">":B=Y?L>=V:V>L,q=!0;break;case">=":B=Y?L>V:V>=L,q=!0;break;case"<":B=Y?V>=L:L>V,q=!0;break;case"<=":B=Y?V>L:L>=V,q=!0;break;default:B=!1}}else if(null!=z)switch(z){case"?":B=P.fieldTruthy(R);break;case"!":B=!P.fieldTruthy(R);break;case"^":B=P.fieldUndefined(R)}else B=!P.fieldUndefined(R);if(Y&&!q&&(B=!B,q=!0),!B){C=!1;break}}return C},A=p({name:"data",fieldValue:function(e){return P._private.data[e]},fieldRef:function(e){return"element._private.data."+e},fieldUndefined:function(e){return void 0===P._private.data[e]},fieldTruthy:function(e){return!!P._private.data[e]}});if(!A)return!1;var X=p({name:"meta",fieldValue:function(e){return P[e]()},fieldRef:function(e){return"element."+e+"()"},fieldUndefined:function(e){return null==P[e]()},fieldTruthy:function(e){return!!P[e]()}});if(!X)return!1;if(null!=S.collection&&!(null!=S.collection._private.ids[P.id()]))return!1;if(null!=S.filter&&0===P.collection().filter(S.filter).size())return!1;var y=function(e,S){if(null!=e){var P=!1;if(!C.hasCompoundNodes())return!1;S=S();for(var M=0;M<S.length;M++)if(t(e,S[M])){P=!0;break}return P}return!0};return!!(y(S.parent,(function(){return P.parent()}))&&y(S.ancestor,(function(){return P.parents()}))&&y(S.child,(function(){return P.children()}))&&y(S.descendant,(function(){return P.descendants()})))};e.selfn.filter=function(S){var P=this,C=S.cy();if(P._private.invalid)return new e.Collection(C);var a=function(e,S){for(var C=0;C<P.length;C++){var M=P[C];if(t(M,S))return!0}return!1};return null==P._private.selectorText&&(a=function(){return!0}),S.filter(a)},e.selfn.matches=function(e){var S=this;if(S._private.invalid)return!1;for(var P=0;P<S.length;P++){var C=S[P];if(t(C,e))return!0}return!1},e.selfn.toString=e.selfn.selector=function(){for(var S="",r=function(S,P){return e.is.string(S)?P?'"'+S+'"':S:""},i=function(e){var S="";e.subject===e&&(S+="$");var C=r(e.group);S+=C.substring(0,C.length-1);for(var M=0;M<e.data.length;M++){var B=e.data[M];S+=B.value?"["+B.field+r(B.operator)+r(B.value,!0)+"]":"["+r(B.operator)+B.field+"]"}for(M=0;M<e.meta.length;M++){var O=e.meta[M];S+="[["+O.field+r(O.operator)+r(O.value,!0)+"]]"}for(M=0;M<e.colonSelectors.length;M++){S+=e.colonSelectors[P]}for(M=0;M<e.ids.length;M++){S+="#"+e.ids[P]}for(M=0;M<e.classes.length;M++){S+="."+e.classes[P]}return null!=e.parent&&(S=i(e.parent)+" > "+S),null!=e.ancestor&&(S=i(e.ancestor)+" "+S),null!=e.child&&(S+=" > "+i(e.child)),null!=e.descendant&&(S+=" "+i(e.descendant)),S},P=0;P<this.length;P++){var C=this[P];S+=i(C),this.length>1&&P<this.length-1&&(S+=", ")}return S}}(cytoscape),function(e){"use strict";e.Style=function(S){return this instanceof e.Style?e.is.core(S)?(this._private={cy:S,coreStyle:{},newStyle:!0},this.length=0,void this.addDefaultStylesheet()):void e.util.error("A style must have a core reference"):new e.Style(S)},e.style=e.Style,e.styfn=e.Style.prototype,e.fn.style=function(S,P){for(var C in S){var M=S[C];e.Style.prototype=M}},function(){var S=e.util.regex.number,P=e.util.regex.rgbaNoBackRefs,C=e.util.regex.hslaNoBackRefs,M=e.util.regex.hex3,B=e.util.regex.hex6,o=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(e){return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+S+")\\s*\\,\\s*("+S+")\\s*,\\s*("+S+"|\\w+|"+P+"|"+C+"|"+M+"|"+B+")\\s*\\,\\s*("+S+"|\\w+|"+P+"|"+C+"|"+M+"|"+B+")\\)$"};e.style.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},autoSize:{number:!0,min:0,enums:["auto"]},number:{number:!0},size:{number:!0,min:0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad"},textRotation:{enums:["none","autorotate"]}};var O=e.style.types,z=e.style.properties=[{name:"text-valign",type:O.valign},{name:"text-halign",type:O.halign},{name:"color",type:O.color},{name:"content",type:O.text},{name:"text-outline-color",type:O.color},{name:"text-outline-width",type:O.size},{name:"text-outline-opacity",type:O.zeroOneNumber},{name:"text-opacity",type:O.zeroOneNumber},{name:"text-background-color",type:O.color},{name:"text-background-opacity",type:O.zeroOneNumber},{name:"text-border-opacity",type:O.zeroOneNumber},{name:"text-border-color",type:O.color},{name:"text-border-width",type:O.size},{name:"text-border-style",type:O.borderStyle},{name:"text-background-shape",type:O.textBackgroundShape},{name:"text-transform",type:O.textTransform},{name:"text-wrap",type:O.textWrap},{name:"text-max-width",type:O.size},{name:"font-family",type:O.fontFamily},{name:"font-style",type:O.fontStyle},{name:"font-weight",type:O.fontWeight},{name:"font-size",type:O.size},{name:"min-zoomed-font-size",type:O.size},{name:"edge-text-rotation",type:O.textRotation},{name:"display",type:O.display},{name:"visibility",type:O.visibility},{name:"opacity",type:O.zeroOneNumber},{name:"z-index",type:O.nonNegativeInt},{name:"overlay-padding",type:O.size},{name:"overlay-color",type:O.color},{name:"overlay-opacity",type:O.zeroOneNumber},{name:"shadow-blur",type:O.size},{name:"shadow-color",type:O.color},{name:"shadow-opacity",type:O.zeroOneNumber},{name:"shadow-offset-x",type:O.number},{name:"shadow-offset-y",type:O.number},{name:"text-shadow-blur",type:O.size},{name:"text-shadow-color",type:O.color},{name:"text-shadow-opacity",type:O.zeroOneNumber},{name:"text-shadow-offset-x",type:O.number},{name:"text-shadow-offset-y",type:O.number},{name:"transition-property",type:O.propList},{name:"transition-duration",type:O.time},{name:"transition-delay",type:O.time},{name:"height",type:O.autoSize},{name:"width",type:O.autoSize},{name:"shape",type:O.nodeShape},{name:"background-color",type:O.color},{name:"background-opacity",type:O.zeroOneNumber},{name:"background-blacken",type:O.nOneOneNumber},{name:"border-color",type:O.color},{name:"border-opacity",type:O.zeroOneNumber},{name:"border-width",type:O.size},{name:"border-style",type:O.borderStyle},{name:"background-image",type:O.url},{name:"background-image-opacity",type:O.zeroOneNumber},{name:"background-position-x",type:O.bgPos},{name:"background-position-y",type:O.bgPos},{name:"background-repeat",type:O.bgRepeat},{name:"background-fit",type:O.bgFit},{name:"background-clip",type:O.bgClip},{name:"background-width",type:O.bgWH},{name:"background-height",type:O.bgWH},{name:"padding-left",type:O.size},{name:"padding-right",type:O.size},{name:"padding-top",type:O.size},{name:"padding-bottom",type:O.size},{name:"position",type:O.position},{name:"compound-sizing-wrt-labels",type:O.compoundIncludeLabels},{name:"line-style",type:O.lineStyle},{name:"line-color",type:O.color},{name:"control-point-step-size",type:O.size},{name:"control-point-distance",type:O.number},{name:"control-point-weight",type:O.zeroOneNumber},{name:"curve-style",type:O.curveStyle},{name:"haystack-radius",type:O.zeroOneNumber},{name:"source-arrow-shape",type:O.arrowShape},{name:"target-arrow-shape",type:O.arrowShape},{name:"mid-source-arrow-shape",type:O.arrowShape},{name:"mid-target-arrow-shape",type:O.arrowShape},{name:"source-arrow-color",type:O.color},{name:"target-arrow-color",type:O.color},{name:"mid-source-arrow-color",type:O.color},{name:"mid-target-arrow-color",type:O.color},{name:"source-arrow-fill",type:O.arrowFill},{name:"target-arrow-fill",type:O.arrowFill},{name:"mid-source-arrow-fill",type:O.arrowFill},{name:"mid-target-arrow-fill",type:O.arrowFill},{name:"selection-box-color",type:O.color},{name:"selection-box-opacity",type:O.zeroOneNumber},{name:"selection-box-border-color",type:O.color},{name:"selection-box-border-width",type:O.size},{name:"active-bg-color",type:O.color},{name:"active-bg-opacity",type:O.zeroOneNumber},{name:"active-bg-size",type:O.size},{name:"outside-texture-bg-color",type:O.color},{name:"outside-texture-bg-opacity",type:O.zeroOneNumber}];e.style.pieBackgroundN=16,z.push({name:"pie-size",type:O.bgSize});for(var L=1;L<=e.style.pieBackgroundN;L++)z.push({name:"pie-"+L+"-background-color",type:O.color}),z.push({name:"pie-"+L+"-background-size",type:O.percent}),z.push({name:"pie-"+L+"-background-opacity",type:O.zeroOneNumber});for(L=0;L<z.length;L++){var R=z[L];z[R.name]=R}}(),e.styfn.addDefaultStylesheet=function(){this.selector("node, edge").css({"text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":"Helvetica","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"edge-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include","pie-size":"100%","pie-1-background-color":"black","pie-2-background-color":"black","pie-3-background-color":"black","pie-4-background-color":"black","pie-5-background-color":"black","pie-6-background-color":"black","pie-7-background-color":"black","pie-8-background-color":"black","pie-9-background-color":"black","pie-10-background-color":"black","pie-11-background-color":"black","pie-12-background-color":"black","pie-13-background-color":"black","pie-14-background-color":"black","pie-15-background-color":"black","pie-16-background-color":"black","pie-1-background-size":"0%","pie-2-background-size":"0%","pie-3-background-size":"0%","pie-4-background-size":"0%","pie-5-background-size":"0%","pie-6-background-size":"0%","pie-7-background-size":"0%","pie-8-background-size":"0%","pie-9-background-size":"0%","pie-10-background-size":"0%","pie-11-background-size":"0%","pie-12-background-size":"0%","pie-13-background-size":"0%","pie-14-background-size":"0%","pie-15-background-size":"0%","pie-16-background-size":"0%","pie-1-background-opacity":1,"pie-2-background-opacity":1,"pie-3-background-opacity":1,"pie-4-background-opacity":1,"pie-5-background-opacity":1,"pie-6-background-opacity":1,"pie-7-background-opacity":1,"pie-8-background-opacity":1,"pie-9-background-opacity":1,"pie-10-background-opacity":1,"pie-11-background-opacity":1,"pie-12-background-opacity":1,"pie-13-background-opacity":1,"pie-14-background-opacity":1,"pie-15-background-opacity":1,"pie-16-background-opacity":1,"source-arrow-shape":"none","mid-source-arrow-shape":"none","target-arrow-shape":"none","mid-target-arrow-shape":"none","source-arrow-color":"#ddd","mid-source-arrow-color":"#ddd","target-arrow-color":"#ddd","mid-target-arrow-color":"#ddd","source-arrow-fill":"filled","mid-source-arrow-fill":"filled","target-arrow-fill":"filled","mid-target-arrow-fill":"filled","line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weight":.5,"curve-style":"bezier","haystack-radius":.8}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},e.styfn.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},e.styfn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},e.styfn.core=function(){return this._private.coreStyle},e.styfn.parse=function(S,P,C,M){S=e.util.camel2dash(S);var B=e.style.properties[S],O=P,z=e.style.types;if(!B)return null;if(null==P)return null;var L=e.is.string(P);L&&(P=e.util.trim(P));var R=B.type;if(!R)return null;if(C&&(""===P||null===P))return{name:S,value:P,bypass:!0,deleteBypass:!0};var V,A,X,F,Y,q,j=S.match(/pie-(\d+)-background-size/);if(e.is.fn(P))return{name:S,value:P,strValue:"fn",mapped:z.fn,bypass:C,hasPie:j};if(!L||M);else{if((V=new RegExp(z.data.regex).exec(P))||(X=new RegExp(z.layoutData.regex).exec(P))||(Y=new RegExp(z.scratch.regex).exec(P)))return!C&&($=V?z.data:X?z.layoutData:z.scratch,{name:S,value:V=V||X||Y,strValue:""+P,mapped:$,field:V[1],bypass:C,hasPie:j});if((A=new RegExp(z.mapData.regex).exec(P))||(F=new RegExp(z.mapLayoutData.regex).exec(P))||(q=new RegExp(z.mapScratch.regex).exec(P))){if(C)return!1;var $;if($=A?z.mapData:F?z.mapLayoutData:z.mapScratch,A=A||F||q,!R.color&&!R.number)return!1;var W=this.parse(S,A[4]);if(!W||W.mapped)return!1;var U=this.parse(S,A[5]);if(!U||U.mapped)return!1;if(W.value===U.value)return!1;if(R.color){var G=W.value,K=U.value;if(!(G[0]!==K[0]||G[1]!==K[1]||G[2]!==K[2]||G[3]!==K[3]&&(null!=G[3]&&1!==G[3]||null!=K[3]&&1!==K[3])))return!1}return{name:S,value:A,strValue:""+P,mapped:$,field:A[1],fieldMin:parseFloat(A[2]),fieldMax:parseFloat(A[3]),valueMin:W.value,valueMax:U.value,bypass:C,hasPie:j}}}if(R.number){var Q,ee="px";if(R.units&&(Q=R.units),R.implicitUnits&&(ee=R.implicitUnits),!R.unitless)if(L){var te="px|em"+(R.allowPercent?"|\\%":"");Q&&(te=Q);var re=P.match("^("+e.util.regex.number+")("+te+")?$");re&&(P=re[1],Q=re[2]||ee)}else(!Q||R.implicitUnits)&&(Q=ee);if(P=parseFloat(P),isNaN(P)&&void 0===R.enums)return null;if(isNaN(P)&&void 0!==R.enums){P=O;for(var ne=0;ne<R.enums.length;ne++){if(R.enums[ne]===P)return{name:S,value:P,strValue:""+P,bypass:C}}return null}if(R.integer&&!e.is.integer(P))return null;if(void 0!==R.min&&P<R.min||void 0!==R.max&&P>R.max)return null;var ae={name:S,value:P,strValue:""+P+(Q||""),units:Q,bypass:C,hasPie:j&&null!=P&&0!==P&&""!==P};return R.unitless||"px"!==Q&&"em"!==Q||(ae.pxValue="px"!==Q&&Q?this.getEmSizeInPixels()*P:P),("ms"===Q||"s"===Q)&&(ae.msValue="ms"===Q?P:1e3*P),ae}if(R.propList){var se=[],le=""+P;if("none"===le);else{var ue=le.split(",");for(ne=0;ne<ue.length;ne++){var ce=e.util.trim(ue[ne]);e.style.properties[ce]&&se.push(ce)}if(0===se.length)return null}return{name:S,value:se,strValue:0===se.length?"none":se.join(", "),bypass:C}}if(R.color){var de=e.util.color2tuple(P);return de?{name:S,value:de,strValue:""+P,bypass:C}:null}if(R.enums){for(ne=0;ne<R.enums.length;ne++){if(R.enums[ne]===P)return{name:S,value:P,strValue:""+P,bypass:C}}return null}if(R.regex){var he=new RegExp(R.regex).exec(P);return he?{name:S,value:he,strValue:""+P,bypass:C}:null}return R.string?{name:S,value:P,strValue:""+P,bypass:C}:null},e.styfn.selector=function(S){var P="core"===S?null:new e.Selector(S),C=this.length++;return this[C]={selector:P,properties:[],mappedProperties:[],index:C},this},e.styfn.css=function(){var S=arguments;switch(S.length){case 1:for(var P=S[0],C=0;C<e.style.properties.length;C++){var M=e.style.properties[C],B=P[M.name];void 0===B&&(B=P[e.util.dash2camel(M.name)]),void 0!==B&&this.cssRule(M.name,B)}break;case 2:this.cssRule(S[0],S[1])}return this},e.styfn.style=e.styfn.css,e.styfn.cssRule=function(e,S){var P=this.parse(e,S);if(P){var C=this.length-1;this[C].properties.push(P),this[C].properties[P.name]=P,P.hasPie&&(this._private.hasPie=!0),P.mapped&&this[C].mappedProperties.push(P),!this[C].selector&&(this._private.coreStyle[P.name]=P)}return this}}(cytoscape),function(e){"use strict";e.styfn.apply=function(e){var S=this;S._private.newStyle&&(this._private.contextStyles={},this._private.propDiffs={});for(var P=0;P<e.length;P++){var C=e[P],M=S.getContextMeta(C),B=S.getContextStyle(M),O=S.applyContextStyle(M,B,C);S.updateTransitions(C,O.diffProps),S.updateStyleHints(C)}S._private.newStyle=!1},e.styfn.getPropertiesDiff=function(e,S){var P=this,C=P._private.propDiffs=P._private.propDiffs||{},M=e+"-"+S,B=C[M];if(B)return B;for(var O=[],z={},L=0;L<P.length;L++){var R=P[L],V="t"===e[L]!==("t"===S[L]),A=R.mappedProperties.length>0;if(V||A){var X;V&&A||V?X=R.properties:A&&(X=R.mappedProperties);for(var F=0;F<X.length;F++){for(var Y=X[F],q=Y.name,j=!1,$=L+1;$<P.length;$++){var W=P[$];if("t"===S[$]&&(j=null!=W.properties[Y.name]))break}z[q]||j||(z[q]=!0,O.push(q))}}}return C[M]=O,O},e.styfn.getContextMeta=function(e){var S,P=this,C="",M=e._private.styleCxtKey||"";P._private.newStyle&&(M="");for(var B=0;B<P.length;B++){var O=P[B];C+=O.selector&&O.selector.matches(e)?"t":"f"}return S=P.getPropertiesDiff(M,C),e._private.styleCxtKey=C,{key:C,diffPropNames:S}},e.styfn.getContextStyle=function(e){var S=e.key,P=this._private.contextStyles=this._private.contextStyles||{};if(P[S])return P[S];for(var C={_private:{key:S}},M=0;M<this.length;M++){var B=this[M];if("t"===S[M])for(var O=0;O<B.properties.length;O++){var z=B.properties[O];(C[z.name]=z).context=B}}return P[S]=C,C},e.styfn.applyContextStyle=function(e,S,P){for(var C=e.diffPropNames,M={},B=0;B<C.length;B++){var O=C[B],z=S[O],L=P._private.style[O];if(z&&L!==z){var R=M[O]={prev:L};this.applyParsedProperty(P,z),R.next=P._private.style[O],R.next&&R.next.bypass&&(R.next=R.next.bypassed)}}return{diffProps:M}},e.styfn.updateStyleHints=function(S){var P=S._private,C=P.style,M=!1;if("nodes"===P.group&&this._private.hasPie)for(var B=1;B<=e.style.pieBackgroundN;B++){if((R=P.style["pie-"+B+"-background-size"].value)>0){M=!0;break}}P.hasPie=M;var O=C["text-transform"].strValue,z=C.content.strValue,L=C["font-style"].strValue,R=C["font-size"].pxValue+"px",V=C["font-family"].strValue,A=C["font-weight"].strValue,X=C["text-valign"].strValue,F=C["text-valign"].strValue,Y=C["text-outline-width"].pxValue,q=C["text-wrap"].strValue,j=C["text-max-width"].pxValue;P.labelKey=L+"$"+R+"$"+V+"$"+A+"$"+z+"$"+O+"$"+X+"$"+F+"$"+Y+"$"+q+"$"+j,P.fontKey=L+"$"+A+"$"+R+"$"+V;var $=C.width.pxValue,W=C.height.pxValue,U=C["border-width"].pxValue;if(P.boundingBoxKey=$+"$"+W+"$"+U,"edges"===S._private.group){var G=C["control-point-step-size"].pxValue,K=C["control-point-distance"]?C["control-point-distance"].pxValue:void 0,Q=C["control-point-weight"].value,ee=C["curve-style"].strValue;P.boundingBoxKey+="$"+G+"$"+K+"$"+Q+"$"+ee}P.styleKey=Date.now()},e.styfn.applyParsedProperty=function(S,P){var C,M=P,B=S._private.style,O=e.style.types,z=e.style.properties[M.name].type,L=M.bypass,R=B[M.name],V=R&&R.bypass,A=S._private;if(("height"===P.name||"width"===P.name)&&S.isNode()){if("auto"===P.value&&!S.isParent())return!1;"auto"!==P.value&&S.isParent()&&(M=P=this.parse(P.name,"auto",L))}if(L&&M.deleteBypass){var X=B[M.name];return!X||!(!X.bypass||!X.bypassed)&&(B[M.name]=X.bypassed,!0)}var v=function(){e.util.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+S.id()+"` for property `"+M.name+"` with data field `"+M.field+"`); try a `["+M.field+"]` selector to limit scope to elements with `"+M.field+"` defined")};switch(M.mapped){case O.mapData:case O.mapLayoutData:case O.mapScratch:var F,Y=M.mapped===O.mapLayoutData,q=M.mapped===O.mapScratch,j=M.field.split(".");se=q||Y?A.scratch:A.data;for(var $=0;$<j.length&&se;$++){se=se[j[$]]}if(0>(F=e.is.number(se)?(se-M.fieldMin)/(M.fieldMax-M.fieldMin):0)?F=0:F>1&&(F=1),z.color){var W=M.valueMin[0],U=M.valueMax[0],G=M.valueMin[1],K=M.valueMax[1],Q=M.valueMin[2],ee=M.valueMax[2],te=null==M.valueMin[3]?1:M.valueMin[3],re=null==M.valueMax[3]?1:M.valueMax[3],ne=[Math.round(W+(U-W)*F),Math.round(G+(K-G)*F),Math.round(Q+(ee-Q)*F),Math.round(te+(re-te)*F)];C={bypass:M.bypass,name:M.name,value:ne,strValue:"rgb("+ne[0]+", "+ne[1]+", "+ne[2]+")"}}else{if(!z.number)return!1;var ae=M.valueMin+(M.valueMax-M.valueMin)*F;C=this.parse(M.name,ae,M.bypass,!0)}C||(C=this.parse(M.name,R.strValue,M.bypass,!0)),C||v(),C.mapping=M,M=C;break;case O.data:case O.layoutData:case O.scratch:var se;Y=M.mapped===O.layoutData,q=M.mapped===O.scratch,j=M.field.split(".");if(se=q||Y?A.scratch:A.data)for($=0;$<j.length;$++){se=se[j[$]]}if(!(C=this.parse(M.name,se,M.bypass,!0))){var le=R?R.strValue:"";C=this.parse(M.name,le,M.bypass,!0)}C||v(),C.mapping=M,M=C;break;case O.fn:var ue=(0,M.value)(S);(C=this.parse(M.name,ue,M.bypass,!0)).mapping=M,M=C;break;case void 0:break;default:return!1}return L?(M.bypassed=V?R.bypassed:R,B[M.name]=M):V?R.bypassed=M:B[M.name]=M,!0},e.styfn.update=function(){this._private.cy.elements().updateStyle()},e.styfn.updateMappers=function(S){for(var P=0;P<S.length;P++){for(var C=S[P],M=C._private.style,B=0;B<e.style.properties.length;B++){var O=M[e.style.properties[B].name];if(O&&O.mapping){var z=O.mapping;this.applyParsedProperty(C,z)}}this.updateStyleHints(C)}},e.styfn.updateTransitions=function(S,P,C){var M=this,B=S._private.style,O=B["transition-property"].value,z=B["transition-duration"].msValue,L=B["transition-delay"].msValue,R={};if(O.length>0&&z>0){for(var V=!1,A=0;A<O.length;A++){var X=O[A],F=B[X],Y=P[X];if(Y){var q=Y.prev,j=null!=Y.next?Y.next:F,$=!1;q&&(e.is.number(q.pxValue)&&e.is.number(j.pxValue)?$=q.pxValue!==j.pxValue:e.is.number(q.value)&&e.is.number(j.value)?$=q.value!==j.value:e.is.array(q.value)&&e.is.array(j.value)&&($=q.value[0]!==j.value[0]||q.value[1]!==j.value[1]||q.value[2]!==j.value[2]),$&&(R[X]=j.strValue,this.applyBypass(S,X,q.strValue),V=!0))}}if(!V)return;S._private.transitioning=!0,S.stop(),L>0&&S.delay(L),S.animate({css:R},{duration:z,queue:!1,complete:function(){C||M.removeBypasses(S,O),S._private.transitioning=!1}})}else S._private.transitioning&&(S.stop(),this.removeBypasses(S,O),S._private.transitioning=!1)}}(cytoscape),function(e){"use strict";e.styfn.applyBypass=function(S,P,C,M){var B=[];if("*"===P||"**"===P){if(void 0!==C)for(var O=0;O<e.style.properties.length;O++){P=(q=e.style.properties[O]).name;(L=this.parse(P,C,!0))&&B.push(L)}}else if(e.is.string(P)){(L=this.parse(P,C,!0))&&B.push(L)}else{if(!e.is.plainObject(P))return!1;var z=P;M=C;for(O=0;O<e.style.properties.length;O++){var L;if(void 0===(C=z[P=(q=e.style.properties[O]).name])&&(C=z[e.util.dash2camel(P)]),void 0!==C)(L=this.parse(P,C,!0))&&B.push(L)}}if(0===B.length)return!1;var R=!1;for(O=0;O<S.length;O++){for(var V,A=S[O],X=A._private.style,F={},Y=0;Y<B.length;Y++){var q=B[Y];if(M){var j=X[q.name];V=F[q.name]={prev:j}}R=this.applyParsedProperty(A,q)||R,M&&(V.next=X[q.name])}M&&this.updateTransitions(A,F,true)}return R},e.styfn.overrideBypass=function(S,P,C){for(var M=0;M<S.length;M++){var B=S[M],O=B._private.style[e.util.camel2dash(P)];O.bypass?(O.value=C,O.pxValue=C):this.applyBypass(B,P,C)}},e.styfn.removeAllBypasses=function(S,P){for(var C=0;C<S.length;C++){for(var M=S[C],B={},O=M._private.style,z=0;z<e.style.properties.length;z++){var L=e.style.properties[z],R=L.name,V=this.parse(R,"",!0),A=O[L.name],X=B[L.name]={prev:A};this.applyParsedProperty(M,V),X.next=O[L.name]}P&&this.updateTransitions(M,B,true)}},e.styfn.removeBypasses=function(S,P,C){for(var M=0;M<S.length;M++){for(var B=S[M],O={},z=B._private.style,L=0;L<P.length;L++){var R=P[L],V=e.style.properties[R],A=this.parse(R,"",!0),X=z[V.name],F=O[V.name]={prev:X};this.applyParsedProperty(B,A),F.next=z[V.name]}C&&this.updateTransitions(B,O,true)}}}(cytoscape),function(e,S){"use strict";e.styfn.getEmSizeInPixels=function(){var e=this._private.cy.container();if(S&&e&&S.getComputedStyle){var P=S.getComputedStyle(e).getPropertyValue("font-size");return parseFloat(P)}return 1},e.styfn.containerCss=function(e){var P=this._private.cy.container();return S&&P&&S.getComputedStyle?S.getComputedStyle(P).getPropertyValue(e):void 0},e.styfn.containerProperty=function(e){var S=this.containerCss(e);return this.parse(e,S)},e.styfn.containerPropertyAsString=function(e){var S=this.containerProperty(e);return S?S.strValue:void 0}}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.styfn.getRenderedStyle=function(S){if(S=S[0]){for(var P={},C=S._private.style,M=this._private.cy.zoom(),B=0;B<e.style.properties.length;B++){var O=e.style.properties[B],z=C[O.name];if(z){var L=z.unitless?z.strValue:z.pxValue*M+"px";P[O.name]=L,P[e.util.dash2camel(O.name)]=L}}return P}},e.styfn.getRawStyle=function(S){if(S=S[0]){for(var P={},C=S._private.style,M=0;M<e.style.properties.length;M++){var B=e.style.properties[M],O=C[B.name];O&&(P[B.name]=O.strValue,P[e.util.dash2camel(B.name)]=O.strValue)}return P}},e.styfn.getValueStyle=function(S,P){var C,M=(P=P||{}).array?[]:{};if(C=e.is.element(S)?S._private.style:S)for(var B=0;B<e.style.properties.length;B++){var O=e.style.properties[B],z=C[O.name]||C[e.util.dash2camel(O.name)];void 0===z||e.is.plainObject(z)||(z=this.parse(O.name,z)),z&&(P.array?M.push(z):(M[O.name]=z,M[e.util.dash2camel(O.name)]=z))}return M}}(cytoscape),function(e){"use strict";e.style.applyFromJson=function(e,S){for(var P=0;P<S.length;P++){var C=S[P],M=C.selector,B=C.style||C.css;for(var O in e.selector(M),B){var z=B[O];e.css(O,z)}}return e},e.style.fromJson=function(S,P){var C=new e.Style(S);return e.style.applyFromJson(C,P),C},e.styfn.fromJson=function(S){var P=this;return P.resetToDefault(),e.style.applyFromJson(P,S),P},e.styfn.json=function(){for(var e=[],S=this.defaultLength;S<this.length;S++){for(var P=this[S],C=P.selector,M=P.properties,B={},O=0;O<M.length;O++){var z=M[O];B[z.name]=z.strValue}e.push({selector:C?C.toString():"core",style:B})}return e}}(cytoscape),function(e){"use strict";e.style.applyFromString=function(S,P){function i(){O=O.length>C.length?O.substr(C.length):""}function n(){M=M.length>B.length?M.substr(B.length):""}var C,M,B,O=""+P;for(O=O.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){if(O.match(/^\s*$/))break;var z=O.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!z){e.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+O);break}C=z[0];var L=z[1];if("core"!==L)if(new e.Selector(L)._private.invalid){e.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+L),i();continue}var R=z[2],V=!1;M=R;for(var A=[];;){if(M.match(/^\s*$/))break;var X=M.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!X){e.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+R),V=!0;break}B=X[0];var F=X[1],Y=X[2];if(j=e.style.properties[F])S.parse(F,Y)?(A.push({name:F,val:Y}),n()):(e.util.error("Skipping property: Invalid property definition in: "+B),n());else e.util.error("Skipping property: Invalid property name in: "+B),n()}if(V){i();break}S.selector(L);for(var q=0;q<A.length;q++){var j=A[q];S.css(j.name,j.val)}i()}return S},e.style.fromString=function(S,P){var C=new e.Style(S);return e.style.applyFromString(C,P),C},e.styfn.fromString=function(S){var P=this;return P.resetToDefault(),e.style.applyFromString(P,S),P}}(cytoscape),function(e){"use strict";e.stylesheet=e.Stylesheet=function(){return this instanceof e.Stylesheet?void(this.length=0):new e.Stylesheet},e.sheetfn=e.Stylesheet.prototype,e.sheetfn.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},e.sheetfn.css=function(S,P){var C=this.length-1;if(e.is.string(S))this[C].properties.push({name:S,value:P});else if(e.is.plainObject(S))for(var M=S,B=0;B<e.style.properties.length;B++){var O=e.style.properties[B],z=M[O.name];if(void 0===z&&(z=M[e.util.dash2camel(O.name)]),void 0!==z){S=O.name,P=z;this[C].properties.push({name:S,value:P})}}return this},e.sheetfn.style=e.sheetfn.css,e.sheetfn.generateStyle=function(S){for(var P=new e.Style(S),C=0;C<this.length;C++){var M=this[C],B=M.selector,O=M.properties;P.selector(B);for(var z=0;z<O.length;z++){var L=O[z];P.css(L.name,L.value)}}return P}}(cytoscape),function(e,S){"use strict";e.Thread=function(S){return this instanceof e.Thread?(this._private={requires:[],files:[],queue:null,pass:[]},void(S&&this.run(S))):new e.Thread(S)},e.thread=e.Thread,e.thdfn=e.Thread.prototype,e.fn.thread=function(S,P){for(var C in S){var M=S[C];e.Thread.prototype[C]=M}};var r=function(S){return e.is.fn(S)?S.toString():'JSON.parse("'+JSON.stringify(S)+'")'},i=function(S){var P,C;e.is.object(S)&&S.fn?(P=a(S.fn,S.name),C=S.name,S=S.fn):e.is.fn(S)?(P=S.toString(),C=S.name):e.is.string(S)?P=S:e.is.object(S)&&(P=S.proto?"":S.name+" = {};",C=S.name,S=S.obj),P+="\n";var s=function(e,S){if(e.prototype){var C=!1;for(var M in e.prototype){C=!0;break}C&&(P+=i({name:S,obj:e,proto:!0},e))}};if(S.prototype&&null!=C)for(var M in S.prototype){var B="",O=S.prototype[M];(B+=(L=C+".prototype."+M)+" = "+r(O)+";\n")&&(P+=B),s(O,L)}if(!e.is.string(S))for(var M in S){var z="";if(S.hasOwnProperty(M)){var L;O=S[M];z+=(L=C+'["'+M+'"]')+" = "+r(O)+";\n"}z&&(P+=z),s(O,L)}return P};e.fn.thread({require:function(S,P){return function(S){return e.is.string(S)&&S.match(/\.js$/)}(S)?(this._private.files.push(S),this):(P&&(e.is.fn(S)?S={name:P=P||S.name,fn:S}:S={name:P,obj:S}),this._private.requires.push(S),this)},pass:function(e){return this._private.pass.push(e),this},run:function(P,C){var M=this,B=this._private;if(C=C||B.pass.shift(),!B.stopped){if(B.running)return B.queue=B.queue.then((function(){return M.run(P,C)}));var O=null!=S,z="undefined"!=typeof module;M.trigger("run");var L=new e.Promise((function(L,R){B.running=!0;var V=B.ran,A=e.is.string(P)?P:P.toString(),X="\n"+B.requires.map((function(e){return i(e)})).concat(B.files.map((function(e){if(O){return'importScripts("'+function(e){return e.match(/^\.\//)||e.match(/^\.\./)?S.location.origin+S.location.pathname+e:e.match(/^\//)?S.location.origin+"/"+e:e}(e)+'");'}return z?'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );':void 0}))).concat(["( function(){","var ret = ("+A+")("+JSON.stringify(C)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(B.requires=[],B.files=[],O){var F,Y;if(!V){var q=X+"";X=["function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),X+=q,F=new Blob([X],{type:"application/javascript"}),Y=S.URL.createObjectURL(F)}var j=B.webworker=B.webworker||new Worker(Y);V&&j.postMessage({$$eval:X}),j.addEventListener("message",$=function(S){var P=e.is.object(S)&&e.is.object(S.data);P&&"$$resolve"in S.data?(j.removeEventListener("message",$),L(S.data.$$resolve)):P&&"$$reject"in S.data?(j.removeEventListener("message",$),R(S.data.$$reject)):M.trigger(new e.Event(S,{type:"message",message:S.data}))},!1),V||j.postMessage("$$start")}else if(z){var $,W=require("path"),U=require("child_process"),G=B.child=B.child||U.fork(W.join(__dirname,"thread-node-fork"));G.on("message",$=function(S){e.is.object(S)&&"$$resolve"in S?(G.removeListener("message",$),L(S.$$resolve)):e.is.object(S)&&"$$reject"in S?(G.removeListener("message",$),R(S.$$reject)):M.trigger(new e.Event({},{type:"message",message:S}))}),G.send({$$eval:X})}else e.error("Tried to create thread but no underlying tech found!")})).then((function(e){return B.running=!1,B.ran=!0,M.trigger("ran"),e}));return null==B.queue&&(B.queue=L),L}e.util.error("Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.")},message:function(e){var S=this._private;return S.webworker&&S.webworker.postMessage(e),S.child&&S.child.send(e),this},stop:function(){var e=this._private;return e.webworker&&e.webworker.terminate(),e.child&&e.child.kill(),e.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var a=function(e,S){var P=e.toString();return P.replace(/function.*\(/,"function "+S+"(")},o=function(e){return e=e||{},function(S,P){var C=a(S,"_$_$_"+e.name);return this.require(C),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(P):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};e.fn.thread({reduce:o({name:"reduce"}),reduceRight:o({name:"reduceRight"}),map:o({name:"map"})});var P=e.thdfn;P.promise=P.run,P.terminate=P.halt=P.stop,P.include=P.require,e.worker=e.Worker=e.Thread,e.fn.thread({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.thdfn)}(cytoscape,"undefined"==typeof window?null:window),function(e,S){"use strict";e.Fabric=function(S){if(!(this instanceof e.Fabric))return new e.Fabric(S);this._private={pass:[]};e.is.number(S),S="undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency?navigator.hardwareConcurrency:"undefined"!=typeof module?require("os").cpus().length:4;for(var P=0;S>P;P++)this[P]=e.Thread();this.length=S},e.fabric=e.Fabric,e.fabfn=e.Fabric.prototype,e.fn.fabric=function(S,P){for(var C in S){var M=S[C];e.Fabric.prototype[C]=M}},e.fn.fabric({require:function(e,S){for(var P=0;P<this.length;P++){this[P].require(e,S)}return this},random:function(){return this[Math.round((this.length-1)*Math.random())]},run:function(e){var S=this._private.pass.shift();return this.random().pass(S).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var S=0;S<this.length;S++){this[S].message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){this[e].stop()}return this},pass:function(S){var P=this._private.pass;return e.is.array(S)?P.push(S):e.util.error("Only arrays or collections may be used with fabric.pass()"),this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);return Math.max(1,e)},spread:function(S){for(var P=this._private,C=this.spreadSize(),M=P.pass.shift().concat([]),B=[],O=0;O<this.length;O++){var z=this[O],L=M.splice(0,C),R=z.pass(L).run(S);if(B.push(R),0===M.length)break}return e.Promise.all(B).then((function(e){for(var S=[],P=0,C=0;C<e.length;C++)for(var M=e[C],B=0;B<M.length;B++){var O=M[B];S[P++]=O}return S}))},map:function(e){return this.require(e,"_$_$_fabmap"),this.spread((function(e){var S=[],P=resolve;resolve=function(e){S.push(e)};for(var C=0;C<e.length;C++){var M=S.length,B=_$_$_fabmap(e[C]);M===S.length&&S.push(B)}return resolve=P,S}))},filter:function(e){var S=this._private.pass[0];return this.map(e).then((function(e){for(var P=[],C=0;C<S.length;C++){var M=S[C];e[C]&&P.push(M)}return P}))},sort:function(e){var S=this._private.pass[0].length,P=this.spreadSize();return e=e||function(e,S){return S>e?-1:e>S?1:0},this.require(e,"_$_$_cmp"),this.spread((function(e){var S=e.sort(_$_$_cmp);resolve(S)})).then((function(C){for(var n=function(P,M,B){M=Math.min(M,S),B=Math.min(B,S);for(var O=P,z=M,L=[],R=O;B>R;R++){var V=C[P],A=C[M];z>P&&(M>=B||e(V,A)<=0)?(L.push(V),P++):(L.push(A),M++)}for(R=0;R<L.length;R++){C[O+R]=L[R]}},M=P;S>M;M*=2)for(var B=0;S>B;B+=2*M)n(B,B+M,B+2*M);return C}))}});var r=function(e){return e=e||{},function(S,P){var C=this._private.pass.shift();return this.random().pass(C)[e.threadFn](S,P)}};e.fn.fabric({randomMap:r({threadFn:"map"}),reduce:r({threadFn:"reduce"}),reduceRight:r({threadFn:"reduceRight"})});var P=e.fabfn;P.promise=P.run,P.terminate=P.halt=P.stop,P.include=P.require,e.fn.fabric({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.fabfn)}(cytoscape,"undefined"==typeof window||window),function(e,S){"use strict";var P={},C=e.util.copy(P);e.defaults=function(S){P=e.util.extend({},C,S)},e.fn.core=function(S,P){for(var C in S){var M=S[C];e.Core.prototype[C]=M}},e.Core=function(C){if(!(this instanceof e.Core))return new e.Core(C);var M=this,B=(C=e.util.extend({},P,C)).container,O=B?B._cyreg:null;if((O=O||{})&&O.cy){if(B)for(;B.firstChild;)B.removeChild(B.firstChild);O.cy.notify({type:"destroy"}),O={}}var z=O.readies=O.readies||[];B&&(B._cyreg=O),O.cy=M;var L=void 0!==S&&void 0!==B&&!C.headless,R=C;R.layout=e.util.extend({name:L?"grid":"null"},R.layout),R.renderer=e.util.extend({name:L?"canvas":"null"},R.renderer);var c=function(e,S,P){return void 0!==S?S:void 0!==P?P:e},V=this._private={container:R.container,ready:!1,initrender:!1,options:R,elements:[],id2index:{},listeners:[],onRenders:[],aniEles:e.Collection(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:c(!0,R.zoomingEnabled),userZoomingEnabled:c(!0,R.userZoomingEnabled),panningEnabled:c(!0,R.panningEnabled),userPanningEnabled:c(!0,R.userPanningEnabled),boxSelectionEnabled:c(!1,R.boxSelectionEnabled),autolock:c(!1,R.autolock,R.autolockNodes),autoungrabify:c(!1,R.autoungrabify,R.autoungrabifyNodes),autounselectify:c(!1,R.autounselectify),styleEnabled:void 0===R.styleEnabled?L:R.styleEnabled,zoom:e.is.number(R.zoom)?R.zoom:1,pan:{x:e.is.plainObject(R.pan)&&e.is.number(R.pan.x)?R.pan.x:0,y:e.is.plainObject(R.pan)&&e.is.number(R.pan.y)?R.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]},A=R.selectionType;V.selectionType=void 0===A||"additive"!==A&&"single"!==A?"single":A,e.is.number(R.minZoom)&&e.is.number(R.maxZoom)&&R.minZoom<R.maxZoom?(V.minZoom=R.minZoom,V.maxZoom=R.maxZoom):e.is.number(R.minZoom)&&void 0===R.maxZoom?V.minZoom=R.minZoom:e.is.number(R.maxZoom)&&void 0===R.minZoom&&(V.maxZoom=R.maxZoom);var X=[R.style,R.elements];!function(S){for(var P=!1,C=0;C<X.length;C++){var M=X[C];if(e.is.promise(M)){P=!0;break}}P?e.Promise.all(X).then(S):S(X)}((function(S){var P=S[0],C=S[1];V.styleEnabled&&M.setStyle(P),M.initRenderer(e.util.extend({hideEdgesOnViewport:R.hideEdgesOnViewport,hideLabelsOnViewport:R.hideLabelsOnViewport,textureOnViewport:R.textureOnViewport,wheelSensitivity:e.is.number(R.wheelSensitivity)&&R.wheelSensitivity>0?R.wheelSensitivity:1,motionBlur:void 0===R.motionBlur||R.motionBlur,motionBlurOpacity:void 0===R.motionBlurOpacity?.05:R.motionBlurOpacity,pixelRatio:e.is.number(R.pixelRatio)&&R.pixelRatio>0?R.pixelRatio:"auto"===R.pixelRatio?void 0:1,desktopTapThreshold:void 0===R.desktopTapThreshold?4:R.desktopTapThreshold,touchTapThreshold:void 0===R.touchTapThreshold?8:R.touchTapThreshold},R.renderer)),R.initrender&&(M.on("initrender",R.initrender),M.on("initrender",(function(){M._private.initrender=!0}))),M.load(C,(function(){M.startAnimationLoop(),M._private.ready=!0,e.is.fn(R.ready)&&M.on("ready",R.ready);for(var S=0;S<z.length;S++){var P=z[S];M.on("ready",P)}O&&(O.readies=[]),M.trigger("ready")}),R.done)}))},e.corefn=e.Core.prototype,e.fn.core({isReady:function(){return this._private.ready},ready:function(e){this.isReady()?this.trigger("ready",[],e):this.on("ready",e)},initrender:function(){return this._private.initrender},destroy:function(){this.notify({type:"destroy"});var e=this.container(),S=e.parentNode;if(S)try{S.removeChild(e)}catch(e){}return this},getElementById:function(S){var P=this._private.id2index[S];return void 0!==P?this._private.elements[P]:new e.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){for(var S=this._private.elements,P=this._private.id2index,C=0;C<e.length;C++){var M=e[C],B=M._private.data.id,O=P[B];void 0!==O||(O=S.length,S.push(M),P[B]=O,M._private.index=O)}return this},removeFromPool:function(e){for(var S=this._private.elements,P=this._private.id2index,C=0;C<e.length;C++){var M=e[C]._private.data.id,B=P[M];if(void 0!==B){this._private.id2index[M]=void 0,S.splice(B,1);for(var O=B;O<S.length;O++){P[S[O]._private.data.id]--,S[O]._private.index--}}}},container:function(){return this._private.container},options:function(){return e.util.copy(this._private.options)},json:function(e){var S={},P=this;return S.elements={},P.elements().each((function(e,P){var C=P.group();S.elements[C]||(S.elements[C]=[]),S.elements[C].push(P.json())})),this._private.styleEnabled&&(S.style=P.style().json()),S.zoomingEnabled=P._private.zoomingEnabled,S.userZoomingEnabled=P._private.userZoomingEnabled,S.zoom=P._private.zoom,S.minZoom=P._private.minZoom,S.maxZoom=P._private.maxZoom,S.panningEnabled=P._private.panningEnabled,S.userPanningEnabled=P._private.userPanningEnabled,S.pan=P._private.pan,S.boxSelectionEnabled=P._private.boxSelectionEnabled,S.layout=P._private.options.layout,S.renderer=P._private.options.renderer,S.hideEdgesOnViewport=P._private.options.hideEdgesOnViewport,S.hideLabelsOnViewport=P._private.options.hideLabelsOnViewport,S.textureOnViewport=P._private.options.textureOnViewport,S.wheelSensitivity=P._private.options.wheelSensitivity,S.motionBlur=P._private.options.motionBlur,S},defer:function(e){var S=this._private,P=S.deferredExecQueue;P.push(e),S.deferredTimeout||(S.deferredTimeout=setTimeout((function(){for(;P.length>0;)P.shift()();S.deferredTimeout=null}),0))}})}(cytoscape,"undefined"==typeof window?null:window),function(e,S){"use strict";function r(e){var S=!document||"interactive"!==document.readyState&&"complete"!==document.readyState?r:e;setTimeout(S,9,e)}e.fn.core({add:function(S){var P,C=this;if(e.is.elementOrCollection(S)){var M=S;if(M._private.cy===C)P=M.restore();else{for(var B=[],O=0;O<M.length;O++){var z=M[O];B.push(z.json())}P=new e.Collection(C,B)}}else if(e.is.array(S)){B=S;P=new e.Collection(C,B)}else if(e.is.plainObject(S)&&(e.is.array(S.nodes)||e.is.array(S.edges))){for(var L=S,R=(B=[],["nodes","edges"]),V=(O=0,R.length);V>O;O++){var A=R[O],X=L[A];if(e.is.array(X))for(var F=0,Y=X.length;Y>F;F++){(q=X[F]).group=A,B.push(q)}}P=new e.Collection(C,B)}else{var q=S;P=new e.Element(C,q).collection()}return P},remove:function(S){if(e.is.elementOrCollection(S));else if(e.is.string(S)){var P=S;S=this.$(P)}return S.remove()},load:function(P,C,M){function o(){B.one("layoutready",(function(e){B.notifications(!0),B.trigger(e),B.notify({type:"load",collection:B.elements()}),B.one("load",C),B.trigger("load")})).one("layoutstop",(function(){B.one("done",M),B.trigger("done")}));var S=e.util.extend({},B._private.options.layout);S.eles=B.$(),B.layout(S)}var B=this;B.notifications(!1);var O=B.elements();return O.length>0&&O.remove(),null!=P&&(e.is.plainObject(P)||e.is.array(P))&&B.add(P),S?r(o):o(),this}})}(cytoscape,"undefined"==typeof window?null:window),function(e,S){"use strict";e.fn.core({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},startAnimationLoop:function(){function i(S){function r(P,C){var B=P._private.animation.current,O=P._private.animation.queue,z=!1;if(0===B.length){var L=O.length>0?O.shift():null;L&&(L.callTime=S,B.push(L))}for(var R=[],V=B.length-1;V>=0;V--){(A=B[V]).started||n(P,A),a(P,A,S,C),A.done&&(R.push(A),B.splice(V,1)),z=!0}for(V=0;V<R.length;V++){var A,X=(A=R[V]).params.complete;e.is.fn(X)&&X.apply(P,[S])}return C||0!==B.length||0!==O.length||M.push(P),z}S=+new Date;for(var C=P._private.aniEles,M=[],B=0;B<C.length;B++){r(C[B])}var O=r(P,!0);if(C.length>0||O){var z;if(C.length>0){var L=C.updateCompoundBounds();z=L.length>0?C.add(L):C}P.notify({type:"draw",collection:z})}C.unmerge(M)}function n(S,C){var M=e.is.core(S),B=!M,O=S,z=P._private.style;if(B)var L=O._private.position,R={x:L.x,y:L.y},V=z.getValueStyle(O);if(M)var A=P._private.pan,X={x:A.x,y:A.y},F=P._private.zoom;C.started=!0,C.startTime=Date.now(),C.startPosition=R,C.startStyle=V,C.startPan=X,C.startZoom=F}function a(S,C,M,B){var O,z=P._private.style,L=C.properties,R=C.params,V=C.startTime,A=!B;if(0>(O=0===C.duration?1:Math.min(1,(M-V)/C.duration))?O=0:O>1&&(O=1),null==L.delay){var X=C.startPosition,F=L.position,Y=S._private.position;F&&A&&(o(X.x,F.x)&&(Y.x=s(X.x,F.x,O)),o(X.y,F.y)&&(Y.y=s(X.y,F.y,O)));var q=C.startPan,j=L.pan,$=S._private.pan,W=null!=j&&B;W&&(o(q.x,j.x)&&($.x=s(q.x,j.x,O)),o(q.y,j.y)&&($.y=s(q.y,j.y,O)),S.trigger("pan"));var U=C.startZoom,G=L.zoom,K=null!=G&&B;K&&(o(U,G)&&(S._private.zoom=s(U,G,O)),S.trigger("zoom")),(W||K)&&S.trigger("viewport");var Q=L.style||L.css;if(Q&&A)for(var ee=0;ee<Q.length;ee++){var te=Q[ee].name,re=Q[ee],ne=s(C.startStyle[te],re,O);z.overrideBypass(S,te,ne)}}return e.is.fn(R.step)&&R.step.apply(S,[M]),O>=1&&(C.done=!0),O}function o(S,P){return null!=S&&null!=P&&(!(!e.is.number(S)||!e.is.number(P))||!(!S||!P))}function s(S,P,C){var M,B;if(0>C?C=0:C>1&&(C=1),M=null!=S.pxValue||null!=S.value?null!=S.pxValue?S.pxValue:S.value:S,B=null!=P.pxValue||null!=P.value?null!=P.pxValue?P.pxValue:P.value:P,e.is.number(M)&&e.is.number(B))return M+(B-M)*C;if(e.is.number(M[0])&&e.is.number(B[0])){var O=M,z=B,l=function(e,S){var P=S-e,M=e;return Math.round(C*P+M)};return[l(O[0],z[0]),l(O[1],z[1]),l(O[2],z[2])]}}var P=this;P.styleEnabled()&&S&&function r(){e.util.requestAnimationFrame((function(e){i(e),r()}))}()}})}(cytoscape,"undefined"==typeof window?null:window),function(e){"use strict";e.fn.core({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:e.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:e.define.removeData({field:"scratch",triggerEvent:!1})})}(cytoscape),function(e){"use strict";e.fn.core({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.define.eventAliasesOn(e.corefn)}(cytoscape),function(e){"use strict";e.fn.core({png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var S=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",S.jpg(e)}}),e.corefn.jpeg=e.corefn.jpg}(cytoscape),function(e){"use strict";e.fn.core({layout:function(S){return null==S&&((S=e.util.extend({},this._private.options.layout)).eles=this.$()),this.initLayout(S).run(),this},makeLayout:function(e){return this.initLayout(e)},initLayout:function(S){if(null!=S)if(null!=S.name){var P=S.name,C=e.extension("layout",P);if(null!=C){S.eles=null!=S.eles?S.eles:this.$(),e.is.string(S.eles)&&(S.eles=this.$(S.eles));var M=new C(e.util.extend({},S,{cy:this}));return e.is.plainObject(M._private)||(M._private={}),M._private.cy=this,M._private.listeners=[],M}e.util.error("Can not apply layout: No such layout `"+P+"` found; did you include its JS file?")}else e.util.error("A `name` must be specified to make a layout");else e.util.error("Layout options must be specified to make a layout")}}),e.corefn.createLayout=e.corefn.makeLayout}(cytoscape),function(e){"use strict";e.fn.core({notify:function(e){if(this._private.batchingNotify){var S=this._private.batchNotifyEles,P=this._private.batchNotifyTypes;if(e.collection)for(var C=0;C<e.collection.length;C++){var M=e.collection[C];S.ids[M._private.id]||S.push(M)}P.ids[e.type]||P.push(e.type)}else{if(this._private.notificationsEnabled)this.renderer().notify(e)}},notifications:function(e){var S=this._private;return void 0===e?S.notificationsEnabled:void(S.notificationsEnabled=!!e)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},startBatch:function(){var e=this._private;return e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=[],e.batchNotifyEles=[],e.batchNotifyTypes=[],e.batchStyleEles.ids={},e.batchNotifyEles.ids={},e.batchNotifyTypes.ids={},this},endBatch:function(){var S=this._private;return S.batchingStyle=!1,new e.Collection(this,S.batchStyleEles).updateStyle(),S.batchingNotify=!1,this.notify({type:S.batchNotifyTypes,collection:S.batchNotifyEles}),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var S=this;return this.batch((function(){for(var P in e){var C=e[P];S.getElementById(P).data(C)}}))}})}(cytoscape),function(e){"use strict";e.fn.core({renderTo:function(e,S,P,C){return this._private.renderer.renderTo(e,S,P,C),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(S){var P=e.extension("renderer",S.name);return null==P?void e.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",S.name):void(this._private.renderer=new P(e.util.extend({},S,{cy:this,style:this._private.style})))},triggerOnRender:function(){for(var e=this._private.onRenders,S=0;S<e.length;S++){(0,e[S])()}return this},onRender:function(e){return this._private.onRenders.push(e),this},offRender:function(e){var S=this._private.onRenders;if(null==e)return this._private.onRenders=[],this;for(var P=0;P<S.length;P++){if(e===S[P]){S.splice(P,1);break}}return this}})}(cytoscape),function(e){"use strict";e.fn.core({collection:function(S){return e.is.string(S)?this.$(S):e.is.elementOrCollection(S)?S.collection():e.is.array(S)?new e.Collection(this,S):new e.Collection(this)},nodes:function(e){var S=this.$((function(){return this.isNode()}));return e?S.filter(e):S},edges:function(e){var S=this.$((function(){return this.isEdge()}));return e?S.filter(e):S},$:function(S){var P=new e.Collection(this,this._private.elements);return S?P.filter(S):P}}),e.corefn.elements=e.corefn.filter=e.corefn.$}(cytoscape),function(e){"use strict";e.fn.core({style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(S){var P=this._private;return P.style=e.is.stylesheet(S)?S.generateStyle(this):e.is.array(S)?e.style.fromJson(this,S):e.is.string(S)?e.style.fromString(this,S):new e.Style(this),P.style}})}(cytoscape),function(e){"use strict";e.fn.core({autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var S,P,C,M,B,O=arguments,z=this._private.pan;switch(O.length){case 0:return z;case 1:if(e.is.string(O[0]))return z[S=O[0]];if(e.is.plainObject(O[0])){if(!this._private.panningEnabled)return this;M=(C=O[0]).x,B=C.y,e.is.number(M)&&(z.x=M),e.is.number(B)&&(z.y=B),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;P=O[1],"x"!==(S=O[0])&&"y"!==S||!e.is.number(P)||(z[S]=P),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(S){var P,C,M,B,O,z=arguments,L=this._private.pan;if(!this._private.panningEnabled)return this;switch(z.length){case 1:e.is.plainObject(z[0])&&(B=(M=z[0]).x,O=M.y,e.is.number(B)&&(L.x+=B),e.is.number(O)&&(L.y+=O),this.trigger("pan viewport"));break;case 2:C=z[1],"x"!==(P=z[0])&&"y"!==P||!e.is.number(C)||(L[P]+=C),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,S){var P=this.getFitViewport(e,S);if(P){var C=this._private;C.zoom=P.zoom,C.pan=P.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(S,P){if(e.is.number(S)&&void 0===P&&(P=S,S=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var C;if(e.is.string(S)){var M=S;S=this.$(M)}else if(e.is.boundingBox(S)){var B=S;(C={x1:B.x1,y1:B.y1,x2:B.x2,y2:B.y2}).w=C.x2-C.x1,C.h=C.y2-C.y1}else e.is.elementOrCollection(S)||(S=this.elements());C=C||S.boundingBox();var O,z=this.width(),L=this.height();if(P=e.is.number(P)?P:0,!isNaN(z)&&!isNaN(L)&&z>0&&L>0&&!isNaN(C.w)&&!isNaN(C.h)&&C.w>0&&C.h>0)return{zoom:O=(O=(O=Math.min((z-2*P)/C.w,(L-2*P)/C.h))>this._private.maxZoom?this._private.maxZoom:O)<this._private.minZoom?this._private.minZoom:O,pan:{x:(z-O*(C.x1+C.x2))/2,y:(L-O*(C.y1+C.y2))/2}}}},minZoom:function(S){return void 0===S?this._private.minZoom:(e.is.number(S)&&(this._private.minZoom=S),this)},maxZoom:function(S){return void 0===S?this._private.maxZoom:(e.is.number(S)&&(this._private.maxZoom=S),this)},zoom:function(S){var P,C;if(void 0===S)return this._private.zoom;if(e.is.number(S))C=S;else if(e.is.plainObject(S)){if(C=S.level,S.position){var M=S.position,B=this._private.pan,O=this._private.zoom;P={x:M.x*O+B.x,y:M.y*O+B.y}}else S.renderedPosition&&(P=S.renderedPosition);if(P&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!e.is.number(C)||P&&(!e.is.number(P.x)||!e.is.number(P.y)))return this;if(C=(C=C>this._private.maxZoom?this._private.maxZoom:C)<this._private.minZoom?this._private.minZoom:C,P){var z=this._private.pan,L=this._private.zoom,R=C,V={x:-R/L*(P.x-z.x)+P.x,y:-R/L*(P.y-z.y)+P.y};this._private.zoom=C,this._private.pan=V;var A=z.x!==V.x||z.y!==V.y;this.trigger(" zoom "+(A?" pan ":"")+" viewport ")}else this._private.zoom=C,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(S){var P=this._private,C=!0,M=!0,B=[],O=!1,z=!1;if(!S)return this;if(e.is.number(S.zoom)||(C=!1),e.is.plainObject(S.pan)||(M=!1),!C&&!M)return this;if(C){var L=S.zoom;L<P.minZoom||L>P.maxZoom||!P.zoomingEnabled?O=!0:(P.zoom=L,B.push("zoom"))}if(M&&(!O||!S.cancelOnFailedZoom)&&P.panningEnabled){var R=S.pan;e.is.number(R.x)&&(P.pan.x=R.x,z=!1),e.is.number(R.y)&&(P.pan.y=R.y,z=!1),z||B.push("pan")}return B.length>0&&(B.push("viewport"),this.trigger(B.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var S=this.getCenterPan(e);return S&&(this._private.pan=S,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(S,P){if(this._private.panningEnabled){if(e.is.string(S)){var C=S;S=this.elements(C)}else e.is.elementOrCollection(S)||(S=this.elements());var M=S.boundingBox(),B=this.width(),O=this.height();return{x:(B-(P=void 0===P?this._private.zoom:P)*(M.x1+M.x2))/2,y:(O-P*(M.y1+M.y2))/2}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},width:function(){var e=this._private.container;return e?e.clientWidth:1},height:function(){var e=this._private.container;return e?e.clientHeight:1},extent:function(){var e=this._private.pan,S=this._private.zoom,P=this.renderedExtent(),C={x1:(P.x1-e.x)/S,x2:(P.x2-e.x)/S,y1:(P.y1-e.y)/S,y2:(P.y2-e.y)/S};return C.w=C.x2-C.x1,C.h=C.y2-C.y1,C},renderedExtent:function(){var e=this.width(),S=this.height();return{x1:0,y1:0,x2:e,y2:S,w:e,h:S}}}),e.corefn.centre=e.corefn.center,e.corefn.autolockNodes=e.corefn.autolock,e.corefn.autoungrabifyNodes=e.corefn.autoungrabify}(cytoscape),function(e){"use strict";e.fn.collection=e.fn.eles=function(S,P){for(var C in S){var M=S[C];e.Collection.prototype[C]=M}};var S={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(S,P,C){var M=(e.is.element(P)?P._private:P).group,B=null!=C?C:this.prefix[M]+this.id[M];if(S.getElementById(B).empty())this.id[M]++;else for(;!S.getElementById(B).empty();)B=this.prefix[M]+ ++this.id[M];return B}};e.Element=function(S,P,C){if(!(this instanceof e.Element))return new e.Element(S,P,C);if(C=!(void 0!==C&&!C),void 0!==S&&void 0!==P&&e.is.core(S))if("nodes"===P.group||"edges"===P.group){if(this.length=1,this[0]=this,this._private={cy:S,single:!0,data:P.data||{},position:P.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:P.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!P.selected,selectable:void 0===P.selectable||!!P.selectable,locked:!!P.locked,grabbed:!1,grabbable:void 0===P.grabbable||!!P.grabbable,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:P.scratch||{},edges:[],children:[]},P.renderedPosition){var M=P.renderedPosition,B=S.pan(),O=S.zoom();this._private.position={x:(M.x-B.x)/O,y:(M.y-B.y)/O}}if(e.is.string(P.classes))for(var z=P.classes.split(/\s+/),L=0,R=z.length;R>L;L++){var V=z[L];V&&""!==V&&(this._private.classes[V]=!0)}P.css&&S.style().applyBypass(this,P.css),(void 0===C||C)&&this.restore()}else e.util.error("An element must be of type `nodes` or `edges`; you specified `"+P.group+"`");else e.util.error("An element must have a core reference and parameters set")},e.Collection=function(P,C,M){if(!(this instanceof e.Collection))return new e.Collection(P,C);if(void 0!==P&&e.is.core(P)){var B={},O={},z=!1;if(C){if(C.length>0&&e.is.plainObject(C[0])&&!e.is.element(C[0])){z=!0;for(var L=[],R={},V=0,A=C.length;A>V;V++){var X=C[V];null==X.data&&(X.data={});var F=X.data;if(null==F.id)F.id=S.generate(P,X);else if(0!==P.getElementById(F.id).length||R[F.id])continue;var Y=new e.Element(P,X,!1);L.push(Y),R[F.id]=!0}C=L}}else C=[];this.length=0;for(V=0,A=C.length;A>V;V++){var q=C[V];if(q){var j=q._private.data.id;(!M||M.unique&&!B[j])&&(B[j]=q,O[j]=this.length,this[this.length]=q,this.length++)}}this._private={cy:P,ids:B,indexes:O},z&&this.restore()}else e.util.error("A collection must have a reference to the core")},e.elefn=e.elesfn=e.Element.prototype=e.Collection.prototype,e.elesfn.cy=function(){return this._private.cy},e.elesfn.element=function(){return this[0]},e.elesfn.collection=function(){return e.is.collection(this)?this:new e.Collection(this._private.cy,[this])},e.elesfn.unique=function(){return new e.Collection(this._private.cy,this,{unique:!0})},e.elesfn.getElementById=function(S){var P=this._private.cy,C=this._private.ids[S];return C||e.Collection(P)},e.elesfn.json=function(){var S=this.element();if(null!=S){var P=S._private,C=e.util.copy({data:P.data,position:P.position,group:P.group,bypass:P.bypass,removed:P.removed,selected:P.selected,selectable:P.selectable,locked:P.locked,grabbed:P.grabbed,grabbable:P.grabbable,classes:""}),M=[];for(var B in P.classes)P.classes[B]&&M.push(B);for(var O=0;O<M.length;O++){B=M[O];C.classes+=B+(O<M.length-1?" ":"")}return C}},e.elesfn.jsons=function(){for(var e=[],S=0;S<this.length;S++){var P=this[S].json();e.push(P)}return e},e.elesfn.clone=function(){for(var S=this.cy(),P=[],C=0;C<this.length;C++){var M=this[C].json(),B=new e.Element(S,M,!1);P.push(B)}return new e.Collection(S,P)},e.elesfn.copy=e.elesfn.clone,e.elesfn.restore=function(P){var C=this,M=[],B=C.cy();void 0===P&&(P=!0);for(var O,z=[],L=[],R=0,V=0,A=C.length;A>V;V++){(X=C[V]).isNode()?(z.push(X),R++):(L.push(X))}for(V=0,A=(O=z.concat(L)).length;A>V;V++){var X;if((X=O[V]).removed()){var F=X._private;if(void 0===(re=F.data).id)re.id=S.generate(B,X);else{if(e.is.emptyString(re.id)||!e.is.string(re.id)){e.util.error("Can not create element with invalid string ID `"+re.id+"`");continue}if(0!==B.getElementById(re.id).length){e.util.error("Can not create second element with ID `"+re.id+"`");continue}}var Y=re.id;if(X.isEdge()){for(var q=X,j=["source","target"],$=j.length,W=!1,U=0;$>U;U++){var G=j[U],K=re[G];null==K||""===K?(e.util.error("Can not create edge `"+Y+"` with unspecified "+G),W=!0):B.getElementById(K).empty()&&(e.util.error("Can not create edge `"+Y+"` with nonexistant "+G+" `"+K+"`"),W=!0)}if(W)continue;var Q=B.getElementById(re.source),ee=B.getElementById(re.target);Q._private.edges.push(q),ee._private.edges.push(q),q._private.source=Q,q._private.target=ee}F.ids={},F.ids[Y]=X,F.removed=!1,B.addToPool(X),M.push(X)}}for(V=0;R>V;V++){var te=O[V],re=te._private.data,ne=te._private.data.parent;if(null!=ne){var ae=B.getElementById(ne);if(ae.empty())re.parent=void 0;else{for(var se=!1,le=ae;!le.empty();){if(te.same(le)){se=!0,re.parent=void 0;break}le=le.parent()}se||(ae[0]._private.children.push(te),te._private.parent=ae[0],B._private.hasCompoundNodes=!0)}}}(M=new e.Collection(B,M)).length>0&&(M.add(M.connectedNodes()).add(M.parent()).updateStyle(P),P?M.rtrigger("add"):M.trigger("add"));return C},e.elesfn.removed=function(){var e=this[0];return e&&e._private.removed},e.elesfn.inside=function(){var e=this[0];return e&&!e._private.removed},e.elesfn.remove=function(S){function n(e){B[e.id()]||(B[e.id()]=!0,e.isNode()?(M.push(e),function r(e){for(var S=e._private.edges,P=0;P<S.length;P++)n(S[P])}(e),function i(e){for(var S=e._private.children,P=0;P<S.length;P++)n(S[P])}(e)):M.unshift(e))}function a(e,S){for(var P=e._private.edges,C=0;C<P.length;C++){if(S===P[C]){P.splice(C,1);break}}}function o(e,S){S=S[0];for(var P=(e=e[0])._private.children,C=0;C<P.length;C++)if(P[C][0]===S[0]){P.splice(C,1);break}}var P=this,C=[],M=[],B={},O=P._private.cy;void 0===S&&(S=!0);for(var z=0,L=P.length;L>z;z++){n(Y=P[z])}for(z=0;z<M.length;z++){if((Y=M[z])._private.removed=!0,O.removeFromPool(Y),C.push(Y),Y.isEdge()){var R=Y.source()[0],V=Y.target()[0];a(R,Y),a(V,Y)}else{0!==(q=Y.parent()).length&&o(q,Y)}}var A=O._private.elements;O._private.hasCompoundNodes=!1;for(z=0;z<A.length;z++){if((Y=A[z]).isParent()){O._private.hasCompoundNodes=!0;break}}var X=new e.Collection(this.cy(),C);X.size()>0&&(S&&this.cy().notify({type:"remove",collection:X}),X.trigger("remove"));var F={};for(z=0;z<M.length;z++){var Y,q,j="nodes"===(Y=M[z])._private.group,$=Y._private.data.parent;if(j&&void 0!==$&&!F[$])F[$]=!0,(q=O.getElementById($))&&0!==q.length&&!q._private.removed&&0===q.children().length&&q.updateStyle()}return this},e.elesfn.move=function(e){var S=this._private.cy;if(void 0!==e.source||void 0!==e.target){var P=e.source,C=e.target,M=S.getElementById(P).length>0,B=S.getElementById(C).length>0;if(M||B){var O=this.jsons();this.remove();for(var z=0;z<O.length;z++){"edges"===(A=O[z]).group&&(M&&(A.data.source=P),B&&(A.data.target=C))}return S.add(O)}}else if(void 0!==e.parent){var L=e.parent;if(null===L||S.getElementById(L).length>0){O=this.jsons();var R=this.descendants(),V=R.merge(R.add(this).connectedEdges());this.remove();for(z=0;z<this.length;z++){var A;"nodes"===(A=O[z]).group&&(A.data.parent=null===L?void 0:L)}}return S.add(O).merge(V.restore())}return this}}(cytoscape),function(e){"use strict";e.fn.eles({stdBreadthFirstSearch:function(S){return S=e.util.extend({},S,{std:!0}),this.breadthFirstSearch(S)},breadthFirstSearch:function(S,P,C){var M,B,O;e.is.plainObject(S)&&!e.is.elementOrCollection(S)&&(S=(M=S).roots,P=M.visit,C=M.directed,B=M.std,O=M.thisArg),C=2!==arguments.length||e.is.fn(P)?C:P,P=e.is.fn(P)?P:function(){};for(var z,L=this._private.cy,R=e.is.string(S)?this.filter(S):S,V=[],A=[],X={},F={},Y={},q=0,j=this.nodes(),$=this.edges(),W=0;W<R.length;W++)R[W].isNode()&&(V.unshift(R[W]),Y[R[W].id()]=!0,A.push(R[W]),F[R[W].id()]=0);for(;0!==V.length;){var U,G=F[(R=V.shift()).id()],K=X[R.id()],Q=null==K?void 0:K.connectedNodes().not(R)[0];if(!0===(U=B?P.call(O,R,K,Q,q++,G):P.call(R,q++,G,R,K,Q))){z=R;break}if(!1===U)break;var ee=R.connectedEdges(C?function(){return this.data("source")===R.id()}:void 0).intersect($);for(W=0;W<ee.length;W++){var te=ee[W],re=te.connectedNodes((function(){return this.id()!==R.id()})).intersect(j);0===re.length||Y[re.id()]||(re=re[0],V.push(re),Y[re.id()]=!0,F[re.id()]=F[R.id()]+1,A.push(re),X[re.id()]=te)}}var ne=[];for(W=0;W<A.length;W++){var ae=A[W],se=X[ae.id()];se&&ne.push(se),ne.push(ae)}return{path:new e.Collection(L,ne,{unique:!0}),found:new e.Collection(L,z,{unique:!0})}},stdDepthFirstSearch:function(S){return S=e.util.extend({},S,{std:!0}),this.depthFirstSearch(S)},depthFirstSearch:function(S,P,C){var M,B,O;e.is.plainObject(S)&&!e.is.elementOrCollection(S)&&(S=(M=S).roots,P=M.visit,C=M.directed,B=M.std,O=M.thisArg),C=2!==arguments.length||e.is.fn(P)?C:P,P=e.is.fn(P)?P:function(){};for(var z,L=this._private.cy,R=e.is.string(S)?this.filter(S):S,V=[],A=[],X={},F={},Y={},q=0,j=this.edges(),$=this.nodes(),W=0;W<R.length;W++)R[W].isNode()&&(V.push(R[W]),A.push(R[W]),F[R[W].id()]=0);for(;0!==V.length;){if(!Y[(R=V.pop()).id()]){Y[R.id()]=!0;var U,G=F[R.id()],K=X[R.id()],Q=null==K?void 0:K.connectedNodes().not(R)[0];if(!0===(U=B?P.call(O,R,K,Q,q++,G):P.call(R,q++,G,R,K,Q))){z=R;break}if(!1===U)break;var ee=R.connectedEdges(C?function(){return this.data("source")===R.id()}:void 0).intersect(j);for(W=0;W<ee.length;W++){var te=ee[W],re=te.connectedNodes((function(){return this.id()!==R.id()})).intersect($);0===re.length||Y[re.id()]||(re=re[0],V.push(re),F[re.id()]=F[R.id()]+1,A.push(re),X[re.id()]=te)}}}var ne=[];for(W=0;W<A.length;W++){var ae=A[W],se=X[ae.id()];se&&ne.push(se),ne.push(ae)}return{path:new e.Collection(L,ne,{unique:!0}),found:new e.Collection(L,z,{unique:!0})}},kruskal:function(S){function r(e){for(var S=0;S<C.length;S++){var P=C[S];if(P.anySame(e))return{eles:P,index:S}}}S=e.is.fn(S)?S:function(){return 1};for(var P=new e.Collection(this._private.cy,[]),C=[],M=this.nodes(),B=0;B<M.length;B++)C.push(M[B].collection());var O=this.edges().toArray().sort((function(e,P){return S.call(e,e)-S.call(P,P)}));for(B=0;B<O.length;B++){var z=O[B],L=z.source()[0],R=z.target()[0],V=r(L),A=r(R);V.index!==A.index&&(P=P.add(z),C[V.index]=V.eles.add(A.eles),C.splice(A.index,1))}return M.add(P)},dijkstra:function(S,P,C){var M;e.is.plainObject(S)&&!e.is.elementOrCollection(S)&&(S=(M=S).root,P=M.weight,C=M.directed);var B=this._private.cy;P=e.is.fn(P)?P:function(){return 1};for(var O=e.is.string(S)?this.filter(S)[0]:S[0],z={},L={},R={},V=this.edges().filter((function(){return!this.isLoop()})),A=this.nodes(),X=[],F=0;F<A.length;F++)z[A[F].id()]=A[F].same(O)?0:1/0,X.push(A[F]);X=new e.Collection(B,X);for(var Y=e.Minheap(B,X,(function(e){return z[e.id()]})),g=function(e,S){for(var M,B=(C?e.edgesTo(S):e.edgesWith(S)).intersect(V),O=1/0,z=0;z<B.length;z++){var L=B[z],R=P.apply(L,[L]);(O>R||!M)&&(O=R,M=L)}return{edge:M,dist:O}};Y.size()>0;){var q=Y.pop(),j=q.value,$=q.id,W=B.getElementById($);if(R[$]=j,j===Math.Infinite)break;var U=W.neighborhood().intersect(A);for(F=0;F<U.length;F++){var G=U[F],K=G.id(),Q=g(W,G),ee=j+Q.dist;ee<Y.getValueById(K)&&(Y.edit(K,ee),L[K]={node:W,edge:Q.edge})}}return{distanceTo:function(S){var P=e.is.string(S)?A.filter(S)[0]:S[0];return R[P.id()]},pathTo:function(S){var P=e.is.string(S)?A.filter(S)[0]:S[0],C=[],M=P;if(P.length>0)for(C.unshift(P);L[M.id()];){var O=L[M.id()];C.unshift(O.edge),C.unshift(O.node),M=O.node}return new e.Collection(B,C)}}}}),e.elesfn.bfs=e.elesfn.breadthFirstSearch,e.elesfn.dfs=e.elesfn.depthFirstSearch,e.elesfn.stdBfs=e.elesfn.stdBreadthFirstSearch,e.elesfn.stdDfs=e.elesfn.stdDepthFirstSearch}(cytoscape),function(e){"use strict";e.fn.eles({aStar:function(S){S=S||{};var r=function(e,S,C,M){if(e==S)return M.push(P.getElementById(S)),M;if(S in C){var B=C[S],O=A[S];return M.push(P.getElementById(S)),M.push(P.getElementById(O)),r(e,B,C,M)}},i=function(e,S){if(0!==e.length){for(var P=0,C=S[e[0]],M=1;M<e.length;M++){var B=S[e[M]];C>B&&(C=B,P=M)}return P}},P=this._private.cy;if(null!=S&&null!=S.root){var C=e.is.string(S.root)?this.filter(S.root)[0]:S.root[0];if(null!=S.goal){var M=e.is.string(S.goal)?this.filter(S.goal)[0]:S.goal[0];if(null!=S.heuristic&&e.is.fn(S.heuristic))var B=S.heuristic;else B=function(){return 0};if(null!=S.weight&&e.is.fn(S.weight))var O=S.weight;else O=function(e){return 1};if(null!=S.directed)var z=S.directed;else z=!1;var L=[],R=[C.id()],V={},A={},X={},F={};X[C.id()]=0,F[C.id()]=B(C);for(var Y=this.edges().stdFilter((function(e){return!e.isLoop()})),q=this.nodes(),j=0;R.length>0;){var $=i(R,F),W=P.getElementById(R[$]);if(j++,W.id()==M.id()){var U=r(C.id(),M.id(),V,[]);return U.reverse(),{found:!0,distance:X[W.id()],path:new e.Collection(P,U),steps:j}}L.push(W.id()),R.splice($,1);var G=W.connectedEdges();z&&(G=G.stdFilter((function(e){return e.data("source")===W.id()}))),G=G.intersect(Y);for(var K=0;K<G.length;K++){var Q=G[K],ee=Q.connectedNodes().stdFilter((function(e){return e.id()!==W.id()})).intersect(q);if(-1==L.indexOf(ee.id())){var te=X[W.id()]+O.apply(Q,[Q]);-1!=R.indexOf(ee.id())?te<X[ee.id()]&&(X[ee.id()]=te,F[ee.id()]=te+B(ee),V[ee.id()]=W.id()):(X[ee.id()]=te,F[ee.id()]=te+B(ee),R.push(ee.id()),V[ee.id()]=W.id(),A[ee.id()]=Q.id())}}}return{found:!1,distance:void 0,path:void 0,steps:j}}}},floydWarshall:function(S){S=S||{};var P=this._private.cy;if(null!=S.weight&&e.is.fn(S.weight))var C=S.weight;else C=function(e){return 1};if(null!=S.directed)var M=S.directed;else M=!1;for(var B=this.edges().stdFilter((function(e){return!e.isLoop()})),O=this.nodes(),z=O.length,L={},R=0;z>R;R++)L[O[R].id()]=R;var V=[];for(R=0;z>R;R++){for(var A=new Array(z),X=0;z>X;X++)A[X]=R==X?0:1/0;V.push(A)}var F=[],Y=[],f=function(e){for(var S=0;z>S;S++){for(var P=new Array(z),C=0;z>C;C++)P[C]=void 0;e.push(P)}};f(F),f(Y);for(R=0;R<B.length;R++){var q=L[B[R].source().id()],j=L[B[R].target().id()],$=C.apply(B[R],[B[R]]);V[q][j]>$&&(V[q][j]=$,F[q][j]=j,Y[q][j]=B[R])}if(!M)for(R=0;R<B.length;R++){q=L[B[R].target().id()],j=L[B[R].source().id()],$=C.apply(B[R],[B[R]]);V[q][j]>$&&(V[q][j]=$,F[q][j]=j,Y[q][j]=B[R])}for(var W=0;z>W;W++)for(R=0;z>R;R++)for(X=0;z>X;X++)V[R][W]+V[W][X]<V[R][X]&&(V[R][X]=V[R][W]+V[W][X],F[R][X]=F[R][W]);var U=[];for(R=0;z>R;R++)U.push(O[R].id());var G={distance:function(S,C){if(e.is.string(S))var M=P.filter(S)[0].id();else M=S.id();if(e.is.string(C))var B=P.filter(C)[0].id();else B=C.id();return V[L[M]][L[B]]},path:function(S,C){if(e.is.string(S))var M=P.filter(S)[0].id();else M=S.id();if(e.is.string(C))var B=P.filter(C)[0].id();else B=C.id();var O=function(e,S,C,M,B){if(e===S)return P.getElementById(M[e]);if(void 0!==C[e][S]){for(var O=[P.getElementById(M[e])],z=e;e!==S;){z=e,e=C[e][S];var L=B[z][e];O.push(L),O.push(P.getElementById(M[e]))}return O}}(L[M],L[B],F,U,Y);return new e.Collection(P,O)}};return G},bellmanFord:function(S){if(null!=(S=S||{}).weight&&e.is.fn(S.weight))var P=S.weight;else P=function(e){return 1};if(null!=S.directed)var C=S.directed;else C=!1;if(null!=S.root){if(e.is.string(S.root))var M=this.filter(S.root)[0];else M=S.root[0];for(var B=this._private.cy,O=this.edges().stdFilter((function(e){return!e.isLoop()})),z=this.nodes(),L=z.length,R={},V=0;L>V;V++)R[z[V].id()]=V;var A=[],X=[],F=[];for(V=0;L>V;V++)A[V]=z[V].id()===M.id()?0:1/0,X[V]=void 0;var Y=!1;for(V=1;L>V;V++){Y=!1;for(var q=0;q<O.length;q++){var j,$=R[O[q].source().id()],W=R[O[q].target().id()],U=P.apply(O[q],[O[q]]);if((j=A[$]+U)<A[W]&&(A[W]=j,X[W]=$,F[W]=O[q],Y=!0),!C)(j=A[W]+U)<A[$]&&(A[$]=j,X[$]=W,F[$]=O[q],Y=!0)}if(!Y)break}if(Y)for(q=0;q<O.length;q++){$=R[O[q].source().id()],W=R[O[q].target().id()],U=P.apply(O[q],[O[q]]);if(A[$]+U<A[W])return e.util.error("Error: graph contains a negative weigth cycle!"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}var G=[];for(V=0;L>V;V++)G.push(z[V].id());var K={distanceTo:function(S){if(e.is.string(S))var P=B.filter(S)[0].id();else P=S.id();return A[R[P]]},pathTo:function(S){if(e.is.string(S))var P=B.filter(S)[0].id();else P=S.id();var C=function(e,S,P,C,M,O){for(;;){if(M.push(B.getElementById(C[P])),M.push(O[P]),S===P)return M;var z=e[P];if(void 0===z)return;P=z}}(X,R[M.id()],R[P],G,[],F);return null!=C&&C.reverse(),new e.Collection(B,C)},hasNegativeWeightCycle:!1};return K}e.util.error("options.root required")},kargerStein:function(S){S=S||{};var i=function(e,S,P,C){if(C>=P)return S;var M=function(e,S,P){for(var C=P[e],M=C[1],B=C[2],O=S[M],z=S[B],L=P.filter((function(e){return!(S[e[1]]===O&&S[e[2]]===z||S[e[1]]===z&&S[e[2]]===O)})),R=0;R<L.length;R++){var V=L[R];V[1]===z?(L[R]=V.slice(0),L[R][1]=O):V[2]===z&&(L[R]=V.slice(0),L[R][2]=O)}for(R=0;R<S.length;R++)S[R]===z&&(S[R]=O);return L}(Math.floor(Math.random()*S.length),e,S);return i(e,M,P-1,C)},P=this._private.cy,C=this.edges().stdFilter((function(e){return!e.isLoop()})),M=this.nodes(),B=M.length,O=C.length,z=Math.ceil(Math.pow(Math.log(B)/Math.LN2,2)),L=Math.floor(B/Math.sqrt(2));if(!(2>B)){for(var R={},V=0;B>V;V++)R[M[V].id()]=V;var A=[];for(V=0;O>V;V++){var X=C[V];A.push([V,R[X.source().id()],R[X.target().id()]])}var F,Y=1/0,q=[];for(V=0;B>V;V++)q.push(V);for(var j=0;z>=j;j++){var $=q.slice(0),W=i($,A,B,L),U=$.slice(0),G=i($,W,L,2),K=i(U,W,L,2);G.length<=K.length&&G.length<Y?(Y=G.length,F=[G,$]):K.length<=G.length&&K.length<Y&&(Y=K.length,F=[K,U])}var Q=F[0].map((function(e){return C[e[0]]})),ee=[],te=[],re=F[1][0];for(V=0;V<F[1].length;V++){F[1][V]===re?ee.push(M[V]):te.push(M[V])}return{cut:new e.Collection(P,Q),partition1:new e.Collection(P,ee),partition2:new e.Collection(P,te)}}e.util.error("At least 2 nodes are required for KargerSteing algorithm!")},pageRank:function(S){var r=function(e){for(var S=e.length,P=0,C=0;S>C;C++)P+=e[C];for(C=0;S>C;C++)e[C]=e[C]/P};if(null!=(S=S||{})&&null!=S.dampingfactor)var P=S.dampingFactor;else P=.8;if(null!=S&&null!=S.precision)var C=S.precision;else C=1e-6;if(null!=S&&null!=S.iterations)var M=S.iterations;else M=200;if(null!=S&&null!=S.weight&&e.is.fn(S.weight))var B=S.weight;else B=function(e){return 1};for(var O=this._private.cy,z=this.edges().stdFilter((function(e){return!e.isLoop()})),L=this.nodes(),R=L.length,V=z.length,A={},X=0;R>X;X++)A[L[X].id()]=X;var F=[],Y=[],q=(1-P)/R;for(X=0;R>X;X++){for(var j=[],$=0;R>$;$++)j.push(0);F.push(j),Y.push(0)}for(X=0;V>X;X++){var W=z[X],U=A[W.source().id()],G=A[W.target().id()],K=B.apply(W,[W]);F[G][U]+=K,Y[U]+=K}var Q=1/R+q;for($=0;R>$;$++)if(0===Y[$])for(X=0;R>X;X++)F[X][$]=Q;else for(X=0;R>X;X++)F[X][$]=F[X][$]/Y[$]+q;var ee,te=[],re=[];for(X=0;R>X;X++)te.push(1),re.push(0);for(var ne=0;M>ne;ne++){var ae=re.slice(0);for(X=0;R>X;X++)for($=0;R>$;$++)ae[X]+=F[X][$]*te[$];r(ae),ee=te,te=ae;var se=0;for(X=0;R>X;X++)se+=Math.pow(ee[X]-te[X],2);if(C>se)break}var le={rank:function(S){if(e.is.string(S))var P=O.filter(S)[0].id();else P=S.id();return te[A[P]]}};return le},degreeCentralityNormalized:function(S){if(null!=(S=S||{}).directed)var P=S.directed;else P=!1;var C=this.nodes(),M=C.length;if(P){for(var B={},O={},z=0,L=0,R=0;M>R;R++){var V=C[R],A=this.degreeCentrality(e.util.extend({},S,{root:V}));z<A.indegree&&(z=A.indegree),L<A.outdegree&&(L=A.outdegree),B[V.id()]=A.indegree,O[V.id()]=A.outdegree}return{indegree:function(S){if(e.is.string(S))S=cy.filter(S)[0].id();else S=S.id();return B[S]/z},outdegree:function(S){if(e.is.string(S))S=cy.filter(S)[0].id();else S=S.id();return O[S]/L}}}var X={},F=0;for(R=0;M>R;R++){V=C[R],A=this.degreeCentrality(e.util.extend({},S,{root:V}));F<A.degree&&(F=A.degree),X[V.id()]=A.degree}return{degree:function(S){if(e.is.string(S))S=cy.filter(S)[0].id();else S=S.id();return X[S]/F}}},degreeCentrality:function(S){var P=this;if(null!=(S=S||{})&&null!=S.root){var C=e.is.string(S.root)?this.filter(S.root)[0]:S.root[0];if(null!=S.weight&&e.is.fn(S.weight))var M=S.weight;else M=function(e){return 1};if(null!=S.directed)var B=S.directed;else B=!1;if(null!=S.alpha&&e.is.number(S.alpha))var O=S.alpha;else O=0;if(B){for(var z=C.connectedEdges('edge[target = "'+C.id()+'"]').intersection(P),L=C.connectedEdges('edge[source = "'+C.id()+'"]').intersection(P),R=z.length,V=L.length,A=0,X=0,F=0;F<z.length;F++){var Y=z[F];A+=M.apply(Y,[Y])}for(F=0;F<L.length;F++){Y=L[F];X+=M.apply(Y,[Y])}return{indegree:Math.pow(R,1-O)*Math.pow(A,O),outdegree:Math.pow(V,1-O)*Math.pow(X,O)}}var q=C.connectedEdges().intersection(P),j=q.length,$=0;for(F=0;F<q.length;F++){Y=q[F];$+=M.apply(Y,[Y])}return{degree:Math.pow(j,1-O)*Math.pow($,O)}}},closenessCentralityNormalized:function(S){var P=(S=S||{}).harmonic;void 0===P&&(P=!0);for(var C={},M=0,B=this.nodes(),O=this.floydWarshall({weight:S.weight,directed:S.directed}),z=0;z<B.length;z++){for(var L=0,R=0;R<B.length;R++)if(z!=R){var V=O.distance(B[z],B[R]);L+=P?1/V:V}P||(L=1/L),L>M&&(M=L),C[B[z].id()]=L}return{closeness:function(S){if(e.is.string(S))S=cy.filter(S)[0].id();else S=S.id();return C[S]/M}}},closenessCentrality:function(S){if(null!=(S=S||{}).root){if(e.is.string(S.root))var P=this.filter(S.root)[0];else P=S.root[0];if(null!=S.weight&&e.is.fn(S.weight))var C=S.weight;else C=function(){return 1};if(null!=S.directed&&e.is.bool(S.directed))var M=S.directed;else M=!1;var B=S.harmonic;void 0===B&&(B=!0);for(var O=this.dijkstra({root:P,weight:C,directed:M}),z=0,L=this.nodes(),R=0;R<L.length;R++)if(L[R].id()!=P.id()){var V=O.distanceTo(L[R]);z+=B?1/V:V}return B?z:1/z}e.util.error("options.root required")},betweennessCentrality:function(S){if(null!=(S=S||{}).weight&&e.is.fn(S.weight))var P=S.weight,C=!0;else C=!1;if(null!=S.directed&&e.is.bool(S.directed))var M=S.directed;else M=!1;for(var a=function(e,S){e.unshift(S);for(var P=0;Y[e[P]]<Y[e[P+1]]&&P<e.length-1;P++){var C=e[P];e[P]=e[P+1],e[P+1]=C}},B=this._private.cy,O=this.nodes(),z={},L={},R=0;R<O.length;R++)z[O[R].id()]=M?O[R].outgoers("node"):O[R].openNeighborhood("node");for(R=0;R<O.length;R++)L[O[R].id()]=0;for(var V=0;V<O.length;V++){var A=[],X={},F={},Y={},q=[];for(R=0;R<O.length;R++)X[O[R].id()]=[],F[O[R].id()]=0,Y[O[R].id()]=Number.POSITIVE_INFINITY;for(F[O[V].id()]=1,Y[O[V].id()]=0,q.unshift(O[V].id());q.length>0;){var j=q.pop();A.push(j),z[j].forEach(C?function(e){if(B.$("#"+j).edgesTo(e).length>0)var S=B.$("#"+j).edgesTo(e)[0];else S=e.edgesTo("#"+j)[0];var C=P.apply(S,[S]);Y[e.id()]>Y[j]+C&&(Y[e.id()]=Y[j]+C,q.indexOf(e.id())<0||q.splice(q.indexOf(e.id()),1),a(q,e.id()),F[e.id()]=0,X[e.id()]=[]),Y[e.id()]==Y[j]+C&&(F[e.id()]=F[e.id()]+F[j],X[e.id()].push(j))}:function(e){Y[e.id()]==Number.POSITIVE_INFINITY&&(q.unshift(e.id()),Y[e.id()]=Y[j]+1),Y[e.id()]==Y[j]+1&&(F[e.id()]=F[e.id()]+F[j],X[e.id()].push(j))})}var $={};for(R=0;R<O.length;R++)$[O[R].id()]=0;for(;A.length>0;){var W=A.pop();X[W].forEach((function(e){$[e]=$[e]+F[e]/F[W]*(1+$[W]),W!=O[V].id()&&(L[W]=L[W]+$[W])}))}}var U=0;for(var G in L)U<L[G]&&(U=L[G]);var K={betweenness:function(S){if(e.is.string(S))S=B.filter(S)[0].id();else S=S.id();return L[S]},betweennessNormalized:function(S){if(e.is.string(S))S=B.filter(S)[0].id();else S=S.id();return L[S]/U}};return K.betweennessNormalised=K.betweennessNormalized,K}}),e.elesfn.dc=e.elesfn.degreeCentrality,e.elesfn.dcn=e.elesfn.degreeCentralityNormalised=e.elesfn.degreeCentralityNormalized,e.elesfn.cc=e.elesfn.closenessCentrality,e.elesfn.ccn=e.elesfn.closenessCentralityNormalised=e.elesfn.closenessCentralityNormalized,e.elesfn.bc=e.elesfn.betweennessCentrality}(cytoscape),function(e){"use strict";e.fn.eles({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop()})}(cytoscape),function(e){"use strict";e.fn.eles({addClass:function(S){S=S.split(/\s+/);for(var P=this,C=[],M=0;M<S.length;M++){var B=S[M];if(!e.is.emptyString(B))for(var O=0;O<P.length;O++){var z=P[O],L=z._private.classes[B];z._private.classes[B]=!0,L||C.push(z)}}return C.length>0&&new e.Collection(this._private.cy,C).updateStyle().trigger("class"),P},hasClass:function(e){var S=this[0];return!(null==S||!S._private.classes[e])},toggleClass:function(S,P){for(var C=S.split(/\s+/),M=this,B=[],O=0,z=M.length;z>O;O++)for(var L=M[O],R=0;R<C.length;R++){var V=C[R];if(!e.is.emptyString(V)){var A=L._private.classes[V];P||void 0===P&&!A?(L._private.classes[V]=!0,A||B.push(L)):(L._private.classes[V]=!1,A&&B.push(L))}}return B.length>0&&new e.Collection(this._private.cy,B).updateStyle().trigger("class"),M},removeClass:function(S){S=S.split(/\s+/);for(var P=this,C=[],M=0;M<P.length;M++)for(var B=P[M],O=0;O<S.length;O++){var z=S[O];if(z&&""!==z){var L=B._private.classes[z];B._private.classes[z]=void 0,L&&C.push(B)}}return C.length>0&&new e.Collection(P._private.cy,C).updateStyle(),P.trigger("class"),P},flashClass:function(e,S){var P=this;if(null==S)S=250;else if(0===S)return P;return P.addClass(e),setTimeout((function(){P.removeClass(e)}),S),P}})}(cytoscape),function(e){"use strict";e.fn.eles({allAre:function(e){return this.filter(e).length===this.length},is:function(e){return this.filter(e).length>0},some:function(e,S){for(var P=0;P<this.length;P++){if(S?e.apply(S,[this[P],P,this]):e(this[P],P,this))return!0}return!1},every:function(e,S){for(var P=0;P<this.length;P++){if(!(S?e.apply(S,[this[P],P,this]):e(this[P],P,this)))return!1}return!0},same:function(e){return e=this.cy().collection(e),this.length===e.length&&this.intersect(e).length===this.length},anySame:function(e){return e=this.cy().collection(e),this.intersect(e).length>0},allAreNeighbors:function(e){return e=this.cy().collection(e),this.neighborhood().intersect(e).length===e.length}}),e.elesfn.allAreNeighbours=e.elesfn.allAreNeighbors}(cytoscape),function(e){"use strict";e.fn.eles({parent:function(S){for(var P=[],C=this._private.cy,M=0;M<this.length;M++){var B=this[M],O=C.getElementById(B._private.data.parent);O.size()>0&&P.push(O)}return new e.Collection(C,P,{unique:!0}).filter(S)},parents:function(S){for(var P=[],C=this.parent();C.nonempty();){for(var M=0;M<C.length;M++){var B=C[M];P.push(B)}C=C.parent()}return new e.Collection(this.cy(),P,{unique:!0}).filter(S)},commonAncestors:function(e){for(var S,P=0;P<this.length;P++){var C=this[P].parents();S=(S=S||C).intersect(C)}return S.filter(e)},orphans:function(e){return this.stdFilter((function(e){return e.isNode()&&e.parent().empty()})).filter(e)},nonorphans:function(e){return this.stdFilter((function(e){return e.isNode()&&e.parent().nonempty()})).filter(e)},children:function(S){for(var P=[],C=0;C<this.length;C++){var M=this[C];P=P.concat(M._private.children)}return new e.Collection(this.cy(),P,{unique:!0}).filter(S)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];return e?0!==e._private.children.length:void 0},isChild:function(){var e=this[0];return e?void 0!==e._private.data.parent&&0!==e.parent().length:void 0},descendants:function(S){var P=[];return function r(e){for(var S=0;S<e.length;S++){var C=e[S];P.push(C),C.children().nonempty()&&r(C.children())}}(this.children()),new e.Collection(this.cy(),P,{unique:!0}).filter(S)}}),e.elesfn.ancestors=e.elesfn.parents}(cytoscape),function(e){"use strict";e.fn.eles({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:e.define.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:e.define.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:e.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:e.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];return e?e._private.data.id:void 0},position:e.define.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds().rtrigger("position")},canSet:function(e){return!e.locked()}}),silentPosition:e.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds()},canSet:function(e){return!e.locked()}}),positions:function(S,P){if(e.is.plainObject(S))this.position(S);else if(e.is.fn(S)){for(var C=S,M=0;M<this.length;M++){var B=this[M];if((S=C.apply(B,[M,B]))&&!B.locked()){var O=B._private.position;O.x=S.x,O.y=S.y}}var z=this.updateCompoundBounds(),L=z.length>0?this.add(z):this;P?L.trigger("position"):L.rtrigger("position")}return this},silentPositions:function(e){return this.positions(e,!0)},updateCompoundBounds:function(){function t(e){var S=e.children(),C=e._private.style,M="include"===C["compound-sizing-wrt-labels"].value,B=S.boundingBox({includeLabels:M,includeEdges:!0}),O=C["padding-top"].pxValue,z=C["padding-bottom"].pxValue,L=C["padding-left"].pxValue,R=C["padding-right"].pxValue,V=e._private.position,A=!1;"auto"===C.width.value&&(e._private.autoWidth=B.w+L+R,V.x=(B.x1+B.x2-L+R)/2,A=!0),"auto"===C.height.value&&(e._private.autoHeight=B.h+O+z,V.y=(B.y1+B.y2-O+z)/2,A=!0),A&&P.push(e)}var S=this.cy();if(!S.styleEnabled()||!S.hasCompoundNodes())return S.collection();for(var P=[],C=this.parent();C.nonempty();){for(var M=0;M<C.length;M++){t(C[M])}C=C.parent()}return new e.Collection(S,P)},renderedPosition:function(S,P){var C=this[0],M=this.cy(),B=M.zoom(),O=M.pan(),z=e.is.plainObject(S)?S:void 0,L=void 0!==z||void 0!==P&&e.is.string(S);if(C&&C.isNode()){if(!L){var R=C._private.position;return z={x:R.x*B+O.x,y:R.y*B+O.y},void 0===S?z:z[S]}for(var V=0;V<this.length;V++){C=this[V];void 0!==P?C._private.position[S]=(P-O[S])/B:void 0!==z&&(C._private.position={x:(z.x-O.x)/B,y:(z.y-O.y)/B})}this.rtrigger("position")}else if(!L)return;return this},relativePosition:function(S,P){var C=this[0],M=this.cy(),B=e.is.plainObject(S)?S:void 0,O=void 0!==B||void 0!==P&&e.is.string(S),z=M.hasCompoundNodes();if(C&&C.isNode()){if(!O){var L=C._private.position,R=F=(X=z?C.parent():null)&&X.length>0;F&&(X=X[0]);var V=R?X._private.position:{x:0,y:0};return B={x:L.x-V.x,y:L.y-V.y},void 0===S?B:B[S]}for(var A=0;A<this.length;A++){var X,F;C=this[A],R=F=(X=z?C.parent():null)&&X.length>0;F&&(X=X[0]);V=R?X._private.position:{x:0,y:0};void 0!==P?C._private.position[S]=P+V[S]:void 0!==B&&(C._private.position={x:B.x+V.x,y:B.y+V.y})}this.rtrigger("position")}else if(!O)return;return this},width:function(){var e=this[0],S=e._private.cy._private.styleEnabled;if(e){if(S){var P=e._private.style.width;return"auto"===P.strValue?e._private.autoWidth:P.pxValue}return 1}},outerWidth:function(){var e=this[0],S=e._private.cy._private.styleEnabled;if(e){if(S){var P=e._private.style;return("auto"===P.width.strValue?e._private.autoWidth:P.width.pxValue)+(P["border-width"]?1*P["border-width"].pxValue+0:0)}return 1}},renderedWidth:function(){var e=this[0];if(e)return e.width()*this.cy().zoom()},renderedOuterWidth:function(){var e=this[0];if(e)return e.outerWidth()*this.cy().zoom()},height:function(){var e=this[0],S=e._private.cy._private.styleEnabled;if(e&&"nodes"===e._private.group){if(S){var P=e._private.style.height;return"auto"===P.strValue?e._private.autoHeight:P.pxValue}return 1}},outerHeight:function(){var e=this[0],S=e._private.cy._private.styleEnabled;if(e&&"nodes"===e._private.group){if(!S)return 1;var P=e._private.style;return("auto"===P.height.strValue?e._private.autoHeight:P.height.pxValue)+(P["border-width"]?1*P["border-width"].pxValue+0:0)}},renderedHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group)return e.height()*this.cy().zoom()},renderedOuterHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group)return e.outerHeight()*this.cy().zoom()},renderedBoundingBox:function(e){var S=this.boundingBox(e),P=this.cy(),C=P.zoom(),M=P.pan(),B=S.x1*C+M.x,O=S.x2*C+M.x,z=S.y1*C+M.y,L=S.y2*C+M.y;return{x1:B,x2:O,y1:z,y2:L,w:O-B,h:L-z}},boundingBox:function(e){var S=this,P=S._private.cy._private,C=P.styleEnabled,M=void 0===(e=e||{}).includeNodes||e.includeNodes,B=void 0===e.includeEdges||e.includeEdges,O=void 0===e.includeLabels||e.includeLabels;C&&P.renderer.recalculateRenderedStyle(this);for(var z=1/0,L=-1/0,R=1/0,V=-1/0,A=0;A<S.length;A++){var X,F,Y,q,j,$,W=S[A],U=W._private,G=U.style,K=C?U.style.display.value:"element",Q="nodes"===U.group,ee=!1;if("none"!==K){if(Q&&M){ee=!0;var te=U.position;j=te.x,$=te.y;var re=W.outerWidth()/2,ne=W.outerHeight()/2;z=z>(X=j-re)?X:z,L=(F=j+re)>L?F:L,R=R>(Y=$-ne)?Y:R,V=(q=$+ne)>V?q:V}else if(W.isEdge()&&B){ee=!0;var ae=U.source._private.position,se=U.target._private.position,le=U.rstyle||{};if((X=ae.x)>(F=se.x)){var ue=X;X=F,F=ue}if((Y=ae.y)>(q=se.y)){ue=Y;Y=q,q=ue}if(z=z>X?X:z,L=F>L?F:L,R=R>Y?Y:R,V=q>V?q:V,C)for(var ce=le.bezierPts||[],de=G.width.pxValue/2,he=0;he<ce.length;he++){var pe=ce[he];z=z>(X=pe.x-de)?X:z,L=(F=pe.x+de)>L?F:L,R=R>(Y=pe.y-de)?Y:R,V=(q=pe.y+de)>V?q:V}if(C&&"haystack"===G["curve-style"].strValue){var fe=U.rscratch.haystackPts;if(X=fe[0],Y=fe[1],X>(F=fe[2])){ue=X;X=F,F=ue}if(Y>(q=fe[3])){ue=Y;Y=q,q=ue}z=z>X?X:z,L=F>L?F:L,R=R>Y?Y:R,V=q>V?q:V}}if(C){G=W._private.style,le=W._private.rstyle;var ge=G.content.strValue,ve=G["font-size"],ye=G["text-halign"],me=G["text-valign"],xe=le.labelWidth,be=le.labelHeight,we=le.labelX,_e=le.labelY;if(ee&&O&&ge&&ve&&null!=be&&null!=xe&&null!=we&&null!=_e&&ye&&me){var Ee,Se,De,ke,Te=be,Pe=xe;if(W.isEdge())Ee=we-Pe/2,Se=we+Pe/2,De=_e-Te/2,ke=_e+Te/2;else{switch(ye.value){case"left":Ee=we-Pe,Se=we;break;case"center":Ee=we-Pe/2,Se=we+Pe/2;break;case"right":Ee=we,Se=we+Pe}switch(me.value){case"top":De=_e-Te,ke=_e;break;case"center":De=_e-Te/2,ke=_e+Te/2;break;case"bottom":De=_e,ke=_e+Te}}z=z>Ee?Ee:z,L=Se>L?Se:L,R=R>De?De:R,V=ke>V?ke:V}}}}var ie=function(e){return e===1/0||e===-1/0?0:e};return{x1:z=ie(z),x2:L=ie(L),y1:R=ie(R),y2:V=ie(V),w:L-z,h:V-R}}});var S=e.elesfn;S.attr=S.data,S.removeAttr=S.removeData,S.modelPosition=S.point=S.position,S.modelPositions=S.points=S.positions,S.renderedPoint=S.renderedPosition,S.relativePoint=S.relativePosition,S.boundingbox=S.boundingBox,S.renderedBoundingbox=S.renderedBoundingBox}(cytoscape),function(e){"use strict";function t(e){return function(S){var P=this;if(void 0===S&&(S=!0),0!==P.length&&P.isNode()&&!P.removed()){for(var C=0,M=P[0],B=M._private.edges,O=0;O<B.length;O++){var z=B[O];(S||!z.isLoop())&&(C+=e(M,z))}return C}}}function r(e,S){return function(P){for(var C,M=this.nodes(),B=0;B<M.length;B++){var O=M[B][e](P);void 0===O||void 0!==C&&!S(O,C)||(C=O)}return C}}e.fn.eles({degree:t((function(e,S){return S.source().same(S.target())?2:1})),indegree:t((function(e,S){return S.target().same(e)?1:0})),outdegree:t((function(e,S){return S.source().same(e)?1:0}))}),e.fn.eles({minDegree:r("degree",(function(e,S){return S>e})),maxDegree:r("degree",(function(e,S){return e>S})),minIndegree:r("indegree",(function(e,S){return S>e})),maxIndegree:r("indegree",(function(e,S){return e>S})),minOutdegree:r("outdegree",(function(e,S){return S>e})),maxOutdegree:r("outdegree",(function(e,S){return e>S}))}),e.fn.eles({totalDegree:function(e){for(var S=0,P=this.nodes(),C=0;C<P.length;C++)S+=P[C].degree(e);return S}})}(cytoscape),function(e){"use strict";e.fn.eles({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger(),rtrigger:function(e,S){return 0!==this.length?(this.cy().notify({type:e,collection:this}),this.trigger(e,S),this):void 0}}),e.define.eventAliasesOn(e.elesfn)}(cytoscape),function(e){"use strict";e.fn.eles({nodes:function(e){return this.filter((function(e,S){return S.isNode()})).filter(e)},edges:function(e){return this.filter((function(e,S){return S.isEdge()})).filter(e)},filter:function(S){var P=this._private.cy;if(e.is.fn(S)){for(var C=[],M=0;M<this.length;M++){var B=this[M];S.apply(B,[M,B])&&C.push(B)}return new e.Collection(P,C)}return e.is.string(S)||e.is.elementOrCollection(S)?new e.Selector(S).filter(this):void 0===S?this:new e.Collection(P)},not:function(S){var P=this._private.cy;if(S){e.is.string(S)&&(S=this.filter(S));for(var C=[],M=0;M<this.length;M++){var B=this[M];S._private.ids[B.id()]||C.push(B)}return new e.Collection(P,C)}return this},absoluteComplement:function(){return this._private.cy.elements().not(this)},intersect:function(S){var P=this._private.cy;if(e.is.string(S)){var C=S;return this.filter(C)}for(var M=[],B=S,O=this.length<S.length,z=O?B._private.ids:this._private.ids,L=O?this:B,R=0;R<L.length;R++){var V=z[L[R]._private.data.id];V&&M.push(V)}return new e.Collection(P,M)},xor:function(S){var P=this._private.cy;e.is.string(S)&&(S=P.$(S));var C=[],M=S,o=function(e,S){for(var P=0;P<e.length;P++){var M=e[P],B=M._private.data.id;S._private.ids[B]||C.push(M)}};return o(this,M),o(M,this),new e.Collection(P,C)},diff:function(S){var P=this._private.cy;e.is.string(S)&&(S=P.$(S));var C=[],M=[],B=[],O=S,l=function(e,S,P){for(var C=0;C<e.length;C++){var M=e[C],O=M._private.data.id;S._private.ids[O]?B.push(M):P.push(M)}};return l(this,O,C),l(O,this,M),{left:new e.Collection(P,C,{unique:!0}),right:new e.Collection(P,M,{unique:!0}),both:new e.Collection(P,B,{unique:!0})}},add:function(S){var P=this._private.cy;if(!S)return this;if(e.is.string(S)){var C=S;S=P.elements(C)}for(var M=[],B=0;B<this.length;B++)M.push(this[B]);for(B=0;B<S.length;B++){!this._private.ids[S[B].id()]&&M.push(S[B])}return new e.Collection(P,M)},merge:function(S){var P=this._private,C=P.cy;if(!S)return this;if(e.is.string(S)){var M=S;S=C.elements(M)}for(var B=0;B<S.length;B++){var O=S[B],z=O.id();if(!P.ids[z]){var L=this.length++;this[L]=O,P.ids[z]=O,P.indexes[z]=L}}return this},unmergeOne:function(e){e=e[0];var S=this._private,P=e.id(),C=S.indexes[P];if(null==C)return this;this[C]=void 0,S.ids[P]=void 0,S.indexes[P]=void 0;var M=C===this.length-1;if(this.length>1&&!M){var B=this.length-1,O=this[B];this[B]=void 0,this[C]=O,S.indexes[O.id()]=C}return this.length--,this},unmerge:function(S){var P=this._private.cy;if(!S)return this;if(e.is.string(S)){var C=S;S=P.elements(C)}for(var M=0;M<S.length;M++)this.unmergeOne(S[M]);return this},map:function(e,S){for(var P=[],C=this,M=0;M<C.length;M++){var B=C[M],O=S?e.apply(S,[B,M,C]):e(B,M,C);P.push(O)}return P},stdFilter:function(S,P){for(var C=[],M=this,B=this._private.cy,O=0;O<M.length;O++){var z=M[O];(P?S.apply(P,[z,O,M]):S(z,O,M))&&C.push(z)}return new e.Collection(B,C)},max:function(e,S){for(var P,C=-1/0,M=this,B=0;B<M.length;B++){var O=M[B],z=S?e.apply(S,[O,B,M]):e(O,B,M);z>C&&(C=z,P=O)}return{value:C,ele:P}},min:function(e,S){for(var P,C=1/0,M=this,B=0;B<M.length;B++){var O=M[B],z=S?e.apply(S,[O,B,M]):e(O,B,M);C>z&&(C=z,P=O)}return{value:C,ele:P}}});var S=e.elesfn;S.u=S["|"]=S["+"]=S.union=S.or=S.add,S["\\"]=S["!"]=S["-"]=S.difference=S.relativeComplement=S.not,S.n=S["&"]=S["."]=S.and=S.intersection=S.intersect,S["^"]=S["(+)"]=S["(-)"]=S.symmetricDifference=S.symdiff=S.xor,S.fnFilter=S.filterFn=S.stdFilter,S.complement=S.abscomp=S.absoluteComplement}(cytoscape),function(e){"use strict";cytoscape.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];return e?e._private.group:void 0}})}(),function(e){"use strict";e.fn.eles({each:function(S){if(e.is.fn(S))for(var P=0;P<this.length;P++){var C=this[P];if(!1===S.apply(C,[P,C]))break}return this},forEach:function(S,P){if(e.is.fn(S))for(var C=0;C<this.length;C++){var M=this[C];if(!1===(P?S.apply(P,[M,C,this]):S(M,C,this)))break}return this},toArray:function(){for(var e=[],S=0;S<this.length;S++)e.push(this[S]);return e},slice:function(S,P){var C=[],M=this.length;null==P&&(P=M),null==S&&(S=0),0>S&&(S=M+S),0>P&&(P=M+P);for(var B=S;B>=0&&P>B&&M>B;B++)C.push(this[B]);return new e.Collection(this.cy(),C)},size:function(){return this.length},eq:function(S){return this[S]||new e.Collection(this.cy())},first:function(){return this[0]||new e.Collection(this.cy())},last:function(){return this[this.length-1]||new e.Collection(this.cy())},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(S){if(!e.is.fn(S))return this;var P=this.cy(),C=this.toArray().sort(S);return new e.Collection(P,C)},sortByZIndex:function(){return this.sort(e.Collection.zIndexSort)},zDepth:function(){var e=this[0];if(e){var S=e._private;if("nodes"===S.group){var P=S.data.parent?e.parents().size():0;return e.isParent()?P:Number.MAX_VALUE}var C=S.source,M=S.target,B=C.zDepth(),O=M.zDepth();return Math.max(B,O,0)}}}),e.Collection.zIndexSort=function(e,S){var P=e.cy(),C=e._private,M=S._private,B=C.style["z-index"].value-M.style["z-index"].value,O=0,z=0,L=P.hasCompoundNodes(),R="nodes"===C.group,V="edges"===C.group,A="nodes"===M.group,X="edges"===M.group;L&&(O=e.zDepth(),z=S.zDepth());var F=O-z;return 0===F?R&&X?1:V&&A?-1:0===B?C.index-M.index:B:F}}(cytoscape),function(e){"use strict";e.fn.eles({layoutPositions:function(S,P,C){var M=this.nodes(),B=this.cy();if(S.trigger({type:"layoutstart",layout:S}),P.animate){for(var O=0;O<M.length;O++){var z=M[O],L=O===M.length-1,R=C.call(z,O,z),V=z.position();e.is.number(V.x)&&e.is.number(V.y)||z.silentPosition({x:0,y:0}),z.animate({position:R},{duration:P.animationDuration,step:L?function(){P.fit&&B.fit(P.eles,P.padding)}:void 0,complete:L?function(){null!=P.zoom&&B.zoom(P.zoom),P.pan&&B.pan(P.pan),P.fit&&B.fit(P.eles,P.padding),S.one("layoutstop",P.stop),S.trigger({type:"layoutstop",layout:S})}:void 0})}S.one("layoutready",P.ready),S.trigger({type:"layoutready",layout:S})}else M.positions(C),P.fit&&B.fit(P.eles,P.padding),null!=P.zoom&&B.zoom(P.zoom),P.pan&&B.pan(P.pan),S.one("layoutready",P.ready),S.trigger({type:"layoutready",layout:S}),S.one("layoutstop",P.stop),S.trigger({type:"layoutstop",layout:S});return this},layout:function(S){return this.cy().layout(e.util.extend({},S,{eles:this})),this},makeLayout:function(S){return this.cy().makeLayout(e.util.extend({},S,{eles:this}))}}),e.elesfn.createLayout=e.elesfn.makeLayout}(cytoscape),function(e){"use strict";e.fn.eles({updateStyle:function(e){var S=this._private.cy;if(!S.styleEnabled())return this;if(S._private.batchingStyle){for(var P=S._private.batchStyleEles,C=0;C<this.length;C++){var M=this[C];P.ids[M._private.id]||P.push(M)}return this}e=!(!e&&void 0!==e),S.style().apply(this);var B=this.updateCompoundBounds(),O=B.length>0?this.add(B):this;return e?O.rtrigger("style"):O.trigger("style"),this},updateMappers:function(e){var S=this._private.cy,P=S.style();if(e=!(!e&&void 0!==e),!S.styleEnabled())return this;P.updateMappers(this);var C=this.updateCompoundBounds(),M=C.length>0?this.add(C):this;return e?M.rtrigger("style"):M.trigger("style"),this},renderedCss:function(e){if(!this.cy().styleEnabled())return this;var S=this[0];if(S){var P=S.cy().style().getRenderedStyle(S);return void 0===e?P:P[e]}},css:function(S,P){var C=this.cy();if(!C.styleEnabled())return this;var M=C.style();if(e.is.plainObject(S)){var B=S;M.applyBypass(this,B,false),((O=this.updateCompoundBounds()).length>0?this.add(O):this).rtrigger("style")}else if(e.is.string(S)){var O;if(void 0===P)return(z=this[0])?z._private.style[S].strValue:void 0;M.applyBypass(this,S,P,false),((O=this.updateCompoundBounds()).length>0?this.add(O):this).rtrigger("style")}else if(void 0===S){var z;return(z=this[0])?M.getRawStyle(z):void 0}return this},removeCss:function(e){var S=this.cy();if(!S.styleEnabled())return this;var P=S.style(),C=this;if(void 0===e)for(var M=0;M<C.length;M++){var B=C[M];P.removeAllBypasses(B,false)}else{e=e.split(/\s+/);for(M=0;M<C.length;M++){B=C[M];P.removeBypasses(B,e,false)}}var O=this.updateCompoundBounds();return(O.length>0?this.add(O):this).rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var e=this.cy();if(!e.styleEnabled())return!0;var S=this[0],P=e.hasCompoundNodes();if(S){var C=S._private.style;if("visible"!==C.visibility.value||"element"!==C.display.value)return!1;if("nodes"===S._private.group){if(!P)return!0;var M=S._private.data.parent?S.parents():null;if(M)for(var B=0;B<M.length;B++){var O=M[B]._private.style,z=O.visibility.value,L=O.display.value;if("visible"!==z||"element"!==L)return!1}return!0}var R=S._private.source,V=S._private.target;return R.visible()&&V.visible()}},hidden:function(){var e=this[0];return e?!e.visible():void 0},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var S=e.hasCompoundNodes(),P=this[0];if(P){var C=P._private,M=C.style.opacity.value;if(!S)return M;var B=C.data.parent?P.parents():null;if(B)for(var O=0;O<B.length;O++){M*=B[O]._private.style.opacity.value}return M}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],S=e.cy().hasCompoundNodes();return e?S?0===e.effectiveOpacity():0===e._private.style.opacity.value:void 0},isFullAutoParent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0];if(e){var S="auto"===e._private.style.width.value,P="auto"===e._private.style.height.value;return e.isParent()&&S&&P}},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}}),e.elesfn.bypass=e.elesfn.style=e.elesfn.css,e.elesfn.renderedStyle=e.elesfn.renderedCss,e.elesfn.removeBypass=e.elesfn.removeStyle=e.elesfn.removeCss}(cytoscape),function(e){"use strict";function t(S){return function(){var P=arguments,C=[];if(2===P.length){var M=P[0],B=P[1];this.bind(S.event,M,B)}else if(1===P.length){B=P[0];this.bind(S.event,B)}else if(0===P.length){for(var O=0;O<this.length;O++){var z=this[O],L=!S.ableField||z._private[S.ableField],R=z._private[S.field]!=S.value;if(S.overrideAble){var V=S.overrideAble(z);if(void 0!==V&&(L=V,!V))return this}L&&(z._private[S.field]=S.value,R&&C.push(z))}var A=e.Collection(this.cy(),C);A.updateStyle(),A.trigger(S.event)}return this}}function r(S){e.elesfn[S.field]=function(){var e=this[0];if(e){if(S.overrideField){var P=S.overrideField(e);if(void 0!==P)return P}return e._private[S.field]}},e.elesfn[S.on]=t({event:S.on,field:S.field,ableField:S.ableField,overrideAble:S.overrideAble,value:!0}),e.elesfn[S.off]=t({event:S.off,field:S.field,ableField:S.ableField,overrideAble:S.overrideAble,value:!1})}r({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),r({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),r({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),r({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),e.elesfn.deselect=e.elesfn.unselect,e.elesfn.grabbed=function(){var e=this[0];return e?e._private.grabbed:void 0},r({field:"active",on:"activate",off:"unactivate"}),e.elesfn.inactive=function(){var e=this[0];return e?!e._private.active:void 0}}(cytoscape),function(e){"use strict";function t(S){return function(P){for(var C=[],M=this._private.cy,B=0;B<this.length;B++){var O=this[B]._private[S.attr];O&&C.push(O)}return new e.Collection(M,C,{unique:!0}).filter(P)}}function r(S){return function(P){var C=[],M=this._private.cy,B=S||{};e.is.string(P)&&(P=M.$(P));for(var O=this._private.ids,z=P._private.ids,L=0;L<P.length;L++)for(var R=P[L]._private.edges,V=0;V<R.length;V++){var A=R[V],X=A._private.data,F=O[X.source]&&z[X.target],Y=z[X.source]&&O[X.target];if(F||Y){if(B.thisIs){if("source"===B.thisIs&&!F)continue;if("target"===B.thisIs&&!Y)continue}C.push(A)}}return new e.Collection(M,C,{unique:!0})}}function i(S){return S=e.util.extend({},{codirected:!1},S),function(P){for(var C=this._private.cy,M=[],B=this.edges(),O=S,z=0;z<B.length;z++)for(var L=B[z],R=L.source()[0],V=R.id(),A=L.target()[0].id(),X=R._private.edges,F=0;F<X.length;F++){var Y=X[F],q=Y._private.data,j=q.target,$=q.source,W=j===A&&$===V,U=V===j&&A===$;(O.codirected&&W||!O.codirected&&(W||U))&&M.push(Y)}return new e.Collection(C,M,{unique:!0}).filter(P)}}e.fn.eles({roots:function(S){for(var P=[],C=0;C<this.length;C++){var M=this[C];if(M.isNode())M.connectedEdges((function(){return this.data("target")===M.id()&&this.data("source")!==M.id()})).length>0||P.push(M)}return new e.Collection(this._private.cy,P,{unique:!0}).filter(S)},leaves:function(S){for(var P=[],C=0;C<this.length;C++){var M=this[C];if(M.isNode())M.connectedEdges((function(){return this.data("source")===M.id()&&this.data("target")!==M.id()})).length>0||P.push(M)}return new e.Collection(this._private.cy,P,{unique:!0}).filter(S)},outgoers:function(S){for(var P=[],C=0;C<this.length;C++){var M=this[C],B=M.id();if(M.isNode())for(var O=M._private.edges,z=0;z<O.length;z++){var L=O[z],R=L._private.data.source,V=L._private.data.target;R===B&&V!==B&&(P.push(L),P.push(L.target()[0]))}}return new e.Collection(this._private.cy,P,{unique:!0}).filter(S)},successors:function(S){for(var P=this,C=[],M={};;){var B=P.outgoers();if(0===B.length)break;for(var O=!1,z=0;z<B.length;z++){var L=B[z],R=L.id();M[R]||(M[R]=!0,C.push(L),O=!0)}if(!O)break;P=B}return new e.Collection(this._private.cy,C,{unique:!0}).filter(S)},incomers:function(S){for(var P=[],C=0;C<this.length;C++){var M=this[C],B=M.id();if(M.isNode())for(var O=M._private.edges,z=0;z<O.length;z++){var L=O[z],R=L._private.data.source;L._private.data.target===B&&R!==B&&(P.push(L),P.push(L.source()[0]))}}return new e.Collection(this._private.cy,P,{unique:!0}).filter(S)},predecessors:function(S){for(var P=this,C=[],M={};;){var B=P.incomers();if(0===B.length)break;for(var O=!1,z=0;z<B.length;z++){var L=B[z],R=L.id();M[R]||(M[R]=!0,C.push(L),O=!0)}if(!O)break;P=B}return new e.Collection(this._private.cy,C,{unique:!0}).filter(S)}}),e.fn.eles({neighborhood:function(S){for(var P=[],C=this._private.cy,M=this.nodes(),B=0;B<M.length;B++)for(var O=M[B],z=O.connectedEdges(),L=0;L<z.length;L++){var R=z[L],V=R.connectedNodes().not(O);V.length>0&&P.push(V[0]),P.push(R[0])}return new e.Collection(C,P,{unique:!0}).filter(S)},closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),e.elesfn.neighbourhood=e.elesfn.neighborhood,e.elesfn.closedNeighbourhood=e.elesfn.closedNeighborhood,e.elesfn.openNeighbourhood=e.elesfn.openNeighborhood,e.fn.eles({source:function(e){var S,P=this[0];return P&&(S=P._private.source),S&&e?S.filter(e):S},target:function(e){var S,P=this[0];return P&&(S=P._private.target),S&&e?S.filter(e):S},sources:t({attr:"source"}),targets:t({attr:"target"})}),e.fn.eles({edgesWith:r(),edgesTo:r({thisIs:"source"})}),e.fn.eles({connectedEdges:function(S){for(var P=[],C=this._private.cy,M=0;M<this.length;M++){var B=this[M];if(B.isNode())for(var O=B._private.edges,z=0;z<O.length;z++){var L=O[z];P.push(L)}}return new e.Collection(C,P,{unique:!0}).filter(S)},connectedNodes:function(S){for(var P=[],C=this._private.cy,M=0;M<this.length;M++){var B=this[M];B.isEdge()&&(P.push(B.source()[0]),P.push(B.target()[0]))}return new e.Collection(C,P,{unique:!0}).filter(S)},parallelEdges:i(),codirectedEdges:i({codirected:!0})})}(cytoscape),function(e){"use strict";cytoscape.fn.eles({fit:function(){},center:function(){}})}(),function(e){"use strict";e.Minheap=function(S,P,C){return new e.Heap(S,P,e.Heap.minHeapComparator,C)},e.Maxheap=function(S,P,C){return new e.Heap(S,P,e.Heap.maxHeapComparator,C)},e.Heap=function(S,P,C,M){if(void 0!==C&&void 0!==P){void 0===M&&(M=e.Heap.idFn);var B,O,z,L=[],R={},V=[],A=0;for(z=(P=this.getArgumentAsCollection(P,S)).length,A=0;z>A;A+=1){if(L.push(M.call(S,P[A],A,P)),B=P[A].id(),R.hasOwnProperty(B))throw"ERROR: Multiple items with the same id found: "+B;R[B]=A,V.push(B)}for(this._private={cy:S,heap:L,pointers:R,elements:V,comparator:C,extractor:M,length:z},A=Math.floor(z/2);A>=0;A-=1)O=this.heapify(A);return O}},e.Heap.idFn=function(e){return e.id()},e.Heap.minHeapComparator=function(e,S){return e>=S},e.Heap.maxHeapComparator=function(e,S){return S>=e},e.fn.heap=function(S,P){for(var C in S){var M=S[C];e.Heap.prototype[C]=M}},e.heapfn=e.Heap.prototype,e.heapfn.size=function(){return this._private.length},e.heapfn.getArgumentAsCollection=function(S,P){var C;if(void 0===P&&(P=this._private.cy),e.is.elementOrCollection(S))C=S;else{for(var M=[],B=[].concat.apply([],[S]),O=0;O<B.length;O++){var z=B[O],L=P.getElementById(z);L.length>0&&M.push(L)}C=new e.Collection(P,M)}return C},e.heapfn.isHeap=function(){var e,S,P,C,M,B=this._private.heap,O=B.length,z=this._private.comparator;for(e=0;O>e;e+=1)if(P=(S=2*e+1)+1,C=!(O>S)||z(B[S],B[e]),M=!(O>P)||z(B[P],B[e]),!C||!M)return!1;return!0},e.heapfn.heapSwap=function(e,S){var P=this._private.heap,C=this._private.pointers,M=this._private.elements,B=P[e],O=M[e],z=M[e],L=M[S];P[e]=P[S],M[e]=M[S],C[z]=S,C[L]=e,P[S]=B,M[S]=O},e.heapfn.heapify=function(e,S){var P,C,M,B,O,z,L,R,V=!1;for(void 0===S&&(S=!0),R=(P=this._private.heap).length,z=this._private.comparator,C=e;!V;)S?(B=(M=2*C+1)+1,O=C,R>M&&!z(P[M],P[O])&&(O=M),R>B&&!z(P[B],P[O])&&(O=B),(V=O===C)||(this.heapSwap(O,C),C=O)):(O=C,(V=0>(L=Math.floor((C-1)/2))||z(P[O],P[L]))||(this.heapSwap(O,L),C=L))},e.heapfn.insert=function(e){var S,P,C,M,B,O=this.getArgumentAsCollection(e),z=O.length;for(B=0;z>B;B+=1){if(S=O[B],P=this._private.heap.length,C=this._private.extractor(S),M=S.id(),this._private.pointers.hasOwnProperty(M))throw"ERROR: Multiple items with the same id found: "+M;this._private.heap.push(C),this._private.elements.push(M),this._private.pointers[M]=P,this.heapify(P,!1)}this._private.length=this._private.heap.length},e.heapfn.getValueById=function(e){if(this._private.pointers.hasOwnProperty(e)){var S=this._private.pointers[e];return this._private.heap[S]}},e.heapfn.contains=function(e){for(var S=this.getArgumentAsCollection(e),P=0;P<S.length;P+=1){var C=S[P].id();if(!this._private.pointers.hasOwnProperty(C))return!1}return!0},e.heapfn.top=function(){return this._private.length>0?{value:this._private.heap[0],id:this._private.elements[0]}:void 0},e.heapfn.pop=function(){if(this._private.length>0){var e,S,P=this.top(),C=this._private.length-1;return this.heapSwap(0,C),e=this._private.elements[C],this._private.heap[C],S=e,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[S]=void 0,this.heapify(0),P}},e.heapfn.findDirectionHeapify=function(e){var S=Math.floor((e-1)/2),P=this._private.heap,C=0>S||this._private.comparator(P[e],P[S]);this.heapify(e,C)},e.heapfn.edit=function(S,P){for(var C=this.getArgumentAsCollection(S),M=0;M<C.length;M+=1){var B=C[M].id(),O=this._private.pointers[B],z=this._private.heap[O];e.is.number(P)?this._private.heap[O]=P:e.is.fn(P)&&(this._private.heap[O]=P.call(this._private.cy,z,O)),this.findDirectionHeapify(O)}},e.heapfn.remove=function(e){for(var S=this.getArgumentAsCollection(e),P=0;P<S.length;P+=1){var C,M,B,O=S[P].id(),z=this._private.pointers[O],L=this._private.length-1;z!==L&&this.heapSwap(z,L),C=this._private.elements[L],M=this._private.heap[L],B=C,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[B]=void 0,this.findDirectionHeapify(z)}return M}}(cytoscape),function(e){"use strict";function t(e){this.options=e,this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:e.cy,container:e.cy.container(),canvases:new Array(t.CANVAS_LAYERS),contexts:new Array(t.CANVAS_LAYERS),canvasNeedsRedraw:new Array(t.CANVAS_LAYERS),bufferCanvases:new Array(t.BUFFER_COUNT),bufferContexts:new Array(t.CANVAS_LAYERS)},this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},this.timeoutData={panTimeout:null},this.dragData={possibleDragElements:[]},this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},this.zoomData={freeToZoom:!1,lastPointerX:null},this.redraws=0,this.showFps=e.showFps,this.bindings=[],this.data.canvasContainer=document.createElement("div");var S=this.data.canvasContainer.style;S.position="absolute",S.zIndex="0",S.overflow="hidden",this.data.container.appendChild(this.data.canvasContainer);for(var P=0;P<t.CANVAS_LAYERS;P++)this.data.canvases[P]=document.createElement("canvas"),this.data.contexts[P]=this.data.canvases[P].getContext("2d"),this.data.canvases[P].style.position="absolute",this.data.canvases[P].setAttribute("data-id","layer"+P),this.data.canvases[P].style.zIndex=String(t.CANVAS_LAYERS-P),this.data.canvasContainer.appendChild(this.data.canvases[P]),this.data.canvasNeedsRedraw[P]=!1;this.data.topCanvas=this.data.canvases[0],this.data.canvases[t.NODE].setAttribute("data-id","layer"+t.NODE+"-node"),this.data.canvases[t.SELECT_BOX].setAttribute("data-id","layer"+t.SELECT_BOX+"-selectbox"),this.data.canvases[t.DRAG].setAttribute("data-id","layer"+t.DRAG+"-drag");for(P=0;P<t.BUFFER_COUNT;P++)this.data.bufferCanvases[P]=document.createElement("canvas"),this.data.bufferContexts[P]=this.data.bufferCanvases[P].getContext("2d"),this.data.bufferCanvases[P].style.position="absolute",this.data.bufferCanvases[P].setAttribute("data-id","buffer"+P),this.data.bufferCanvases[P].style.zIndex=String(-P-1),this.data.bufferCanvases[P].style.visibility="hidden";this.hideEdgesOnViewport=e.hideEdgesOnViewport,this.hideLabelsOnViewport=e.hideLabelsOnViewport,this.textureOnViewport=e.textureOnViewport,this.wheelSensitivity=e.wheelSensitivity,this.motionBlurEnabled=e.motionBlur,this.forcedPixelRatio=e.pixelRatio,this.motionBlur=!0,this.motionBlurOpacity=e.motionBlurOpacity,this.motionBlurTransparency=1-this.motionBlurOpacity,this.motionBlurPxRatio=1,this.mbPxRBlurry=1,this.minMbLowQualFrames=4,this.fullQualityMb=!1,this.clearedForMotionBlur=[],this.desktopTapThreshold=e.desktopTapThreshold,this.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,this.touchTapThreshold=e.touchTapThreshold,this.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,this.tapholdDuration=500,this.load()}t.CANVAS_LAYERS=3,t.SELECT_BOX=0,t.DRAG=1,t.NODE=2,t.BUFFER_COUNT=3,t.TEXTURE_BUFFER=0,t.MOTIONBLUR_BUFFER_NODE=1,t.MOTIONBLUR_BUFFER_DRAG=2,t.panOrBoxSelectDelay=400;var S="undefined"!=typeof Path2D;for(var P in t.usePaths=function(){return S},t.prototype.notify=function(S){var P;P=e.is.array(S.type)?S.type:[S.type];for(var C=0;C<P.length;C++){var M=P[C];switch(M){case"destroy":return void this.destroy();case"add":case"remove":case"load":this.updateNodesCache(),this.updateEdgesCache();break;case"viewport":this.data.canvasNeedsRedraw[t.SELECT_BOX]=!0;break;case"style":this.updateCachedZSortedEles()}("load"===M||"resize"===M)&&(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.data.container))}this.data.canvasNeedsRedraw[t.NODE]=!0,this.data.canvasNeedsRedraw[t.DRAG]=!0,this.redraw()},t.prototype.destroy=function(){this.destroyed=!0;for(var e=0;e<this.bindings.length;e++){var S=this.bindings[e];S.target.removeEventListener(S.event,S.handler,S.useCapture)}if(this.removeObserver&&this.removeObserver.disconnect(),this.labelCalcDiv)try{document.body.removeChild(this.labelCalcDiv)}catch(e){}},e.math)t.prototype[P]=e.math[P];e("renderer","canvas",t)}(cytoscape),function(e){"use strict";var S=e("renderer","canvas"),P=S.prototype,C=S.arrowShapes={};S.arrowShapeHeight=.3;var n=function(e,S,P,C,M,B,O,z){return e>=P-M/2&&P+M/2>=e&&S>=C-B/2&&C+B/2>=S},a=function(e,S,P,C,M){C=-C;var B=e*Math.cos(C)-S*Math.sin(C),O=(e*Math.sin(C)+S*Math.cos(C))*P;return{x:B*P+M.x,y:O+M.y}};C.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(S,P,M,B,O,z,L,R){var V=C.arrow._points;return e.math.pointInsidePolygon(S,P,V,M,B,O,z,L,R)},roughCollide:n,draw:function(e,S,P,M){for(var B=C.arrow._points,O=0;O<B.length/2;O++){var z=a(B[2*O],B[2*O+1],S,P,M);e.lineTo(z.x,z.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},C.triangle=C.arrow,C["triangle-backcurve"]={_ctrlPt:[0,-.15],collide:function(S,P,M,B,O,z,L,R){var V=C.triangle._points;return e.math.pointInsidePolygon(S,P,V,M,B,O,z,L,R)},roughCollide:n,draw:function(e,S,P,M){for(var B,O=C.triangle._points,z=0;z<O.length/2;z++){var L=a(O[2*z],O[2*z+1],S,P,M);0===z&&(B=L),e.lineTo(L.x,L.y)}var R=this._ctrlPt,V=a(R[0],R[1],S,P,M);e.quadraticCurveTo(V.x,V.y,B.x,B.y)},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},C["triangle-tee"]={_points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],_pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(S,P,M,B,O,z,L,R){var V=C["triangle-tee"]._points,A=C["triangle-tee"]._pointsTee;return e.math.pointInsidePolygon(S,P,A,M,B,O,z,L,R)||e.math.pointInsidePolygon(S,P,V,M,B,O,z,L,R)},roughCollide:n,draw:function(e,S,P,M){for(var B=C["triangle-tee"]._points,O=0;O<B.length/2;O++){var z=a(B[2*O],B[2*O+1],S,P,M);e.lineTo(z.x,z.y)}var L=C["triangle-tee"]._pointsTee,R=a(L[0],L[1],S,P,M);e.moveTo(R.x,R.y);for(O=0;O<L.length/2;O++){z=a(L[2*O],L[2*O+1],S,P,M);e.lineTo(z.x,z.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},C["half-triangle-overshot"]={_points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0,collide:function(S,P,C,M,B,O,z,L){var R=this._points;return e.math.pointInsidePolygon(S,P,R,C,M,B,O,z,L)},roughCollide:n,draw:function(e,S,P,C){for(var M=this._points,B=0;B<M.length/2;B++){var O=a(M[2*B],M[2*B+1],S,P,C);e.lineTo(O.x,O.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},C.none={collide:function(e,S,P,C,M,B,O,z){return!1},roughCollide:function(e,S,P,C,M,B,O,z){return!1},draw:function(e){},spacing:function(e){return 0},gap:function(e){return 0}},C.circle={_baseRadius:.15,collide:function(e,S,P,M,B,O,z,L){if(B!=O){var R=(O+L)/(B+L);return S/=R,M/=R,Math.pow(P-e,2)+Math.pow(M-S,2)<=Math.pow((B+L)*C.circle._baseRadius,2)}return Math.pow(P-e,2)+Math.pow(M-S,2)<=Math.pow((B+L)*C.circle._baseRadius,2)},roughCollide:n,draw:function(e,S,P,M){e.arc(M.x,M.y,C.circle._baseRadius*S,0,2*Math.PI,!1)},spacing:function(e){return P.getArrowWidth(e._private.style.width.pxValue)*C.circle._baseRadius},gap:function(e){return 2*e._private.style.width.pxValue}},C.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(S,P,M,B,O,z,L,R){var V=C.inhibitor._points;return e.math.pointInsidePolygon(S,P,V,M,B,O,z,L,R)},roughCollide:n,draw:function(e,S,P,M){for(var B=C.inhibitor._points,O=0;O<B.length/2;O++){var z=a(B[2*O],B[2*O+1],S,P,M);e.lineTo(z.x,z.y)}},spacing:function(e){return 1},gap:function(e){return 1}},C.tee=C.inhibitor,C.square={_points:[-.15,0,.15,0,.15,-.3,-.15,-.3],collide:function(S,P,M,B,O,z,L,R){var V=C.square._points;return e.math.pointInsidePolygon(S,P,V,M,B,O,z,L,R)},roughCollide:n,draw:function(e,S,P,M){for(var B=C.square._points,O=0;O<B.length/2;O++){var z=a(B[2*O],B[2*O+1],S,P,M);e.lineTo(z.x,z.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},C.diamond={_points:[-.15,-.15,0,-.3,.15,-.15,0,0],collide:function(S,P,M,B,O,z,L,R){var V=C.diamond._points;return e.math.pointInsidePolygon(S,P,V,M,B,O,z,L,R)},roughCollide:n,draw:function(e,S,P,M){for(var B=C.diamond._points,O=0;O<B.length/2;O++){var z=a(B[2*O],B[2*O+1],S,P,M);e.lineTo(z.x,z.y)}},spacing:function(e){return 0},gap:function(e){return e._private.style.width.pxValue}}}(cytoscape),function(e){"use strict";var S=cytoscape("renderer","canvas").prototype;S.getCachedNodes=function(){var e=this.data,S=this.data.cy;return null==e.cache&&(e.cache={}),null==e.cache.cachedNodes&&(e.cache.cachedNodes=S.nodes()),e.cache.cachedNodes},S.updateNodesCache=function(){var e=this.data,S=this.data.cy;null==e.cache&&(e.cache={}),e.cache.cachedNodes=S.nodes()},S.getCachedEdges=function(){var e=this.data,S=this.data.cy;return null==e.cache&&(e.cache={}),null==e.cache.cachedEdges&&(e.cache.cachedEdges=S.edges()),e.cache.cachedEdges},S.updateEdgesCache=function(){var e=this.data,S=this.data.cy;null==e.cache&&(e.cache={}),e.cache.cachedEdges=S.edges()}}(),function(e){"use strict";var S=e("renderer","canvas"),P=S.prototype;P.projectIntoViewport=function(e,S){var P=this.findContainerClientCoords(),C=e-P[0],M=S-P[1];return C-=this.data.cy.pan().x,M-=this.data.cy.pan().y,[C/=this.data.cy.zoom(),M/=this.data.cy.zoom()]},P.findContainerClientCoords=function(){var e=this.data.container,S=this.containerBB=this.containerBB||e.getBoundingClientRect();return[S.left,S.top,S.right-S.left,S.bottom-S.top]},P.invalidateContainerClientCoordsCache=function(){this.containerBB=null},P.findNearestElement=function(P,C,M,B){function o(e){var B=e.outerWidth()+2*X,z=e.outerHeight()+2*X,R=B/2,V=z/2,A=e._private.position;if(A.x-R<=P&&P<=A.x+R&&A.y-V<=C&&C<=A.y+V){var F=!M||e.visible()&&!e.transparent();if(M&&!F)return;var Y=S.nodeShapes[O.getNodeShape(e)];e._private.style["border-width"].pxValue,Y.checkPoint(P,C,0,B,z,A.x,A.y)&&L.push(e)}}function s(B){var z,R=B._private.rscratch,X=B._private.style,F=X.width.pxValue/2+A,Y=F*F,q=2*F,j=B._private.source,$=B._private.target,W=!1,w=function(){return void 0!==z?z:M?B.visible()&&!B.transparent()?(z=!0,!0):(z=!1,!1):(z=!0,!0)};if("self"===R.edgeType||"compound"===R.edgeType)((W=e.math.inBezierVicinity(P,C,R.startX,R.startY,R.cp2ax,R.cp2ay,R.selfEdgeMidX,R.selfEdgeMidY,Y))&&w()&&Y>e.math.sqDistanceToQuadraticBezier(P,C,R.startX,R.startY,R.cp2ax,R.cp2ay,R.selfEdgeMidX,R.selfEdgeMidY)||(W=e.math.inBezierVicinity(P,C,R.selfEdgeMidX,R.selfEdgeMidY,R.cp2cx,R.cp2cy,R.endX,R.endY,Y))&&w()&&Y>e.math.sqDistanceToQuadraticBezier(P,C,R.selfEdgeMidX,R.selfEdgeMidY,R.cp2cx,R.cp2cy,R.endX,R.endY))&&L.push(B);else if("haystack"===R.edgeType){var U=X["haystack-radius"].value/2,G=$._private.position,K=$.width(),Q=$.height(),ee=j._private.position,te=j.width(),re=j.height(),ne=ee.x+R.source.x*te*U,ae=ee.y+R.source.y*re*U,se=G.x+R.target.x*K*U,le=G.y+R.target.y*Q*U;(W=e.math.inLineVicinity(P,C,ne,ae,se,le,q))&&w()&&Y>e.math.sqDistanceToFiniteLine(P,C,ne,ae,se,le)&&L.push(B)}else"straight"===R.edgeType?(W=e.math.inLineVicinity(P,C,R.startX,R.startY,R.endX,R.endY,q))&&w()&&Y>e.math.sqDistanceToFiniteLine(P,C,R.startX,R.startY,R.endX,R.endY)&&L.push(B):"bezier"===R.edgeType&&(W=e.math.inBezierVicinity(P,C,R.startX,R.startY,R.cp2x,R.cp2y,R.endX,R.endY,Y))&&w()&&Y>e.math.sqDistanceToQuadraticBezier(P,C,R.startX,R.startY,R.cp2x,R.cp2y,R.endX,R.endY)&&L.push(B);if(W&&w()&&0===L.length||L[L.length-1]!==B){var ue=S.arrowShapes[X["source-arrow-shape"].value],ce=S.arrowShapes[X["target-arrow-shape"].value],de=(j=j||B._private.source,G=($=$||B._private.target)._private.position,ee=j._private.position,O.getArrowWidth(X.width.pxValue)),he=O.getArrowHeight(X.width.pxValue),pe=de,fe=he;(ue.roughCollide(P,C,R.arrowStartX,R.arrowStartY,de,he,[R.arrowStartX-ee.x,R.arrowStartY-ee.y],A)&&ue.collide(P,C,R.arrowStartX,R.arrowStartY,de,he,[R.arrowStartX-ee.x,R.arrowStartY-ee.y],A)||ce.roughCollide(P,C,R.arrowEndX,R.arrowEndY,pe,fe,[R.arrowEndX-G.x,R.arrowEndY-G.y],A)&&ce.collide(P,C,R.arrowEndX,R.arrowEndY,pe,fe,[R.arrowEndX-G.x,R.arrowEndY-G.y],A))&&L.push(B)}V&&L.length>0&&L[L.length-1]===B&&(o(j),o($))}for(var O=this,z=this.getCachedZSortedEles(),L=[],R=this.data.cy.zoom(),V=this.data.cy.hasCompoundNodes(),A=(B?24:8)/R,X=(B?8:2)/R,F=z.length-1;F>=0;F--){var Y=z[F];if(L.length>0)break;"nodes"===Y._private.group?o(z[F]):s(z[F])}return L.length>0?L[L.length-1]:null},P.getAllInBox=function(P,C,M,B){var O=this.getCachedNodes(),z=this.getCachedEdges(),L=[],R=Math.min(P,M),V=Math.max(P,M),A=Math.min(C,B),X=Math.max(C,B);P=R,M=V,C=A,B=X;for(var F,Y=0;Y<O.length;Y++){var q=O[Y]._private.position,j=this.getNodeShape(O[Y]),$=this.getNodeWidth(O[Y]),W=this.getNodeHeight(O[Y]),U=O[Y]._private.style["border-width"].pxValue/2;S.nodeShapes[j].intersectBox(P,C,M,B,$,W,q.x,q.y,U)&&L.push(O[Y])}for(Y=0;Y<z.length;Y++){var G=z[Y]._private.rscratch;if("self"==z[Y]._private.rscratch.edgeType&&((F=e.math.boxInBezierVicinity(P,C,M,B,G.startX,G.startY,G.cp2ax,G.cp2ay,G.endX,G.endY,z[Y]._private.style.width.pxValue))&&(2==F||1==F&&e.math.checkBezierInBox(P,C,M,B,G.startX,G.startY,G.cp2ax,G.cp2ay,G.endX,G.endY,z[Y]._private.style.width.pxValue))||(F=e.math.boxInBezierVicinity(P,C,M,B,G.startX,G.startY,G.cp2cx,G.cp2cy,G.endX,G.endY,z[Y]._private.style.width.pxValue))&&(2==F||1==F&&e.math.checkBezierInBox(P,C,M,B,G.startX,G.startY,G.cp2cx,G.cp2cy,G.endX,G.endY,z[Y]._private.style.width.pxValue)))&&L.push(z[Y]),"bezier"==G.edgeType&&(F=e.math.boxInBezierVicinity(P,C,M,B,G.startX,G.startY,G.cp2x,G.cp2y,G.endX,G.endY,z[Y]._private.style.width.pxValue))&&(2==F||1==F&&e.math.checkBezierInBox(P,C,M,B,G.startX,G.startY,G.cp2x,G.cp2y,G.endX,G.endY,z[Y]._private.style.width.pxValue))&&L.push(z[Y]),"straight"==G.edgeType&&(F=e.math.boxInBezierVicinity(P,C,M,B,G.startX,G.startY,.5*G.startX+.5*G.endX,.5*G.startY+.5*G.endY,G.endX,G.endY,z[Y]._private.style.width.pxValue))&&(2==F||1==F&&e.math.checkStraightEdgeInBox(P,C,M,B,G.startX,G.startY,G.endX,G.endY,z[Y]._private.style.width.pxValue))&&L.push(z[Y]),"haystack"==G.edgeType){var K=z[Y].target()[0].position(),Q=z[Y].source()[0].position(),ee=Q.x+G.source.x,te=Q.y+G.source.y,re=K.x+G.target.x,ne=K.y+G.target.y;ee>=P&&M>=ee&&te>=C&&B>=te&&(re>=P&&M>=re&&ne>=C&&B>=ne)&&L.push(z[Y])}}return L},P.getNodeWidth=function(e){return e.width()},P.getNodeHeight=function(e){return e.height()},P.getNodeShape=function(e){var S=e._private.style.shape.value;return e.isParent()?"rectangle"===S||"roundrectangle"===S?S:"rectangle":S},P.getNodePadding=function(e){var S=e._private.style["padding-left"].pxValue,P=e._private.style["padding-right"].pxValue,C=e._private.style["padding-top"].pxValue,M=e._private.style["padding-bottom"].pxValue;return isNaN(S)&&(S=0),isNaN(P)&&(P=0),isNaN(C)&&(C=0),isNaN(M)&&(M=0),{left:S,right:P,top:C,bottom:M}},P.zOrderSort=e.Collection.zIndexSort,P.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},P.getCachedZSortedEles=function(e){var S=this.lastZOrderCachedNodes,P=this.lastZOrderCachedEdges,C=this.getCachedNodes(),M=this.getCachedEdges(),B=[];if(!e&&S&&P&&S===C&&P===M)B=this.cachedZSortedEles;else{for(var O=0;O<C.length;O++)C[O].visible()&&!C[O].transparent()&&B.push(C[O]);for(O=0;O<M.length;O++)M[O].visible()&&!M[O].transparent()&&B.push(M[O]);B.sort(this.zOrderSort),this.cachedZSortedEles=B}return this.lastZOrderCachedNodes=C,this.lastZOrderCachedEdges=M,B},P.projectBezier=function(S){function r(e){M.push({x:P(e[0],e[2],e[4],.05),y:P(e[1],e[3],e[5],.05)}),M.push({x:P(e[0],e[2],e[4],.25),y:P(e[1],e[3],e[5],.25)}),M.push({x:P(e[0],e[2],e[4],.4),y:P(e[1],e[3],e[5],.4)});var S={x:P(e[0],e[2],e[4],.5),y:P(e[1],e[3],e[5],.5)};M.push(S),"self"===C.edgeType||"compound"===C.edgeType?(C.midX=C.selfEdgeMidX,C.midY=C.selfEdgeMidY):(C.midX=S.x,C.midY=S.y),M.push({x:P(e[0],e[2],e[4],.6),y:P(e[1],e[3],e[5],.6)}),M.push({x:P(e[0],e[2],e[4],.75),y:P(e[1],e[3],e[5],.75)}),M.push({x:P(e[0],e[2],e[4],.95),y:P(e[1],e[3],e[5],.95)})}var P=e.math.qbezierAt,C=S._private.rscratch,M=S._private.rstyle.bezierPts=[];"self"===C.edgeType?(r([C.startX,C.startY,C.cp2ax,C.cp2ay,C.selfEdgeMidX,C.selfEdgeMidY]),r([C.selfEdgeMidX,C.selfEdgeMidY,C.cp2cx,C.cp2cy,C.endX,C.endY])):"bezier"===C.edgeType&&r([C.startX,C.startY,C.cp2x,C.cp2y,C.endX,C.endY])},P.recalculateNodeLabelProjection=function(e){var S=e._private.style.content.strValue;if(S&&!S.match(/^\s+$/)){var P,C,M=e.outerWidth(),B=e.outerHeight(),O=e._private.position,z=e._private.style["text-halign"].strValue,L=e._private.style["text-valign"].strValue,R=e._private.rscratch,V=e._private.rstyle;switch(z){case"left":P=O.x-M/2;break;case"right":P=O.x+M/2;break;default:P=O.x}switch(L){case"top":C=O.y-B/2;break;case"bottom":C=O.y+B/2;break;default:C=O.y}R.labelX=P,R.labelY=C,V.labelX=P,V.labelY=C,this.applyLabelDimensions(e)}},P.recalculateEdgeLabelProjection=function(S){var P=S._private.style.content.strValue;if(P&&!P.match(/^\s+$/)){var C,M,B,O,z=S._private,L=z.rscratch,R=z.rstyle;if("self"==L.edgeType)B=L.selfEdgeMidX,O=L.selfEdgeMidY;else if("straight"==L.edgeType)B=(L.startX+L.endX)/2,O=(L.startY+L.endY)/2;else if("bezier"==L.edgeType)B=e.math.qbezierAt(L.startX,L.cp2x,L.endX,.5),O=e.math.qbezierAt(L.startY,L.cp2y,L.endY,.5);else if("haystack"==L.edgeType){var V=L.haystackPts;B=(V[0]+V[2])/2,O=(V[1]+V[3])/2}C=B,M=O,L.labelX=C,L.labelY=M,R.labelX=C,R.labelY=M,this.applyLabelDimensions(S)}},P.applyLabelDimensions=function(e){var S=e._private.rscratch,P=e._private.rstyle,C=this.getLabelText(e),M=this.calculateLabelDimensions(e,C);P.labelWidth=M.width,S.labelWidth=M.width,P.labelHeight=M.height,S.labelHeight=M.height},P.getLabelText=function(e){var S=e._private.style,P=e._private.style.content.strValue,C=S["text-transform"].value,M=e._private.rscratch;if("none"==C||("uppercase"==C?P=P.toUpperCase():"lowercase"==C&&(P=P.toLowerCase())),"wrap"===S["text-wrap"].value){if(M.labelWrapKey===M.labelKey)return M.labelWrapCachedText;for(var B=P.split("\n"),O=S["text-max-width"].pxValue,z=[],L=0;L<B.length;L++){var R=B[L];if(this.calculateLabelDimensions(e,R,"line="+R).width>O){for(var V=R.split(/\s+/),A="",X=0;X<V.length;X++){var F=V[X],Y=0===A.length?F:A+" "+F;O>=this.calculateLabelDimensions(e,Y,"testLine="+Y).width?A+=F+" ":(z.push(A),A=F+" ")}A.match(/^\s+$/)||z.push(A)}else z.push(R)}M.labelWrapCachedLines=z,M.labelWrapCachedText=P=z.join("\n"),M.labelWrapKey=M.labelKey}return P},P.calculateLabelDimensions=function(e,S,P){var C=e._private.style,M=C["font-style"].strValue,B=C["font-size"].pxValue+"px",O=C["font-family"].strValue,z=C["font-weight"].strValue,L=e._private.labelKey;P&&(L+="$@$"+P);var R=this.labelDimCache||(this.labelDimCache={});if(R[L])return R[L];var V=this.labelCalcDiv;V||(V=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(V));var A=V.style;return A.fontFamily=O,A.fontStyle=M,A.fontSize=B,A.fontWeight=z,A.position="absolute",A.left="-9999px",A.top="-9999px",A.zIndex="-1",A.visibility="hidden",A.pointerEvents="none",A.padding="0",A.lineHeight="1",A.whiteSpace="wrap"===C["text-wrap"].value?"pre":"normal",V.textContent=S,R[L]={width:V.clientWidth,height:V.clientHeight},R[L]},P.recalculateRenderedStyle=function(e){for(var S=[],P=[],C={},M=0;M<e.length;M++){var B=e[M],O=B._private,z=O.style,L=O.rscratch,R=O.rstyle,V=O.data.id,A=null!=L.boundingBoxKey&&O.boundingBoxKey===L.boundingBoxKey,X=null!=L.labelKey&&O.labelKey===L.labelKey,F=A&&X;if("nodes"===B._private.group){var Y=O.position,q=null!=R.nodeX&&null!=R.nodeY&&Y.x===R.nodeX&&Y.y===R.nodeY,j=null!=R.nodeW&&R.nodeW===z.width.pxValue,$=null!=R.nodeH&&R.nodeH===z.height.pxValue;q&&F&&j&&$||P.push(B),R.nodeX=Y.x,R.nodeY=Y.y,R.nodeW=z.width.pxValue,R.nodeH=z.height.pxValue}else{var W=B._private.source._private.position,U=B._private.target._private.position,G=null!=R.srcX&&null!=R.srcY&&W.x===R.srcX&&W.y===R.srcY,K=null!=R.tgtX&&null!=R.tgtY&&U.x===R.tgtX&&U.y===R.tgtY;if(!(G&&K)||!F)if("bezier"===O.style["curve-style"].value){if(!C[V]){S.push(B),C[V]=!0;var Q=B.parallelEdges();for(M=0;M<Q.length;M++){var ee=Q[M],te=ee._private.data.id;C[te]||(S.push(ee),C[te]=!0)}}}else S.push(B);R.srcX=W.x,R.srcY=W.y,R.tgtX=U.x,R.tgtY=U.y}L.boundingBoxKey=O.boundingBoxKey,L.labelKey=O.labelKey}this.recalculateEdgeProjections(S),this.recalculateLabelProjections(P,S)},P.recalculateLabelProjections=function(e,S){for(var P=0;P<e.length;P++)this.recalculateNodeLabelProjection(e[P]);for(P=0;P<S.length;P++)this.recalculateEdgeLabelProjection(S[P])},P.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},P.findEdgeControlPoints=function(P){if(P&&0!==P.length){for(var C,M=this.data.cy.hasCompoundNodes(),B={},O=[],z=[],L=0;L<P.length;L++){var R=(dt=P[L])._private.style,V="unbundled-bezier"===R["curve-style"].value;if("none"!==R.display.value)if("haystack"!==R["curve-style"].value){var A=dt._private.data.source,X=dt._private.data.target;C=A>X?X+"-"+A:A+"-"+X,V&&(C="unbundled"+dt._private.data.id),null==B[C]&&(B[C]=[],O.push(C)),B[C].push(dt),V&&(B[C].hasUnbundled=!0)}else z.push(dt)}for(var F,Y,q,j,$,W,U=0;U<O.length;U++){var G=B[C=O[U]];if(G.sort((function(e,S){return e._private.index-S._private.index})),vt=G[0]._private.source,yt=G[0]._private.target,vt._private.data.id>yt._private.data.id){var K=vt;vt=yt,yt=K}if(mt=vt._private.position,xt=yt._private.position,bt=this.getNodeWidth(vt),_t=this.getNodeHeight(vt),wt=this.getNodeWidth(yt),Et=this.getNodeHeight(yt),F=S.nodeShapes[this.getNodeShape(vt)],Y=S.nodeShapes[this.getNodeShape(yt)],q=vt._private.style["border-width"].pxValue,j=yt._private.style["border-width"].pxValue,W=!1,G.length>1&&vt!==yt||G.hasUnbundled){var Q=F.intersectLine(mt.x,mt.y,bt,_t,xt.x,xt.y,q/2),ee=Y.intersectLine(xt.x,xt.y,wt,Et,mt.x,mt.y,j/2),te={x1:Q[0],x2:ee[0],y1:Q[1],y2:ee[1]},re=ee[1]-Q[1],ne=ee[0]-Q[0],ae=Math.sqrt(ne*ne+re*re),se={x:ne,y:re},le={x:se.x/ae,y:se.y/ae};$={x:-le.y,y:le.x},(Y.checkPoint(Q[0],Q[1],j/2,wt,Et,xt.x,xt.y)||F.checkPoint(ee[0],ee[1],q/2,bt,_t,mt.x,mt.y))&&($={},W=!0)}for(L=0;L<G.length;L++){var ue=(ft=(dt=G[L])._private.rscratch).lastEdgeIndex,ce=L,de=ft.lastNumEdges,he=G.length,pe=dt._private.style,fe=pe["control-point-step-size"].pxValue,ge=void 0!==pe["control-point-distance"]?pe["control-point-distance"].pxValue:void 0,ve=pe["control-point-weight"].value,ye=(V="unbundled-bezier"===pe["curve-style"].value,dt._private.source!==vt);ye&&V&&(ge*=-1);var me=ft.lastSrcCtlPtX,xe=mt.x,be=ft.lastSrcCtlPtY,we=mt.y,_e=ft.lastSrcCtlPtW,Ee=vt.outerWidth(),Se=ft.lastSrcCtlPtH,De=vt.outerHeight(),ke=ft.lastTgtCtlPtX,Te=xt.x,Pe=ft.lastTgtCtlPtY,Ce=xt.y,Me=ft.lastTgtCtlPtW,Be=yt.outerWidth(),Ne=ft.lastTgtCtlPtH,Ie=yt.outerHeight(),Oe=ft.lastW,ze=pe["control-point-step-size"].pxValue;if(ft.badBezier=!!W,me!==xe||be!==we||_e!==Ee||Se!==De||ke!==Te||Pe!==Ce||Me!==Be||Ne!==Ie||Oe!==ze||!(ue===ce&&de===he||V)){if(ft.lastSrcCtlPtX=xe,ft.lastSrcCtlPtY=we,ft.lastSrcCtlPtW=Ee,ft.lastSrcCtlPtH=De,ft.lastTgtCtlPtX=Te,ft.lastTgtCtlPtY=Ce,ft.lastTgtCtlPtW=Be,ft.lastTgtCtlPtH=Ie,ft.lastEdgeIndex=ce,ft.lastNumEdges=he,ft.lastWidth=ze,vt===yt){ft.edgeType="self";var Le=L,Re=fe;V&&(Le=0,Re=ge),ft.cp2ax=mt.x,ft.cp2ay=mt.y-(1+Math.pow(_t,1.12)/100)*Re*(Le/3+1),ft.cp2cx=mt.x-(1+Math.pow(bt,1.12)/100)*Re*(Le/3+1),ft.cp2cy=mt.y,ft.selfEdgeMidX=(ft.cp2ax+ft.cp2cx)/2,ft.selfEdgeMidY=(ft.cp2ay+ft.cp2cy)/2}else if(M&&(vt.isParent()||vt.isChild()||yt.isParent()||yt.isChild())&&(vt.parents().anySame(yt)||yt.parents().anySame(vt))){ft.edgeType="compound",ft.badBezier=!1;Le=L,Re=fe;V&&(Le=0,Re=ge);var Ve={x:mt.x-bt/2,y:mt.y-_t/2},Ae={x:xt.x-wt/2,y:xt.y-Et/2};ft.cp2ax=Ve.x,ft.compoundStretchA=Math.max(1,Math.log(.01*bt)),ft.cp2ay=Ve.y-(1+Math.pow(50,1.12)/100)*Re*(Le/3+1)*ft.compoundStretchA,ft.compoundStretchB=Math.max(1,Math.log(.01*wt)),ft.cp2cx=Ae.x-(1+Math.pow(50,1.12)/100)*Re*(Le/3+1)*ft.compoundStretchB,ft.cp2cy=Ae.y,ft.selfEdgeMidX=(ft.cp2ax+ft.cp2cx)/2,ft.selfEdgeMidY=(ft.cp2ay+ft.cp2cy)/2}else if(G.length%2!=1||L!==Math.floor(G.length/2)||V){var Xe,Fe=(.5-G.length/2+L)*fe,Ye=e.math.signum(Fe),qe=void 0!==(Xe=V?ge:void 0!==ge?Ye*ge:void 0)?Xe:Fe,je=1-ve,$e=ve;ye&&(je=ve,$e=1-ve);var We={x:te.x1*je+te.x2*$e,y:te.y1*je+te.y2*$e};ft.edgeType="bezier",ft.cp2x=We.x+$.x*qe,ft.cp2y=We.y+$.y*qe}else ft.edgeType="straight";this.findEndpoints(dt);var He=!e.is.number(ft.startX)||!e.is.number(ft.startY),Ze=!e.is.number(ft.arrowStartX)||!e.is.number(ft.arrowStartY),Ue=!e.is.number(ft.endX)||!e.is.number(ft.endY),Ge=!e.is.number(ft.arrowEndX)||!e.is.number(ft.arrowEndY),Ke=3*(this.getArrowWidth(dt._private.style.width.pxValue)*S.arrowShapeHeight),Je=e.math.distance({x:ft.cp2x,y:ft.cp2y},{x:ft.startX,y:ft.startY}),Qe=Ke>Je,et=e.math.distance({x:ft.cp2x,y:ft.cp2y},{x:ft.endX,y:ft.endY}),tt=Ke>et;if("bezier"===ft.edgeType){var rt=!1;if(He||Ze||Qe){rt=!0;var nt={x:ft.cp2x-mt.x,y:ft.cp2y-mt.y},at=Math.sqrt(nt.x*nt.x+nt.y*nt.y),ot={x:nt.x/at,y:nt.y/at},st=Math.max(bt,_t),lt={x:ft.cp2x+2*ot.x*st,y:ft.cp2y+2*ot.y*st},ut=F.intersectLine(mt.x,mt.y,bt,_t,lt.x,lt.y,q/2);Qe?(ft.cp2x=ft.cp2x+ot.x*(Ke-Je),ft.cp2y=ft.cp2y+ot.y*(Ke-Je)):(ft.cp2x=ut[0]+ot.x*Ke,ft.cp2y=ut[1]+ot.y*Ke)}if(Ue||Ge||tt){rt=!0;nt={x:ft.cp2x-xt.x,y:ft.cp2y-xt.y},at=Math.sqrt(nt.x*nt.x+nt.y*nt.y),ot={x:nt.x/at,y:nt.y/at},st=Math.max(bt,_t),lt={x:ft.cp2x+2*ot.x*st,y:ft.cp2y+2*ot.y*st};var ct=Y.intersectLine(xt.x,xt.y,wt,Et,lt.x,lt.y,j/2);tt?(ft.cp2x=ft.cp2x+ot.x*(Ke-et),ft.cp2y=ft.cp2y+ot.y*(Ke-et)):(ft.cp2x=ct[0]+ot.x*Ke,ft.cp2y=ct[1]+ot.y*Ke)}rt&&this.findEndpoints(dt)}else"straight"===ft.edgeType&&(ft.midX=(xe+Te)/2,ft.midY=(we+Ce)/2);this.projectBezier(dt),this.recalculateEdgeLabelProjection(dt)}}}for(L=0;L<z.length;L++){var dt,ht=(dt=z[L])._private,pt=ht.rscratch,ft=pt;if(!pt.haystack){var gt=2*Math.random()*Math.PI;pt.source={x:Math.cos(gt),y:Math.sin(gt)};gt=2*Math.random()*Math.PI;pt.target={x:Math.cos(gt),y:Math.sin(gt)}}var vt=ht.source,yt=ht.target,mt=vt._private.position,xt=yt._private.position,bt=vt.width(),wt=yt.width(),_t=vt.height(),Et=yt.height(),St=(st=R["haystack-radius"].value)/2;ft.haystackPts=[ft.source.x*bt*St+mt.x,ft.source.y*_t*St+mt.y,ft.target.x*wt*St+xt.x,ft.target.y*Et*St+xt.y],pt.edgeType="haystack",pt.haystack=!0,this.recalculateEdgeLabelProjection(dt)}return B}},P.findEndpoints=function(P){var C,M=P.source()[0],B=P.target()[0],O=P._private.style["target-arrow-shape"].value,z=P._private.style["source-arrow-shape"].value,L=B._private.style["border-width"].pxValue,R=M._private.style["border-width"].pxValue,V=P._private.rscratch;if("self"==V.edgeType||"compound"==V.edgeType){var A=[V.cp2cx,V.cp2cy];C=S.nodeShapes[this.getNodeShape(B)].intersectLine(B._private.position.x,B._private.position.y,this.getNodeWidth(B),this.getNodeHeight(B),A[0],A[1],L/2);var X=e.math.shortenIntersection(C,A,S.arrowShapes[O].spacing(P)),F=e.math.shortenIntersection(C,A,S.arrowShapes[O].gap(P));V.endX=F[0],V.endY=F[1],V.arrowEndX=X[0],V.arrowEndY=X[1];A=[V.cp2ax,V.cp2ay];C=S.nodeShapes[this.getNodeShape(M)].intersectLine(M._private.position.x,M._private.position.y,this.getNodeWidth(M),this.getNodeHeight(M),A[0],A[1],R/2);var Y=e.math.shortenIntersection(C,A,S.arrowShapes[z].spacing(P)),q=e.math.shortenIntersection(C,A,S.arrowShapes[z].gap(P));V.startX=q[0],V.startY=q[1],V.arrowStartX=Y[0],V.arrowStartY=Y[1]}else if("straight"==V.edgeType){C=S.nodeShapes[this.getNodeShape(B)].intersectLine(B._private.position.x,B._private.position.y,this.getNodeWidth(B),this.getNodeHeight(B),M.position().x,M.position().y,L/2),V.noArrowPlacement=0===C.length;X=e.math.shortenIntersection(C,[M.position().x,M.position().y],S.arrowShapes[O].spacing(P)),F=e.math.shortenIntersection(C,[M.position().x,M.position().y],S.arrowShapes[O].gap(P));V.endX=F[0],V.endY=F[1],V.arrowEndX=X[0],V.arrowEndY=X[1],C=S.nodeShapes[this.getNodeShape(M)].intersectLine(M._private.position.x,M._private.position.y,this.getNodeWidth(M),this.getNodeHeight(M),B.position().x,B.position().y,R/2),V.noArrowPlacement=0===C.length;Y=e.math.shortenIntersection(C,[B.position().x,B.position().y],S.arrowShapes[z].spacing(P)),q=e.math.shortenIntersection(C,[B.position().x,B.position().y],S.arrowShapes[z].gap(P));V.startX=q[0],V.startY=q[1],V.arrowStartX=Y[0],V.arrowStartY=Y[1],V.badLine=!(e.is.number(V.startX)&&e.is.number(V.startY)&&e.is.number(V.endX)&&e.is.number(V.endY))}else if("bezier"==V.edgeType){A=[V.cp2x,V.cp2y];C=S.nodeShapes[this.getNodeShape(B)].intersectLine(B._private.position.x,B._private.position.y,this.getNodeWidth(B),this.getNodeHeight(B),A[0],A[1],L/2);X=e.math.shortenIntersection(C,A,S.arrowShapes[O].spacing(P)),F=e.math.shortenIntersection(C,A,S.arrowShapes[O].gap(P));V.endX=F[0],V.endY=F[1],V.arrowEndX=X[0],V.arrowEndY=X[1],C=S.nodeShapes[this.getNodeShape(M)].intersectLine(M._private.position.x,M._private.position.y,this.getNodeWidth(M),this.getNodeHeight(M),A[0],A[1],R/2);Y=e.math.shortenIntersection(C,A,S.arrowShapes[z].spacing(P)),q=e.math.shortenIntersection(C,A,S.arrowShapes[z].gap(P));V.startX=q[0],V.startY=q[1],V.arrowStartX=Y[0],V.arrowStartY=Y[1]}else if(V.isArcEdge)return},P.findEdges=function(e){for(var S=this.getCachedEdges(),P={},C=[],M=0;M<e.length;M++)P[e[M]._private.data.id]=e[M];for(M=0;M<S.length;M++)(P[S[M]._private.data.source]||P[S[M]._private.data.target])&&C.push(S[M]);return C},P.getArrowWidth=P.getArrowHeight=function(e){var S=this.arrowWidthCache=this.arrowWidthCache||{},P=S[e];return P||(P=Math.max(Math.pow(13.37*e,.9),29),S[e]=P,P)}}(cytoscape),function(e){"use strict";var S=cytoscape("renderer","canvas"),P=S.prototype;P.drawEdge=function(e,P,C){var M=P._private.rscratch,B=S.usePaths();if(!M.badBezier&&("bezier"!==M.edgeType&&"straight"!==M.edgeType||!isNaN(M.startX))){var O=P._private.style;if(!(O.width.pxValue<=0)){var z,L,R=O["overlay-padding"].pxValue,V=O["overlay-opacity"].value,A=O["overlay-color"].value;if(C){if(0===V)return;this.strokeStyle(e,A[0],A[1],A[2],V),e.lineCap="round","self"!=P._private.rscratch.edgeType||B||(e.lineCap="butt")}else{var X=O["line-color"].value;this.strokeStyle(e,X[0],X[1],X[2],O.opacity.value),e.lineCap="butt"}z=P._private.source,L=P._private.target;var F=O.width.pxValue+(C?2*R:0),Y=C?"solid":O["line-style"].value;e.lineWidth=F;var q=O["shadow-blur"].pxValue,j=O["shadow-opacity"].value,$=O["shadow-color"].value,W=O["shadow-offset-x"].pxValue,U=O["shadow-offset-y"].pxValue;if(this.shadowStyle(e,$,C?0:j,q,W,U),"haystack"===M.edgeType)this.drawStyledEdge(P,e,M.haystackPts,Y,F);else if("self"===M.edgeType||"compound"===M.edgeType){var G=[(ee=P._private.rscratch).startX,ee.startY,ee.cp2ax,ee.cp2ay,ee.selfEdgeMidX,ee.selfEdgeMidY,ee.selfEdgeMidX,ee.selfEdgeMidY,ee.cp2cx,ee.cp2cy,ee.endX,ee.endY];this.drawStyledEdge(P,e,G,Y,F)}else if("straight"===M.edgeType){var K=L._private.position.x-z._private.position.x,Q=L._private.position.y-z._private.position.y;if(0>K*(M.endX-M.startX)+Q*(M.endY-M.startY))M.straightEdgeTooShort=!0;else{var ee=M;this.drawStyledEdge(P,e,[ee.startX,ee.startY,ee.endX,ee.endY],Y,F),M.straightEdgeTooShort=!1}}else{ee=M;this.drawStyledEdge(P,e,[ee.startX,ee.startY,ee.cp2x,ee.cp2y,ee.endX,ee.endY],Y,F)}("haystack"===M.edgeType||!0!==M.noArrowPlacement&&void 0!==M.startX)&&this.drawArrowheads(e,P,C),this.shadowStyle(e,"transparent",0)}}},P.drawStyledEdge=function(e,P,C,M,B){var O,z=e._private.rscratch,L=P,R=!1,V=S.usePaths();if(V){for(var A=C,X=z.pathCacheKey&&A.length===z.pathCacheKey.length,F=0;X&&F<A.length;F++)z.pathCacheKey[F]!==A[F]&&(X=!1);X?(O=P=z.pathCache,R=!0):(O=P=new Path2D,z.pathCacheKey=A,z.pathCache=O)}if(L.setLineDash)switch(M){case"dotted":L.setLineDash([1,1]);break;case"dashed":L.setLineDash([6,3]);break;case"solid":L.setLineDash([])}R||(P.beginPath&&P.beginPath(),P.moveTo(C[0],C[1]),6!==C.length||z.badBezier?12!==C.length||z.badBezier?4!==C.length||z.badLine||P.lineTo(C[2],C[3]):(P.quadraticCurveTo(C[2],C[3],C[4],C[5]),P.quadraticCurveTo(C[8],C[9],C[10],C[11])):P.quadraticCurveTo(C[2],C[3],C[4],C[5])),P=L,V?P.stroke(O):P.stroke(),P.setLineDash&&P.setLineDash([])},P.drawArrowheads=function(e,S,P){function i(P,C,M,B,O){var z=Y[P+"-arrow-shape"].value;if("none"!==z){var L=e.globalCompositeOperation,R="hollow"===Y[P+"-arrow-fill"].value?"both":"filled",A=Y[P+"-arrow-fill"].value;"half-triangle-overshot"===z&&(A="hollow",R="hollow"),(1!==Y.opacity.value||"hollow"===A)&&(e.globalCompositeOperation="destination-out",V.fillStyle(e,255,255,255,1),V.strokeStyle(e,255,255,255,1),V.drawArrowShape(S,P,e,R,Y.width.pxValue,Y[P+"-arrow-shape"].value,C,M,B,O),e.globalCompositeOperation=L);var X=Y[P+"-arrow-color"].value;V.fillStyle(e,X[0],X[1],X[2],Y.opacity.value),V.strokeStyle(e,X[0],X[1],X[2],Y.opacity.value),V.drawArrowShape(S,P,e,A,Y.width.pxValue,Y[P+"-arrow-shape"].value,C,M,B,O)}}if(!P){var C,M,B,O,z,L,R=S._private.rscratch,V=this,A="haystack"===R.edgeType,X=S.source().position(),F=S.target().position();A?(B=R.haystackPts[0],O=R.haystackPts[1],z=R.haystackPts[2],L=R.haystackPts[3]):(B=R.arrowStartX,O=R.arrowStartY,z=R.arrowEndX,L=R.arrowEndY);var Y=S._private.style;C=B-X.x,M=O-X.y,A||isNaN(B)||isNaN(O)||isNaN(C)||isNaN(M)||i("source",B,O,C,M);var q=R.midX,j=R.midY;A&&(q=(B+z)/2,j=(O+L)/2),C=B-z,M=O-L,"self"===R.edgeType&&(C=1,M=-1),isNaN(q)||isNaN(j)||i("mid-target",q,j,C,M),C*=-1,M*=-1,isNaN(q)||isNaN(j)||i("mid-source",q,j,C,M),C=z-F.x,M=L-F.y,A||isNaN(z)||isNaN(L)||isNaN(C)||isNaN(M)||i("target",z,L,C,M)}},P.drawArrowShape=function(e,P,C,M,B,O,z,L,R,V){var A,X=S.usePaths(),F=e._private.rscratch,Y=!1,q=C,j={x:z,y:L},$=Math.asin(V/Math.sqrt(R*R+V*V));0>R?$+=Math.PI/2:$=-(Math.PI/2+$);var W=this.getArrowWidth(B),U=S.arrowShapes[O];if(X){var G=W+"$"+O+"$"+$+"$"+z+"$"+L;F.arrowPathCacheKey=F.arrowPathCacheKey||{},F.arrowPathCache=F.arrowPathCache||{},F.arrowPathCacheKey[P]===G?(A=C=F.arrowPathCache[P],Y=!0):(A=C=new Path2D,F.arrowPathCacheKey[P]=G,F.arrowPathCache[P]=A)}C.beginPath&&C.beginPath(),Y||U.draw(C,W,$,j),!U.leavePathOpen&&C.closePath&&C.closePath(),C=q,("filled"===M||"both"===M)&&(X?C.fill(A):C.fill()),("hollow"===M||"both"===M)&&(C.lineWidth=U.matchEdgeWidth?B:1,C.lineJoin="miter",X?C.stroke(A):C.stroke())}}(),function(e){"use strict";var S=cytoscape("renderer","canvas"),P=S.prototype;P.getCachedImage=function(e,S){var P=this.imageCache=this.imageCache||{};if(P[e]&&P[e].image)return P[e].image;var C=(P[e]=P[e]||{}).image=new Image;return C.addEventListener("load",S),C.src=e,C},P.safeDrawImage=function(e,P,C,M,B,O,z,L,R,V){var A=this;try{e.drawImage(P,C,M,B,O,z,L,R,V)}catch(e){A.data.canvasNeedsRedraw[S.NODE]=!0,A.data.canvasNeedsRedraw[S.DRAG]=!0,A.drawingImage=!0,A.redraw()}},P.drawInscribedImage=function(e,P,C){var M=this,B=C._private.position.x,O=C._private.position.y,z=C._private.style,L=z["background-fit"].value,R=z["background-position-x"],V=z["background-position-y"],A=z["background-repeat"].value,X=C.width(),F=C.height(),Y=C._private.rscratch,q="node"===z["background-clip"].value,j=z["background-image-opacity"].value,$=P.width,W=P.height;if(0!==$&&0!==W){var U=z["background-width"];"auto"!==U.value&&($="%"===U.units?U.value/100*X:U.pxValue);var G=z["background-height"];if("auto"!==G.value&&(W="%"===G.units?G.value/100*F:G.pxValue),0!==$&&0!==W){if("contain"===L)$*=K=Math.min(X/$,F/W),W*=K;else if("cover"===L){var K;$*=K=Math.max(X/$,F/W),W*=K}var Q=B-X/2;Q+="%"===R.units?(X-$)*R.value/100:R.pxValue;var ee=O-F/2;ee+="%"===V.units?(F-W)*V.value/100:V.pxValue,Y.pathCache&&(Q-=B,ee-=O,B=0,O=0);var te=e.globalAlpha;if(e.globalAlpha=j,"no-repeat"===A)q&&(e.save(),Y.pathCache?e.clip(Y.pathCache):(S.nodeShapes[M.getNodeShape(C)].drawPath(e,B,O,X,F),e.clip())),M.safeDrawImage(e,P,0,0,P.width,P.height,Q,ee,$,W),q&&e.restore();else{var re=e.createPattern(P,A);e.fillStyle=re,S.nodeShapes[M.getNodeShape(C)].drawPath(e,B,O,X,F),e.translate(Q,ee),e.fill(),e.translate(-Q,-ee)}e.globalAlpha=te}}}}(),function(e){"use strict";var S=e("renderer","canvas").prototype;S.drawEdgeText=function(S,P){var C=P._private.style.content.strValue;if(!(!C||C.match(/^\s+$/)||this.hideEdgesOnViewport&&(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var M=P._private.style["font-size"].pxValue*P.cy().zoom();if(!(P._private.style["min-zoomed-font-size"].pxValue>M)){S.textAlign="center",S.textBaseline="middle";var B,O,z,L=P._private.rscratch;if(e.is.number(L.labelX)&&e.is.number(L.labelY))if("autorotate"===P._private.style["edge-text-rotation"].strValue){if("haystack"===L.edgeType)O=L.haystackPts[2]-L.haystackPts[0],z=L.haystackPts[3]-L.haystackPts[1];else O=L.endX-L.startX,z=L.endY-L.startY;B=Math.atan(z/O),S.translate(L.labelX,L.labelY),S.rotate(B),this.drawText(S,P,0,0),S.rotate(-B),S.translate(-L.labelX,-L.labelY)}else this.drawText(S,P,L.labelX,L.labelY)}}},S.drawNodeText=function(S,P){var C=P._private.style.content.strValue;if(C&&!C.match(/^\s+$/)){var M=P._private.style["font-size"].pxValue*P.cy().zoom();if(!(P._private.style["min-zoomed-font-size"].pxValue>M)){var B=P._private.style["text-halign"].strValue,O=P._private.style["text-valign"].strValue,z=P._private.rscratch;if(e.is.number(z.labelX)&&e.is.number(z.labelY)){switch(B){case"left":S.textAlign="right";break;case"right":S.textAlign="left";break;default:S.textAlign="center"}switch(O){case"top":S.textBaseline="bottom";break;case"bottom":S.textBaseline="top";break;default:S.textBaseline="middle"}this.drawText(S,P,z.labelX,z.labelY)}}}},S.getFontCache=function(e){var S;this.fontCaches=this.fontCaches||[];for(var P=0;P<this.fontCaches.length;P++)if((S=this.fontCaches[P]).context===e)return S;return S={context:e},this.fontCaches.push(S),S},S.setupTextStyle=function(e,S){var P=S.effectiveOpacity(),C=S._private.style,M=C["font-style"].strValue,B=C["font-size"].pxValue+"px",O=C["font-family"].strValue,z=C["font-weight"].strValue,L=C["text-opacity"].value*C.opacity.value*P,R=C["text-outline-opacity"].value*L,V=C.color.value,A=C["text-outline-color"].value,X=C["text-shadow-blur"].pxValue,F=C["text-shadow-opacity"].value,Y=C["text-shadow-color"].value,q=C["text-shadow-offset-x"].pxValue,j=C["text-shadow-offset-y"].pxValue,$=S._private.fontKey,W=this.getFontCache(e);W.key!==$&&(e.font=M+" "+z+" "+B+" "+O,W.key=$);var U=this.getLabelText(S);return e.lineJoin="round",this.fillStyle(e,V[0],V[1],V[2],L),this.strokeStyle(e,A[0],A[1],A[2],R),this.shadowStyle(e,Y,F,X,q,j),U},S.drawText=function(e,S,P,C){var M=S._private,B=M.style,O=M.rstyle,z=M.rscratch,L=S.effectiveOpacity();if(0!==L&&0!==B["text-opacity"].value){var R=this.setupTextStyle(e,S),V=B["text-halign"].value,A=B["text-valign"].value;if(S.isEdge()&&(V="center",A="center"),null!=R&&!isNaN(P)&&!isNaN(C)){var X=B["text-background-opacity"].value,F=B["text-border-opacity"].value,Y=B["text-border-width"].pxValue;if(X>0||Y>0&&F>0){var q=4+Y/2;S.isNode()&&("top"===A?C-=q:"bottom"===A&&(C+=q),"left"===V?P-=q:"right"===V&&(P+=q));var j=O.labelWidth,$=O.labelHeight,W=P;V&&("center"==V?W-=j/2:"left"==V&&(W-=j));var U=C;if(S.isNode()?"top"==A?U-=$:"center"==A&&(U-=$/2):U-=$/2,"autorotate"===B["edge-text-rotation"].strValue?(W=P-(j+=4)/2,U=(C=0)-$/2):(W-=q,U-=q,$+=2*q,j+=2*q),X>0){var G=e.fillStyle,K=B["text-background-color"].value;e.fillStyle="rgba("+K[0]+","+K[1]+","+K[2]+","+X*L+")","roundrectangle"==B["text-background-shape"].strValue?function t(e,S,P,C,M,B){B=B||5,e.beginPath(),e.moveTo(S+B,P),e.lineTo(S+C-B,P),e.quadraticCurveTo(S+C,P,S+C,P+B),e.lineTo(S+C,P+M-B),e.quadraticCurveTo(S+C,P+M,S+C-B,P+M),e.lineTo(S+B,P+M),e.quadraticCurveTo(S,P+M,S,P+M-B),e.lineTo(S,P+B),e.quadraticCurveTo(S,P,S+B,P),e.closePath(),e.fill()}(e,W,U,j,$,2):e.fillRect(W,U,j,$),e.fillStyle=G}if(Y>0&&F>0){var Q=e.strokeStyle,ee=e.lineWidth,te=B["text-border-color"].value,re=B["text-border-style"].value;if(e.strokeStyle="rgba("+te[0]+","+te[1]+","+te[2]+","+F*L+")",e.lineWidth=Y,e.setLineDash)switch(re){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=Y/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(W,U,j,$),"double"===re){var ne=Y/2;e.strokeRect(W+ne,U+ne,j-2*ne,$-2*ne)}e.setLineDash&&e.setLineDash([]),e.lineWidth=ee,e.strokeStyle=Q}}var ae=2*B["text-outline-width"].pxValue;if(ae>0&&(e.lineWidth=ae),"wrap"===B["text-wrap"].value){var se=z.labelWrapCachedLines,le=O.labelHeight/se.length;switch(A){case"top":C-=(se.length-1)*le;break;case"bottom":break;default:C-=(se.length-1)*le/2}for(var ue=0;ue<se.length;ue++)ae>0&&e.strokeText(se[ue],P,C),e.fillText(se[ue],P,C),C+=le}else ae>0&&e.strokeText(R,P,C),e.fillText(R,P,C);this.shadowStyle(e,"transparent",0)}}}}(cytoscape),function(e){"use strict";var S=e("renderer","canvas"),P=S.prototype;P.drawNode=function(e,P,C){var M,B,O,z=this,L=P._private.style,R=P._private.rscratch,V=P._private,A=S.usePaths(),X=e,F=!1,Y=L["overlay-padding"].pxValue,q=L["overlay-opacity"].value,j=L["overlay-color"].value;if(!C||0!==q){var $=P.effectiveOpacity();if(0!==$)if(M=this.getNodeWidth(P),B=this.getNodeHeight(P),e.lineWidth=L["border-width"].pxValue,void 0!==C&&C)q>0&&(this.fillStyle(e,j[0],j[1],j[2],q),S.nodeShapes.roundrectangle.drawPath(e,P._private.position.x,P._private.position.y,M+2*Y,B+2*Y),e.fill());else{var W,U=L["background-image"].value[2]||L["background-image"].value[1];if(void 0!==U){W=this.getCachedImage(U,(function(){z.data.canvasNeedsRedraw[S.NODE]=!0,z.data.canvasNeedsRedraw[S.DRAG]=!0,z.drawingImage=!0,z.redraw()}));var G=V.backgrounding;V.backgrounding=!W.complete,G!==V.backgrounding&&P.updateStyle(!1)}var K=L["background-color"].value,Q=L["border-color"].value,ee=L["border-style"].value;this.fillStyle(e,K[0],K[1],K[2],L["background-opacity"].value*$),this.strokeStyle(e,Q[0],Q[1],Q[2],L["border-opacity"].value*$);var te=L["shadow-blur"].pxValue,re=L["shadow-opacity"].value,ne=L["shadow-color"].value,ae=L["shadow-offset-x"].pxValue,se=L["shadow-offset-y"].pxValue;if(this.shadowStyle(e,ne,re,te,ae,se),e.lineJoin="miter",e.setLineDash)switch(ee){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var le=L.shape.strValue,ue=P._private.position;if(A){var ce=le+"$"+M+"$"+B;e.translate(ue.x,ue.y),R.pathCacheKey===ce?(O=e=R.pathCache,F=!0):(O=e=new Path2D,R.pathCacheKey=ce,R.pathCache=O)}if(!F){var de=ue;A&&(de={x:0,y:0}),S.nodeShapes[this.getNodeShape(P)].drawPath(e,de.x,de.y,M,B)}e=X,A?e.fill(O):e.fill(),this.shadowStyle(e,"transparent",0),void 0!==U&&W.complete&&this.drawInscribedImage(e,W,P);var he=L["background-blacken"].value,pe=L["border-width"].pxValue;if(this.hasPie(P)&&(this.drawPie(e,P,$),(0!==he||0!==pe)&&(A||S.nodeShapes[this.getNodeShape(P)].drawPath(e,ue.x,ue.y,M,B))),he>0?(this.fillStyle(e,0,0,0,he),A?e.fill(O):e.fill()):0>he&&(this.fillStyle(e,255,255,255,-he),A?e.fill(O):e.fill()),pe>0&&(A?e.stroke(O):e.stroke(),"double"===ee)){e.lineWidth=L["border-width"].pxValue/3;var fe=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",A?e.stroke(O):e.stroke(),e.globalCompositeOperation=fe}A&&e.translate(-ue.x,-ue.y),e.setLineDash&&e.setLineDash([])}}},P.hasPie=function(e){return(e=e[0])._private.hasPie},P.drawPie=function(P,C,M){var B=(C=C[0])._private,O=B.style,z=O["pie-size"],L=this.getNodeWidth(C),R=this.getNodeHeight(C),V=B.position.x,A=B.position.y,X=Math.min(L,R)/2,F=0;S.usePaths()&&(V=0,A=0),"%"===z.units?X=X*z.value/100:void 0!==z.pxValue&&(X=z.pxValue/2);for(var Y=1;Y<=e.style.pieBackgroundN;Y++){var q=O["pie-"+Y+"-background-size"].value,j=O["pie-"+Y+"-background-color"].value,$=O["pie-"+Y+"-background-opacity"].value*M,W=q/100,U=1.5*Math.PI+2*Math.PI*F,G=U+2*Math.PI*W;0===q||F>=1||F+W>1||(P.beginPath(),P.moveTo(V,A),P.arc(V,A,X,U,G),P.closePath(),this.fillStyle(P,j[0],j[1],j[2],$),P.fill(),F+=W)}}}(cytoscape),function(e){"use strict";var S=e("renderer","canvas"),P=S,C=S.prototype;C.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var S=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/S},C.paintCache=function(e){for(var S,P=this.paintCaches=this.paintCaches||[],C=!0,M=0;M<P.length;M++)if((S=P[M]).context===e){C=!1;break}return C&&(S={context:e},P.push(S)),S},C.fillStyle=function(e,S,P,C,M){e.fillStyle="rgba("+S+","+P+","+C+","+M+")"},C.strokeStyle=function(e,S,P,C,M){e.strokeStyle="rgba("+S+","+P+","+C+","+M+")"},C.shadowStyle=function(e,S,P,C,M,B){var O=this.data.cy.zoom(),z=this.paintCache(e);(0!==z.shadowOpacity||0!==P)&&(z.shadowOpacity=P,P>0?(e.shadowBlur=C*O,e.shadowColor="rgba("+S[0]+","+S[1]+","+S[2]+","+P+")",e.shadowOffsetX=M*O,e.shadowOffsetY=B*O):(e.shadowBlur=0,e.shadowColor="transparent"))},C.matchCanvasSize=function(e){var C=this.data,M=e.clientWidth,B=e.clientHeight,O=this.getPixelRatio(),z=this.motionBlurPxRatio;(e===this.data.bufferCanvases[P.MOTIONBLUR_BUFFER_NODE]||e===this.data.bufferCanvases[P.MOTIONBLUR_BUFFER_DRAG])&&(O=z);var L,R=M*O,V=B*O;if(R!==this.canvasWidth||V!==this.canvasHeight){this.fontCaches=null;var A=C.canvasContainer;A.style.width=M+"px",A.style.height=B+"px";for(var X=0;X<S.CANVAS_LAYERS;X++)((L=C.canvases[X]).width!==R||L.height!==V)&&(L.width=R,L.height=V,L.style.width=M+"px",L.style.height=B+"px");for(X=0;X<S.BUFFER_COUNT;X++)((L=C.bufferCanvases[X]).width!==R||L.height!==V)&&(L.width=R,L.height=V,L.style.width=M+"px",L.style.height=B+"px");this.textureMult=1,1>=O&&(L=C.bufferCanvases[S.TEXTURE_BUFFER],this.textureMult=2,L.width=R*this.textureMult,L.height=V*this.textureMult),this.canvasWidth=R,this.canvasHeight=V}},C.renderTo=function(e,S,P,C){this.redraw({forcedContext:e,forcedZoom:S,forcedPan:P,drawAllLayers:!0,forcedPxRatio:C})},C.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},S.minRedrawLimit=1e3/60,S.maxRedrawLimit=1e3,S.motionBlurDelay=100,C.redraw=function(C){function n(){function i(e,S,P,C,M){var B=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",R.fillStyle(e,255,255,255,R.motionBlurTransparency),e.fillRect(S,P,C,M),e.globalCompositeOperation=B}function n(e,S){var C,O,V,A;/*!r.fullQualityMb &&*/R.clearingMotionBlur||e!==X.bufferContexts[P.MOTIONBLUR_BUFFER_NODE]&&e!==X.bufferContexts[P.MOTIONBLUR_BUFFER_DRAG]?(C=te,O=Q,V=R.canvasWidth,A=R.canvasHeight):(C={x:ee.x*j,y:ee.y*j},O=K*j,V=R.canvasWidth*j,A=R.canvasHeight*j),e.setTransform(1,0,0,1,0,0),"motionBlur"===S?i(e,0,0,V,A):M||void 0!==S&&!S||e.clearRect(0,0,V,A),B||(e.translate(C.x,C.y),e.scale(O,O)),L&&e.translate(L.x,L.y),z&&e.scale(z,z)}function b(e,S){for(var P=e.eles,C=0;C<P.length;C++){var M=P[C];M.isNode()?(R.drawNode(S,M),ge||R.drawNodeText(S,M),R.drawNode(S,M,!0)):fe||(R.drawEdge(S,M),ge||R.drawEdgeText(S,M),R.drawEdge(S,M,!0))}}R.textureDrawLastFrame&&!Y&&(F[P.NODE]=!0,F[P.SELECT_BOX]=!0);var C=R.getCachedEdges(),U=A.style()._private.coreStyle,K=A.zoom(),Q=void 0!==z?z:K,ee=A.pan(),te={x:ee.x,y:ee.y},re={zoom:K,pan:{x:ee.x,y:ee.y}},ae=R.prevViewport;void 0===ae||re.zoom!==ae.zoom||re.pan.x!==ae.pan.x||re.pan.y!==ae.pan.y||W&&!$||(R.motionBlurPxRatio=1),L&&(te=L),Q*=V,te.x*=V,te.y*=V;var se={drag:{nodes:[],edges:[],eles:[]},nondrag:{nodes:[],edges:[],eles:[]}};if(Y||(R.textureDrawLastFrame=!1),Y){if(R.textureDrawLastFrame=!0,!R.textureCache){R.textureCache={},be=R.textureCache.bb=A.elements().boundingBox(),R.textureCache.texture=R.data.bufferCanvases[S.TEXTURE_BUFFER];var le=R.data.bufferContexts[S.TEXTURE_BUFFER];le.setTransform(1,0,0,1,0,0),le.clearRect(0,0,R.canvasWidth*R.textureMult,R.canvasHeight*R.textureMult),R.redraw({forcedContext:le,drawOnlyNodeLayer:!0,forcedPxRatio:V*R.textureMult}),(re=R.textureCache.viewport={zoom:A.zoom(),pan:A.pan(),width:R.canvasWidth,height:R.canvasHeight}).mpan={x:(0-re.pan.x)/re.zoom,y:(0-re.pan.y)/re.zoom}}F[P.DRAG]=!1,F[P.NODE]=!1;var ue=X.contexts[P.NODE],ce=R.textureCache.texture;re=R.textureCache.viewport;be=R.textureCache.bb,ue.setTransform(1,0,0,1,0,0),q?i(ue,0,0,re.width,re.height):ue.clearRect(0,0,re.width,re.height);var de=U["outside-texture-bg-color"].value,he=U["outside-texture-bg-opacity"].value;R.fillStyle(ue,de[0],de[1],de[2],he),ue.fillRect(0,0,re.width,re.height);K=A.zoom();n(ue,!1),ue.clearRect(re.mpan.x,re.mpan.y,re.width/re.zoom/V,re.height/re.zoom/V),ue.drawImage(ce,re.mpan.x,re.mpan.y,re.width/re.zoom/V,re.height/re.zoom/V)}else R.textureOnViewport&&!M&&(R.textureCache=null);var pe=R.pinching||R.hoverData.dragging||R.swipePanning||R.data.wheelZooming||R.hoverData.draggingEles,fe=R.hideEdgesOnViewport&&pe,ge=R.hideLabelsOnViewport&&pe;if(F[P.DRAG]||F[P.NODE]||B||O){fe||R.findEdgeControlPoints(C);for(var ve=R.getCachedZSortedEles(),ye=A.extent(),me=0;me<ve.length;me++){var xe=ve[me],be=M?null:xe.boundingBox();(!!M||e.math.boundingBoxesIntersect(ye,be))&&(xe._private.rscratch.inDragLayer?se.drag:se.nondrag).eles.push(xe)}}var we=[];if(we[P.NODE]=!F[P.NODE]&&q&&!R.clearedForMotionBlur[P.NODE]||R.clearingMotionBlur,we[P.NODE]&&(R.clearedForMotionBlur[P.NODE]=!0),we[P.DRAG]=!F[P.DRAG]&&q&&!R.clearedForMotionBlur[P.DRAG]||R.clearingMotionBlur,we[P.DRAG]&&(R.clearedForMotionBlur[P.DRAG]=!0),F[P.NODE]||B||O||we[P.NODE]){var _e=q&&!we[P.NODE]&&1!==j;n(ue=M||(_e?R.data.bufferContexts[P.MOTIONBLUR_BUFFER_NODE]:X.contexts[P.NODE]),q&&!_e?"motionBlur":void 0),b(se.nondrag,ue),B||q||(F[P.NODE]=!1)}if(!O&&(F[P.DRAG]||B||we[P.DRAG])){_e=q&&!we[P.DRAG]&&1!==j;n(ue=M||(_e?R.data.bufferContexts[P.MOTIONBLUR_BUFFER_DRAG]:X.contexts[P.DRAG]),q&&!_e?"motionBlur":void 0),b(se.drag,ue),B||q||(F[P.DRAG]=!1)}if(R.showFps||!O&&F[P.SELECT_BOX]&&!B){if(n(ue=M||X.contexts[P.SELECT_BOX]),1==X.select[4]&&(R.hoverData.selecting||R.touchData.selecting)){K=X.cy.zoom();var Ee=U["selection-box-border-width"].value/K;ue.lineWidth=Ee,ue.fillStyle="rgba("+U["selection-box-color"].value[0]+","+U["selection-box-color"].value[1]+","+U["selection-box-color"].value[2]+","+U["selection-box-opacity"].value+")",ue.fillRect(X.select[0],X.select[1],X.select[2]-X.select[0],X.select[3]-X.select[1]),Ee>0&&(ue.strokeStyle="rgba("+U["selection-box-border-color"].value[0]+","+U["selection-box-border-color"].value[1]+","+U["selection-box-border-color"].value[2]+","+U["selection-box-opacity"].value+")",ue.strokeRect(X.select[0],X.select[1],X.select[2]-X.select[0],X.select[3]-X.select[1]))}if(X.bgActivePosistion&&!R.hoverData.selecting){K=X.cy.zoom();var Se=X.bgActivePosistion;ue.fillStyle="rgba("+U["active-bg-color"].value[0]+","+U["active-bg-color"].value[1]+","+U["active-bg-color"].value[2]+","+U["active-bg-opacity"].value+")",ue.beginPath(),ue.arc(Se.x,Se.y,U["active-bg-size"].pxValue/K,0,2*Math.PI),ue.fill()}var De=R.averageRedrawTime;if(R.showFps&&De){De=Math.round(De);var ke=Math.round(1e3/De);ue.setTransform(1,0,0,1,0,0),ue.fillStyle="rgba(255, 0, 0, 0.75)",ue.strokeStyle="rgba(255, 0, 0, 0.75)",ue.lineWidth=1,ue.fillText("1 frame = "+De+" ms = "+ke+" fps",0,20);ue.strokeRect(0,30,250,20),ue.fillRect(0,30,250*Math.min(ke/60,1),20)}B||(F[P.SELECT_BOX]=!1)}if(q&&1!==j){var Te=X.contexts[P.NODE],Pe=R.data.bufferCanvases[P.MOTIONBLUR_BUFFER_NODE],Ce=X.contexts[P.DRAG],Me=R.data.bufferCanvases[P.MOTIONBLUR_BUFFER_DRAG],oe=function(e,S,P){e.setTransform(1,0,0,1,0,0),P||!G?e.clearRect(0,0,R.canvasWidth,R.canvasHeight):i(e,0,0,R.canvasWidth,R.canvasHeight);var C=j;e.drawImage(S,0,0,R.canvasWidth*C,R.canvasHeight*C,0,0,R.canvasWidth,R.canvasHeight)};(F[P.NODE]||we[P.NODE])&&(oe(Te,Pe,we[P.NODE]),F[P.NODE]=!1),(F[P.DRAG]||we[P.DRAG])&&(oe(Ce,Me,we[P.DRAG]),F[P.DRAG]=!1)}var Be=Date.now();void 0===R.averageRedrawTime&&(R.averageRedrawTime=Be-ne),void 0===R.redrawCount&&(R.redrawCount=0),R.redrawCount++,void 0===R.redrawTotalTime&&(R.redrawTotalTime=0),R.redrawTotalTime+=Be-ne,R.lastRedrawTime=Be-ne,R.averageRedrawTime=R.averageRedrawTime/2+(Be-ne)/2,R.currentlyDrawing=!1,R.prevViewport=re,R.clearingMotionBlur&&(R.clearingMotionBlur=!1,R.motionBlurCleared=!0,R.motionBlur=!0),q&&(R.motionBlurTimeout=setTimeout((function(){R.motionBlurTimeout=null,R.clearedForMotionBlur[P.NODE]=!1,R.clearedForMotionBlur[P.DRAG]=!1,R.motionBlur=!1,R.clearingMotionBlur=!Y,R.mbFrames=0,F[P.NODE]=!0,F[P.DRAG]=!0,R.redraw()}),S.motionBlurDelay)),R.drawingImage=!1}var M=(C=C||{}).forcedContext,B=C.drawAllLayers,O=C.drawOnlyNodeLayer,z=C.forcedZoom,L=C.forcedPan,R=this,V=void 0===C.forcedPxRatio?this.getPixelRatio():C.forcedPxRatio,A=R.data.cy,X=R.data,F=X.canvasNeedsRedraw,Y=R.textureOnViewport&&!M&&(R.pinching||R.hoverData.dragging||R.swipePanning||R.data.wheelZooming),q=void 0!==C.motionBlur?C.motionBlur:R.motionBlur,j=R.motionBlurPxRatio,$=A.hasCompoundNodes(),W=R.hoverData.draggingEles,U=!(!R.hoverData.selecting&&!R.touchData.selecting),G=q=q&&!M&&R.motionBlurEnabled&&!U;!M&&R.motionBlurTimeout&&clearTimeout(R.motionBlurTimeout),!M&&this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=null,void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var K=S.minRedrawLimit,Q=S.maxRedrawLimit,ee=this.averageRedrawTime;ee=Q>(ee=K>ee?K:ee)?ee:Q,void 0===this.lastDrawTime&&(this.lastDrawTime=0);var te=Date.now(),re=te-this.lastDrawTime>=ee;if(!M&&!R.clearingMotionBlur){if(!re||this.currentlyDrawing)return void(this.redrawTimeout=setTimeout((function(){R.redraw()}),ee));this.lastDrawTime=te,this.currentlyDrawing=!0}q&&(null==R.mbFrames&&(R.mbFrames=0),R.drawingImage||R.mbFrames++,R.mbFrames<3&&(G=!1),R.mbFrames>R.minMbLowQualFrames&&(R.motionBlurPxRatio=R.mbPxRBlurry)),R.clearingMotionBlur&&(R.motionBlurPxRatio=1);var ne=Date.now();M?n():e.util.requestAnimationFrame(n),M||R.initrender||(R.initrender=!0,A.trigger("initrender")),M||A.triggerOnRender()}}(cytoscape),function(e){"use strict";var S=e("renderer","canvas").prototype;S.drawPolygonPath=function(e,S,P,C,M,B){var O=C/2,z=M/2;e.beginPath&&e.beginPath(),e.moveTo(S+O*B[0],P+z*B[1]);for(var L=1;L<B.length/2;L++)e.lineTo(S+O*B[2*L],P+z*B[2*L+1]);e.closePath()},S.drawPolygon=function(e,S,P,C,M,B){this.drawPolygonPath(e,S,P,C,M,B),e.fill()},S.drawRoundRectanglePath=function(S,P,C,M,B,O){var z=M/2,L=B/2,R=e.math.getRoundRectangleRadius(M,B);S.beginPath&&S.beginPath(),S.moveTo(P,C-L),S.arcTo(P+z,C-L,P+z,C,R),S.arcTo(P+z,C+L,P,C+L,R),S.arcTo(P-z,C+L,P-z,C,R),S.arcTo(P-z,C-L,P,C-L,R),S.lineTo(P,C-L),S.closePath()},S.drawRoundRectangle=function(e,S,P,C,M,B){this.drawRoundRectanglePath(e,S,P,C,M,B),e.fill()}}(cytoscape),function(e){"use strict";var S=e("renderer","canvas").prototype;S.createBuffer=function(e,S){var P=document.createElement("canvas");return P.width=e,P.height=S,[P,P.getContext("2d")]},S.bufferCanvasImage=function(S){var P=this.data.cy,C=P.elements().boundingBox(),M=S.full?Math.ceil(C.w):this.data.container.clientWidth,B=S.full?Math.ceil(C.h):this.data.container.clientHeight,O=1;if(void 0!==S.scale)M*=S.scale,B*=S.scale,O=S.scale;else if(e.is.number(S.maxWidth)||e.is.number(S.maxHeight)){var z=1/0,L=1/0;e.is.number(S.maxWidth)&&(z=O*S.maxWidth/M),e.is.number(S.maxHeight)&&(L=O*S.maxHeight/B),M*=O=Math.min(z,L),B*=O}var R=document.createElement("canvas");R.width=M,R.height=B,R.style.width=M+"px",R.style.height=B+"px";var V=R.getContext("2d");if(M>0&&B>0)if(V.clearRect(0,0,M,B),S.bg&&(V.fillStyle=S.bg,V.rect(0,0,M,B),V.fill()),V.globalCompositeOperation="source-over",S.full)this.redraw({forcedContext:V,drawAllLayers:!0,forcedZoom:O,forcedPan:{x:-C.x1*O,y:-C.y1*O},forcedPxRatio:1});else{var A=P.pan(),X={x:A.x*O,y:A.y*O},F=P.zoom()*O;this.redraw({forcedContext:V,drawAllLayers:!0,forcedZoom:F,forcedPan:X,forcedPxRatio:1})}return R},S.png=function(e){return this.bufferCanvasImage(e).toDataURL("image/png")},S.jpg=function(e){return this.bufferCanvasImage(e).toDataURL("image/jpeg")}}(cytoscape),function(e){"use strict";var S=e("renderer","canvas"),P=S.prototype;P.registerBinding=function(e,S,P,C){this.bindings.push({target:e,event:S,handler:P,useCapture:C}),e.addEventListener(S,P,C)},P.nodeIsDraggable=function(e){return!(0===e._private.style.opacity.value||"visible"!=e._private.style.visibility.value||"element"!=e._private.style.display.value||e.locked()||!e.grabbable())},P.load=function(){var P=this,i=function(e){var S;if(e.addToList&&P.data.cy.hasCompoundNodes()){if(!e.addToList.hasId){e.addToList.hasId={};for(var C=0;C<e.addToList.length;C++){var M=e.addToList[C];e.addToList.hasId[M.id()]=!0}}S=e.addToList.hasId}return S||{}},a=function(e,S){var P=e._private,C=i(S);S.inDragLayer&&(P.rscratch.inDragLayer=!0),S.addToList&&!C[e.id()]&&(S.addToList.push(e),C[e.id()]=!0,P.grabbed=!0);for(var M=P.edges,B=0;S.inDragLayer&&B<M.length;B++)M[B]._private.rscratch.inDragLayer=!0;(function(e,S){if(e._private.cy.hasCompoundNodes()&&(null!=S.inDragLayer||null!=S.addToList))for(var P=i(S),C=e.descendants(),M=0;M<C.size();M++){var B=C[M],O=B._private;S.inDragLayer&&(O.rscratch.inDragLayer=!0),S.addToList&&!P[B.id()]&&(S.addToList.push(B),P[B.id()]=!0,O.grabbed=!0);for(var z=O.edges,L=0;S.inDragLayer&&L<z.length;L++)z[L]._private.rscratch.inDragLayer=!0}})(e,S),s(e,{inDragLayer:S.inDragLayer})},o=function(e){if(e)for(var S=0;S<e.length;S++){var P=e[S]._private;if("nodes"===P.group){P.rscratch.inDragLayer=!1,P.grabbed=!1;for(var C=P.edges,M=0;M<C.length;M++)C[M]._private.rscratch.inDragLayer=!1;s(e[S],{inDragLayer:!1})}else"edges"===P.group&&(P.rscratch.inDragLayer=!1)}},s=function(e,S){if(null!=S.inDragLayer||null!=S.addToList){var P=e;if(e._private.cy.hasCompoundNodes()){for(;P.parent().nonempty();)P=P.parent()[0];if(P!=e){for(var C=P.descendants().merge(P).unmerge(e).unmerge(e.descendants()),M=C.connectedEdges(),B=i(S),O=0;O<C.size();O++)void 0!==S.inDragLayer&&(C[O]._private.rscratch.inDragLayer=S.inDragLayer),S.addToList&&!B[C[O].id()]&&(S.addToList.push(C[O]),B[C[O].id()]=!0,C[O]._private.grabbed=!0);for(var z=0;void 0!==S.inDragLayer&&z<M.length;z++)M[z]._private.rscratch.inDragLayer=S.inDragLayer}}}};"undefined"!=typeof MutationObserver?(P.removeObserver=new MutationObserver((function(e){for(var S=0;S<e.length;S++){var C=e[S].removedNodes;if(C)for(var M=0;M<C.length;M++){if(C[M]===P.data.container){P.destroy();break}}}})),P.removeObserver.observe(P.data.container.parentNode,{childList:!0})):P.registerBinding(P.data.container,"DOMNodeRemoved",(function(e){P.destroy()})),P.registerBinding(window,"resize",e.util.debounce((function(e){P.invalidateContainerClientCoordsCache(),P.matchCanvasSize(P.data.container),P.data.canvasNeedsRedraw[S.NODE]=!0,P.redraw()}),100));for(var l=function(e){P.registerBinding(e,"scroll",(function(e){P.invalidateContainerClientCoordsCache()}))},C=P.data.cy.container();l(C),C.parentNode;)C=C.parentNode;P.registerBinding(P.data.container,"contextmenu",(function(e){e.preventDefault()}));P.registerBinding(P.data.container,"mousedown",(function(C){C.preventDefault(),P.hoverData.capture=!0,P.hoverData.which=C.which;var M=P.data.cy,B=P.projectIntoViewport(C.clientX,C.clientY),O=P.data.select,z=P.findNearestElement(B[0],B[1],!0,!1),L=P.dragData.possibleDragElements;P.hoverData.mdownPos=B;var R=P.data.canvasNeedsRedraw;if(3==C.which){P.hoverData.cxtStarted=!0;var V=new e.Event(C,{type:"cxttapstart",cyPosition:{x:B[0],y:B[1]}});z?(z.activate(),z.trigger(V),P.hoverData.down=z):M.trigger(V),P.hoverData.downTime=(new Date).getTime(),P.hoverData.cxtDragged=!1}else if(1==C.which){if(z&&z.activate(),null!=z){if(P.nodeIsDraggable(z)){var A=new e.Event(C,{type:"grab",cyPosition:{x:B[0],y:B[1]}});if(z.isNode()&&!z.selected())L=P.dragData.possibleDragElements=[],a(z,{addToList:L}),z.trigger(A);else if(z.isNode()&&z.selected()){L=P.dragData.possibleDragElements=[];for(var X=M.$((function(){return this.isNode()&&this.selected()})),F=0;F<X.length;F++)P.nodeIsDraggable(X[F])&&a(X[F],{addToList:L});z.trigger(A)}R[S.NODE]=!0,R[S.DRAG]=!0}z.trigger(new e.Event(C,{type:"mousedown",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"tapstart",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"vmousedown",cyPosition:{x:B[0],y:B[1]}}))}else null==z&&M.trigger(new e.Event(C,{type:"mousedown",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"tapstart",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"vmousedown",cyPosition:{x:B[0],y:B[1]}}));if(P.hoverData.down=z,P.hoverData.downTime=(new Date).getTime(),null==z||z.isEdge()){O[4]=1;var Y=Math.max(0,S.panOrBoxSelectDelay-(+new Date-P.hoverData.downTime));clearTimeout(P.bgActiveTimeout),M.boxSelectionEnabled()||z&&z.isEdge()?P.bgActiveTimeout=setTimeout((function(){z&&z.unactivate(),P.data.bgActivePosistion={x:B[0],y:B[1]},P.hoverData.dragging=!0,R[S.SELECT_BOX]=!0,P.redraw()}),Y):(P.data.bgActivePosistion={x:B[0],y:B[1]},R[S.SELECT_BOX]=!0,P.redraw())}P.hoverData.tapholdCancelled=!1,clearTimeout(P.hoverData.tapholdTimeout),P.hoverData.tapholdTimeout=setTimeout((function(){if(!P.hoverData.tapholdCancelled){var S=P.hoverData.down;S?S.trigger(new e.Event(C,{type:"taphold",cyPosition:{x:B[0],y:B[1]}})):M.trigger(new e.Event(C,{type:"taphold",cyPosition:{x:B[0],y:B[1]}}))}}),P.tapholdDuration)}O[0]=O[2]=B[0],O[1]=O[3]=B[1]}),!1),P.registerBinding(window,"mousemove",e.util.throttle((function(C){var M=!1;if(!P.hoverData.capture){var B=P.findContainerClientCoords();if(!(C.clientX>B[0]&&C.clientX<B[0]+P.canvasWidth&&C.clientY>B[1]&&C.clientY<B[1]+P.canvasHeight))return;for(var O=P.data.container,z=C.target.parentNode,L=!1;z;){if(z===O){L=!0;break}z=z.parentNode}if(!L)return}var R=P.data.cy,V=R.zoom(),A=P.projectIntoViewport(C.clientX,C.clientY),X=P.data.select,F=P.data.canvasNeedsRedraw,Y=null;P.hoverData.draggingEles||(Y=P.findNearestElement(A[0],A[1],!0,!1));var q=P.hoverData.last,j=P.hoverData.down,$=[A[0]-X[2],A[1]-X[3]],W=P.dragData.possibleDragElements,U=X[2]-X[0],G=U*U,K=X[3]-X[1],Q=(G+K*K)*V*V;P.hoverData.tapholdCancelled=!0;if(M=!0,null!=Y?Y.trigger(new e.Event(C,{type:"mousemove",cyPosition:{x:A[0],y:A[1]}})).trigger(new e.Event(C,{type:"vmousemove",cyPosition:{x:A[0],y:A[1]}})).trigger(new e.Event(C,{type:"tapdrag",cyPosition:{x:A[0],y:A[1]}})):null==Y&&R.trigger(new e.Event(C,{type:"mousemove",cyPosition:{x:A[0],y:A[1]}})).trigger(new e.Event(C,{type:"vmousemove",cyPosition:{x:A[0],y:A[1]}})).trigger(new e.Event(C,{type:"tapdrag",cyPosition:{x:A[0],y:A[1]}})),3===P.hoverData.which){var ee=new e.Event(C,{type:"cxtdrag",cyPosition:{x:A[0],y:A[1]}});j?j.trigger(ee):R.trigger(ee),P.hoverData.cxtDragged=!0,P.hoverData.cxtOver&&Y===P.hoverData.cxtOver||(P.hoverData.cxtOver&&P.hoverData.cxtOver.trigger(new e.Event(C,{type:"cxtdragout",cyPosition:{x:A[0],y:A[1]}})),P.hoverData.cxtOver=Y,Y&&Y.trigger(new e.Event(C,{type:"cxtdragover",cyPosition:{x:A[0],y:A[1]}})))}else if(P.hoverData.dragging){if(M=!0,R.panningEnabled()&&R.userPanningEnabled()){var te;if(P.hoverData.justStartedPan){var re=P.hoverData.mdownPos;te={x:(A[0]-re[0])*V,y:(A[1]-re[1])*V},P.hoverData.justStartedPan=!1}else te={x:$[0]*V,y:$[1]*V};R.panBy(te),P.hoverData.dragged=!0}A=P.projectIntoViewport(C.clientX,C.clientY)}else if(1==X[4]&&(null==j||j.isEdge())&&(!R.boxSelectionEnabled()||+new Date-P.hoverData.downTime>=S.panOrBoxSelectDelay)&&!P.hoverData.selecting&&Q>=P.desktopTapThreshold2&&R.panningEnabled()&&R.userPanningEnabled())P.hoverData.dragging=!0,P.hoverData.selecting=!1,P.hoverData.justStartedPan=!0,X[4]=0;else{if(R.boxSelectionEnabled()&&!P.hoverData.dragging&&Math.pow(X[2]-X[0],2)+Math.pow(X[3]-X[1],2)>7&&X[4]&&(clearTimeout(P.bgActiveTimeout),P.data.bgActivePosistion=void 0,P.hoverData.selecting=!0,F[S.SELECT_BOX]=!0,P.redraw()),j&&j.isEdge()&&j.active()&&j.unactivate(),Y!=q&&(q&&(q.trigger(new e.Event(C,{type:"mouseout",cyPosition:{x:A[0],y:A[1]}})),q.trigger(new e.Event(C,{type:"tapdragout",cyPosition:{x:A[0],y:A[1]}}))),Y&&(Y.trigger(new e.Event(C,{type:"mouseover",cyPosition:{x:A[0],y:A[1]}})),Y.trigger(new e.Event(C,{type:"tapdragover",cyPosition:{x:A[0],y:A[1]}}))),P.hoverData.last=Y),j&&j.isNode()&&P.nodeIsDraggable(j))if(Q>=P.desktopTapThreshold2){var ne=!P.dragData.didDrag;ne&&(F[S.NODE]=!0),P.dragData.didDrag=!0;for(var ae=[],se=0;se<W.length;se++){var le=W[se];if(P.hoverData.draggingEles||a(le,{inDragLayer:!0}),le.isNode()&&P.nodeIsDraggable(le)&&le.grabbed()){var ue=le._private.position;if(ae.push(le),e.is.number($[0])&&e.is.number($[1])&&(ue.x+=$[0],ue.y+=$[1],ne)){var ce=P.hoverData.dragDelta;e.is.number(ce[0])&&e.is.number(ce[1])&&(ue.x+=ce[0],ue.y+=ce[1])}}}P.hoverData.draggingEles=!0;var de=new e.Collection(R,ae);de.updateCompoundBounds(),de.trigger("position drag"),F[S.DRAG]=!0,P.redraw()}else!function(){var e=P.hoverData.dragDelta=P.hoverData.dragDelta||[];0===e.length?(e.push($[0]),e.push($[1])):(e[0]+=$[0],e[1]+=$[1])}();M=!0}return X[2]=A[0],X[3]=A[1],M?(C.stopPropagation&&C.stopPropagation(),C.preventDefault&&C.preventDefault(),!1):void 0}),1e3/30,{trailing:!0}),!1),P.registerBinding(window,"mouseup",(function(C){if(P.hoverData.capture){P.hoverData.capture=!1;var M=P.data.cy,B=P.projectIntoViewport(C.clientX,C.clientY),O=P.data.select,z=P.findNearestElement(B[0],B[1],!0,!1),L=P.dragData.possibleDragElements,R=P.hoverData.down,V=C.shiftKey,A=P.data.canvasNeedsRedraw;if(P.data.bgActivePosistion&&(A[S.SELECT_BOX]=!0,P.redraw()),P.data.bgActivePosistion=void 0,clearTimeout(P.bgActiveTimeout),R&&R.unactivate(),3===P.hoverData.which){var X=new e.Event(C,{type:"cxttapend",cyPosition:{x:B[0],y:B[1]}});if(R?R.trigger(X):M.trigger(X),!P.hoverData.cxtDragged){var F=new e.Event(C,{type:"cxttap",cyPosition:{x:B[0],y:B[1]}});R?R.trigger(F):M.trigger(F)}P.hoverData.cxtDragged=!1,P.hoverData.which=null}else{if(null!=R||P.dragData.didDrag||P.hoverData.dragged||(M.$((function(){return this.selected()})).unselect(),L.length>0&&(A[S.NODE]=!0),P.dragData.possibleDragElements=L=[]),null!=z?z.trigger(new e.Event(C,{type:"mouseup",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"tapend",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"vmouseup",cyPosition:{x:B[0],y:B[1]}})):null==z&&M.trigger(new e.Event(C,{type:"mouseup",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"tapend",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"vmouseup",cyPosition:{x:B[0],y:B[1]}})),P.dragData.didDrag||P.hoverData.dragged||(null!=z?z.trigger(new e.Event(C,{type:"click",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"tap",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"vclick",cyPosition:{x:B[0],y:B[1]}})):null==z&&M.trigger(new e.Event(C,{type:"click",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"tap",cyPosition:{x:B[0],y:B[1]}})).trigger(new e.Event(C,{type:"vclick",cyPosition:{x:B[0],y:B[1]}}))),z!=R||P.dragData.didDrag||null!=z&&z._private.selectable&&(P.hoverData.dragging||("additive"===M.selectionType()||V?z.selected()?z.unselect():z.select():V||(M.$(":selected").unmerge(z).unselect(),z.select())),A[S.NODE]=!0),P.hoverData.selecting&&M.boxSelectionEnabled()&&Math.pow(O[2]-O[0],2)+Math.pow(O[3]-O[1],2)>7&&O[4]){var Y=[],q=P.getAllInBox(O[0],O[1],O[2],O[3]);A[S.SELECT_BOX]=!0,q.length>0&&(A[S.NODE]=!0);for(var j=0;j<q.length;j++)q[j]._private.selectable&&Y.push(q[j]);var $=new e.Collection(M,Y);"additive"===M.selectionType()||V||M.$(":selected").unmerge($).unselect(),$.select(),P.redraw()}P.hoverData.dragging&&(P.hoverData.dragging=!1,A[S.SELECT_BOX]=!0,A[S.NODE]=!0,P.redraw()),O[4]||(A[S.DRAG]=!0,A[S.NODE]=!0,o(L),R&&R.trigger("free"))}O[4]=0,P.hoverData.down=null,P.hoverData.cxtStarted=!1,P.hoverData.draggingEles=!1,P.hoverData.selecting=!1,P.dragData.didDrag=!1,P.hoverData.dragged=!1,P.hoverData.dragDelta=[]}}),!1);P.registerBinding(P.data.container,"wheel",(function(e){if(!P.scrollingPage){var C=P.data.cy,M=P.projectIntoViewport(e.clientX,e.clientY),B=[M[0]*C.zoom()+C.pan().x,M[1]*C.zoom()+C.pan().y];if(P.hoverData.draggingEles||P.hoverData.dragging||P.hoverData.cxtStarted||0!==P.data.select[4])return void e.preventDefault();if(C.panningEnabled()&&C.userPanningEnabled()&&C.zoomingEnabled()&&C.userZoomingEnabled()){e.preventDefault(),P.data.wheelZooming=!0,clearTimeout(P.data.wheelTimeout),P.data.wheelTimeout=setTimeout((function(){P.data.wheelZooming=!1,P.data.canvasNeedsRedraw[S.NODE]=!0,P.redraw()}),150);var O=e.deltaY/-250||e.wheelDeltaY/1e3||e.wheelDelta/1e3;O*=P.wheelSensitivity,1===e.deltaMode&&(O*=33),C.zoom({level:C.zoom()*Math.pow(10,O),renderedPosition:{x:B[0],y:B[1]}})}}}),!0),P.registerBinding(window,"scroll",(function(e){P.scrollingPage=!0,clearTimeout(P.scrollingPageTimeout),P.scrollingPageTimeout=setTimeout((function(){P.scrollingPage=!1}),250)}),!0),P.registerBinding(P.data.container,"mouseout",(function(S){var C=P.projectIntoViewport(S.clientX,S.clientY);P.data.cy.trigger(new e.Event(S,{type:"mouseout",cyPosition:{x:C[0],y:C[1]}}))}),!1),P.registerBinding(P.data.container,"mouseover",(function(S){var C=P.projectIntoViewport(S.clientX,S.clientY);P.data.cy.trigger(new e.Event(S,{type:"mouseover",cyPosition:{x:C[0],y:C[1]}}))}),!1);var M,B,O,z,L,R,V,A,X,F,Y,q,j,D=function(e,S,P,C){return Math.sqrt((P-e)*(P-e)+(C-S)*(C-S))},k=function(e,S,P,C){return(P-e)*(P-e)+(C-S)*(C-S)};P.registerBinding(P.data.container,"touchstart",(function(C){clearTimeout(this.threeFingerSelectTimeout),C.target!==P.data.link&&C.preventDefault(),P.touchData.capture=!0,P.data.bgActivePosistion=void 0;var $=P.data.cy,W=P.getCachedNodes(),U=P.getCachedEdges(),G=P.touchData.now,K=P.touchData.earlier,Q=P.data.canvasNeedsRedraw;if(C.touches[0]){var ee=P.projectIntoViewport(C.touches[0].clientX,C.touches[0].clientY);G[0]=ee[0],G[1]=ee[1]}if(C.touches[1]){ee=P.projectIntoViewport(C.touches[1].clientX,C.touches[1].clientY);G[2]=ee[0],G[3]=ee[1]}if(C.touches[2]){ee=P.projectIntoViewport(C.touches[2].clientX,C.touches[2].clientY);G[4]=ee[0],G[5]=ee[1]}if(C.touches[1]){var T=function(e){for(var S=0;S<e.length;S++)e[S]._private.grabbed=!1,e[S]._private.rscratch.inDragLayer=!1,e[S].active()&&e[S].unactivate()};T(W),T(U);var te=P.findContainerClientCoords();X=te[0],F=te[1],Y=te[2],q=te[3],M=C.touches[0].clientX-X,B=C.touches[0].clientY-F,O=C.touches[1].clientX-X,z=C.touches[1].clientY-F,j=M>=0&&Y>=M&&O>=0&&Y>=O&&B>=0&&q>=B&&z>=0&&q>=z;var re=$.pan(),ne=$.zoom();L=D(M,B,O,z),R=k(M,B,O,z),A=[((V=[(M+O)/2,(B+z)/2])[0]-re.x)/ne,(V[1]-re.y)/ne];if(4e4>R&&!C.touches[2]){var ae=P.findNearestElement(G[0],G[1],!0,!0),se=P.findNearestElement(G[2],G[3],!0,!0);return ae&&ae.isNode()?(ae.activate().trigger(new e.Event(C,{type:"cxttapstart",cyPosition:{x:G[0],y:G[1]}})),P.touchData.start=ae):se&&se.isNode()?(se.activate().trigger(new e.Event(C,{type:"cxttapstart",cyPosition:{x:G[0],y:G[1]}})),P.touchData.start=se):($.trigger(new e.Event(C,{type:"cxttapstart",cyPosition:{x:G[0],y:G[1]}})),P.touchData.start=null),P.touchData.start&&(P.touchData.start._private.grabbed=!1),P.touchData.cxt=!0,P.touchData.cxtDragged=!1,P.data.bgActivePosistion=void 0,void P.redraw()}}if(C.touches[2]);else if(C.touches[1]);else if(C.touches[0]){var le=P.findNearestElement(G[0],G[1],!0,!0);if(null!=le){if(le.activate(),P.touchData.start=le,le.isNode()&&P.nodeIsDraggable(le)){var ue=P.dragData.touchDragEles=[];if(Q[S.NODE]=!0,Q[S.DRAG]=!0,le.selected())for(var ce=$.$((function(){return this.isNode()&&this.selected()})),de=0;de<ce.length;de++){var he=ce[de];P.nodeIsDraggable(he)&&a(he,{addToList:ue})}else a(le,{addToList:ue});le.trigger(new e.Event(C,{type:"grab",cyPosition:{x:G[0],y:G[1]}}))}le.trigger(new e.Event(C,{type:"touchstart",cyPosition:{x:G[0],y:G[1]}})).trigger(new e.Event(C,{type:"tapstart",cyPosition:{x:G[0],y:G[1]}})).trigger(new e.Event(C,{type:"vmousdown",cyPosition:{x:G[0],y:G[1]}}))}null==le&&($.trigger(new e.Event(C,{type:"touchstart",cyPosition:{x:G[0],y:G[1]}})).trigger(new e.Event(C,{type:"tapstart",cyPosition:{x:G[0],y:G[1]}})).trigger(new e.Event(C,{type:"vmousedown",cyPosition:{x:G[0],y:G[1]}})),P.data.bgActivePosistion={x:ee[0],y:ee[1]},Q[S.SELECT_BOX]=!0,P.redraw());for(var pe=0;pe<G.length;pe++)K[pe]=G[pe],P.touchData.startPosition[pe]=G[pe];P.touchData.singleTouchMoved=!1,P.touchData.singleTouchStartTime=+new Date,clearTimeout(P.touchData.tapholdTimeout),P.touchData.tapholdTimeout=setTimeout((function(){!1!==P.touchData.singleTouchMoved||P.pinching||(P.touchData.start?P.touchData.start.trigger(new e.Event(C,{type:"taphold",cyPosition:{x:G[0],y:G[1]}})):(P.data.cy.trigger(new e.Event(C,{type:"taphold",cyPosition:{x:G[0],y:G[1]}})),$.$(":selected").unselect()))}),P.tapholdDuration)}}),!1),P.registerBinding(window,"touchmove",e.util.throttle((function(C){var V=P.data.select,Y=P.touchData.capture;Y&&C.preventDefault();var q=P.data.cy,$=P.touchData.now,W=P.touchData.earlier,U=q.zoom(),G=P.data.canvasNeedsRedraw;if(C.touches[0]){var K=P.projectIntoViewport(C.touches[0].clientX,C.touches[0].clientY);$[0]=K[0],$[1]=K[1]}if(C.touches[1]){K=P.projectIntoViewport(C.touches[1].clientX,C.touches[1].clientY);$[2]=K[0],$[3]=K[1]}if(C.touches[2]){K=P.projectIntoViewport(C.touches[2].clientX,C.touches[2].clientY);$[4]=K[0],$[5]=K[1]}for(var Q=[],ee=0;ee<$.length;ee++)Q[ee]=$[ee]-W[ee];var te=P.touchData.startPosition,re=$[0]-te[0],ne=re*re,ae=$[1]-te[1],se=(ne+ae*ae)*U*U;if(Y&&P.touchData.cxt){var le=C.touches[0].clientX-X,ue=C.touches[0].clientY-F,ce=C.touches[1].clientX-X,de=C.touches[1].clientY-F,he=k(le,ue,ce,de);if(he/R>=2.25||he>=22500){P.touchData.cxt=!1,P.touchData.start&&(P.touchData.start.unactivate(),P.touchData.start=null),P.data.bgActivePosistion=void 0,G[S.SELECT_BOX]=!0;var pe=new e.Event(C,{type:"cxttapend",cyPosition:{x:$[0],y:$[1]}});P.touchData.start?P.touchData.start.trigger(pe):q.trigger(pe)}}if(Y&&P.touchData.cxt){pe=new e.Event(C,{type:"cxtdrag",cyPosition:{x:$[0],y:$[1]}});P.data.bgActivePosistion=void 0,G[S.SELECT_BOX]=!0,P.touchData.start?P.touchData.start.trigger(pe):q.trigger(pe),P.touchData.start&&(P.touchData.start._private.grabbed=!1),P.touchData.cxtDragged=!0;var fe=P.findNearestElement($[0],$[1],!0,!0);P.touchData.cxtOver&&fe===P.touchData.cxtOver||(P.touchData.cxtOver&&P.touchData.cxtOver.trigger(new e.Event(C,{type:"cxtdragout",cyPosition:{x:$[0],y:$[1]}})),P.touchData.cxtOver=fe,fe&&fe.trigger(new e.Event(C,{type:"cxtdragover",cyPosition:{x:$[0],y:$[1]}})))}else if(Y&&C.touches[2]&&q.boxSelectionEnabled())P.data.bgActivePosistion=void 0,clearTimeout(this.threeFingerSelectTimeout),this.lastThreeTouch=+new Date,P.touchData.selecting=!0,G[S.SELECT_BOX]=!0,V&&0!==V.length&&void 0!==V[0]?(V[2]=($[0]+$[2]+$[4])/3,V[3]=($[1]+$[3]+$[5])/3):(V[0]=($[0]+$[2]+$[4])/3,V[1]=($[1]+$[3]+$[5])/3,V[2]=($[0]+$[2]+$[4])/3+1,V[3]=($[1]+$[3]+$[5])/3+1),V[4]=1,P.touchData.selecting=!0,P.redraw();else if(Y&&C.touches[1]&&q.zoomingEnabled()&&q.panningEnabled()&&q.userZoomingEnabled()&&q.userPanningEnabled()){if(P.data.bgActivePosistion=void 0,G[S.SELECT_BOX]=!0,Me=P.dragData.touchDragEles){G[S.DRAG]=!0;for(var ge=0;ge<Me.length;ge++)Me[ge]._private.grabbed=!1,Me[ge]._private.rscratch.inDragLayer=!1}le=C.touches[0].clientX-X,ue=C.touches[0].clientY-F,ce=C.touches[1].clientX-X,de=C.touches[1].clientY-F;var ve=D(le,ue,ce,de),ye=ve/L;if(1!=ye&&j){var me=(le-M+(ce-O))/2,xe=(ue-B+(de-z))/2,be=q.zoom(),we=be*ye,_e=q.pan(),Ee=A[0]*be+_e.x,Se=A[1]*be+_e.y,De={x:-we/be*(Ee-_e.x-me)+Ee,y:-we/be*(Se-_e.y-xe)+Se};if(P.touchData.start){if(Me=P.dragData.touchDragEles)for(ge=0;ge<Me.length;ge++){var ke=Me[ge]._private;ke.grabbed=!1,ke.rscratch.inDragLayer=!1}var Te=P.touchData.start._private;Te.active=!1,Te.grabbed=!1,Te.rscratch.inDragLayer=!1,G[S.DRAG]=!0,P.touchData.start.trigger("free").trigger("unactivate")}q.viewport({zoom:we,pan:De,cancelOnFailedZoom:!0}),L=ve,M=le,B=ue,O=ce,z=de,P.pinching=!0}if(C.touches[0]){K=P.projectIntoViewport(C.touches[0].clientX,C.touches[0].clientY);$[0]=K[0],$[1]=K[1]}if(C.touches[1]){K=P.projectIntoViewport(C.touches[1].clientX,C.touches[1].clientY);$[2]=K[0],$[3]=K[1]}if(C.touches[2]){K=P.projectIntoViewport(C.touches[2].clientX,C.touches[2].clientY);$[4]=K[0],$[5]=K[1]}}else if(C.touches[0]){var Pe=P.touchData.start,Ce=P.touchData.last;fe=fe||P.findNearestElement($[0],$[1],!0,!0);if(null!=Pe&&"nodes"==Pe._private.group&&P.nodeIsDraggable(Pe))if(se>=P.touchTapThreshold2){for(var Me=P.dragData.touchDragEles,Be=0;Be<Me.length;Be++){var Ne=Me[Be];if(P.nodeIsDraggable(Ne)&&Ne.isNode()&&Ne.grabbed()){P.dragData.didDrag=!0;var Ie=Ne._private.position,Oe=!P.hoverData.draggingEles;if(e.is.number(Q[0])&&e.is.number(Q[1])&&(Ie.x+=Q[0],Ie.y+=Q[1]),Oe){a(Ne,{inDragLayer:!0}),G[S.NODE]=!0;var ze=P.touchData.dragDelta;e.is.number(ze[0])&&e.is.number(ze[1])&&(Ie.x+=ze[0],Ie.y+=ze[1])}}}var Le=new e.Collection(q,Ne);Le.updateCompoundBounds(),Le.trigger("position drag"),P.hoverData.draggingEles=!0,G[S.DRAG]=!0,P.touchData.startPosition[0]==W[0]&&P.touchData.startPosition[1]==W[1]&&(G[S.NODE]=!0),P.redraw()}else{0===(ze=P.touchData.dragDelta=P.touchData.dragDelta||[]).length?(ze.push(Q[0]),ze.push(Q[1])):(ze[0]+=Q[0],ze[1]+=Q[1])}null!=Pe&&(Pe.trigger(new e.Event(C,{type:"touchmove",cyPosition:{x:$[0],y:$[1]}})),Pe.trigger(new e.Event(C,{type:"tapdrag",cyPosition:{x:$[0],y:$[1]}})),Pe.trigger(new e.Event(C,{type:"vmousemove",cyPosition:{x:$[0],y:$[1]}}))),null==Pe&&(null!=fe&&(fe.trigger(new e.Event(C,{type:"touchmove",cyPosition:{x:$[0],y:$[1]}})),fe.trigger(new e.Event(C,{type:"tapdrag",cyPosition:{x:$[0],y:$[1]}})),fe.trigger(new e.Event(C,{type:"vmousemove",cyPosition:{x:$[0],y:$[1]}}))),null==fe&&(q.trigger(new e.Event(C,{type:"touchmove",cyPosition:{x:$[0],y:$[1]}})),q.trigger(new e.Event(C,{type:"tapdrag",cyPosition:{x:$[0],y:$[1]}})),q.trigger(new e.Event(C,{type:"vmousemove",cyPosition:{x:$[0],y:$[1]}})))),fe!=Ce&&(Ce&&Ce.trigger(new e.Event(C,{type:"tapdragout",cyPosition:{x:$[0],y:$[1]}})),fe&&fe.trigger(new e.Event(C,{type:"tapdragover",cyPosition:{x:$[0],y:$[1]}}))),P.touchData.last=fe;for(ge=0;ge<$.length;ge++)$[ge]&&P.touchData.startPosition[ge]&&Math.abs($[ge]-P.touchData.startPosition[ge])>4&&(P.touchData.singleTouchMoved=!0);if(Y&&(null==Pe||Pe.isEdge())&&q.panningEnabled()&&q.userPanningEnabled()){P.swipePanning?q.panBy({x:Q[0]*U,y:Q[1]*U}):se>=P.touchTapThreshold2&&(P.swipePanning=!0,q.panBy({x:re*U,y:ae*U})),Pe&&(Pe.unactivate(),P.data.bgActivePosistion||(P.data.bgActivePosistion={x:$[0],y:$[1]}),G[S.SELECT_BOX]=!0,P.touchData.start=null);K=P.projectIntoViewport(C.touches[0].clientX,C.touches[0].clientY);$[0]=K[0],$[1]=K[1]}}for(ee=0;ee<$.length;ee++)W[ee]=$[ee]}),1e3/30,{trailing:!0}),!1),P.registerBinding(window,"touchcancel",(function(e){var S=P.touchData.start;P.touchData.capture=!1,S&&S.unactivate()})),P.registerBinding(window,"touchend",(function(C){var M=P.touchData.start;if(P.touchData.capture){P.touchData.capture=!1,C.preventDefault();var B=P.data.select;P.swipePanning=!1,P.hoverData.draggingEles=!1;var O,z=P.data.cy,L=z.zoom(),R=P.touchData.now,V=P.touchData.earlier,A=P.data.canvasNeedsRedraw;if(C.touches[0]){var X=P.projectIntoViewport(C.touches[0].clientX,C.touches[0].clientY);R[0]=X[0],R[1]=X[1]}if(C.touches[1]){X=P.projectIntoViewport(C.touches[1].clientX,C.touches[1].clientY);R[2]=X[0],R[3]=X[1]}if(C.touches[2]){X=P.projectIntoViewport(C.touches[2].clientX,C.touches[2].clientY);R[4]=X[0],R[5]=X[1]}if(M&&M.unactivate(),P.touchData.cxt){if(O=new e.Event(C,{type:"cxttapend",cyPosition:{x:R[0],y:R[1]}}),M?M.trigger(O):z.trigger(O),!P.touchData.cxtDragged){var F=new e.Event(C,{type:"cxttap",cyPosition:{x:R[0],y:R[1]}});M?M.trigger(F):z.trigger(F)}return P.touchData.start&&(P.touchData.start._private.grabbed=!1),P.touchData.cxt=!1,P.touchData.start=null,void P.redraw()}if(!C.touches[2]&&z.boxSelectionEnabled()&&P.touchData.selecting){P.touchData.selecting=!1,clearTimeout(this.threeFingerSelectTimeout);var Y=[],q=P.getAllInBox(B[0],B[1],B[2],B[3]);B[0]=void 0,B[1]=void 0,B[2]=void 0,B[3]=void 0,B[4]=0,A[S.SELECT_BOX]=!0;for(var j=0;j<q.length;j++)q[j]._private.selectable&&Y.push(q[j]);var $=new e.Collection(z,Y);"single"===z.selectionType()&&z.$(":selected").unmerge($).unselect(),$.select(),$.length>0?A[S.NODE]=!0:P.redraw()}var W=!1;if(null!=M&&(M._private.active=!1,W=!0,M.unactivate()),C.touches[2])P.data.bgActivePosistion=void 0,A[S.SELECT_BOX]=!0;else if(C.touches[1]);else if(C.touches[0]);else if(!C.touches[0]){P.data.bgActivePosistion=void 0,A[S.SELECT_BOX]=!0;var U=P.dragData.touchDragEles;if(null!=M){var G=M._private.grabbed;o(U),A[S.DRAG]=!0,A[S.NODE]=!0,G&&M.trigger("free"),M.trigger(new e.Event(C,{type:"touchend",cyPosition:{x:R[0],y:R[1]}})).trigger(new e.Event(C,{type:"tapend",cyPosition:{x:R[0],y:R[1]}})).trigger(new e.Event(C,{type:"vmouseup",cyPosition:{x:R[0],y:R[1]}})),M.unactivate(),P.touchData.start=null}else{var K=P.findNearestElement(R[0],R[1],!0,!0);null!=K&&K.trigger(new e.Event(C,{type:"touchend",cyPosition:{x:R[0],y:R[1]}})).trigger(new e.Event(C,{type:"tapend",cyPosition:{x:R[0],y:R[1]}})).trigger(new e.Event(C,{type:"vmouseup",cyPosition:{x:R[0],y:R[1]}})),null==K&&z.trigger(new e.Event(C,{type:"touchend",cyPosition:{x:R[0],y:R[1]}})).trigger(new e.Event(C,{type:"tapend",cyPosition:{x:R[0],y:R[1]}})).trigger(new e.Event(C,{type:"vmouseup",cyPosition:{x:R[0],y:R[1]}}))}var Q=P.touchData.startPosition[0]-R[0],ee=Q*Q,te=P.touchData.startPosition[1]-R[1],re=(ee+te*te)*L*L;null!=M&&!P.dragData.didDrag&&M._private.selectable&&re<P.touchTapThreshold2&&!P.pinching&&("single"===z.selectionType()?(z.$(":selected").unmerge(M).unselect(),M.select()):M.selected()?M.unselect():M.select(),W=!0,A[S.NODE]=!0),!1===P.touchData.singleTouchMoved&&(M?M.trigger(new e.Event(C,{type:"tap",cyPosition:{x:R[0],y:R[1]}})).trigger(new e.Event(C,{type:"vclick",cyPosition:{x:R[0],y:R[1]}})):z.trigger(new e.Event(C,{type:"tap",cyPosition:{x:R[0],y:R[1]}})).trigger(new e.Event(C,{type:"vclick",cyPosition:{x:R[0],y:R[1]}}))),P.touchData.singleTouchMoved=!0}for(var ne=0;ne<R.length;ne++)V[ne]=R[ne];P.dragData.didDrag=!1,0===C.touches.length&&(P.touchData.dragDelta=[]),W&&M&&M.updateStyle(!1),C.touches.length<2&&(P.pinching=!1,A[S.NODE]=!0,P.redraw())}}),!1)}}(cytoscape),function(e){"use strict";function t(S,C){M[S]={points:C,draw:function(e,C,B,O,z){P.drawPolygon(e,C,B,O,z,M[S].points)},drawPath:function(e,C,B,O,z){P.drawPolygonPath(e,C,B,O,z,M[S].points)},intersectLine:function(P,C,B,O,z,L,R){return e.math.polygonIntersectLine(z,L,M[S].points,P,C,B/2,O/2,R)},intersectBox:function(P,C,B,O,z,L,R,V,A){var X=M[S].points;return e.math.boxIntersectPolygon(P,C,B,O,X,z,L,R,V,[0,-1],A)},checkPoint:function(P,C,B,O,z,L,R){return e.math.pointInsidePolygon(P,C,M[S].points,L,R,O,z,[0,-1],B)}}}for(var S=e("renderer","canvas"),P=S.prototype,C=S.usePaths(),M=S.nodeShapes={},B=Math.sin(0),O=Math.cos(0),z={},L={},R=0*Math.PI;R<2*Math.PI;R+=.1)z[R]=Math.sin(R),L[R]=Math.cos(R);M.ellipse={draw:function(e,S,P,C,B){M.ellipse.drawPath(e,S,P,C,B),e.fill()},drawPath:function(e,S,P,M,R){if(C){e.beginPath&&e.beginPath();for(var V,A,X=M/2,F=R/2,Y=0*Math.PI;Y<2*Math.PI;Y+=.1)V=S-X*z[Y]*B+X*L[Y]*O,A=P+F*L[Y]*B+F*z[Y]*O,0===Y?e.moveTo(V,A):e.lineTo(V,A);e.closePath()}else e.beginPath&&e.beginPath(),e.translate(S,P),e.scale(M/2,R/2),e.arc(0,0,1,0,2*Math.PI*.999,!1),e.closePath(),e.scale(2/M,2/R),e.translate(-S,-P)},intersectLine:function(S,P,C,M,B,O,z){return e.math.intersectLineEllipse(B,O,S,P,C/2+z,M/2+z)},intersectBox:function(S,P,C,M,B,O,z,L,R){return e.math.boxIntersectEllipse(S,P,C,M,R,B,O,z,L)},checkPoint:function(e,S,P,C,M,B,O){return e-=B,S-=O,e/=C/2+P,S/=M/2+P,Math.pow(e,2)+Math.pow(S,2)<=1}},t("triangle",e.math.generateUnitNgonPointsFitToSquare(3,0)),t("square",e.math.generateUnitNgonPointsFitToSquare(4,0)),M.rectangle=M.square,M.roundrectangle={points:e.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,S,C,M,B){P.drawRoundRectangle(e,S,C,M,B,10)},drawPath:function(e,S,C,M,B){P.drawRoundRectanglePath(e,S,C,M,B,10)},intersectLine:function(S,P,C,M,B,O,z){return e.math.roundRectangleIntersectLine(B,O,S,P,C,M,z)},intersectBox:function(S,P,C,M,B,O,z,L,R){return e.math.roundRectangleIntersectBox(S,P,C,M,B,O,z,L,R)},checkPoint:function(S,P,C,B,O,z,L){var R=e.math.getRoundRectangleRadius(B,O);if(e.math.pointInsidePolygon(S,P,M.roundrectangle.points,z,L,B,O-2*R,[0,-1],C))return!0;if(e.math.pointInsidePolygon(S,P,M.roundrectangle.points,z,L,B-2*R,O,[0,-1],C))return!0;var c=function(e,S,P,C,M,B,O){return e-=P,S-=C,e/=M/2+O,S/=B/2+O,Math.pow(e,2)+Math.pow(S,2)<=1};return!!c(S,P,z-B/2+R,L-O/2+R,2*R,2*R,C)||(!!c(S,P,z+B/2-R,L-O/2+R,2*R,2*R,C)||(!!c(S,P,z+B/2-R,L+O/2-R,2*R,2*R,C)||!!c(S,P,z-B/2+R,L+O/2-R,2*R,2*R,C)))}},t("diamond",[0,1,1,0,0,-1,-1,0]),t("pentagon",e.math.generateUnitNgonPointsFitToSquare(5,0)),t("hexagon",e.math.generateUnitNgonPointsFitToSquare(6,0)),t("heptagon",e.math.generateUnitNgonPointsFitToSquare(7,0)),t("octagon",e.math.generateUnitNgonPointsFitToSquare(8,0));var V=new Array(20),A=e.math.generateUnitNgonPoints(5,0),X=e.math.generateUnitNgonPoints(5,Math.PI/5),F=.5*(3-Math.sqrt(5));F*=1.57;for(R=0;R<X.length/2;R++)X[2*R]*=F,X[2*R+1]*=F;for(R=0;5>R;R++)V[4*R]=A[2*R],V[4*R+1]=A[2*R+1],V[4*R+2]=X[2*R],V[4*R+3]=X[2*R+1];t("star",V=e.math.fitPolygonToSquare(V)),t("vee",[-1,-1,0,-.333,1,-1,0,1]),t("rhomboid",[-1,-1,.333,-1,1,1,-.333,1])}(cytoscape),function(e){"use strict";function t(P){this._private={},this._private.options=e.util.extend({},S,P)}var S={animate:!0,maxSimulationTime:4e3,fit:!0,padding:30,boundingBox:void 0,ungrabifyWhileSimulating:!1,ready:void 0,stop:void 0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:.1,stableEnergy:function(e){var S=e;return S.max<=.5||S.mean<=.3},infinite:!1};t.prototype.run=function(){var S=this,P=this._private.options;return e.util.require("arbor",(function(C){function n(e,S){return null==S?void 0:"function"==typeof S?S.apply(e,[e._private.data,{nodes:O.length,edges:z.length,element:e}]):S}var M=P.cy,B=P.eles,O=B.nodes().not(":parent"),z=B.edges(),L=e.util.makeBoundingBox(P.boundingBox?P.boundingBox:{x1:0,y1:0,w:M.width(),h:M.height()}),R=!1;if(S.trigger({type:"layoutstart",layout:S}),void 0!==P.liveUpdate&&(P.animate=P.liveUpdate),B.nodes().size()<=1)return P.fit&&M.reset(),B.nodes().position({x:Math.round((L.x1+L.x2)/2),y:Math.round((L.y1+L.y2)/2)}),S.one("layoutready",P.ready),S.trigger({type:"layoutready",layout:S}),S.one("layoutstop",P.stop),void S.trigger({type:"layoutstop",layout:S});var V=S._private.system=C.ParticleSystem();V.parameters({repulsion:P.repulsion,stiffness:P.stiffness,friction:P.friction,gravity:P.gravity,fps:P.fps,dt:P.dt,precision:P.precision}),P.animate&&P.fit&&M.fit(L,P.padding);var A,X,F,Y,q,j,$=!1,W=(new Date,{init:function(e){},redraw:function(){var e=V.energy();if(!P.infinite&&null!=P.stableEnergy&&null!=e&&e.n>0&&P.stableEnergy(e))S.stop();else{P.infinite||(clearTimeout(A),A=setTimeout(G,250));var C=M.collection();V.eachNode((function(e,S){var P=e.data.element;null!=P&&(P.locked()||P.grabbed()||(P.silentPosition({x:L.x1+S.x,y:L.y1+S.y}),C.merge(P)))})),P.animate&&C.length>0&&(R=!0,C.rtrigger("position"),P.fit&&M.fit(P.padding),+new Date,R=!1),$||($=!0,S.one("layoutready",P.ready),S.trigger({type:"layoutready",layout:S}))}}});V.renderer=W,V.screenSize(L.w,L.h),V.screenPadding(P.padding,P.padding,P.padding,P.padding),V.screenStep(P.stepSize),O.on("grab free position",X=function(e){if(!R){var S=this.position(),M=V.fromScreen(S);if(M){var B=C.Point(M.x,M.y),O=P.padding;switch(L.x1+O<=S.x&&S.x<=L.x2-O&&L.y1+O<=S.y&&S.y<=L.y2-O&&(this.scratch().arbor.p=B),e.type){case"grab":this.scratch().arbor.fixed=!0;break;case"free":this.scratch().arbor.fixed=!1}}}}),O.on("lock unlock",F=function(e){node.scratch().arbor.fixed=node.locked()}),B.on("remove",Y=function(e){}),M.on("add","*",q=function(){}),M.on("resize",j=function(){if(null==P.boundingBox&&null!=S._private.system){var e=M.width(),C=M.height();V.screenSize(e,C)}}),O.each((function(e,S){!function a(e){if(!e.isFullAutoParent()){var S=e._private.data.id,C=n(e,P.nodeMass),M=e._private.locked,B=e.position(),O=V.fromScreen({x:B.x,y:B.y});e.scratch().arbor=V.addNode(S,{element:e,mass:C,fixed:M,x:M?O.x:void 0,y:M?O.y:void 0})}}(S)})),z.each((function(e,S){!function o(e){var S=e.source().id(),C=e.target().id(),M=n(e,P.edgeLength);e.scratch().arbor=V.addEdge(S,C,{length:M})}(S)}));var U=O.filter(":grabbable");P.ungrabifyWhileSimulating&&U.ungrabify();var G=S._private.doneHandler=function(){S._private.doneHandler=null,P.animate||(P.fit&&M.reset(),O.rtrigger("position")),O.off("grab free position",X),O.off("lock unlock",F),B.off("remove",Y),M.off("add","*",q),M.off("resize",j),P.ungrabifyWhileSimulating&&U.grabify(),S.one("layoutstop",P.stop),S.trigger({type:"layoutstop",layout:S})};V.start(),!P.infinite&&null!=P.maxSimulationTime&&P.maxSimulationTime>0&&P.maxSimulationTime!==1/0&&setTimeout((function(){S.stop()}),P.maxSimulationTime)})),this},t.prototype.stop=function(){return null!=this._private.system&&this._private.system.stop(),this._private.doneHandler&&this._private.doneHandler(),this},e("layout","arbor",t)}(cytoscape),function(e){"use strict";function t(P){this.options=e.util.extend({},S,P)}var S={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var S,P=this.options,C=P,M=P.cy,B=C.eles,O=B.nodes().not(":parent"),z=B,L=e.util.makeBoundingBox(C.boundingBox?C.boundingBox:{x1:0,y1:0,w:M.width(),h:M.height()});if(e.is.elementOrCollection(C.roots))S=C.roots;else if(e.is.array(C.roots)){for(var R=[],V=0;V<C.roots.length;V++){var A=C.roots[V],X=M.getElementById(A);R.push(X)}S=new e.Collection(M,R)}else if(e.is.string(C.roots))S=M.$(C.roots);else if(C.directed)S=O.roots();else{for(var F=[],Y=O;Y.length>0;){var q=M.collection();B.bfs({roots:Y[0],visit:function(e,S,P,C,M){q=q.add(P)},directed:!1}),Y=Y.not(q),F.push(q)}S=M.collection();for(V=0;V<F.length;V++){var j=F[V],$=j.maxDegree(!1),W=j.filter((function(){return this.degree(!1)===$}));S=S.add(W)}}var U=[],G={},K={},Q={},ee={},te={};z.bfs({roots:S,directed:C.directed,visit:function(e,S,P,C,M){var B=this[0],O=B.id();if(U[S]||(U[S]=[]),U[S].push(B),G[O]=!0,K[O]=S,Q[O]=M,ee[O]=C,M){var z=M.id();(te[z]=te[z]||[]).push(P)}}});var re=[];for(V=0;V<O.length;V++){X=O[V];G[X.id()]||re.push(X)}for(var ne=3*re.length,ae=0;0!==re.length&&ne>ae;){var se=(ue=re.shift()).neighborhood().nodes(),le=!1;for(V=0;V<se.length;V++){if(void 0!==(Te=K[se[V].id()])){U[Te].push(ue),le=!0;break}}le||re.push(ue),ae++}for(;0!==re.length;){var ue=re.shift();(le=!1)||(0===U.length&&U.push([]),U[0].push(ue))}var N=function(){for(var e=0;e<U.length;e++)for(var S=U[e],P=0;P<S.length;P++){S[P]._private.scratch.breadthfirst={depth:e,index:P}}};N();for(var I=function(e){for(var S,P=e.connectedEdges((function(){return this.data("target")===e.id()})),C=e._private.scratch.breadthfirst,M=0,B=0;B<P.length;B++){var O=P[B].source()[0],z=O._private.scratch.breadthfirst;C.depth<=z.depth&&M<z.depth&&(M=z.depth,S=O)}return S},ce=0;ce<C.maximalAdjustments;ce++){var de=U.length,he=[];for(V=0;de>V;V++)for(var pe=(Te=U[V]).length,fe=0;pe>fe;fe++){var ge=(X=Te[fe])._private.scratch.breadthfirst;(ve=I(X))&&(ge.intEle=ve,he.push(X))}for(V=0;V<he.length;V++){var ve,ye=(ve=(ge=(X=he[V])._private.scratch.breadthfirst).intEle)._private.scratch.breadthfirst;U[ge.depth].splice(ge.index,1);for(var me=ye.depth+1;me>U.length-1;)U.push([]);U[me].push(X),ge.depth=me,ge.index=U[me].length-1}N()}var xe=0;if(C.avoidOverlap){for(V=0;V<O.length;V++){var be=O[V].outerWidth(),we=O[V].outerHeight();xe=Math.max(xe,be,we)}xe*=C.spacingFactor}for(var _e={},H=function(e){if(_e[e.id()])return _e[e.id()];for(var S=e._private.scratch.breadthfirst.depth,P=e.neighborhood().nodes().not(":parent"),C=0,M=0,B=0;B<P.length;B++){var O=P[B]._private.scratch.breadthfirst,z=O.index,L=O.depth,R=U[L].length;(S>L||0===S)&&(C+=z/R,M++)}return C/=M=Math.max(1,M),0===M&&(C=void 0),_e[e.id()]=C,C},Z=function(e,S){return H(e)-H(S)},Ee=0;3>Ee;Ee++){for(V=0;V<U.length;V++)U[V]=U[V].sort(Z);N()}var Se=0;for(V=0;V<U.length;V++)Se=Math.max(U[V].length,Se);var De={x:L.x1+L.w/2,y:L.x1+L.h/2},J=function(e,S){var P=e._private.scratch.breadthfirst,M=P.depth,B=P.index,O=U[M].length,z=Math.max(L.w/(O+1),xe),R=Math.max(L.h/(U.length+1),xe),V=Math.min(L.w/2/U.length,L.h/2/U.length);if(V=Math.max(V,xe),C.circle){if(C.circle){var A=V*M+V-(U.length>0&&U[0].length<=3?V/2:0),X=2*Math.PI/U[M].length*B;return 0===M&&1===U[0].length&&(A=1),{x:De.x+A*Math.cos(X),y:De.y+A*Math.sin(X)}}return{x:De.x+(B+1-(O+1)/2)*z,y:(M+1)*R}}var F={x:De.x+(B+1-(O+1)/2)*z,y:(M+1)*R};return F},ke={};for(V=U.length-1;V>=0;V--){var Te=U[V];for(fe=0;fe<Te.length;fe++){ue=Te[fe];ke[ue.id()]=J(ue,U.length)}}return O.layoutPositions(this,C,(function(){return ke[this.id()]})),this},e("layout","breadthfirst",t)}(cytoscape),function(e){"use strict";function t(P){this.options=e.util.extend({},S,P)}var S={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,counterclockwise:!1,sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var S=this.options,P=S,C=S.cy,M=P.eles.nodes().not(":parent");P.sort&&(M=M.sort(P.sort));for(var B,O=e.util.makeBoundingBox(P.boundingBox?P.boundingBox:{x1:0,y1:0,w:C.width(),h:C.height()}),z={x:O.x1+O.w/2,y:O.y1+O.h/2},L=P.startAngle,R=2*Math.PI/M.length,V=0,A=0;A<M.length;A++){var X=M[A].outerWidth(),F=M[A].outerHeight();V=Math.max(V,X,F)}if(B=e.is.number(P.radius)?P.radius:M.length<=1?0:Math.min(O.h,O.w)/2-V,M.length>1&&P.avoidOverlap){V*=1.75;R=2*Math.PI/M.length;var Y=Math.cos(R)-Math.cos(0),q=Math.sin(R)-Math.sin(0),j=Math.sqrt(V*V/(Y*Y+q*q));B=Math.max(j,B)}return M.layoutPositions(this,P,(function(e,S){var C=B*Math.cos(L),M=B*Math.sin(L),O={x:z.x+C,y:z.y+M};return L=P.counterclockwise?L-R:L+R,O})),this},e("layout","circle",t)}(cytoscape),function(e){"use strict";function t(P){this.options=e.util.extend(!0,{},S,P)}var S={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(e){return 10},flow:void 0,alignment:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.prototype.run=function(){var S=this,P=this.options;return S.manuallyStopped=!1,e.util.require("cola",(function(C){var M=P.cy,B=P.eles,O=B.nodes(),z=B.edges(),L=!1,R=e.util.makeBoundingBox(P.boundingBox?P.boundingBox:{x1:0,y1:0,w:M.width(),h:M.height()}),c=function(S,P){return e.is.fn(S)?S.apply(P,[P]):S},d=function(){for(var S={min:1/0,max:-1/0},C={min:1/0,max:-1/0},B=0;B<O.length;B++){var z=O[B],V=z._private.scratch.cola;if(S.min=Math.min(S.min,V.x||0),S.max=Math.max(S.max,V.x||0),C.min=Math.min(C.min,V.y||0),C.max=Math.max(C.max,V.y||0),!V.updatedDims){var A=z.boundingBox(),X=c(P.nodeSpacing,z);V.width=A.w+2*X,V.height=A.h+2*X}}O.positions((function(P,M){var B,O=M._private.scratch.cola;return M.grabbed()||M.isParent()||(B={x:R.x1+O.x-S.min,y:R.y1+O.y-C.min},e.is.number(B.x)&&e.is.number(B.y)||(B=void 0)),B})),O.updateCompoundBounds(),L||(p(),L=!0),P.fit&&M.fit(P.padding)},h=function(){P.ungrabifyWhileSimulating&&Y.grabify(),O.off("grab free position",X),O.off("lock unlock",F),S.one("layoutstop",P.stop),S.trigger({type:"layoutstop",layout:S})},p=function(){S.one("layoutready",P.ready),S.trigger({type:"layoutready",layout:S})},V=P.refresh;P.refresh<0?(Math.abs(P.refresh),V=1):V=Math.max(1,V);var A=S.adaptor=C.adaptor({trigger:function(e){var S=C.EventType?C.EventType.tick:null,M=C.EventType?C.EventType.end:null;switch(e.type){case"tick":case S:P.animate&&d();break;case"end":case M:d(),P.infinite||h()}},kick:function(){var i=function(){if(S.manuallyStopped)return h(),!0;var e=A.tick();return e&&P.infinite&&A.resume(),e};if(P.animate){var a=function(){(function(){for(var e,S=0;V>S&&!e;S++)e=e||i();return e})()||e.util.requestAnimationFrame(a)};e.util.requestAnimationFrame(a)}else for(;!i(););},on:function(e,S){},drag:function(){}});S.adaptor=A;var X,F,Y=O.filter(":grabbable");P.ungrabifyWhileSimulating&&Y.ungrabify(),O.on("grab free position",X=function(S){var P=this,C=P._private.scratch.cola,M=P._private.position;switch(P.grabbed()?(C.x=M.x-R.x1,C.y=M.y-R.y1,A.dragstart(C)):e.is.number(C.x)&&e.is.number(C.y)&&(M.x=C.x+R.x1,M.y=C.y+R.y1),S.type){case"grab":A.dragstart(C),A.resume();break;case"free":A.dragend(C)}}),O.on("lock unlock",F=function(e){var S=this._private.scratch.cola;this.locked()?A.dragstart(S):A.dragend(S)});var q,j,$=O.stdFilter((function(e){return!e.isParent()}));if(A.nodes($.map((function(e,S){var C=c(P.nodeSpacing,e),M=e.position(),B=e.boundingBox();return e._private.scratch.cola={x:P.randomize||void 0===M.x?Math.round(Math.random()*R.w):M.x,y:P.randomize||void 0===M.y?Math.round(Math.random()*R.h):M.y,width:B.w+2*C,height:B.h+2*C,index:S}}))),P.alignment){var W=[],U=[];$.forEach((function(e){var S=c(P.alignment,e),C=e._private.scratch.cola.index;S&&(null!=S.x&&W.push({node:C,offset:S.x}),null!=S.y&&U.push({node:C,offset:S.y}))}));var G=[];W.length>0&&G.push({type:"alignment",axis:"x",offsets:W}),U.length>0&&G.push({type:"alignment",axis:"y",offsets:U}),A.constraints(G)}A.groups(O.stdFilter((function(e){return e.isParent()})).map((function(e,S){var C=e._private.style,M=c(P.nodeSpacing,e),B=C["padding-left"].pxValue+M,O=C["padding-right"].pxValue+M,z=C["padding-top"].pxValue+M,L=C["padding-bottom"].pxValue+M;return e._private.scratch.cola={index:S,padding:Math.max(B,O,z,L),leaves:e.descendants().stdFilter((function(e){return!e.isParent()})).map((function(e){return e[0]._private.scratch.cola.index}))},e})).map((function(e){return e._private.scratch.cola.groups=e.descendants().stdFilter((function(e){return e.isParent()})).map((function(e){return e._private.scratch.cola.index})),e._private.scratch.cola}))),null!=P.edgeLength?(q=P.edgeLength,j="linkDistance"):null!=P.edgeSymDiffLength?(q=P.edgeSymDiffLength,j="symmetricDiffLinkLengths"):null!=P.edgeJaccardLength?(q=P.edgeJaccardLength,j="jaccardLinkLengths"):(q=100,j="linkDistance");if(A.links(z.stdFilter((function(e){return!e.source().isParent()&&!e.target().isParent()})).map((function(e,S){var P=e._private.scratch.cola={source:e.source()[0]._private.scratch.cola.index,target:e.target()[0]._private.scratch.cola.index};return null!=q&&(P.calcLength=c(q,e)),P}))),A.size([R.w,R.h]),null!=q&&A[j]((function(e){return e.calcLength})),P.flow){var K;e.is.string(P.flow)?K={axis:P.flow,minSeparation:50}:e.is.number(P.flow)?K={axis:"y",minSeparation:P.flow}:e.is.plainObject(P.flow)?((K=P.flow).axis=K.axis||"y",K.minSeparation=null!=K.minSeparation?K.minSeparation:50):K={axis:"y",minSeparation:50},A.flowLayout(K.axis,K.minSeparation)}S.trigger({type:"layoutstart",layout:S}),A.avoidOverlaps(P.avoidOverlap).handleDisconnected(P.handleDisconnected).start(P.unconstrIter,P.userConstIter,P.allConstIter),P.infinite||setTimeout((function(){S.manuallyStopped||A.stop()}),P.maxSimulationTime)})),this},t.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},e("layout","cola",t)}(cytoscape),function(e){"use strict";function t(P){this.options=e.util.extend({},S,P)}var S={fit:!0,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){for(var S=this.options,P=S,C=S.cy,M=P.eles.nodes().not(":parent"),B=e.util.makeBoundingBox(P.boundingBox?P.boundingBox:{x1:0,y1:0,w:C.width(),h:C.height()}),O={x:B.x1+B.w/2,y:B.y1+B.h/2},z=[],L=P.startAngle,R=0,V=0;V<M.length;V++){var A,X=M[V];A=P.concentric.apply(X,[X]),z.push({value:A,node:X}),X._private.scratch.concentric=A}M.updateStyle();for(V=0;V<M.length;V++){X=M[V];R=Math.max(R,X.outerWidth(),X.outerHeight())}z.sort((function(e,S){return S.value-e.value}));var F=P.levelWidth(M),Y=[[]],q=Y[0];for(V=0;V<z.length;V++){var j=z[V];if(q.length>0)Math.abs(q[0].value-j.value)>=F&&(q=[],Y.push(q));q.push(j)}var $={},W=0,U=R+P.minNodeSpacing;if(!P.avoidOverlap){var G=Y.length>0&&Y[0].length>1,K=(Math.min(B.w,B.h)/2-U)/(Y.length+G?1:0);U=Math.min(U,K)}for(V=0;V<Y.length;V++){var Q=Y[V],ee=2*Math.PI/Q.length;if(Q.length>1&&P.avoidOverlap){var te=Math.cos(ee)-Math.cos(0),re=Math.sin(ee)-Math.sin(0),ne=Math.sqrt(U*U/(te*te+re*re));W=Math.max(ne,W)}for(var ae=0;ae<Q.length;ae++){j=Q[ae],L=P.startAngle+(P.counterclockwise?-1:1)*ee*ae;var se={x:O.x+W*Math.cos(L),y:O.y+W*Math.sin(L)};$[j.node.id()]=se}W+=U}return M.layoutPositions(this,P,(function(){var e=this.id();return $[e]})),this},e("layout","concentric",t)}(cytoscape),function(e){"use strict";function t(S){this.options=e.util.extend({},P,S)}var S,P={ready:function(){},stop:function(){},animate:!0,refresh:4,fit:!0,padding:30,boundingBox:void 0,randomize:!0,debug:!1,nodeRepulsion:4e5,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};t.prototype.run=function(){var P=this.options,C=P.cy,M=this;M.stopped=!1,M.trigger({type:"layoutstart",layout:M}),S=!0===P.debug;var B=new Date,O=n(C,M,P);S&&s(O),!0===P.randomize&&l(O,C),m(O,C,P);var h=function(e){return!M.stopped&&(c(O,C,P,e),O.temperature=O.temperature*P.coolingFactor,!(O.temperature<P.minTemp))},p=function(){u(O,C,P),!0===P.fit&&C.fit(P.padding);var e=new Date;console.info("Layout took "+(e-B)+" ms"),M.one("layoutstop",P.stop),M.trigger({type:"layoutstop",layout:M})};if(P.animate){var z=0,f=function(){for(var S=0;S<P.refresh&&z<P.numIter;){var M;if(!1===(M=h(z)))break;S++,z++}u(O,C,P),P.fit&&C.fit(P.padding),!1!==M&&z+1<P.numIter?e.util.requestAnimationFrame(f):p()};e.util.requestAnimationFrame(f)}else{for(z=0;z<P.numIter&&!1!==h(z);z++);p()}return this},t.prototype.stop=function(){return this.stopped=!0,this};var n=function(S,P,C){for(var M=C.eles.edges(),B=C.eles.nodes(),O={layout:P,layoutNodes:[],idToIndex:{},nodeSize:B.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:M.size(),temperature:C.initialTemp,clientWidth:S.width(),clientHeight:S.width(),boundingBox:e.util.makeBoundingBox(C.boundingBox?C.boundingBox:{x1:0,y1:0,w:S.width(),h:S.height()})},z=0;z<O.nodeSize;z++){(le={}).id=B[z].data("id"),le.parentId=B[z].data("parent"),le.children=[],le.positionX=B[z].position("x"),le.positionY=B[z].position("y"),le.offsetX=0,le.offsetY=0,le.height=B[z].height(),le.width=B[z].width(),le.maxX=le.positionX+le.width/2,le.minX=le.positionX-le.width/2,le.maxY=le.positionY+le.height/2,le.minY=le.positionY-le.height/2,le.padLeft=B[z]._private.style["padding-left"].pxValue,le.padRight=B[z]._private.style["padding-right"].pxValue,le.padTop=B[z]._private.style["padding-top"].pxValue,le.padBottom=B[z]._private.style["padding-bottom"].pxValue,O.layoutNodes.push(le),O.idToIndex[le.id]=z}var L=[],R=0,V=-1,A=[];for(z=0;z<O.nodeSize;z++){var X=O.layoutNodes[z],F=X.parentId;null!=F?O.layoutNodes[O.idToIndex[F]].children.push(X.id):(L[++V]=X.id,A.push(X.id))}for(O.graphSet.push(A);V>=R;){var Y=L[R++],q=O.idToIndex[Y],j=O.layoutNodes[q].children;if(j.length>0){O.graphSet.push(j);for(z=0;z<j.length;z++)L[++V]=j[z]}}for(z=0;z<O.graphSet.length;z++)for(var W=O.graphSet[z],U=0;U<W.length;U++){var G=O.idToIndex[W[U]];O.indexToGraph[G]=z}for(z=0;z<O.edgeSize;z++){var K=M[z],Q={};Q.id=K.data("id"),Q.sourceId=K.data("source"),Q.targetId=K.data("target");var ee=C.idealEdgeLength,te=O.idToIndex[Q.sourceId],re=O.idToIndex[Q.targetId];if(O.indexToGraph[te]!=O.indexToGraph[re]){for(var ne=a(Q.sourceId,Q.targetId,O),ae=O.graphSet[ne],se=0,le=O.layoutNodes[te];-1===$.inArray(le.id,ae);)le=O.layoutNodes[O.idToIndex[le.parentId]],se++;for(le=O.layoutNodes[re];-1===$.inArray(le.id,ae);)le=O.layoutNodes[O.idToIndex[le.parentId]],se++;ee*=se*C.nestingFactor}Q.idealLength=ee,O.layoutEdges.push(Q)}return O},a=function(e,S,P){var C=o(e,S,0,P);return 2>C.count?0:C.graph},o=function(e,S,P,C){var M=C.graphSet[P];if(-1<$.inArray(e,M)&&-1<$.inArray(S,M))return{count:2,graph:P};for(var B=0,O=0;O<M.length;O++){var z=M[O],L=C.idToIndex[z],R=C.layoutNodes[L].children;if(0!==R.length){var V=C.indexToGraph[C.idToIndex[R[0]]],A=o(e,S,V,C);if(0!==A.count){if(1!==A.count)return A;if(2===++B)break}}}return{count:B,graph:P}},s=function(e){if(S){console.debug("layoutNodes:");for(var P=0;P<e.nodeSize;P++){var C=e.layoutNodes[P],M="\nindex: "+P+"\nId: "+C.id+"\nChildren: "+C.children.toString()+"\nparentId: "+C.parentId+"\npositionX: "+C.positionX+"\npositionY: "+C.positionY+"\nOffsetX: "+C.offsetX+"\nOffsetY: "+C.offsetY+"\npadLeft: "+C.padLeft+"\npadRight: "+C.padRight+"\npadTop: "+C.padTop+"\npadBottom: "+C.padBottom;console.debug(M)}for(var P in console.debug("idToIndex"),e.idToIndex)console.debug("Id: "+P+"\nIndex: "+e.idToIndex[P]);console.debug("Graph Set");var B=e.graphSet;for(P=0;P<B.length;P++)console.debug("Set : "+P+": "+B[P].toString());for(M="IndexToGraph",P=0;P<e.indexToGraph.length;P++)M+="\nIndex : "+P+" Graph: "+e.indexToGraph[P];console.debug(M),M="Layout Edges";for(P=0;P<e.layoutEdges.length;P++){var O=e.layoutEdges[P];M+="\nEdge Index: "+P+" ID: "+O.id+" SouceID: "+O.sourceId+" TargetId: "+O.targetId+" Ideal Length: "+O.idealLength}console.debug(M),M="nodeSize: "+e.nodeSize,M+="\nedgeSize: "+e.edgeSize,M+="\ntemperature: "+e.temperature,console.debug(M)}},l=function(e,S){for(var P=e.clientWidth,C=e.clientHeight,M=0;M<e.nodeSize;M++){var B=e.layoutNodes[M];B.positionX=Math.random()*P,B.positionY=Math.random()*C}},u=function(e,S,P){var C=e.layout,M=P.eles.nodes(),B=e.boundingBox,O={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};P.boundingBox&&(M.forEach((function(S){var P=e.layoutNodes[e.idToIndex[S.data("id")]];O.x1=Math.min(O.x1,P.positionX),O.x2=Math.max(O.x2,P.positionX),O.y1=Math.min(O.y1,P.positionY),O.y2=Math.max(O.y2,P.positionY)})),O.w=O.x2-O.x1,O.h=O.y2-O.y1),M.positions((function(S,C){var M=e.layoutNodes[e.idToIndex[C.data("id")]];if(P.boundingBox){var z=(M.positionX-O.x1)/O.w,L=(M.positionY-O.y1)/O.h;return{x:B.x1+z*B.w,y:B.y1+L*B.h}}return{x:M.positionX,y:M.positionY}})),!0!==e.ready&&(e.ready=!0,C.one("layoutready",P.ready),C.trigger({type:"layoutready",layout:this}))},c=function(e,S,P,C){d(e,S,P),f(e,S,P),g(e,S,P),y(e,S,P),m(e,S,P)},d=function(e,S,P){for(var C=0;C<e.graphSet.length;C++)for(var M=e.graphSet[C],B=M.length,O=0;B>O;O++)for(var z=e.layoutNodes[e.idToIndex[M[O]]],L=O+1;B>L;L++){var R=e.layoutNodes[e.idToIndex[M[L]]];h(z,R,e,S,P)}},h=function(e,S,P,C,M){var B=S.positionX-e.positionX,O=S.positionY-e.positionY;if(0!==B||0!==O){var z=v(e,S,B,O);if(z>0)var L=(V=M.nodeOverlap*z)*B/(j=Math.sqrt(B*B+O*O)),R=V*O/j;else{var V,A=p(e,B,O),X=p(S,-1*B,-1*O),F=X.x-A.x,Y=X.y-A.y,q=F*F+Y*Y,j=Math.sqrt(q);L=(V=M.nodeRepulsion/q)*F/j,R=V*Y/j}e.offsetX-=L,e.offsetY-=R,S.offsetX+=L,S.offsetY+=R}},p=function(e,S,P){var C=e.positionX,M=e.positionY,B=e.height,O=e.width,z=P/S,L=B/O,R={};do{if(0===S&&P>0){R.x=C,R.y=M+B/2;break}if(0===S&&0>P){R.x=C,R.y=M+B/2;break}if(S>0&&z>=-1*L&&L>=z){R.x=C+O/2,R.y=M+O*P/2/S;break}if(0>S&&z>=-1*L&&L>=z){R.x=C-O/2,R.y=M-O*P/2/S;break}if(P>0&&(-1*L>=z||z>=L)){R.x=C+B*S/2/P,R.y=M+B/2;break}if(0>P&&(-1*L>=z||z>=L)){R.x=C-B*S/2/P,R.y=M-B/2;break}}while(0);return R},v=function(e,S,P,C){if(P>0)var M=e.maxX-S.minX;else M=S.maxX-e.minX;if(C>0)var B=e.maxY-S.minY;else B=S.maxY-e.minY;return M>=0&&B>=0?Math.sqrt(M*M+B*B):0},f=function(e,S,P){for(var C=0;C<e.edgeSize;C++){var M=e.layoutEdges[C],B=e.idToIndex[M.sourceId],O=e.layoutNodes[B],z=e.idToIndex[M.targetId],L=e.layoutNodes[z],R=L.positionX-O.positionX,V=L.positionY-O.positionY;if(0===R&&0===V)return;var A=p(O,R,V),X=p(L,-1*R,-1*V),F=X.x-A.x,Y=X.y-A.y,q=Math.sqrt(F*F+Y*Y),j=Math.pow(M.idealLength-q,2)/P.edgeElasticity;if(0!==q)var $=j*F/q,W=j*Y/q;else $=0,W=0;O.offsetX+=$,O.offsetY+=W,L.offsetX-=$,L.offsetY-=W}},g=function(e,S,P){for(var C=0;C<e.graphSet.length;C++){var M=e.graphSet[C],B=M.length;if(0===C)var O=e.clientHeight/2,z=e.clientWidth/2;else{var L=e.layoutNodes[e.idToIndex[M[0]]],R=e.layoutNodes[e.idToIndex[L.parentId]];O=R.positionX,z=R.positionY}for(var V=0;B>V;V++){var A=e.layoutNodes[e.idToIndex[M[V]]],X=O-A.positionX,F=z-A.positionY,Y=Math.sqrt(X*X+F*F);if(Y>1){var q=P.gravity*X/Y,j=P.gravity*F/Y;A.offsetX+=q,A.offsetY+=j}}}},y=function(e,S,P){var C=[],M=0,B=-1;for(C.push.apply(C,e.graphSet[0]),B+=e.graphSet[0].length;B>=M;){var O=C[M++],z=e.idToIndex[O],L=e.layoutNodes[z],R=L.children;if(0<R.length){for(var V=L.offsetX,A=L.offsetY,X=0;X<R.length;X++){var F=e.layoutNodes[e.idToIndex[R[X]]];F.offsetX+=V,F.offsetY+=A,C[++B]=R[X]}L.offsetX=0,L.offsetY=0}}},m=function(e,S,P){for(var C=0;C<e.nodeSize;C++){0<(B=e.layoutNodes[C]).children.length&&(B.maxX=void 0,B.minX=void 0,B.maxY=void 0,B.minY=void 0)}for(C=0;C<e.nodeSize;C++){if(!(0<(B=e.layoutNodes[C]).children.length)){var M=x(B.offsetX,B.offsetY,e.temperature);B.positionX+=M.x,B.positionY+=M.y,B.offsetX=0,B.offsetY=0,B.minX=B.positionX-B.width,B.maxX=B.positionX+B.width,B.minY=B.positionY-B.height,B.maxY=B.positionY+B.height,b(B,e)}}for(C=0;C<e.nodeSize;C++){var B;0<(B=e.layoutNodes[C]).children.length&&(B.positionX=(B.maxX+B.minX)/2,B.positionY=(B.maxY+B.minY)/2,B.width=B.maxX-B.minX,B.height=B.maxY-B.minY)}},x=function(e,S,P){var C=Math.sqrt(e*e+S*S);if(C>P)var M={x:P*e/C,y:P*S/C};else M={x:e,y:S};return M},b=function(e,S){var P=e.parentId;if(null!=P){var C=S.layoutNodes[S.idToIndex[P]],M=!1;return(null==C.maxX||e.maxX+C.padRight>C.maxX)&&(C.maxX=e.maxX+C.padRight,M=!0),(null==C.minX||e.minX-C.padLeft<C.minX)&&(C.minX=e.minX-C.padLeft,M=!0),(null==C.maxY||e.maxY+C.padBottom>C.maxY)&&(C.maxY=e.maxY+C.padBottom,M=!0),(null==C.minY||e.minY-C.padTop<C.minY)&&(C.minY=e.minY-C.padTop,M=!0),M?b(C,S):void 0}};e("layout","cose",t)}(cytoscape),function(e){"use strict";function t(P){this.options=e.util.extend(!0,{},S,P)}var S={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,boundingBox:void 0,ready:function(){},stop:function(){}};t.prototype.run=function(){var S=this.options,P=this;return e.util.require("dagre",(function(C){var M,B=S.cy,O=S.eles,o=function(S,P){return e.is.fn(P)?P.apply(S,[S]):P},z=e.util.makeBoundingBox(S.boundingBox?S.boundingBox:{x1:0,y1:0,w:B.width(),h:B.height()}),L=new C.graphlib.Graph({multigraph:!0,compound:!0}),R={},c=function(e,S){null!=S&&(R[e]=S)};c("nodesep",S.nodeSep),c("edgesep",S.edgeSep),c("ranksep",S.rankSep),c("rankdir",S.rankDir),L.setGraph(R),L.setDefaultEdgeLabel((function(){return{}})),L.setDefaultNodeLabel((function(){return{}}));for(var V=O.nodes(),A=0;A<V.length;A++){var X=V[A];L.setNode(X.id(),{width:X.width(),height:X.height(),name:X.id()})}for(A=0;A<V.length;A++){(X=V[A]).isChild()&&L.setParent(X.id(),X.parent().id())}var F=O.edges().stdFilter((function(e){return!e.source().isParent()&&!e.target().isParent()}));for(A=0;A<F.length;A++){var Y=F[A];L.setEdge(Y.source().id(),Y.target().id(),{minlen:o(Y,S.minLen),weight:o(Y,S.edgeWeight),name:Y.id()},Y.id())}C.layout(L);var q=L.nodes();for(A=0;A<q.length;A++){var j=q[A],$=L.node(j);B.getElementById(j).scratch().dagre=$}S.boundingBox?(M={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},V.forEach((function(e){var S=e.scratch().dagre;M.x1=Math.min(M.x1,S.x),M.x2=Math.max(M.x2,S.x),M.y1=Math.min(M.y1,S.y),M.y2=Math.max(M.y2,S.y)})),M.w=M.x2-M.x1,M.h=M.y2-M.y1):M=z;V.layoutPositions(P,S,(function(){var e=this.scratch().dagre;return function(e){if(S.boundingBox){var P=(e.x-M.x1)/M.w,C=(e.y-M.y1)/M.h;return{x:z.x1+P*z.w,y:z.y1+C*z.h}}return e}({x:e.x,y:e.y})}))})),this},e("layout","dagre",t)}(cytoscape),function(e){"use strict";function t(P){this.options=e.util.extend({},S,P)}var S={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,rows:void 0,columns:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var S=this.options,P=S,C=S.cy,M=P.eles.nodes().not(":parent");P.sort&&(M=M.sort(P.sort));var B=e.util.makeBoundingBox(P.boundingBox?P.boundingBox:{x1:0,y1:0,w:C.width(),h:C.height()});if(0===B.h||0===B.w)M.layoutPositions(this,P,(function(){return{x:B.x1,y:B.y1}}));else{var O=M.size(),z=Math.sqrt(O*B.h/B.w),L=Math.round(z),R=Math.round(B.w/B.h*z),d=function(e){if(null==e)return Math.min(L,R);Math.min(L,R)==L?L=e:R=e},h=function(e){if(null==e)return Math.max(L,R);Math.max(L,R)==L?L=e:R=e};if(null!=P.rows&&null!=P.columns)L=P.rows,R=P.columns;else if(null!=P.rows&&null==P.columns)L=P.rows,R=Math.ceil(O/L);else if(null==P.rows&&null!=P.columns)R=P.columns,L=Math.ceil(O/R);else if(R*L>O){((A=d())-1)*(V=h())>=O?d(A-1):(V-1)*A>=O&&h(V-1)}else for(;O>R*L;){var V,A=d();((V=h())+1)*A>=O?h(V+1):d(A+1)}var X=B.w/R,F=B.h/L;if(P.avoidOverlap)for(var Y=0;Y<M.length;Y++){var q=(K=M[Y]).outerWidth(),j=K.outerHeight();X=Math.max(X,q),F=Math.max(F,j)}var $={},_=function(e,S){return!!$["c-"+e+"-"+S]},E=function(e,S){$["c-"+e+"-"+S]=!0},W=0,U=0,k=function(){++U>=R&&(U=0,W++)},G={};for(Y=0;Y<M.length;Y++){var K=M[Y],Q=P.position(K);if(Q&&(void 0!==Q.row||void 0!==Q.col)){var ee={row:Q.row,col:Q.col};if(void 0===ee.col)for(ee.col=0;_(ee.row,ee.col);)ee.col++;else if(void 0===ee.row)for(ee.row=0;_(ee.row,ee.col);)ee.row++;G[K.id()]=ee,E(ee.row,ee.col)}}M.layoutPositions(this,P,(function(e,S){var P,C;if(S.locked()||S.isFullAutoParent())return!1;var M=G[S.id()];if(M)P=M.col*X+X/2+B.x1,C=M.row*F+F/2+B.y1;else{for(;_(W,U);)k();P=U*X+X/2+B.x1,C=W*F+F/2+B.y1,E(W,U),k()}return{x:P,y:C}}))}return this},e("layout","grid",t)}(cytoscape),function(e){"use strict";function t(P){this.options=e.util.extend(!0,{},S,P)}var S={ready:function(){},stop:function(){}};t.prototype.run=function(){var e=this.options,S=e.eles,P=this;return e.cy,P.trigger("layoutstart"),S.nodes().positions((function(){return{x:0,y:0}})),P.one("layoutready",e.ready),P.trigger("layoutready"),P.one("layoutstop",e.stop),P.trigger("layoutstop"),this},t.prototype.stop=function(){return this},e("layout","null",t)}(cytoscape),function(e){"use strict";function t(P){this.options=e.util.extend(!0,{},S,P)}var S={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){function t(e){if(null==S.positions)return null;if(C)return S.positions.apply(e,[e]);var P=S.positions[e._private.data.id];return null==P?null:P}var S=this.options,P=S.eles.nodes(),C=e.is.fn(S.positions);return P.layoutPositions(this,S,(function(e,S){var P=t(S);return!S.locked()&&null!=P&&P})),this},e("layout","preset",t)}(cytoscape),function(e){"use strict";function t(P){this.options=e.util.extend(!0,{},S,P)}var S={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var S=this.options,P=S.cy,C=S.eles.nodes().not(":parent"),M=e.util.makeBoundingBox(S.boundingBox?S.boundingBox:{x1:0,y1:0,w:P.width(),h:P.height()});return C.layoutPositions(this,S,(function(e,S){return{x:M.x1+Math.round(Math.random()*M.w),y:M.y1+Math.round(Math.random()*M.h)}})),this},e("layout","random",t)}(cytoscape),function($$){"use strict";function SpreadLayout(e){this.options=$$.util.extend({},defaults,e)}function cellCentroid(e){for(var S,P,C,M=e.halfedges,B=0,O=0,z=0,L=0;L<M.length;++L)S=M[L].getEndpoint(),P=M[L].getStartpoint(),B+=S.x*P.y,B-=S.y*P.x,C=S.x*P.y-P.x*S.y,O+=(S.x+P.x)*C,z+=(S.y+P.y)*C;return{x:O/(C=6*(B/=2)),y:z/C}}function sitesDistance(e,S){var P=e.x-S.x,C=e.y-S.y;return Math.sqrt(P*P+C*C)}var defaults={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0};SpreadLayout.prototype.run=function(){var layout=this,options=this.options;return $$.util.requires(["foograph","Voronoi"],(function(foograph,Voronoi){function setPositions(e){for(var S=e.vertices,P=[],C=0;C<S.length;++C){var M=S[C];P[M.id]={x:M.x,y:M.y}}nodes.positions((function(e,S){var C=S._private.data.id,M=P[C];return{x:Math.round(simBB.x1+M.x),y:Math.round(simBB.y1+M.y)}})),options.fit&&cy.fit(options.padding),cy.nodes().rtrigger("position")}var cy=options.cy,nodes=cy.nodes(),edges=cy.edges(),cWidth=cy.width(),cHeight=cy.height(),simulationBounds=options.boundingBox?$$.util.makeBoundingBox(options.boundingBox):null,padding=options.padding,simBBFactor=Math.max(1,.8*Math.log(nodes.length));nodes.length<100&&(simBBFactor/=2),layout.trigger({type:"layoutstart",layout:layout});var simBB={x1:0,y1:0,x2:cWidth*simBBFactor,y2:cHeight*simBBFactor};simulationBounds&&(simBB.x1=simulationBounds.x1,simBB.y1=simulationBounds.y1,simBB.x2=simulationBounds.x2,simBB.y2=simulationBounds.y2),simBB.x1+=padding,simBB.y1+=padding,simBB.x2-=padding,simBB.y2-=padding;var width=simBB.x2-simBB.x1,height=simBB.y2-simBB.y1,startTime=Date.now();if(nodes.size()<=1){nodes.positions({x:Math.round((simBB.x1+simBB.x2)/2),y:Math.round((simBB.y1+simBB.y2)/2)}),options.fit&&cy.fit(options.padding);var endTime=Date.now();return console.info("Layout on "+nodes.size()+" nodes took "+(endTime-startTime)+" ms"),layout.one("layoutready",options.ready),layout.trigger("layoutready"),layout.one("layoutstop",options.stop),void layout.trigger("layoutstop")}var pData={width:width,height:height,minDist:options.minDist,expFact:options.expandingFactor,expIt:0,maxExpIt:options.maxExpandIterations,vertices:[],edges:[],startTime:startTime,maxFruchtermanReingoldIterations:options.maxFruchtermanReingoldIterations};nodes.each((function(e,S){var P=this._private.data.id;pData.vertices.push({id:P,x:0,y:0})})),edges.each((function(){var e=this.source().id(),S=this.target().id();pData.edges.push({src:e,tgt:S})}));var t1=$$.Thread();t1.require(foograph,"foograph"),t1.require(Voronoi),t1.require(sitesDistance),t1.require(cellCentroid);var didLayoutReady=!1;t1.on("message",(function(e){var S=e.message;options.animate&&(setPositions(S),didLayoutReady||(layout.trigger("layoutready"),didLayoutReady=!0))})),layout.one("layoutready",options.ready),t1.pass(pData).run((function(pData){function checkMinDist(e){for(var S=0,P=0;P<e.length;++P){var C=e[P];null!=C.lSite&&null!=C.rSite&&sitesDistance(C.lSite,C.rSite)<lMinDist&&++S}return S}foograph=eval("foograph"),Voronoi=eval("Voronoi");for(var lWidth=pData.width,lHeight=pData.height,lMinDist=pData.minDist,lExpFact=pData.expFact,lMaxExpIt=pData.maxExpIt,lMaxFruchtermanReingoldIterations=pData.maxFruchtermanReingoldIterations,savePositions=function(){pData.width=lWidth,pData.height=lHeight,pData.expIt=expandIteration,pData.expFact=lExpFact,pData.vertices=[];for(var e=0;e<fv.length;++e)pData.vertices.push({id:fv[e].label,x:fv[e].x,y:fv[e].y})},messagePositions=function(){broadcast(pData)},frg=new foograph.Graph("FRgraph",!1),frgNodes={},dataVertices=pData.vertices,ni=0;ni<dataVertices.length;++ni){var id=dataVertices[ni].id,v=new foograph.Vertex(id,Math.round(Math.random()*lHeight),Math.round(Math.random()*lHeight));frgNodes[id]=v,frg.insertVertex(v)}for(var dataEdges=pData.edges,ei=0;ei<dataEdges.length;++ei){var srcNodeId=dataEdges[ei].src,tgtNodeId=dataEdges[ei].tgt;frg.insertEdge("",1,frgNodes[srcNodeId],frgNodes[tgtNodeId])}var fv=frg.vertices,iterations=lMaxFruchtermanReingoldIterations,frLayoutManager=new foograph.ForceDirectedVertexLayout(lWidth,lHeight,iterations,!1,lMinDist);frLayoutManager.callback=function(){savePositions(),messagePositions()},frLayoutManager.layout(frg),savePositions(),messagePositions();for(var voronoi=new Voronoi,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},vSites=[],i=0;i<fv.length;++i)vSites[fv[i].label]=fv[i];for(var diagram=voronoi.compute(fv,bbox),cells=diagram.cells,i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x,currv.y=centroid.y}0>lExpFact&&(lExpFact=Math.max(.05,Math.min(.1,lMinDist/Math.sqrt(lWidth*lHeight/fv.length)*.5)));for(var prevInfractions=checkMinDist(diagram.edges),bStop=0>=prevInfractions,voronoiIteration=0,expandIteration=0;!bStop;){++voronoiIteration;for(var it=0;4>=it;++it){voronoi.recycle(diagram),diagram=voronoi.compute(fv,bbox),cells=diagram.cells;for(var i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x,currv.y=centroid.y}}var currInfractions=checkMinDist(diagram.edges);0>=currInfractions?bStop=!0:(currInfractions>=prevInfractions||voronoiIteration>=4)&&(expandIteration>=lMaxExpIt?bStop=!0:(lWidth+=lWidth*lExpFact,lHeight+=lHeight*lExpFact,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},++expandIteration,voronoiIteration=0)),prevInfractions=currInfractions,savePositions(),messagePositions()}return savePositions(),pData})).then((function(e){var S=e.vertices;setPositions(e);var P=e.startTime,C=new Date;console.info("Layout on "+S.length+" nodes took "+(C-P)+" ms"),layout.one("layoutstop",options.stop),options.animate||layout.trigger("layoutready"),layout.trigger("layoutstop"),t1.stop()}))})),this},SpreadLayout.prototype.stop=function(){},$$("layout","spread",SpreadLayout)}(cytoscape),function(e){"use strict";function t(P){this.options=e.util.extend(!0,{},S,P)}var S={animate:!0,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,random:!1,infinite:!1,ready:void 0,stop:void 0,stiffness:400,repulsion:400,damping:.5};t.prototype.run=function(){var S=this,P=this,C=this.options;return e.util.require("Springy",(function(M){function a(e){var S=e.scratch("springy").model.id,P=W.layout.nodePoints[S].p,C=e.position(),M=null!=C.x&&null!=C.y?y(e.position()):{x:4*Math.random()-2,y:4*Math.random()-2};P.x=M.x,P.y=M.y}var B=!1,O=C.cy;S.trigger({type:"layoutstart",layout:S});var z=C.eles,L=z.nodes().not(":parent"),R=z.edges(),V=e.util.makeBoundingBox(C.boundingBox?C.boundingBox:{x1:0,y1:0,w:O.width(),h:O.height()}),A=new M.Graph;L.each((function(e,S){S.scratch("springy",{model:A.newNode({element:S})})})),R.each((function(e,S){var P=S.source().scratch("springy").model,C=S.target().scratch("springy").model;S.scratch("springy",{model:A.newEdge(P,C,{element:S})})}));var X=window.sim=new M.Layout.ForceDirected(A,C.stiffness,C.repulsion,C.damping);C.infinite&&(X.minEnergyThreshold=-1/0);var F,Y=X.getBoundingBox(),g=function(e){var S=(Y=X.getBoundingBox()).topright.subtract(Y.bottomleft),P=e.subtract(Y.bottomleft).divide(S.x).x*V.w+V.x1,C=e.subtract(Y.bottomleft).divide(S.y).y*V.h+V.x1;return new M.Vector(P,C)},y=function(e){var S=(Y=X.getBoundingBox()).topright.subtract(Y.bottomleft),P=(e.x-V.x1)/V.w*S.x+Y.bottomleft.x,C=(e.y-V.y1)/V.h*S.y+Y.bottomleft.y;return new M.Vector(P,C)},q=O.collection(),j=O.nodes().size(),$=1,W=new M.Renderer(X,(function(){P.stopped||q.length>0&&C.animate&&(B=!0,q.rtrigger("position"),C.fit&&O.fit(C.padding),q=O.collection(),B=!1)}),(function(e,S,P){}),(function(e,M){if(!P.stopped){var B=g(M),O=e.data.element;O.locked()||O.grabbed()||(O._private.position={x:B.x,y:B.y},q.merge(O)),$==j&&(S.one("layoutready",C.ready),S.trigger({type:"layoutready",layout:S})),$++}}));L.each((function(e,S){C.random||a(S)})),L.on("position",F=function(){B||a(this)});var U=L.filter(":grabbable");P.stopSystem=function(){P.stopped=!0,A.filterNodes((function(){return!1})),C.ungrabifyWhileSimulating&&U.grabify(),C.fit&&O.fit(C.padding),L.off("drag position",F),S.one("layoutstop",C.stop),S.trigger({type:"layoutstop",layout:S}),P.stopSystem=null},function o(){P.stopped=!1,C.ungrabifyWhileSimulating&&U.ungrabify(),W.start()}(),C.infinite||setTimeout((function(){P.stop()}),C.maxSimulationTime)})),this},t.prototype.stop=function(){return null!=this.stopSystem&&this.stopSystem(),this},e("layout","springy",t)}(cytoscape),function(e){"use strict";function t(e){this.options=e}t.prototype.recalculateRenderedStyle=function(){},t.prototype.notify=function(){},e("renderer","null",t)}(cytoscape);