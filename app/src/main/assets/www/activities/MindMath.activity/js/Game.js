var Game={components:{clock:Clock,"slots-component":Slots,inputNumber:InputNumber},props:["time","strokeColor","fillColor","questions","qNo","score","mode","compulsoryOps","compulsoryOpsRem","slots","inputNumbers","inputNumbersTypes","disabled","isTargetAcheived","l10n"],template:'\n    <div id="game-view" class="pulse-main">\n      <div class="game-area-panel"\n      v-bind:style="{backgroundColor: \'#ffffff\'}"\n    >\n        <div class="game-area-container">\n          <div class="details-bar">\n            <div class="detail-block"\n              v-if="mode === \'timer\'"\n              v-bind:style="{backgroundColor: strokeColor}"\n            >\n              <div class="detail-block-logo clock-logo"></div>\n              <div class="detail-block-content">\n                <clock v-bind:time="time"></clock>\n              </div>\n            </div>\n\n            <div id="target-number">{{ questions[qNo].targetNum }}</div>\n\n            <div class="detail-block"\n              v-if="mode === \'timer\'"\n              v-bind:style="{backgroundColor: strokeColor}"\n            >\n            <div class="detail-block-content">\n              <div>{{ l10n.stringScore }}:</div>\n            </div>\n              <div class="detail-block-content">\n                <div>{{ score }}</div>\n              </div>\n            </div>\n          </div>\n\n          <div class="list-numbers">\n            <inputNumber\n              v-for="(number,index) in inputNumbers"\n              v-on:click="onSelectNumber(index)"\n              class="btn-number"\n              v-bind:class="{\n                \'selected-num\': index === currentSelectedNums.numIndex1 || index === currentSelectedNums.numIndex2,\n                \'diamond\': inputNumbersTypes[index] === 0,\n                \'square\': inputNumbersTypes[index] != 0\n              }"\n              v-bind:type="inputNumbersTypes[index]"\n              v-bind:fillColor="fillColor"\n              v-bind:number="number"\n              v-bind:isSelected="index === currentSelectedNums.numIndex1 || index === currentSelectedNums.numIndex2"\n              v-bind:key="index"\n            ></inputNumber>\n          </div>\n\n          <div class="list-operators">\n            <button\n              class="btn-operator"\n              v-for="(operator,index) in operators"\n              v-bind:key="index"\n              v-bind:class="{\n                \'selected-op\': index === currentSelectedOp,\n                \'plus\': operator === \'+\',\n                \'plus-circle\': operator === \'+\' && compulsoryOps.indexOf(\'+\') !== -1,\n                \'minus\': operator === \'-\',\n                \'minus-circle\': operator === \'-\' && compulsoryOps.indexOf(\'-\') !== -1,\n                \'multiply\': operator === \'*\',\n                \'multiply-circle\': operator === \'*\' && compulsoryOps.indexOf(\'*\') !== -1,\n                \'divide\': operator === \'/\',\n                \'divide-circle\': operator === \'/\' && compulsoryOps.indexOf(\'/\') !== -1,\n               }"\n              v-on:click="onSelectOperator(index)"\n              v-bind:style="{backgroundColor: strokeColor}"\n            ></button>\n          </div>\n\n        </div>\n\n      </div>\n\n      <div class="slots-area-panel"\n        v-bind:style="{backgroundColor: \'#ffffff\'}"\n      >\n        <div class="slots-area-main">\n          <slots-component ref="slots"\n            v-bind:strokeColor="strokeColor"\n            v-bind:fillColor="fillColor"\n            v-bind:slots="slots[qNo]"\n            v-bind:compulsoryOpsForQuestion="compulsoryOps"\n            v-bind:isTargetAcheived="isTargetAcheived"\n            emptyLinesAllowed=true\n          ></slots-component>\n        </div>\n        <div class="slots-area-footer">\n          <button id="btn-restart"\n            v-if="!disabled && mode==\'timer\'"\n            class="slots-area-footer-button"\n            v-bind:style="{backgroundColor: strokeColor}"\n            v-on:click="$emit(\'restart-game\')"\n          ></button>\n          <transition name="fade" mode="out-in">\n            <button id="btn-validate"\n              class="slots-area-footer-button"\n              v-bind:style="{backgroundColor: strokeColor}"\n              v-on:click="$emit(\'validate\')"\n              v-if="isTargetAcheived"\n            ></button>\n            <button id="btn-pass"\n              class="slots-area-footer-button"\n              v-bind:style="{backgroundColor: strokeColor}"\n              v-on:click="$emit(\'pass-question\')"\n              v-else\n            ></button>\n          </transition>\n        </div>\n      </div>\n\n    </div>\n  ',data:function(){return{operators:["+","-","*","/"],currentSelectedNums:{numIndex1:null,numIndex2:null,nums:[]},currentSelectedOp:null,compulsoryOpUsed:!1}},created:function(){window.addEventListener("resize",this.resize)},unmounted:function(){window.removeEventListener("resize",this.resize)},mounted:function(){this.resize()},watch:{slots:{handler(){this.deselect()},deep:!0},qNo:function(){this.deselect()}},methods:{resize:function(){var e=document.getElementById("main-toolbar"),n=0!=e.offsetHeight?e.offsetHeight+3:3,t=window.innerHeight-n,r=window.innerWidth/t;document.querySelector("#game-view").style.height=t+"px",r<1?(document.querySelector("#game-view").style.flexDirection="column",document.querySelector(".game-area-panel").style.width="98.4%",document.querySelector(".game-area-panel").style.height="50%",document.querySelector(".slots-area-panel").style.width="98.4%",document.querySelector(".slots-area-panel").style.height="48%"):(document.querySelector("#game-view").style.flexDirection="row",document.querySelector(".game-area-panel").style.width="56.4%",document.querySelector(".game-area-panel").style.height="96%",document.querySelector(".slots-area-panel").style.width="40.4%",document.querySelector(".slots-area-panel").style.height="96%")},deselect:function(){var e=this;0!=e.currentSelectedNums.nums.length&&(e.currentSelectedOp=null,e.currentSelectedNums.numIndex1=null,e.currentSelectedNums.numIndex2=null,e.currentSelectedNums.nums=removeEntryFromArray(e.currentSelectedNums.nums,0),0!=e.currentSelectedNums.nums.length&&(e.currentSelectedNums.nums=removeEntryFromArray(e.currentSelectedNums.nums,0)))},onSelectNumber:function(e){var n=this;if(n.currentSelectedNums.numIndex1===e)return null!=n.currentSelectedNums.numIndex2?(n.currentSelectedNums.numIndex1=n.currentSelectedNums.numIndex2,n.currentSelectedNums.numIndex2=null):n.currentSelectedNums.numIndex1=null,n.currentSelectedOp=null,void(n.currentSelectedNums.nums=removeEntryFromArray(n.currentSelectedNums.nums,0));if(!(n.currentSelectedNums.nums.length>=2))if(0===n.currentSelectedNums.nums.length){var t=0;n.currentSelectedNums.nums[t]=n.inputNumbers[e],n.currentSelectedNums["numIndex"+(t+1)]=e}else{t=1;null!==n.currentSelectedOp?n.checkOperation(n.currentSelectedNums.nums[0],n.inputNumbers[e],n.operators[n.currentSelectedOp]).valid&&(n.currentSelectedNums.nums[t]=n.inputNumbers[e],n.currentSelectedNums["numIndex"+(t+1)]=e,n.computeOperation()):(n.deselect(),n.currentSelectedNums.nums[0]=n.inputNumbers[e],n.currentSelectedNums.numIndex1=e)}},onSelectOperator:function(e){var n=this;n.currentSelectedOp===e?n.currentSelectedOp=null:1===n.currentSelectedNums.nums.length&&(n.currentSelectedOp=e)},checkOperation:function(e,n,t){var r;switch(t){case"+":r=e+n;break;case"-":r=e-n;break;case"/":r=e/n;break;case"*":r=e*n}return{res:r,valid:!!t&&allowedCheck(r)}},computeOperation:function(){var e=this;if(null!=e.currentSelectedOp&&2==e.currentSelectedNums.nums.length){var n=e.currentSelectedNums.nums[0],t=e.currentSelectedNums.nums[1],r=e.checkOperation(n,t,e.operators[e.currentSelectedOp]),l=r.res;if(r.valid){var s={num1:{type:null,val:null},operator:null,num2:{type:null,val:null},res:null,useless:!1};s.num1.val=e.currentSelectedNums.nums[0],s.num1.type=e.inputNumbersTypes[e.currentSelectedNums.numIndex1],s.operator=e.operators[e.currentSelectedOp],s.num2.val=e.currentSelectedNums.nums[1],s.num2.type=e.inputNumbersTypes[e.currentSelectedNums.numIndex2],s.res=l;var u={type:"add",data:{slot:s,skipIndex1:e.currentSelectedNums.numIndex1,skipIndex2:e.currentSelectedNums.numIndex2}};e.$emit("slots-update",u)}e.deselect()}}}};