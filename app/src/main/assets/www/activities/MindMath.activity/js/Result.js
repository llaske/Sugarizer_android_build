var Result={components:{"slots-component":Slots,clock:Clock,inputNumber:InputNumber},props:["strokeColor","fillColor","questions","qNo","time","score","slots","scores","timeTaken","compulsoryOpsForEachQuestion","playersAll","disabled","l10n","sugarPresence"],template:'\n    <div id="result-view"\n    >\n      <div class="result-header">\n        <div class="result-bar"\n        >\n          <div class="result-bar-block"\n            v-bind:style="{backgroundColor: fillColor}"\n          ><clock v-bind:time="totalTime" v-bind:text="l10n.stringTotalTime+\' \'"></clock>\n          </div>\n\n          <div class="result-bar-block"\n            v-bind:style="{backgroundColor: fillColor}"\n          > {{ l10n.stringTotalScore }} {{ score }}</div>\n\n        </div>\n      </div>\n\n      <div class="result-main"\n        v-bind:style="{backgroundColor: strokeColor}"\n      >\n          <template v-for="(panel, index) in questionSet" v-bind:key="index">\n            <div class="result-panel"\n              v-bind:style="{backgroundColor: \'#ffffff\'}"\n            >\n\n              <div class="result-panel-main">\n                <div class="my-solution">\n                  <div class="info-bar">\n                    <div class="info-block clock-info-block"\n                    >\n                      <div class="info-block-logo clock-logo"></div>\n                      <div class="info-block-content">\n                        <clock v-bind:time="timeForEachQuestion[index]"></clock>\n                      </div>\n                    </div>\n\n                    <div\n                      class="info-bar-logo info-user-logo"\n                      v-bind:style="{backgroundImage: \'url(\'+ generateXOLogoWithColor(strokeColor, fillColor)+\')\'}"\n                    ></div>\n\n                    <div class="info-block score-info-block"\n                    >\n                      <div class="info-block-content info-score-1">\n                        <div>{{ l10n.stringScore }}:</div>\n                      </div>\n                      <div class="info-block-content info-score-2">\n                        <div>{{ scores[index] }}</div>\n                      </div>\n                    </div>\n\n                  </div>\n                  <div class="solution-main">\n                    <slots-component\n                      v-if="mySlots[index].length!=0"\n                      v-bind:strokeColor="strokeColor"\n                      v-bind:fillColor="fillColor"\n                      v-bind:slots="mySlots[index]"\n                      v-bind:compulsoryOpsForQuestion="compulsoryOpsForEachQuestion[index]"\n                      v-bind:isTargetAcheived="panel.targetNum === mySlots[index][mySlots[index].length-1].res"\n                    ></slots-component>\n                  </div>\n                </div>\n\n                <div class="best-solution">\n                  <div class="info-bar">\n                    <div class="info-bar-logo bestSoln-logo"></div>\n                  </div>\n\n                  <div class="solution-main">\n                    <slots-component\n                    v-bind:strokeColor="strokeColor"\n                    v-bind:fillColor="fillColor"\n                    v-bind:slots="bestSlots[index]"\n                    v-bind:compulsoryOpsForQuestion="compulsoryOpsForEachQuestion[index]"\n                    isTargetAcheived="true"\n                    ></slots-component>\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n          </template>\n      </div>\n\n      <div class="result-footer">\n          <div class="pagination">\n            <button\n              v-if="qNo > 1"\n              v-bind:disabled="isPreviousButtonDisabled"\n              class="btn-general-block btn-previous-page"\n              v-bind:style="{backgroundColor: fillColor}"\n              v-on:click="pageChangeHandler(\'previous\')"\n            >\n            </button>\n            <button\n              v-if="qNo > 1"\n              class="btn-general-block page-no"\n              v-bind:style="{backgroundColor: fillColor}"\n            >\n              {{ currentPage }}/{{ pageCount }}\n            </button>\n            <button\n              v-if="qNo > 1"\n              v-bind:disabled="isNextButtonDisabled"\n              class="btn-general-block btn-next-page"\n              v-bind:style="{backgroundColor: fillColor}"\n              v-on:click="pageChangeHandler(\'next\')"\n            >\n            </button>\n          </div>\n          <div class="footer-actions">\n            <button\n              v-if="playersAll.length!=0"\n              class="btn-general-block btn-rankings-block"\n              v-bind:style="{backgroundColor: fillColor}"\n              v-on:click="$emit(\'see-leaderboard\')"\n            >\n            </button>\n            <button\n              v-if="isRestartButtonVisible"\n              v-bind:disabled="disabled"\n              class="btn-general-block btn-restart-block"\n              v-bind:style="{backgroundColor: fillColor}"\n              v-on:click="$emit(\'restart-game\')"\n            >\n            </button>\n          </div>\n      </div>\n    </div>\n  ',data:function(){return{questionSet:[],bestSlots:[],mySlots:[],totalTime:0,timeForEachQuestion:[],currentPage:1,pageCount:1,visibleItemsPerPageCount:1,canRestart:!0}},created:function(){window.addEventListener("resize",this.resize),this.initializeSlots()},unmounted:function(){window.removeEventListener("resize",this.resize)},mounted:function(){var e=this;e.totalTime=e.timeTaken.reduce((function(e,n){return e+n}),0),e.pageCount=Math.ceil((e.qNo+1)/e.visibleItemsPerPageCount),e.resize()},computed:{isPreviousButtonDisabled:function(){return 1===this.currentPage},isNextButtonDisabled:function(){return this.currentPage===this.pageCount},isRestartButtonVisible:function(){var e=this;return e.canRestart=!e.sugarPresence||(!e.sugarPresence.isShared()||e.sugarPresence.isHost),setTimeout((()=>{e.resize()}),0),e.canRestart}},methods:{resize:function(){var e=this,n=document.getElementById("main-toolbar"),t=0!=n.offsetHeight?n.offsetHeight+3:3,o=window.innerHeight-t,l=window.innerWidth/o;if(document.querySelector("#result-view").style.height=o+"px",0!=e.playersAll.length&&(document.querySelector(".btn-rankings-block").style.width=document.querySelector(".btn-rankings-block").offsetHeight+"px"),e.canRestart&&(document.querySelector(".btn-restart-block").style.width=document.querySelector(".btn-restart-block").offsetHeight+"px"),e.qNo>1&&(document.querySelector(".btn-previous-page").style.width=document.querySelector(".btn-previous-page").offsetHeight+"px",document.querySelector(".page-no").style.width=document.querySelector(".page-no").offsetHeight+"px",document.querySelector(".btn-next-page").style.width=document.querySelector(".btn-next-page").offsetHeight+"px"),l<1){if(document.querySelector(".result-panel-main"))for(var i=document.querySelectorAll(".result-panel-main"),s=0;s<i.length;s++)i[s].style.flexDirection="column",i[s].children[0].style.width="98%",i[s].children[1].style.width="98%"}else if(document.querySelector(".result-panel-main"))for(i=document.querySelectorAll(".result-panel-main"),s=0;s<i.length;s++)i[s].style.flexDirection="row",i[s].children[0].style.width="48%",i[s].children[1].style.width="48%"},initializeSlots:function(){var e=this;e.questionSet=[],e.bestSlots=[],e.mySlots=[],e.timeForEachQuestion=[];var n=(e.currentPage-1)*e.visibleItemsPerPageCount,t=e.qNo+1-n;t>e.visibleItemsPerPageCount&&(t=e.visibleItemsPerPageCount);for(var o=n;o<n+t;o++)e.questionSet.push(e.questions[o]),e.timeForEachQuestion.push(e.timeTaken[o]);for(var l=n;l<n+t;l++){var i=[],s=rpnToSlots(e.questions[l].bestSoln);for(o=0;o<s.length;o++){var r={num1:{type:null,val:null},operator:null,num2:{type:null,val:null},res:null,useless:!1};r.num1.val=s[o][0].val,r.num1.type=s[o][0].type,r.operator=s[o][1],r.num2.val=s[o][2].val,r.num2.type=s[o][2].type,r.res=s[o][3],i.push(r)}e.bestSlots.push(i),e.mySlots.push(e.slots[l])}},pageChangeHandler:function(e){switch(e){case"next":this.currentPage<this.pageCount&&(this.currentPage+=1);break;case"previous":this.currentPage>1&&(this.currentPage-=1);break;default:this.currentPage=e}this.initializeSlots()},generateXOLogoWithColor:function(e,n){var t='<?xml version="1.0" ?><!DOCTYPE svg  PUBLIC \'-//W3C//DTD SVG 1.1//EN\'  \'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\' [<!ENTITY stroke_color "#010101"><!ENTITY fill_color "#FFFFFF">]><svg enable-background="new 0 0 55 55" height="55px" version="1.1" viewBox="0 0 55 55" width="55px" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px"><g display="block" id="stock-xo_1_"><path d="M33.233,35.1l10.102,10.1c0.752,0.75,1.217,1.783,1.217,2.932   c0,2.287-1.855,4.143-4.146,4.143c-1.145,0-2.178-0.463-2.932-1.211L27.372,40.961l-10.1,10.1c-0.75,0.75-1.787,1.211-2.934,1.211   c-2.284,0-4.143-1.854-4.143-4.141c0-1.146,0.465-2.184,1.212-2.934l10.104-10.102L11.409,24.995   c-0.747-0.748-1.212-1.785-1.212-2.93c0-2.289,1.854-4.146,4.146-4.146c1.143,0,2.18,0.465,2.93,1.214l10.099,10.102l10.102-10.103   c0.754-0.749,1.787-1.214,2.934-1.214c2.289,0,4.146,1.856,4.146,4.145c0,1.146-0.467,2.18-1.217,2.932L33.233,35.1z" fill="&fill_color;" stroke="&stroke_color;" stroke-width="3.5"/><circle cx="27.371" cy="10.849" fill="&fill_color;" r="8.122" stroke="&stroke_color;" stroke-width="3.5"/></g></svg>';return t=(t=t.replace("#010101",e)).replace("#FFFFFF",n),"data:image/svg+xml;base64,"+btoa(t)}}};