var Leaderboard={props:["strokeColor","fillColor","playersAll","playersPlaying","l10n"],template:'\n    <div id="leaderboard-view">\n      <div class="leaderboard-main">\n        <div\n          class="leaderboard-main-header"\n          v-bind:style="{backgroundColor: fillColor}"\n        >\n          <div class="leaderboard-item" style="width:25%">{{ l10n.stringRank }}</div>\n          <div class="leaderboard-item" style="width:50%">{{ l10n.stringUser }}</div>\n          <div class="leaderboard-item" style="width:25%">{{ l10n.stringScore }}</div>\n        </div>\n        <div\n          class="leaderboard-main-body"\n        >\n          <div\n            class="leaderboard-panel-container"\n            v-for="(item, index) in players"\n            v-bind:key="index"\n            v-bind:style="{borderColor: item.user.colorvalue.stroke}"\n          >\n            <div class="leaderboard-item leaderboard-item-rank">{{  initP + index + 1  }}</div>\n            <div\n              class="leaderboard-item leaderboard-item-icon"\n              v-bind:style="{backgroundImage: \'url(\'+ generateXOLogoWithColor(item.user.colorvalue.stroke, item.user.colorvalue.fill)+\')\'}"\n            ></div>\n            <div class="leaderboard-item leaderboard-item-name">{{  item.user.name  }}</div>\n            <div class="leaderboard-item leaderboard-item-score"\n            v-bind:style="{backgroundImage: item.score===null ? \'url(./icons/hourglass.svg)\' : \'\'}"\n            >{{  item.score!=null ? item.score : "" }}</div>\n          </div>\n        </div>\n      </div>\n      <div class="leaderboard-footer">\n        <div class="pagination">\n          <button\n            v-if="playersAll.length > 3"\n            v-bind:disabled="isPreviousButtonDisabled"\n            class="btn-general-block btn-previous-page"\n            v-bind:style="{backgroundColor: fillColor}"\n            v-on:click="pageChangeHandler(\'previous\')"\n          >\n          </button>\n          <button\n            v-if="playersAll.length > 3"\n            class="btn-general-block page-no"\n            v-bind:style="{backgroundColor: fillColor}"\n          >\n            {{ currentPage }}/{{ pageCount }}\n          </button>\n          <button\n            v-if="playersAll.length > 3"\n            v-bind:disabled="isNextButtonDisabled"\n            class="btn-general-block btn-next-page"\n            v-bind:style="{backgroundColor: fillColor}"\n            v-on:click="pageChangeHandler(\'next\')"\n          >\n          </button>\n        </div>\n        <div class="footer-actions">\n          <button class="btn-general-block btn-back-block"\n            v-bind:style="{backgroundColor: fillColor}"\n            v-on:click="$emit(\'go-to-result\')"\n          >\n          </button>\n        </div>\n      </div>\n    </div>\n  ',data:function(){return{players:[],currentPage:1,pageCount:1,visibleItemsPerPageCount:3,initP:0}},created:function(){window.addEventListener("resize",this.resize),this.sortLeaderboard()},unmounted:function(){window.removeEventListener("resize",this.resize)},mounted:function(){var e=this;e.pageCount=Math.ceil(e.playersAll.length/e.visibleItemsPerPageCount),e.resize()},watch:{playersAll:{handler(){var e=this;e.pageCount=Math.ceil(e.playersAll.length/e.visibleItemsPerPageCount),e.sortLeaderboard(),setTimeout((()=>{e.resize()}),0)},deep:!0},playersPlaying:{handler(){this.sortLeaderboard()},deep:!0},currentPage:function(){const e=document.querySelector(".leaderboard-main-body");e&&e.scrollTo(0,0)}},computed:{isPreviousButtonDisabled:function(){return 1===this.currentPage},isNextButtonDisabled:function(){return this.currentPage===this.pageCount}},methods:{resize:function(){var e=document.getElementById("main-toolbar"),t=0!=e.offsetHeight?e.offsetHeight+3:3,n=window.innerHeight-t;document.querySelector("#leaderboard-view").style.height=n+"px",document.querySelector(".btn-back-block").style.width=document.querySelector(".btn-back-block").offsetHeight+"px",this.playersAll.length>this.visibleItemsPerPageCount&&(document.querySelector(".btn-previous-page").style.width=document.querySelector(".btn-previous-page").offsetHeight+"px",document.querySelector(".page-no").style.width=document.querySelector(".page-no").offsetHeight+"px",document.querySelector(".btn-next-page").style.width=document.querySelector(".btn-next-page").offsetHeight+"px")},sortLeaderboard:function(e){var t=this;t.players=[];for(var n=[],r=0;r<t.playersAll.length;r++)n.push(t.playersAll[r]);n.sort((function(e,t){return t.score-e.score})),t.initP=(t.currentPage-1)*t.visibleItemsPerPageCount;var l=t.playersAll.length-t.initP;l>t.visibleItemsPerPageCount&&(l=t.visibleItemsPerPageCount),t.players=n.slice(t.initP,t.initP+l)},pageChangeHandler:function(e){switch(e){case"next":this.currentPage<this.pageCount&&(this.currentPage+=1);break;case"previous":this.currentPage>1&&(this.currentPage-=1);break;default:this.currentPage=e}this.sortLeaderboard()},generateXOLogoWithColor:function(e,t){var n='<?xml version="1.0" ?><!DOCTYPE svg  PUBLIC \'-//W3C//DTD SVG 1.1//EN\'  \'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\' [<!ENTITY stroke_color "#010101"><!ENTITY fill_color "#FFFFFF">]><svg enable-background="new 0 0 55 55" height="55px" version="1.1" viewBox="0 0 55 55" width="55px" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px"><g display="block" id="stock-xo_1_"><path d="M33.233,35.1l10.102,10.1c0.752,0.75,1.217,1.783,1.217,2.932   c0,2.287-1.855,4.143-4.146,4.143c-1.145,0-2.178-0.463-2.932-1.211L27.372,40.961l-10.1,10.1c-0.75,0.75-1.787,1.211-2.934,1.211   c-2.284,0-4.143-1.854-4.143-4.141c0-1.146,0.465-2.184,1.212-2.934l10.104-10.102L11.409,24.995   c-0.747-0.748-1.212-1.785-1.212-2.93c0-2.289,1.854-4.146,4.146-4.146c1.143,0,2.18,0.465,2.93,1.214l10.099,10.102l10.102-10.103   c0.754-0.749,1.787-1.214,2.934-1.214c2.289,0,4.146,1.856,4.146,4.145c0,1.146-0.467,2.18-1.217,2.932L33.233,35.1z" fill="&fill_color;" stroke="&stroke_color;" stroke-width="3.5"/><circle cx="27.371" cy="10.849" fill="&fill_color;" r="8.122" stroke="&stroke_color;" stroke-width="3.5"/></g></svg>';return n=(n=n.replace("#010101",e)).replace("#FFFFFF",t),"data:image/svg+xml;base64,"+btoa(n)}}};