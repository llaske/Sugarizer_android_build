var Leaderboard={props:["strokeColor","fillColor","playersAll","playersPlaying","l10n"],template:'\n    <div id="leaderboard-view">\n      <div class="leaderboard-main">\n        <div\n          class="leaderboard-main-header"\n          v-bind:style="{backgroundColor: fillColor}"\n        >\n          <div class="leaderboard-item" style="width:25%">{{ l10n.stringRank }}</div>\n          <div class="leaderboard-item" style="width:50%">{{ l10n.stringUser }}</div>\n          <div class="leaderboard-item" style="width:25%">{{ l10n.stringScore }}</div>\n        </div>\n        <div\n          class="leaderboard-main-body"\n        >\n          <div\n            class="leaderboard-panel-container"\n            v-for="(item, index) in players"\n            v-bind:key="index"\n            v-bind:style="{borderColor: item.user.colorvalue.stroke}"\n          >\n            <div class="leaderboard-item leaderboard-item-rank">{{  initP + index + 1  }}</div>\n            <div\n              class="leaderboard-item leaderboard-item-icon"\n              v-bind:style="{backgroundImage: \'url(\'+ generateXOLogoWithColor(item.user.colorvalue.stroke, item.user.colorvalue.fill)+\')\'}"\n            ></div>\n            <div class="leaderboard-item leaderboard-item-name">{{  item.user.name  }}</div>\n            <div class="leaderboard-item leaderboard-item-score"\n            v-bind:style="{backgroundImage: item.score===null ? \'url(./icons/hourglass.svg)\' : \'\'}"\n            >{{  item.score!=null ? item.score : "" }}</div>\n          </div>\n        </div>\n      </div>\n      <div class="leaderboard-footer">\n        <div class="pagination">\n          <button\n            v-if="playersAll.length > 3"\n            v-bind:disabled="isPreviousButtonDisabled"\n            class="btn-general-block btn-previous-page"\n            v-bind:style="{backgroundColor: fillColor}"\n            v-on:click="pageChangeHandler(\'previous\')"\n          >\n          </button>\n          <button\n            v-if="playersAll.length > 3"\n            class="btn-general-block page-no"\n            v-bind:style="{backgroundColor: fillColor}"\n          >\n            {{ currentPage }}/{{ pageCount }}\n          </button>\n          <button\n            v-if="playersAll.length > 3"\n            v-bind:disabled="isNextButtonDisabled"\n            class="btn-general-block btn-next-page"\n            v-bind:style="{backgroundColor: fillColor}"\n            v-on:click="pageChangeHandler(\'next\')"\n          >\n          </button>\n        </div>\n        <div class="footer-actions">\n          <button class="btn-general-block btn-back-block"\n            v-bind:style="{backgroundColor: fillColor}"\n            v-on:click="$emit(\'go-to-result\')"\n          >\n          </button>\n        </div>\n      </div>\n    </div>\n  ',data:function(){return{players:[],currentPage:1,pageCount:1,visibleItemsPerPageCount:3,initP:0}},created:function(){window.addEventListener("resize",this.resize),this.sortLeaderboard()},destroyed:function(){window.removeEventListener("resize",this.resize)},mounted:function(){var e=this;e.pageCount=Math.ceil(e.playersAll.length/e.visibleItemsPerPageCount),e.resize()},watch:{playersAll:function(){var e=this;e.pageCount=Math.ceil(e.playersAll.length/e.visibleItemsPerPageCount),e.sortLeaderboard(),setTimeout((()=>{e.resize()}),0)},playersPlaying:function(){this.sortLeaderboard()},currentPage:function(){const e=document.querySelector(".leaderboard-main-body");e&&e.scrollTo(0,0)}},computed:{isPreviousButtonDisabled:function(){return 1===this.currentPage},isNextButtonDisabled:function(){return this.currentPage===this.pageCount}},methods:{resize:function(){var e=document.getElementById("main-toolbar"),n=0!=e.offsetHeight?e.offsetHeight+3:3,t=window.innerHeight-n;document.querySelector("#leaderboard-view").style.height=t+"px",document.querySelector(".btn-back-block").style.width=document.querySelector(".btn-back-block").offsetHeight+"px",this.playersAll.length>this.visibleItemsPerPageCount&&(document.querySelector(".btn-previous-page").style.width=document.querySelector(".btn-previous-page").offsetHeight+"px",document.querySelector(".page-no").style.width=document.querySelector(".page-no").offsetHeight+"px",document.querySelector(".btn-next-page").style.width=document.querySelector(".btn-next-page").offsetHeight+"px")},sortLeaderboard:function(e){var n=this;n.players=[];for(var t=[],r=0;r<n.playersAll.length;r++)t.push(n.playersAll[r]);t.sort((function(e,n){return n.score-e.score})),n.initP=(n.currentPage-1)*n.visibleItemsPerPageCount;var i=n.playersAll.length-n.initP;i>n.visibleItemsPerPageCount&&(i=n.visibleItemsPerPageCount),n.players=t.slice(n.initP,n.initP+i)},pageChangeHandler:function(e){switch(e){case"next":this.currentPage<this.pageCount&&(this.currentPage+=1);break;case"previous":this.currentPage>1&&(this.currentPage-=1);break;default:this.currentPage=e}this.sortLeaderboard()}}};