!function(){enyo=window.enyo||{options:{}},enyo.locateScript=function(s){for(var h,l,c=document.getElementsByTagName("script"),d=c.length-1,f=s.length;d>=0&&(h=c[d]);d--)if(!h.located&&(l=h.getAttribute("src")||"").slice(-f)==s)return h.located=!0,{path:l.slice(0,Math.max(0,l.lastIndexOf("/"))),node:h}},enyo.args=enyo.args||{};var s=enyo.locateScript("enyo.js");if(s){enyo.args.root=(enyo.args.root||s.path).replace("/source","");for(var h,l=0,c=s.node.attributes.length;c>l&&(h=s.node.attributes.item(l));l++)enyo.args[h.nodeName]=h.value}}(),enyo.version={enyo:"2.4.0"},function(s,h){var l,c,d,f,p,g=s.document,y=[],m="complete"===g.readyState,v=!1;h.ready=function(s,h){y.push([s,h]),m&&!v&&(setTimeout(p,0),v=!0)},l=function(s,l){s.call(l||h.global)},c=function(s){(m="interactive"===g.readyState)&&"DOMContentLoaded"!==s.type&&"readystatechange"!==s.type&&(d(s.type,c),p()),(m="complete"===g.readyState||"loaded"===g.readyState)&&(d(s.type,c),p())},f=function(s,h){var l=g.addEventListener?"addEventListener":"attachEvent",c="attachEvent"===l?"on":"";g[l](c+s,h,!1)},d=function(s,h){var l=g.addEventListener?"removeEventListener":"detachEvent",c="detachEvent"===l?"on":"";g[l](c+s,h,!1)},p=function(){if(m&&y.length)for(;y.length;)l.apply(s,y.shift());v=!1},f("DOMContentLoaded",c),f("readystatechange",c)}(window,enyo),function(s){var h=[],n=function(l){for(var c,d=0;c=h[d];d++)c[0].apply(c[1]||s.global,[l])};s.rendered=function(s,l){h.push([s,l])},s.addToRoots=function(h){s.exists(s.roots)?s.roots.push(h):s.roots=[h];var l=h.rendered;h.rendered=function(){l.apply(h,[]),n(h)},h._isRoot=!0}}(enyo),enyo=window.enyo||{options:{}},enyo.pathResolverFactory=function(){this.paths={},this.pathNames=[]},enyo.pathResolverFactory.prototype={addPath:function(s,h){return this.paths[s]=h,this.pathNames.push(s),this.pathNames.sort((function(s,h){return h.length-s.length})),h},addPaths:function(s){if(s)for(var h in s)this.addPath(h,s[h])},includeTrailingSlash:function(s){return s&&"/"!==s.slice(-1)?s+"/":s},rewrite:function(s){var h,l=this.includeTrailingSlash,c=this.paths,n=function(s,d){return h=!0,l(c[d])||""},d=s;do{h=!1;for(var f=0;this.pathNames.length>f;f++){var p=RegExp("\\$("+this.pathNames[f]+")(\\/)?","g");d=d.replace(p,n)}}while(h);return d}},enyo.path=new enyo.pathResolverFactory,enyo.loaderFactory=function(s,h){this.machine=s,this.packages=[],this.modules=[],this.sheets=[],this.designs=[],this.stack=[],this.pathResolver=h||enyo.path,this.packageName="",this.packageFolder="",this.finishCallbacks={}},enyo.loaderFactory.prototype={verbose:!1,loadScript:function(s,h,l){this.machine.script(s,h,l)},loadSheet:function(s){this.machine.sheet(s)},loadPackage:function(s){this.machine.script(s)},report:function(){},load:function(){this.more({index:0,depends:arguments||[]})},more:function(s){if(!s||!this.continueBlock(s)){var h=this.stack.pop();h?(enyo.runtimeLoading&&s.failed&&(h.failed=h.failed||[],h.failed.push.apply(h.failed,s.failed)),this.verbose&&window.console.groupEnd("* finish package ("+(h.packageName||"anon")+")"),this.packageFolder=h.folder,this.packageName="",this.more(h)):this.finish(s)}},finish:function(s){for(var h in this.packageFolder="",this.verbose&&window.console.log("-------------- fini"),this.finishCallbacks)if(this.finishCallbacks[h]){var l=this.finishCallbacks[h];this.finishCallbacks[h]=null,l(s)}},continueBlock:function(s){for(;s.index<s.depends.length;){var h=s.depends[s.index++];if(h)if("string"==typeof h){if(this.require(h,s))return!0}else this.pathResolver.addPaths(h)}},require:function(s,h){var l=this.pathResolver.rewrite(s),c=this.getPathPrefix(s);if(".css"==(l=c+l).slice(-4).toLowerCase()||".less"==l.slice(-5).toLowerCase())this.verbose&&window.console.log("+ stylesheet: ["+c+"]["+s+"]"),this.requireStylesheet(l);else{if(".js"==l.slice(-3).toLowerCase()&&"package.js"!=l.slice(-10).toLowerCase())return this.verbose&&window.console.log("+ module: ["+c+"]["+s+"]"),this.requireScript(s,l,h);if(".design"!=l.slice(-7).toLowerCase())return this.requirePackage(l,h),!0;this.verbose&&window.console.log("+ design metadata: ["+c+"]["+s+"]"),this.requireDesign(l)}},getPathPrefix:function(s){var h=s.slice(0,1);return"/"==h||"\\"==h||"$"==h||/^https?:/i.test(s)?"":this.packageFolder},requireStylesheet:function(s){this.sheets.push(s),this.loadSheet(s)},requireScript:function(s,h,l){if(this.modules.push({packageName:this.packageName,rawPath:s,path:h}),enyo.runtimeLoading){var c=this;this.loadScript(h,(function(){c.more(l)}),(function(){l.failed=l.failed||[],l.failed.push(h),c.more(l)}))}else this.loadScript(h);return enyo.runtimeLoading},requireDesign:function(s){this.designs.push({packageName:this.packageName,path:s})},decodePackagePath:function(s){var h="",l="package.js";/^\/\//.test(s)&&(s=document.location.protocol+s);var c=s.replace(/\\/g,"/").replace(/\/\//g,"/").replace(/:\//,"://").split("/");if(c.length){var d=c.pop()||c.pop()||"";d.slice(-l.length)!==l?c.push(d):l=d,l=(h=(h=c.join("/"))?h+"/":"")+l}return{folder:h,manifest:l}},aliasPackage:function(s){var h=this.decodePackagePath(s);this.manifest=h.manifest},requirePackage:function(s,h){h.folder=this.packageFolder;var l=this.decodePackagePath(s);this.manifest=l.manifest,this.packageFolder=l.folder,h.packageName=this.packageName,this.stack.push(h),this.report("loading package",this.packageName),this.verbose&&window.console.group("* start package ["+this.packageName+"]"),this.loadPackage(this.manifest)}},enyo.machine={sheet:function(s){var h,l="text/css",c="stylesheet",d=".less"==s.slice(-5);d&&(window.less?(l="text/less",c="stylesheet/less"):s=s.slice(0,s.length-4)+"css"),enyo.runtimeLoading||d?((h=document.createElement("link")).href=s,h.media="screen",h.rel=c,h.type=l,document.getElementsByTagName("head")[0].appendChild(h)):document.write('<link href="'+s+'" media="screen" rel="'+c+'" type="'+l+'" />'),d&&window.less&&(window.less.sheets.push(h),enyo.loader.finishCallbacks.lessRefresh||(enyo.loader.finishCallbacks.lessRefresh=function(){window.less.refresh(!0)}))},script:function(s,h,l){if(enyo.runtimeLoading){var c=document.createElement("script");c.src=s,c.onload=h,c.onerror=l,c.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(c)}else document.write('<script src="'+s+'"'+(h?' onload="'+h+'"':"")+(l?' onerror="'+l+'"':"")+"><\/script>")},inject:function(s){document.write('<script type="text/javascript">'+s+"<\/script>")}},enyo.loader=new enyo.loaderFactory(enyo.machine),enyo.depends=function(){var s=enyo.loader;if(!s.packageFolder){var h=enyo.locateScript("package.js");h&&h.path&&(s.aliasPackage(h.path),s.packageFolder=h.path+"/")}s.load.apply(s,arguments)},function(){function e(l){if(l&&l(),h.length){var c=h.shift(),d=c[0],f=s.isArray(d)?d:[d],p=c[1];s.loader.finishCallbacks.runtimeLoader=function(s){e((function(){p&&p(s)}))},s.loader.packageFolder="./",s.depends.apply(this,f)}else s.runtimeLoading=!1,s.loader.packageFolder=""}var s=window.enyo,h=[],l=!1;s.ready((function(){l=!0})),s.load=function(c){if(l)h.push(arguments),s.runtimeLoading||(s.runtimeLoading=!0,e());else if(s.isArray(c))for(var d=0;c.length>d;++d)s.loader.require(c[d]);else s.loader.require(c)}}(),enyo.path.addPaths({enyo:enyo.args.root,lib:"$enyo/../lib"}),enyo.logging={level:99,levels:{log:20,warn:10,error:0},shouldLog:function(s){var h=parseInt(this.levels[s],0);return this.level>=h},validateArgs:function(s){for(var h,l=0,c=s.length;(h=s[l])||c>l;l++)try{"object"==typeof h&&(s[l]=enyo.json.stringify(h))}catch(h){s[l]="Error: "+h.message}},_log:function(s,h){var l=window.console;if(void 0!==l){var c=enyo.isArray(h)?h:enyo.cloneArray(h);enyo.platform.androidFirefox&&enyo.logging.validateArgs(c),enyo.dumbConsole&&(c=[c.join(" ")]);var d=l[s];d&&d.apply?d.apply(l,c):l.log.apply?l.log.apply(l,c):l.log(c.join(" "))}},log:function(s,h){void 0!==window.console&&this.shouldLog(s)&&this._log(s,h)}},enyo.setLogLevel=function(s){var h=parseInt(s,0);isFinite(h)&&(enyo.logging.level=h)},enyo.log=function(){enyo.logging.log("log",arguments)},enyo.warn=function(){enyo.logging.log("warn",arguments)},enyo.error=function(){enyo.logging.log("error",arguments)},function(){enyo.global=this;var s=0;enyo.exists=function(s){return void 0!==s};var h=enyo.exists;enyo.lastIndexOf=function(s,h,l){if(h.lastIndexOf)return h.lastIndexOf(s,l||h.length);var c,d="string"==typeof h,f=(d?h.split(""):h).reverse(),p=f.length-1,g=h.length;return d&&(f=f.join("")),c=enyo.indexOf(s,f,g-(l||g)),d||f.reverse(),-1===c?c:p-c};var l=enyo.lastIndexOf,o=function(s){return s&&"function"==typeof s&&(s._FinalCtor||s._finishKindCreation)};enyo.getPath=function(s){if(null==s)return s;var h=this===enyo?enyo.global:this,l="."==s[0]?s.replace(/^\.+/,""):s;if(!l)return h;for(var c,d,f,p=l.split("."),g=p.pop(),y=0;(f=p[y])&&(h&&(h._isObject?h=h._getters&&(d=h._getters[f])?h[d]():h.computed&&h.get&&null!=h.computed[f]?h[f]():h[f]:("function"==typeof h&&(h=enyo.checkConstructor(h)),h=h[f])),h);++y);return y==p.length?"function"==typeof(c=h[g])&&enyo.checkConstructor(c)||c:void 0},enyo.getPath.fast=function(s){var h,l,c=this;return"function"==typeof(l=c._getters&&(h=c._getters[s])?c[h]():c.get&&c.computed&&null!=c.computed[s]?c[s]():c[s])&&enyo.checkConstructor(l)||l},enyo.setPath=function(s,h,l){var c=this===enyo?enyo.global:this,d=c;if(!s)return c;var f="."==s[0]?s.replace(/^\.+/,""):s;if(!f)return c;for(var p,g,y,m,v=f.split("."),b=v.pop(),w=0;m=v[w];++w)("enyo"!=m||enyo!==c)&&((p=c[m])?"object"==typeof p?c=p:"function"==typeof p&&(c=c._isObject&&c.computed&&null!=c.computed[m]?c.get(m):o(p)?enyo.checkConstructor(p):p):c=c[m]={});return g=c&&c._isObject&&c._getters&&(y=c._getters[b])?c[y]():c[b],c[b]=h,(c.notifyObservers&&g!==h||l)&&c.notifyObservers(b,g,h),d},enyo.setPath.fast=function(s,h){var l,c,d=this;return d.computed&&null!=d.computed[s]||(l=d._getters&&(c=d._getters[s])?d[c]():d[s],d[s]=h,l!==h&&d.notifyObservers(s,l,h)),d},enyo.uid=function(h){return(h||"")+s+++""},enyo.irand=function(s){return Math.floor(Math.random()*s)},enyo.toUpperCase=function(s){return null!=s?(""+s).toUpperCase():s},enyo.toLowerCase=function(s){return null!=s?(""+s).toLowerCase():s},enyo.cap=function(s){return s.slice(0,1).toUpperCase()+s.slice(1)},enyo.uncap=function(s){return s.slice(0,1).toLowerCase()+s.slice(1)},enyo.format=function(s){var h=0,l=arguments;return s.replace(/\%./g,(function(){return l[++h]}))};var c=Object.prototype.toString;enyo.isString=function(s){return"[object String]"===c.call(s)},enyo.isFunction=function(s){return"[object Function]"===c.call(s)},enyo.isArray=Array.isArray||function(s){return"[object Array]"===c.call(s)},enyo.isObject=Object.isObject||function(s){return null!=s&&"[object Object]"===c.call(s)},enyo.isTrue=function(s){return!("false"===s||!1===s||0===s||null==s)},enyo.find=function(s,h,l){var c,d,f=enyo.isArray(s)&&s,p=l||enyo.global,g=h,y=0;if(f&&g&&enyo.isFunction(g))for(d=enyo.clone(f),c=f.length;c>y;++y)if(g.call(p,f[y],y,d))return y;return!1},enyo.indexOf=function(s,h,l){if(h.indexOf)return h.indexOf(s,l);if(l&&(0>l&&(l=0),l>h.length))return-1;for(var c,d=l||0,f=h.length;(c=h[d])||f>d;d++)if(c==s)return d;return-1},enyo.remove=function(s,h){var l=enyo.indexOf(s,h);l>=0&&h.splice(l,1)},enyo.forEach=function(s,h,l){if(s){var c=l||this;if(enyo.isArray(s)&&s.forEach)s.forEach(h,c);else for(var d=Object(s),f=d.length>>>0,p=0;f>p;p++)p in d&&h.call(c,d[p],p,d)}},enyo.map=function(s,h,l){var c=l||this;if(enyo.isArray(s)&&s.map)return s.map(h,c);var d=[];return enyo.forEach(s,(function(s,l,f){d.push(h.call(c,s,l,f))}),c),d},enyo.merge=function(){for(var s,h=Array.prototype.concat.apply([],arguments),l=[],c=0;s=h[c];++c)~enyo.indexOf(s,l)||l.push(s);return l};var d=enyo.merge;enyo.values=function(s){if(s){var h=[];for(var l in s)s.hasOwnProperty(l)&&h.push(s[l]);return h}},enyo.union=function(){for(var s,h=Array.prototype.concat.apply([],arguments),c=[],d=[],f=0,p=h.length;p>f;++f)s=h[f],~enyo.indexOf(s,c)||(c.push(s),f===l(s,h)&&d.push(s));return d};var f=enyo.union;enyo.unique=f;var p=enyo.unique;enyo.reduce=d,enyo.only=function(s,l,c){var d,f,g={},y=0;if(!(h(s)&&s instanceof Array))return g;if(!h(l)||"object"!=typeof l)return g;for(d=(s=p(s)).length;d>y;++y)if((f=s[y])in l){if(!0===c&&!l[f])continue;g[f]=l[f]}return g},enyo.remap=function(s,h,l){var c,d,f=l?enyo.clone(h):{};for(c in s)d=s[c],c in h&&(f[d]=h.get?h.get(c):h[c]);return f},enyo.except=function(s,l){var c,d,p,y={},m=0;if(!(h(s)&&s instanceof Array))return y;if(!h(l)||"object"!=typeof l)return y;for(d=(c=f(s,g(l))).length;d>m;++m)(p=c[m])in l&&(y[p]=l[p]);return y},enyo.indexBy=function(s,l,c){var d,f,p={},g=0;if(!(h(l)&&l instanceof Array))return p;if(!h(s)||"string"!=typeof s)return p;var y=enyo.clone(l);for(c=h(c)&&"function"==typeof c?c:void 0,f=l.length;f>g;++g)d=l[g],h(d)&&h(d[s])&&(c?c(s,d,p,y):p[d[s]]=d);return p},enyo.pluck=function(s,l){var c,d=[],f=0;if(!h(s)||!h(l))return d;if(!(l instanceof Array))return d;if("string"!=typeof s)return d;for(c=l.length;c>f;++f)h(l[f])&&h(l[f][s])&&d.push(l[f][s]);return d},enyo.filter=function(s,h,l){var c=l||this;if(enyo.isArray(s)&&s.filter)return s.filter(h,c);var d=[];return enyo.forEach(s,(function(s,l,f){var p=s;h.call(c,s,l,f)&&d.push(p)}),c),d},enyo.keys=Object.keys||function(s){var h=[],l=Object.prototype.hasOwnProperty;for(var c in s)l.call(s,c)&&h.push(c);if(!{toString:null}.propertyIsEnumerable("toString"))for(var d,f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=0;d=f[p];p++)l.call(s,d)&&h.push(d);return h};var g=enyo.keys;enyo.cloneArray=function(s,h,l){for(var c=l||[],d=h||0,f=s.length;f>d;d++)c.push(s[d]);return c},enyo.toArray=enyo.cloneArray,enyo.clone=function(s){return enyo.isArray(s)?enyo.cloneArray(s):enyo.mixin({},s)};var y={};enyo.mixin=function(s,h,l){var c,d,f,p,g,m;if(enyo.isArray(s)?(c={},d=s,h&&enyo.isObject(h)&&(f=h)):(c=s||{},d=h,f=l),enyo.isObject(f)||(f={}),!0===l&&(f.ignore=!0,f.exists=!0),enyo.isArray(d))for(p=0;m=d[p];++p)enyo.mixin(c,m,f);else for(g in d)m=d[g],y[g]!==m&&(f.exists&&!m||f.ignore&&c[g]||f.filter&&enyo.isFunction(f.filter)&&!f.filter(g,m,d,c,f)||(c[g]=m));return c},enyo.bind=function(s,h){if(h||(h=s,s=null),s=s||enyo.global,enyo.isString(h)){if(!s[h])throw'enyo.bind: scope["'+h+'"] is null (scope="'+s+'")';h=s[h]}if(enyo.isFunction(h)){var l=enyo.cloneArray(arguments,2);return h.bind?h.bind.apply(h,[s].concat(l)):function(){var c=enyo.cloneArray(arguments);return h.apply(s,l.concat(c))}}throw'enyo.bind: scope["'+h+'"] is not a function (scope="'+s+'")'},enyo.bindSafely=function(s,h){if(enyo.isString(h)){if(!s[h])throw'enyo.bindSafely: scope["'+h+'"] is null (this="'+this+'")';h=s[h]}if(enyo.isFunction(h)){var l=enyo.cloneArray(arguments,2);return function(){if(!s.destroyed){var c=enyo.cloneArray(arguments);return h.apply(s,l.concat(c))}}}throw'enyo.bindSafely: scope["'+h+'"] is not a function (this="'+this+'")'},enyo.asyncMethod=function(s,h){return h?setTimeout(enyo.bind.apply(enyo,arguments),1):setTimeout(s,1)},enyo.call=function(s,h,l){var c=s||this;if(h){var d=c[h]||h;if(d&&d.apply)return d.apply(c,l||[])}},enyo.now=Date.now||function(){return(new Date).getTime()},enyo.perfNow=function(){var s=window.performance||{};return s.now=s.now||s.mozNow||s.msNow||s.oNow||s.webkitNow||enyo.now,function(){return s.now()}}(),enyo.nop=function(){},enyo.nob={},enyo.nar=[],enyo.instance=function(){},enyo.setPrototype||(enyo.setPrototype=function(s,h){s.prototype=h}),enyo.delegate=function(s){return enyo.setPrototype(enyo.instance,s),new enyo.instance},enyo.trim=function(s){return s&&s.replace?s.replace(/^\s+|\s+$/g,""):s},String.prototype.trim&&(enyo.trim=function(s){return s&&s.trim?s.trim():s}),enyo.uuid=function(){var s;return Math.random().toString(16).substr(2,8)+"-"+(s=Math.random().toString(16).substr(2,8)).substr(0,4)+"-"+s.substr(4,4)+(s=Math.random().toString(16).substr(2,8)).substr(0,4)+"-"+s.substr(4,4)+Math.random().toString(16).substr(2,8)};var m=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFE\u0590-\u05FF\uFB1D-\uFB4F]/;enyo.isRtl=function(s){return m.test(s)}}(),function(){"use strict";function e(l){enyo.mixin(this,l),s[this.name]=this,!0!==this.average||h[this.name]||(h[this.name]=[]),h[this.name]&&!1!==this.average&&(this._averaging=!0),!0===this.autoStart&&this.start()}enyo.bench=enyo.perfNow;var s={},h={};enyo.dev={enabled:!0,bench:function(s){return!0===this.enabled&&new e(s||{name:enyo.uid("bench")})},report:function(l){var c=h[l]||s[l];if(!c)return!1;if(c.report&&"function"==typeof c.report)return c.report();var d=function(s){var h=0,l=1/0,c=-1/0,d=s.length,f={total:null,average:null,number:d,min:null,max:null};return enyo.forEach(s,(function(s){h+=s,l=Math.min(s,l),c=Math.max(s,c)})),f.total=h,f.min=l,f.max=c,f.average=Math.abs(h/(d||1)),f}(c);enyo.log(enyo.format("- - - - - - - - - - - - - - - - -\nBENCHMARK REPORT (%.): %.\nTOTAL TIME (ms): %.\nAVERAGE TIME (ms): %.\nMINIMUM TIME (ms): %.\nMAXIMUM TIME (ms): %.\nNUMBER OF ENTRIES: %.\n- - - - - - - - - - - - - - - - -\n","averages",l,d.total,d.average,d.min,d.max,d.number))},clear:function(l){var c=s[l]?s:h[l]?h:null;return!!c&&(c.complete&&c.complete(),c[l]instanceof Array?c[l]=[]:delete c[l],!0)}},e.prototype={logging:!0,autoStart:!0,_started:!1,_averaging:!1,_begin:null,_end:null,_time:null,start:function(){return!0!==this._started&&(this._log("starting benchmark"),this._begin=enyo.bench(),this._started=!0,!0)},stop:function(){return!!this._started&&(this._end=enyo.bench(),this._time=this._end-this._begin,this._log("benchmark complete: "+this._time),!0===this._averaging&&h[this.name].push(this._time),this._started=!1,!0)},_log:function(s){return!!this.logging&&void enyo.log("bench ("+this.name+"): "+s)}}}(),enyo.job=function(s,h,l){enyo.job.stop(s),enyo.job._jobs[s]=setTimeout((function(){enyo.job.stop(s),h()}),l)},enyo.job.stop=function(s){enyo.job._jobs[s]&&(clearTimeout(enyo.job._jobs[s]),delete enyo.job._jobs[s])},enyo.job.throttle=function(s,h,l){enyo.job._jobs[s]||(h(),enyo.job._jobs[s]=setTimeout((function(){enyo.job.stop(s)}),l))},enyo.job._jobs={},enyo.kind=function(s){var h=s.name||"";if(enyo.options.noDefer||!h||s.noDefer)return enyo.kind.finish(s);var t=function(){var s;if(t._FinalCtor)s=t._FinalCtor;else{if(!(this instanceof t))throw"enyo.kind: constructor called directly, not using 'new'";s=t._finishKindCreation()}var h=enyo.delegate(s.prototype),l=s.apply(h,arguments);return l||h};return t._finishKindCreation=function(){t._finishKindCreation=void 0,enyo.setPath(h,void 0);var l=enyo.kind.finish(s);return t._FinalCtor=l,s=null,l},s.statics&&enyo.mixin(t,s.statics),t.extend=enyo.kind.statics.extend,t._deferred=!0,h&&!enyo.getPath(h)||enyo.kind.allowOverride?enyo.setPath(h,t):h&&enyo.error("enyo.kind: "+h+" is already in use by another kind, all kind definitions must have unique names."),t},enyo.kind.finish=function(s){enyo._kindCtors={};var h=s.name||"";delete s.name;var l="kind"in s,c=s.kind;delete s.kind;var d=enyo.constructorForKind(c),f=d&&d.prototype||null;if(l&&void 0===c||void 0===d)throw"enyo.kind: Attempt to subclass an "+(void 0===c?"undefined kind":"unknown kind ("+c+")")+". Check dependencies for ["+(h||"<unnamed>")+"].";var p=enyo.kind.makeCtor();return s.hasOwnProperty("constructor")&&(s._constructor=s.constructor,delete s.constructor),enyo.setPrototype(p,f?enyo.delegate(f):{}),enyo.concatHandler(p,s),enyo.mixin(p.prototype,s),p.prototype.kindName=h||(d&&d.prototype?d.prototype.kindName:""),p.prototype.base=d,p.prototype.ctor=p,enyo.forEach(enyo.kind.features,(function(h){h(p,s)})),h&&!enyo.getPath(h)||enyo.kind.allowOverride?enyo.setPath(h,p):h&&enyo.error("enyo.kind: "+h+" is already in use by another kind, all kind definitions must have unique names."),p},enyo.singleton=function(s,h){var l=s.name;delete s.name;var c,d=enyo.kind(s);return enyo.setPath.call(h||enyo.global,l,c=new d),c},enyo.kind.makeCtor=function(){var e=function(){if(!(this instanceof e))throw"enyo.kind: constructor called directly, not using 'new'";var s;return this._constructor&&(s=this._constructor.apply(this,arguments)),this.constructed&&this.constructed.apply(this,arguments),s||void 0};return e},enyo.kind.defaultNamespace="enyo",enyo.kind.features=[],enyo.kind.extendMethods=function(s,h,l){var c=s.prototype||s,d=c.base;for(var f in!c.inherited&&d&&(c.inherited=enyo.kind.inherited),h.hasOwnProperty("constructor")&&(h._constructor=h.constructor,delete h.constructor),h){var p=h[f];enyo.isInherited(p)&&(p=c[f]=l?p.fn(c[f]||enyo.nop):p.fn(d&&d.prototype[f]||enyo.nop)),enyo.isFunction(p)&&(l?(c[f]=p,p.displayName=f+"()"):(p._inherited=d?d.prototype[f]:null,p.displayName=c.kindName+"."+f+"()"))}},enyo.kind.features.push(enyo.kind.extendMethods),enyo.kind.inherited=function(s,h){var l=s.callee._inherited;if("function"==typeof l){var c=s;if(h){c=[];for(var d=0,f=h.length;f>d;++d)c[d]=h[d];for(f=s.length;f>d;++d)c[d]=s[d]}return l.apply(this,c)}enyo.warn("enyo.kind.inherited: unable to find requested super-method from -> "+s.callee.displayName+" in "+this.kindName)},function(s){var n=function(s){this.fn=s};s.inherit=function(s){return new n(s)},s.isInherited=function(s){return s&&s instanceof n}}(enyo),enyo.kind.features.push((function(s,h){s.subclass||(s.subclass=enyo.kind.statics.subclass),s.extend||(s.extend=enyo.kind.statics.extend),h.statics&&(enyo.mixin(s,h.statics),delete s.prototype.statics),h.protectedStatics&&(enyo.mixin(s,h.protectedStatics),delete s.prototype.protectedStatics);for(var l=s.prototype.base;l;)l.subclass(s,h),l=l.prototype.base})),enyo.kind.statics={subclass:function(){},extend:function(s,h){var l,c,d=this,f=enyo.isArray(s)?s:[s];c=function(s,h){return!(enyo.isFunction(h)||enyo.isInherited(h))},!h&&d._deferred&&(d=enyo.checkConstructor(d)),l=h||d.prototype;for(var p,g=0;p=f[g];++g)enyo.concatHandler(l,p),enyo.kind.extendMethods(l,p,!0),enyo.mixin(l,p,{filter:c});return h||d}},enyo.concatHandler=function(s,h){for(var l=s.prototype||s,c=l.ctor,d=l===s;c;)c.concat&&c.concat(s,h,d),c=c.prototype.base},enyo.checkConstructor=function(s){if(enyo.isFunction(s)){if(s._FinalCtor)return s._FinalCtor;if(s._finishKindCreation)return s._finishKindCreation()}return s},enyo._kindCtors={},enyo.constructorForKind=function(s){if(null===s)return s;if(void 0===s)return enyo.defaultCtor;if(enyo.isFunction(s))return enyo.checkConstructor(s);var h=enyo._kindCtors[s];if(h)return h;if((h=enyo.Theme[s]||enyo[s]||enyo.getPath("enyo."+s)||window[s]||enyo.getPath(s))&&h._finishKindCreation&&(h=h._finishKindCreation()),!enyo.isFunction(h))throw"["+s+"] is not the name of a valid kind.";return enyo._kindCtors[s]=h,h},enyo.Theme={},enyo.registerTheme=function(s){enyo.mixin(enyo.Theme,s)},function(s){var h={},l=/(string|number|boolean)/;s.BindingCount=0,s.kind({name:"enyo.Binding",kind:null,noDefer:!0,from:"",to:"",source:null,allowUndefined:!0,target:null,transform:"",connected:!1,id:"",oneWay:!0,autoConnect:!0,autoSync:!0,owner:null,destroyed:!1,statics:{find:function(s){return h[s]}},sourceObserver:null,targetObserver:null,sourceConnected:!1,targetConnected:!1,sourceRegistered:!1,targetRegistered:!1,registeredSource:null,registeredTarget:null,sourcePath:"",targetPath:"",sourceProp:"",targetProp:"",building:!0,originals:null,constructor:function(l){l&&s.mixin(this,l),this.id=s.uid("binding"),h[this.id]=this,this.originals=this.originals||{},this.originals.from=this.from,this.originals.to=this.to,this.originals.source=this.source,this.originals.target=this.target,this.initTransform(),this.refresh(),s.BindingCount++},isConnected:function(){return this.connected=this.sourceConnected&&this.targetConnected,this.connected},registered:function(s,h){"source"==s?(this.sourceRegistered=!0,this.registeredSource=h):"target"==s&&(this.targetRegistered=!0,this.registeredTarget=h),this.autoSync&&this.isRegistered()&&!this.synchronizing&&this.sync()},isRegistered:function(){return!(!this.sourceRegistered||!this.targetRegistered)},syncFromSource:function(){if(!this.synchronizing){if(this.synchronizing=!0,this.isConnected()&&this.isRegistered()){var s=this.getSourceValue(),h=this.transform;h&&"function"==typeof h&&(s=h.call(this.owner||this,s,"source",this)),(this.allowUndefined||void 0!==s)&&this.setTargetValue(s)}this.synchronizing=!1}},syncFromTarget:function(){if(!this.oneWay&&!this.synchronizing){if(this.synchronizing=!0,this.isConnected()&&this.isRegistered()){var s=this.getTargetValue(),h=this.transform;h&&"function"==typeof h&&(s=h.call(this.owner||this,s,"target",this)),(this.allowUndefined||void 0!==s)&&this.setSourceValue(s)}this.synchronizing=!1}},resolve:function(){var h,l,c=this.source,d=this.target,f=this.from,p=this.to;if(f&&p){if(this.building){if("."!=f[0]&&"^"!=f[0])throw"enyo.Binding: from path must begin with `.` or `^`";if("."!=p[0]&&"^"!=p[0])throw"enyo.Binding: to path must beging with `.` or `^`";if("string"==typeof c){if("."!=c[0]&&"^"!=c[0])throw"enyo.Binding: if source is a string it must begin with `.` or `^`";f=("."==c?"":c)+f,c=null}if("string"==typeof d){if("."!=d[0]&&"^"!=d[0])throw"enyo.Binding: if target is a string it must begin with `.` or `^`";p=("."==d?"":d)+p,d=null}c||(this.source=c="."==f[0]?this.owner:s.global),d||(this.target=d="."==p[0]?this.owner:s.global),l=f.slice(1).split("."),h=p.slice(1).split(".");var g=s.lastIndexOf(".",f),y=s.lastIndexOf(".",p);this.sourcePath=("^"==f[0]?l.slice(0,-1):l).join("."),this.targetPath=("^"==p[0]?h.slice(0,-1):h).join("."),this.sourceProp=g>-1&&"$"==f[g-1]?l.slice(-2).join("."):l.pop(),this.targetProp=y>-1&&"$"==f[y-1]?h.slice(-2).join("."):h.pop(),this.building=!1}return c===s.global&&(this.source=s.getPath(this.sourcePath),this.sourceGlobal=!0),d===s.global&&(h=this.targetPath.split("."),this.targetGlobalPath=h.slice(0,-1).join("."),this.targetPath=h.pop(),this.target=s.getPath(this.targetGlobalPath),this.targetGlobal=!0),this}},connectSource:function(){var h=this.source,l=this.sourceGlobal?this.sourceProp:this.sourcePath,c=this.sourceObserver,d=this.sourceObserverId||(this.sourceObserverId=s.uid("__bindingObserver__"));h===s.global&&(h=this.resolve().source),h&&h.addObserver&&!this.sourceConnected?(c||((c=this.sourceObserver=s.bindSafely(this,this.syncFromSource)).binding=this,c.bindingProp="source"),this.sourceConnected=!0,this.sourceObserver=h.addObserver(l,c,null,d)):this.sourceConnected=!1},connectTarget:function(){var h=this.target,l=this.targetGlobal?this.targetProp:this.targetPath,c=this.targetObserver,d=this.targetObserverId||(this.targetObserverId=s.uid("__bindingObserver__"));h===s.global&&(h=this.resolve().target),h&&h.addObserver&&!this.targetConnected?(!c&&l&&((c=this.targetObserver=s.bindSafely(this,this.syncFromTarget)).binding=this,c.bindingProp="target"),this.targetConnected=!0,l?this.targetObserver=h.addObserver(l,c,null,d):this.registered("target",this.target)):this.targetConnected=!1},disconnectSource:function(){if(this.source&&this.sourceConnected){var h=this.source,l=this.sourceObserver,c=this.sourceObserverId,d=s._observerMap[h.objectObserverId],f=d&&d[c];f&&h&&h.addObserver&&this.sourceConnected&&l&&h.removeObserver(f.observerProp,l)}this.sourceObserver=null,this.sourceConnected=!1},disconnectTarget:function(){if(this.target&&this.targetConnected){var h=this.target,l=this.targetObserver,c=this.targetObserverId,d=s._observerMap[h.objectObserverId],f=d&&d[c];f&&h&&h.addObserver&&this.targetConnected&&l&&h.removeObserver(f.observerProp,l)}this.targetObserver=null,this.targetConnected=!1},getSourceValue:function(){var s=this.registeredSource;return s?s.get(this.sourceProp):void 0},getTargetValue:function(){var s=this.registeredTarget;return s?s.get(this.targetProp):void 0},setSourceValue:function(s){var h=this.registeredSource;if(h){if(h.destroyed)return void this.destroy();this.stop?this.stop=!1:h.set(this.sourceProp,s,!l.test(typeof s))}},setTargetValue:function(s){var h=this.registeredTarget;if(h){if(h.destroyed)return void this.destroy();this.stop?this.stop=!1:h.set(this.targetProp,s,!l.test(typeof s))}},connect:function(){var s=this.isConnected();return s||(this.connecting=!0,this.sourceConnected||this.connectSource(),this.targetConnected||this.connectTarget(),this.connecting=!1,this.isConnected()),this.connected&&!s&&this.autoSync&&this.sync(),this},sync:function(){return this.connecting||this.syncFromSource(),this},disconnect:function(){return this.disconnectSource(),this.disconnectTarget(),this.isConnected(),this},refresh:function(){return this.stop=!1,this.resolve(),this.autoConnect&&this.connect(),this},reset:function(){return this.disconnect(),s.mixin(this,this.originals),this.building=!0,this.stop=!1,this.sourceRegistered=!1,this.targetRegistered=!1,this.registeredSource=null,this.registeredTarget=null,this},stop:function(){this.stop=!0},rebuild:function(){return this.reset().refresh()},destroy:function(){this.disconnect(),this.destroyed=!0,this.source=null,this.target=null,this.registeredSource=null,this.registeredTarget=null,this.sourceObserver=null,this.targetObserver=null,this.transform=null,this.originals=null,this.owner&&(this.owner.removeBinding(this),this.owner=null),delete h[this.id],s.BindingCount--},initTransform:function(){var h=this.transform,l=this.owner,c=l?l.bindingTransformOwner:null;h&&s.isString(h)&&((c||l)&&(!(h=s.getPath.call(c||l,this.transform))&&c&&l&&(h=s.getPath.call(l,this.transform))),h||(h=s.getPath(this.transform))),this.transform=s.isFunction(h)?h:null}}),s.defaultBindingKind=s.Binding}(enyo),function(s){var t=function(h,l){var c,d=h._appliedMixins,f=l;if(!s.isString(f)||(f=s.getPath(f))){if(f.name){if(~s.indexOf(f.name,d))return void s.warn("attempt to add the same mixin more than once, "+f.name+" onto -> "+h.kindName);d.push(f.name),c=f.name,delete f.name}else c=null;var p=s.clone(f);f.hasOwnProperty("constructor")&&(p._constructor=f.constructor,delete p.constructor),s.kind.statics.extend(p,h),c&&(f.name=c)}else s.warn("could not find the requested mixin "+l)},n=function(h,l){if(l.mixins){var c=h.prototype||h,d=l.mixins;c._appliedMixins=c._appliedMixins?s.cloneArray(c._appliedMixins):[],delete l.mixins;for(var f,p=0;f=d[p];++p)t(c,f)}};s.kind.features.push(n);var h=s.concatHandler;s.concatHandler=function(s,l){if(l.mixins){var c=s.prototype||s;c.mixins=c.mixins?c.mixins.concat(l.mixins):l.mixins.slice()}h.apply(this,arguments)},s.kind.extendMethods(s.kind.statics,{extend:s.inherit((function(h){return function(l,c){var d=c||this.prototype;return l.mixins&&(d.mixins=s.merge(d.mixins,l.mixins),n(d,l)),h.apply(this,arguments)}}))},!0),s.MixinSupport={name:"MixinSupport",extend:function(s){t(this,s)},importProps:s.inherit((function(s){return function(h){h&&n(this,h),s.apply(this,arguments)}}))}}(enyo),function(s){var t=function(h){return h.hasOwnProperty("observerMap")||(h.observerMap=s.clone(h.observerMap)),h.observerMap},h=s._observerMap={};s.ObserverSupport={name:"ObserverSupport",addObserver:function(l,c,d){var f,p,g=("."==l[0]?l.slice(1):l).split("."),y=g.shift(),m=c,v=arguments[4],b=arguments[3]||c.observerId||s.uid("__observer__"),w=t(this),C=this.objectObserverId||(this.objectObserverId=s.uid("__objectObserverId__")),S=h[C]||(h[C]={}),x=S[b]||(S[b]={});return v&&v.chain&&(x.chain=v.chain),"$"==y&&(y=y+"."+g.shift()),g.length&&(x.chain=x.chain||[],l=g.join("."),c=s.bindSafely(this,"updateObserver",l,m,d,b,x),p=this.get(y)),(f=w[y])?("string"==typeof f&&(f=w[y]=s.trim(f).split(" ")),f.push(b)):w[y]=[b],(c=this[b]=d?s.bindSafely(d,c):c).observer=!0,x.observerId=b,x.observerProp=y,x.observerOwner=this,x.objectObserverId=C,x.observer=c,x.chain&&x.chain.push(x),p&&p.addObserver&&p.addObserver(l,m,d,b,x),c},updateObserver:function(s,h,l,c,d,f,p){this.removeChainedObservers(c),p&&p!==f&&p.addObserver(s,h,l,c,d)},removeChainedObservers:function(l){for(var c,d=h[this.objectObserverId][l],f=s.find(d.chain,(function(s){return s===d})),p=d.chain.splice(f+1,d.chain.length),g=0;c=p[g];++g)c.chain=null,c.observerOwner.removeObserver(c.observerProp,c.observer),h[c.objectObserverId][c.observerId]=void 0},removeObserver:function(l,c){var d,f,p=t(this),g=h[this.objectObserverId];if(f=p[l]){"string"==typeof f&&(f=p[l]=s.trim(f).split(" "));for(var y,m,v=0;y=f[v];++v)((m=this[y])&&c&&m===c||!c)&&(f.splice(v,1),(d=g&&g[y])&&d.chain&&this.removeChainedObservers(y),m.observer&&(g[y]=void 0,delete this[y]));0!==f.length&&c||delete p[l]}},removeAllObservers:function(){var s=t(this);for(var h in s)this.removeObserver(h);return this},notifyObservers:function(h,l,c){var d=t(this);if(d){var f=d[h];if(!this.observerNotificationsEnabled)return this._addObserverToQueue(h,[l,c,h]),this;if("string"==typeof f&&(f=d[h]=s.trim(f).split(" ")),d["*"]&&("string"==typeof d["*"]&&(d["*"]=s.trim(d["*"]).split(" ")),f=f?f.concat(d["*"]):d["*"]),f&&f.length){f=f.slice();for(var p,g,y=0;p=f[y];++y)(g=this[p])&&g.call(this,l,this.get(h),h)}}return this},stopNotifications:function(s){return this.observerNotificationsEnabled=!1,this.observerStopCount+=1,s&&this.disableNotificationQueue(),this},startNotifications:function(s){return 0!==this.observerStopCount&&(this.observerStopCount-=1),0===this.observerStopCount&&(this.observerNotificationsEnabled=!0,this._flushObserverQueue()),s&&this.enableNotificationQueue(),this},enableNotificationQueue:function(){return this.observerNotificationQueueEnabled=!0,this},disableNotificationQueue:function(){return this.observerNotificationQueueEnabled=!1,this.observerNotificationQueue={},this},_addObserverToQueue:function(s,h){this.observerNotificationQueueEnabled&&(h||(h=[]),(this.observerNotificationQueue||(this.observerNotificationQueue={}))[s]=h)},_flushObserverQueue:function(){if(0===this.observerStopCount&&this.observerNotificationQueueEnabled){if(!this.observerNotificationQueue)return;var s,h,l=this.observerNotificationQueue;for(s in this.observerNotificationQueue={},l)(h=l[s]).unshift(s),this.notifyObservers.apply(this,h)}},observerStopCount:0,observerNotificationsEnabled:!0,observerNotificationQueueEnabled:!0};var r=function(s,h,l,c){var d=c.observers||(c.observers={});(d[h]=d[h]||[]).push(s)},l=s.concatHandler;s.concatHandler=function(h,c){l.apply(this,arguments);var d=h.prototype||h;for(var f in c)"Changed"==f.slice(-7)&&r(f.slice(0,-7),f,d,c);if(c.observers){for(var p in d.observers?(d.observers=s.clone(d.observers),d.observerMap=s.clone(d.observerMap)):(d.observers={},d.observerMap={}),c.observers){d.observers[p]=d.observers[p]||"";for(var g,y="string"==typeof c.observers[p]?s.trim(c.observers[p]).split(" "):c.observers[p],m=0;g=y[m];++m)~d.observers[p].indexOf(g)||(d.observers[p]+=" "+g,d.observerMap[g]=s.trim((d.observerMap[g]||"")+" "+p).replace(/\s+/g," "));d.observers[p]=s.trim(d.observers[p]).replace(/\s+/g," ")}delete c.observers}}}(enyo),function(s){var t=function(h,l){return h.hasOwnProperty(l)||(h[l]=h[l]?s.clone(h[l]):{}),h[l]};s.ComputedSupport={name:"ComputedSupport",get:s.inherit((function(s){return function(h){return this._isComputed(h)?this._getComputed(h):s.apply(this,arguments)}})),set:s.inherit((function(s){return function(h){return this._isComputed(h)?this:s.apply(this,arguments)}})),notifyObservers:s.inherit((function(h){return function(l){var c,d=t(this,"computedMap");if(d&&(c=d[l])){"string"==typeof c&&(c=d[l]=s.trim(c).split(" "));for(var f,p=0;f=c[p];++p)this._markComputed(f);h.apply(this,arguments),this._flushComputedQueue()}else h.apply(this,arguments)}})),_getComputed:function(s){var h,l=t(this,"computedCached"),c=t(this,"computedConfig"),d=c?t(c,s):null;if(h=l[s])return"object"!=typeof h&&(h=l[s]={},d&&d.hasOwnProperty("defaultValue")?(h.dirty=!1,h.value=d.defaultValue):h.dirty=!0),h.dirty&&(h.value=this[s](),h.dirty=!1),h.value;if(d&&d.hasOwnProperty("defaultValue")){var f=d.defaultValue;return delete d.defaultValue,f}return this[s]()},_markComputed:function(s){var h,l=t(this,"computedCached"),c=this.computedQueue||(this.computedQueue={}),d=null;(h=l[s])&&("object"!=typeof h&&(h=l[s]={}),d=h.value,h.dirty=!0),c[s]=d},_isComputed:function(s){var h=t(this,"computed");return h&&void 0!==h[s]&&null!==h[s]},_flushComputedQueue:function(){if(this.computedQueue&&this.observerNotificationsEnabled){var s=this.computedQueue;for(var h in this.computedQueue={},s)this.notifyObservers(h,s[h],this._getComputed(h))}}};var h=s.concatHandler;s.concatHandler=function(l,c){if(h.apply(this,arguments),c.computed){var d=l.prototype||l;for(var f in d.computed?(d.computed=s.clone(d.computed),d.computedCached=s.clone(d.computedCached),d.computedMap=s.clone(d.computedMap),d.computedConfig=s.clone(d.computedConfig)):(d.computed={},d.computedCached={},d.computedMap={},d.computedConfig={}),c.computed){d.computed[f]=d.computed[f]||"";for(var p,g="string"==typeof c.computed[f]?s.trim(c.computed[f]).split(" "):c.computed[f],y=0;p=g[y];++y)"object"==typeof p?(!0===p.cached&&(d.computedCached[f]=!0),d.computedConfig[f]=d.computedConfig[f]?s.mixin(s.clone(d.computedConfig[f]),p):p):~d.computed[f].indexOf(p)||(d.computed[f]+=" "+p,d.computedMap[p]=s.trim((d.computedMap[p]||"")+" "+f).replace(/\s+/g," "));d.computed[f]=s.trim(d.computed[f]).replace(/\s+/g," ")}delete c.computed}}}(enyo),enyo.BindingSupport={name:"BindingSupport",binding:function(){var s,h=enyo.toArray(arguments),l=enyo.mixin(h),c=this.bindings||(this.bindings=[]);return l.owner=l.owner||this,l.kind=l.kind||this.defaultBindingKind||enyo.defaultBindingKind,!1===this.bindingSupportInitialized?c.push(l):(enyo.isFunction(l.kind)||(l.kind=enyo.getPath(l.kind)),c.push(s=new l.kind(l))),s},clearBindings:function(s){var h=s||this.bindings;if(h)for(var l,c=0;l=h[c];++c)l.destroy()},refreshBindings:function(s){var h=s||this.bindings;if(h)for(var l,c=0;l=h[c];++c)l.refresh()},rebuildBindings:function(s){var h=s||this.bindings;if(h)for(var l,c=0;l=h[c];++c)l.rebuild()},removeBinding:function(s){var h=this.bindings;if(s&&h&&h.length){var l=enyo.indexOf(s,h);l>-1&&h.splice(l,1)}},initBindings:function(){var s,h;if(!1===this.bindingSupportInitialized){this.bindingSupportInitialized=void 0;var l=this.bindings;if(!l)return;for(this.bindings=[],s=0;h=l[s];++s)this.binding(h)}},constructed:enyo.inherit((function(s){return function(){this.bindings?this.initBindings():this.bindingSupportInitialized=void 0,s.apply(this,arguments)}})),destroy:enyo.inherit((function(s){return function(){var h=this.bindings;if(h)for(var l,c=h.length-1;l=h[c];--c)l.destroy();s.apply(this,arguments)}})),addObserver:enyo.inherit((function(s){return function(h,l){var c,d=s.apply(this,arguments),f=this;return l.binding&&((-1===(c=enyo.lastIndexOf(".",h))||1===c&&"$"==h[0]&&("source"==l.bindingProp||(f=this.get(h))))&&l.binding.registered(l.bindingProp,f),d.binding=l.binding),d}})),bindingSupportInitialized:!1,bindingSyncAllowed:!0},function(s){var h=s.concatHandler;s.concatHandler=function(l,c){if(h.apply(this,arguments),c.bindings){for(var d,f=l.prototype||l,p=c.defaultBindingKind||s.defaultBindingKind,g=c.bindingDefaults,y=0;d=c.bindings[y];++y)g&&s.mixin(d,g,{ignore:!0}),d.kind=d.kind||p;f.bindings=f.bindings?f.bindings.concat(c.bindings):c.bindings,delete c.bindings}}}(enyo),enyo.ComponentBindingSupport={name:"ComponentBindingSupport",adjustComponentProps:enyo.inherit((function(s){return function(h){s.apply(this,arguments),h.bindingTransformOwner=h.bindingTransformOwner||this.getInstanceOwner()}}))},enyo.ApplicationSupport={name:"ApplicationSupport",adjustComponentProps:enyo.inherit((function(s){return function(h){h.app=h.app||this.app||this instanceof enyo.Application&&this,s.apply(this,arguments)}})),destroy:enyo.inherit((function(s){return function(){this.app=null,s.apply(this,arguments)}}))},enyo.MultipleDispatchSupport={name:"MultipleDispatchSupport",addDispatchTarget:function(s){var h=this._dispatchTargets;s&&!~enyo.indexOf(s,h)&&h.push(s)},removeDispatchTarget:function(s){var h,l=this._dispatchTargets;(h=enyo.indexOf(s,l))>-1&&l.splice(h,1)},bubbleUp:enyo.inherit((function(s){return function(h,l,c){this._dispatchDefaultPath&&s.apply(this,arguments);for(var d,f=this._dispatchTargets,p=0;d=f[p];++p)d&&!d.destroyed&&d.dispatchBubble(h,l,c)}})),ownerChanged:enyo.inherit((function(s){return function(){s.apply(this,arguments);var h=this.owner;this._dispatchDefaultPath=!!h}})),constructor:enyo.inherit((function(s){return function(){return this._dispatchTargets=[],s.apply(this,arguments)}})),destroy:enyo.inherit((function(s){return function(){this._dispatchTargets=null,s.apply(this,arguments)}})),_dispatchDefaultPath:!1},function(s){var h={};s.RegisteredEventSupport={name:"RegisteredEventSupport",silence:function(){this._silenced=!0,this._silenceCount+=1},unsilence:function(){0!==this._silenceCount&&--this._silenceCount,0===this._silenceCount&&(this._silenced=!1)},isSilenced:function(){return this._silenced},addListener:function(l,c,d){var f=this.eventId||(this.eventId=s.uid("__eventId__")),p=h[f]||(h[f]={}),g=p[l]||(p[l]=[]);if("function"!=typeof(c=c&&d?s.bindSafely(d,c):c))throw"enyo.RegisteredEventSupport.addListener: must supply a valid function or if a string must supply a context";return g.length&&~s.indexOf(c,g)||g.push(c),c},removeListener:function(h,l){var c=this.listeners(h);if(c.length){var d=s.indexOf(l,c);~d&&c.splice(d,1)}return this},removeAllListeners:function(s){var l,c=this.eventId;return h[c]&&(s?(l=this.listeners(s)).splice(0,l.length):h[c]={}),this},triggerEvent:function(s,h){if(!this.isSilenced()){var l=this.listeners(s);if(l.length){l=l.slice();for(var c=0;l.length>c;++c)(0,l[c])(this,s,h)}}return this},listeners:function(s){var l=this.eventId,c=h[l];return c&&c[s]||[]},_silenced:!1,_silenceCount:0}}(enyo),enyo.kind({name:"enyo.Object",kind:null,noDefer:!0,mixins:[enyo.MixinSupport,enyo.ObserverSupport,enyo.ComputedSupport,enyo.BindingSupport],constructor:function(s){enyo._objectCount++,this.importProps(s)},importProps:function(s){var h;if(s)if(enyo.concatHandler(this,s),s.kindName)for(h in s)s.hasOwnProperty(h)&&(this[h]=s[h]);else for(h in s)this[h]=s[h]},destroyObject:function(s){this[s]&&this[s].destroy&&this[s].destroy(),this[s]=null},log:function(){var s=arguments.callee.caller,h=((s?s.displayName:"")||"(instance method)")+":";enyo.logging.log("log",[h].concat(enyo.cloneArray(arguments)))},warn:function(){this._log("warn",arguments)},error:function(){this._log("error",arguments)},_log:function(s,h){if(enyo.logging.shouldLog(s))try{throw Error()}catch(l){enyo.logging._log(s,[h.callee.caller.displayName+": "].concat(enyo.cloneArray(h))),enyo.log(l.stack)}},get:function(){return enyo.getPath.apply(this,arguments)},set:function(){return enyo.setPath.apply(this,arguments)},bindSafely:function(){var s=Array.prototype.concat.apply([this],arguments);return enyo.bindSafely.apply(enyo,s)},destroy:function(){this.set("destroyed",!0)},_isObject:!0}),enyo._objectCount=0,enyo.Object.concat=function(s,h){var l=h.published;if(l){var c=s.prototype||s;for(var d in l)h[d]&&enyo.isFunction(h[d])||enyo.Object.addGetterSetter(d,l[d],c)}},enyo.Object.addGetterSetter=function(s,h,l){var c,d=enyo.cap(s),f=enyo.getPath.fast,p=enyo.setPath.fast,g="set"+d,y="get"+d,m=l._getters||(l._getters={}),v=l._setters||(l._setters={});l[s]=h,(c=l[y])&&enyo.isFunction(c)?c&&"function"==typeof c&&!c.generated&&(m[s]=y):(c=l[y]=function(){return f.call(this,s)}).generated=!0,(c=l[g])&&enyo.isFunction(c)?c&&"function"==typeof c&&!c.generated&&(v[s]=g):(c=l[g]=function(h){return p.call(this,s,h)},c.generated=!0)},enyo.kind({name:"enyo.Component",kind:"enyo.Object",published:{name:"",id:"",owner:null,componentOverrides:null},protectedStatics:{_kindPrefixi:{},_unnamedKindNumber:0},defaultKind:"Component",noDefer:!0,handlers:{},mixins:[enyo.ApplicationSupport,enyo.ComponentBindingSupport],toString:function(){return this.id+" ["+this.kindName+"]"},constructor:enyo.inherit((function(s){return function(){this._componentNameMap={},this.$={},s.apply(this,arguments)}})),constructed:enyo.inherit((function(s){return function(h){this.create(h),s.apply(this,arguments)}})),create:function(){this.stopNotifications(),this.ownerChanged(),this.initComponents(),this.startNotifications()},initComponents:function(){this.createChrome(this.kindComponents),this.createClientComponents(this.components)},createChrome:function(s){this.createComponents(s,{isChrome:!0})},createClientComponents:function(s){this.createComponents(s,{owner:this.getInstanceOwner()})},getInstanceOwner:function(){return!this.owner||this.owner.notInstanceOwner?this:this.owner},destroy:enyo.inherit((function(s){return function(){this.destroyComponents(),this.setOwner(null),s.apply(this,arguments),this.stopAllJobs()}})),destroyComponents:function(){enyo.forEach(this.getComponents(),(function(s){s.destroyed||s instanceof enyo.Controller&&s.global||s.destroy()}))},makeId:function(){var s=this.owner&&this.owner.getId();return(s?s+"_":"")+(this.name||"@@"+ ++enyo.Component._unnamedKindNumber)},ownerChanged:function(s){s&&s.removeComponent&&s.removeComponent(this),this.owner&&this.owner.addComponent&&this.owner.addComponent(this),this.id||(this.id=this.makeId())},nameComponent:function(s){var h,l=enyo.Component.prefixFromKindName(s.kindName),c=this._componentNameMap[l]||0;do{h=l+(++c>1?c+"":"")}while(this.$[h]);return this._componentNameMap[l]=Number(c),s.name=h,s.name},addComponent:function(s){var h=s.getName();h||(h=this.nameComponent(s)),this.$[h]&&this.warn('Duplicate component name "'+h+'" in owner "'+this.id+'" violates unique-name-under-owner rule, replacing existing component in the hash and continuing, but this is an error condition and should be fixed.'),this.$[h]=s,this.notifyObservers("$."+h,null,s)},removeComponent:function(s){delete this.$[s.getName()]},getComponents:function(){var s=[];for(var h in this.$)s.push(this.$[h]);return s},adjustComponentProps:function(s){this.defaultProps&&enyo.mixin(s,this.defaultProps,{ignore:!0}),s.kind=s.kind||s.isa||this.defaultKind,s.owner=s.owner||this},_createComponent:function(s,h){if(!s.kind&&"kind"in s)throw"enyo.create: Attempt to create a null kind. Check dependencies for ["+s.name+"].";var l=enyo.mixin(enyo.clone(h),s);return this.adjustComponentProps(l),enyo.Component.create(l)},createComponent:function(s,h){return this._createComponent(s,h)},createComponents:function(s,h){if(s){for(var l,c=[],d=0;l=s[d];d++)c.push(this._createComponent(l,h));return c}},getBubbleTarget:function(){return this.bubbleTarget||this.owner},bubble:function(s,h,l){if(!this._silenced){var c=h||{};return enyo.exists(c.originator)||(c.originator=l||this),this.dispatchBubble(s,c,l||this)}},bubbleUp:function(s,h){if(!this._silenced){var l=h||{},c=this.getBubbleTarget();return!!c&&c.dispatchBubble(s,l,l.delegate||this)}},dispatchEvent:function(s,h,l){if(!this._silenced){var c,d=(h||(h={})).delegate;if(this.decorateEvent!==enyo.Component.prototype.decorateEvent&&this.decorateEvent(s,h,l),d&&d.owner===this){if(this[s]&&"function"==typeof this[s])return this.dispatch(s,h,l)}else if(!d){if(this.handlers&&this.handlers[s]&&this.dispatch(this.handlers[s],h,l))return!0;if(this[s]&&enyo.isString(this[s]))return h.delegate=this,c=this.bubbleUp(this[s],h,l),delete h.delegate,c}}},dispatchBubble:function(s,h,l){return this._silenced?void 0:!!this.dispatchEvent(s,h,l)||this.bubbleUp(s,h,l)},decorateEvent:function(){},stopAllJobs:function(){if(this.__jobs)for(var s in this.__jobs)this.stopJob(s)},dispatch:function(s,h,l){if(!this._silenced){var c=s&&this[s];return c&&"function"==typeof c?c.call(this,l||this,h):void 0}},triggerHandler:function(){return this.dispatchEvent.apply(this,arguments)},waterfall:function(s,h,l){return this._silenced?void 0:(h=h||{},!!this.dispatchEvent(s,h,l)||void this.waterfallDown(s,h,l||this))},waterfallDown:function(s,h,l){if(!this._silenced)for(var c in this.$)this.$[c].waterfall(s,h,l)},_silenced:!1,_silenceCount:0,silence:function(){this._silenced=!0,this._silenceCount+=1},isSilenced:function(){return this._silenced},unsilence:function(){0!==this._silenceCount&&--this._silenceCount,0===this._silenceCount&&(this._silenced=!1)},startJob:function(s,h,l,c){c=c||5;var d=this.__jobs=this.__jobs||{};enyo.isString(h)&&(h=this[h]),this.stopJob(s),d[s]=setTimeout(this.bindSafely((function(){enyo.jobs.add(this.bindSafely(h),c,s)})),l)},stopJob:function(s){var h=this.__jobs=this.__jobs||{};h[s]&&(clearTimeout(h[s]),delete h[s]),enyo.jobs.remove(s)},throttleJob:function(s,h,l){var c=this.__jobs=this.__jobs||{};c[s]||(enyo.isString(h)&&(h=this[h]),h.call(this),c[s]=setTimeout(this.bindSafely((function(){this.stopJob(s)})),l))}}),enyo.defaultCtor=enyo.Component,enyo.create=enyo.Component.create=function(s){if(!s.kind&&"kind"in s)throw"enyo.create: Attempt to create a null kind. Check dependencies for ["+(s.name||"")+"].";var h=s.kind||s.isa||enyo.defaultCtor,l=enyo.constructorForKind(h);return l||(enyo.error('no constructor found for kind "'+h+'"'),l=enyo.Component),new l(s)},enyo.Component.subclass=function(s,h){var l=s.prototype;h.components?(l.kindComponents=h.components,delete l.components):h.componentOverrides&&(l.kindComponents=enyo.Component.overrideComponents(l.kindComponents,h.componentOverrides,l.defaultKind))},enyo.Component.concat=function(s,h){var l=s.prototype||s;if(h.handlers){var c=l.handlers?enyo.clone(l.handlers):{};l.handlers=enyo.mixin(c,h.handlers),delete h.handlers}h.events&&enyo.Component.publishEvents(l,h)},enyo.Component.overrideComponents=function(s,h,l){var i=function(s,h){return!(enyo.isFunction(h)||enyo.isInherited(h))};s=enyo.clone(s);for(var c=0;s.length>c;c++){var d=enyo.clone(s[c]),f=h[d.name],p=enyo.constructorForKind(d.kind||l);if(f){enyo.concatHandler(d,f);for(var g=d.kind&&("string"==typeof d.kind&&enyo.getPath(d.kind)||"function"==typeof d.kind&&d.kind)||enyo.defaultCtor;g;)g.concat&&g.concat(d,f,!0),g=g.prototype.base;enyo.mixin(d,f,{filter:i})}d.components&&(d.components=enyo.Component.overrideComponents(d.components,h,p.prototype.defaultKind)),s[c]=d}return s},enyo.Component.publishEvents=function(s,h){var l=h.events;if(l){var c=s.prototype||s;for(var d in l)enyo.Component.addEvent(d,l[d],c)}},enyo.Component.addEvent=function(s,h,l){var c,d;enyo.isString(h)?("on"!=s.slice(0,2)&&(enyo.warn("enyo.Component.addEvent: event names must start with 'on'. "+l.kindName+" event '"+s+"' was auto-corrected to 'on"+s+"'."),s="on"+s),c=h,d="do"+enyo.cap(s.slice(2))):(c=h.value,d=h.caller),l[s]=c,l[d]||(l[d]=function(h){var l=h;l||(l={});var c=l.delegate;l.delegate=void 0,enyo.exists(l.type)||(l.type=s),this.bubble(s,l),c&&(l.delegate=c)})},enyo.Component.prefixFromKindName=function(s){var h=enyo.Component._kindPrefixi[s];if(!h){var l=s.lastIndexOf(".");h=(h=l>=0?s.slice(l+1):s).charAt(0).toLowerCase()+h.slice(1),enyo.Component._kindPrefixi[s]=h}return h},enyo.kind({name:"enyo.UiComponent",kind:"enyo.Component",published:{container:null,parent:null,controlParentName:"client",layoutKind:""},handlers:{onresize:"resizeHandler"},addBefore:void 0,protectedStatics:{_resizeFlags:{showingOnly:!0}},create:enyo.inherit((function(s){return function(){this.controls=this.controls||[],this.children=this.children||[],this.containerChanged(),s.apply(this,arguments),this.layoutKindChanged()}})),destroy:enyo.inherit((function(s){return function(){this.destroyClientControls(),this.setContainer(null),s.apply(this,arguments)}})),importProps:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.owner||(this.owner=enyo.master)}})),createComponents:enyo.inherit((function(s){return function(){var h=s.apply(this,arguments);return this.discoverControlParent(),h}})),discoverControlParent:function(){this.controlParent=this.$[this.controlParentName]||this.controlParent},adjustComponentProps:enyo.inherit((function(s){return function(h){h.container=h.container||this,s.apply(this,arguments)}})),containerChanged:function(s){s&&s.removeControl(this),this.container&&this.container.addControl(this,this.addBefore)},parentChanged:function(s){s&&s!=this.parent&&s.removeChild(this)},isDescendantOf:function(s){for(var h=this;h&&h!=s;)h=h.parent;return s&&h==s},getControls:function(){return this.controls},getClientControls:function(){for(var s,h=[],l=0,c=this.controls;s=c[l];l++)s.isChrome||h.push(s);return h},destroyClientControls:function(){for(var s,h=this.getClientControls(),l=0;s=h[l];l++)s.destroy()},addControl:function(s,h){if(void 0!==h){var l=null===h?0:this.indexOfControl(h);this.controls.splice(l,0,s)}else this.controls.push(s);this.addChild(s,h)},removeControl:function(s){return s.setParent(null),enyo.remove(s,this.controls)},indexOfControl:function(s){return enyo.indexOf(s,this.controls)},indexOfClientControl:function(s){return enyo.indexOf(s,this.getClientControls())},indexInContainer:function(){return this.container.indexOfControl(this)},clientIndexInContainer:function(){return this.container.indexOfClientControl(this)},controlAtIndex:function(s){return this.controls[s]},addChild:function(s,h){if(this.controlParent)this.controlParent.addChild(s,h);else if(s.setParent(this),void 0!==h){var l=null===h?0:this.indexOfChild(h);this.children.splice(l,0,s)}else this.children.push(s)},removeChild:function(s){return enyo.remove(s,this.children)},indexOfChild:function(s){return enyo.indexOf(s,this.children)},layoutKindChanged:function(){this.layout&&this.layout.destroy(),this.layout=enyo.createFromKind(this.layoutKind,this),this.generated&&this.render()},flow:function(){this.layout&&this.layout.flow()},reflow:function(){this.layout&&this.layout.reflow()},resized:function(){this.waterfall("onresize",enyo.UiComponent._resizeFlags),this.waterfall("onpostresize",enyo.UiComponent._resizeFlags)},resizeHandler:function(){this.reflow()},waterfallDown:function(s,h,l){for(var c in h=h||{},this.$)this.$[c]instanceof enyo.UiComponent||this.$[c].waterfall(s,h,l);for(var d,f=0,p=this.children;d=p[f];f++)!d.showing&&h&&h.showingOnly||d.waterfall(s,h,l)},getBubbleTarget:function(){return this.bubbleTarget||this.parent||this.owner}}),enyo.createFromKind=function(s,h){var l=s&&enyo.constructorForKind(s);return l?new l(h):void 0},enyo.master=new enyo.Component({name:"master",notInstanceOwner:!0,eventFlags:{showingOnly:!0},getId:function(){return""},isDescendantOf:enyo.nop,bubble:function(s,h){"onresize"==s?(enyo.master.waterfallDown("onresize",this.eventFlags),enyo.master.waterfallDown("onpostresize",this.eventFlags)):enyo.Signals.send(s,h)}}),enyo.kind({name:"enyo.Layout",kind:null,layoutClass:"",constructor:function(s){this.container=s,s&&s.addClass(this.layoutClass)},destroy:function(){this.container&&this.container.removeClass(this.layoutClass)},flow:function(){},reflow:function(){}}),enyo.kind({name:"enyo.Signals",kind:"enyo.Component",noDefer:!0,create:enyo.inherit((function(s){return function(){s.apply(this,arguments),enyo.Signals.addListener(this)}})),destroy:enyo.inherit((function(s){return function(){enyo.Signals.removeListener(this),s.apply(this,arguments)}})),notify:function(s,h){this.dispatchEvent(s,h)},protectedStatics:{listeners:[],addListener:function(s){this.listeners.push(s)},removeListener:function(s){enyo.remove(s,this.listeners)}},statics:{send:function(s,h){enyo.forEach(this.listeners,(function(l){l.notify(s,h)}))}}}),enyo.kind({name:"enyo.MultipleDispatchComponent",kind:"enyo.Component",mixins:[enyo.MultipleDispatchSupport]}),enyo.kind({name:"enyo.Controller",kind:"enyo.MultipleDispatchComponent",global:!1,data:null,constructor:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.global&&enyo.setPath(this.name,this)}})),_isController:!0}),function(s){var h=[],n=function(s){for(var l=h,c=l.length,d=0;c>d;++d)l[d]._hashChanged(s)},l=/\:[a-zA-Z0-9]*/g,o=function(s){return"#"===s[0]?s.slice(1):s};s.ready((function(){s.dispatcher.listen(window,"hashchange",n)})),s.kind({name:"enyo.Router",listening:!0,internalOnly:!1,defaultPathOnStart:!1,defaultRoute:null,triggerOnStart:!0,useHistory:!1,routes:null,kind:"enyo.Controller",_staticRoutes:null,_dynamicRoutes:null,_current:"",_history:null,computed:{location:["_current",{cached:!0}],defaultPath:[]},location:function(h){return h?(h=o(h),void(this.internalOnly?this.set("_current",h):s.asyncMethod(this,"trigger",{location:h,change:!0}))):o(this.get("_current"))},defaultPath:function(){return this.defaultRoute?this.defaultRoute.path:""},trigger:function(s){s?"string"==typeof s&&(s={location:s}):s={location:this.get("_current")};var h=s.location,l=s.global,c=s.change,d=this.get("location");c?d!==h?window.location.hash=h:this._hashChanged(h):l?n(h):this._hashChanged(h)},handle:function(s){this._handleStatic(s)||this._handleDynamic(s)||this._handleDefault(s)},back:function(){this.useHistory&&this._history.length>=2&&(this._history.shift(),this.set("location",this._history.shift()))},addHistory:function(s,h){if(this.useHistory)switch(typeof h){case"undefined":this._history.unshift(s);break;case"number":h>=0&&this._history.length>h&&this._history.splice(h,0,s);break;case"boolean":this._history.push(s)}return this},clearHistory:function(){return this._history=[],this},addRoute:function(s){var h,c=this._staticRoutes,d=this._dynamicRoutes;return!0===s.default?this.defaultRoute=s:l.test(s.path)?(l.lastIndex=0,h=RegExp(s.path.replace(l,"([a-zA-Z0-9-]*)")),s.regex=h,d.push(s)):c[s.path]=s,this},constructor:s.inherit((function(s){return function(){this._staticRoutes={},this._dynamicRoutes=[],this.routes=this.routes||[],this._history=this._history||[],s.apply(this,arguments)}})),create:s.inherit((function(s){return function(){s.apply(this,arguments),this._setupRoutes(),this.set("_current",o(window.location.hash)),h.push(this),this.triggerOnStart&&(this.defaultPathOnStart?this.trigger({change:!0,location:this.get("defaultPath")}):this.trigger())}})),destroy:s.inherit((function(l){return function(){var c=s.indexOf(this,h);~c||h.splice(c,1),l.apply(this,arguments)}})),_hashChanged:function(h){var l=function(h){return s.isString(h)||(h=h.newUrl||window.location.hash),o(h)}(h);this.listening&&(this.set("_current",l),this.handle(l))},_execHandler:function(h,l,c,d){var f=l,p="string"==typeof h?s.getPath.call(this,h):h||this;return"string"==typeof l&&("function"==typeof(f=this[l]||p[l])&&(d.handler=f,d.context=p)),!(!f||"function"!=typeof f)&&(f.apply(p,c),!0)},_handleStatic:function(s){var h,l,c;return!!(h=this._staticRoutes[s])&&(l=h.handler,c=h.context,this._execHandler(c,l,[s],h))},_handleDynamic:function(s){for(var h,l,c,d,f=this._dynamicRoutes,p=0,g=f.length;g>p;++p)if(d=(h=f[p]).regex.exec(s))return d=d.slice(1),l=h.handler,c=h.context,this._execHandler(c,l,d,h);return!1},_handleDefault:function(s){var h=this.defaultRoute||{},l=h.context,c=h.handler;return this._execHandler(l,c,[s],h)},_setupRoutes:function(){for(var s,h=this.routes,l=0,c=h.length;c>l;++l)(s=h[l])&&this.addRoute(s)},_currentChanged:function(){this.useHistory&&this._history.unshift(this.get("location"))}})}(enyo),enyo.kind({name:"enyo.ViewController",kind:"enyo.Controller",view:null,viewKind:null,renderTarget:"document.body",resetView:!1,render:function(s){var h=this.view,l=s||this.renderTarget;if(h){if(h.hasNode()&&h.generated)return;this.container?h.render():h.renderInto(enyo.dom.byId(l)||enyo.getPath(l))}},renderInto:function(s){this.render(this.renderTarget=s)},viewChanged:function(s){if(!s||(s.set("bubbleTarget",null),s.owner!==this||s.destroyed||s.destroy(),!s.destroyed||this.resetView)){var h=this.view;if("string"==typeof h&&(h=enyo.getPath(h)),"function"==typeof h&&(this.viewKind=h,h=null),"string"==typeof this.viewKind&&(this.viewKind=enyo.getPath(this.viewKind)),!h&&this.viewKind||h&&"object"==typeof h&&!(h instanceof enyo.UiComponent)){var l="object"==typeof h&&null!==h&&!h.destroyed&&h||{kind:this.viewKind},c=this;l.kind=l.kind||this.viewKind||enyo.defaultCtor,(h=this.createComponent(l,{owner:this,container:this.container||null,bubbleTarget:this})).extend({destroy:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.bubbleTarget===c&&this.bubbleTarget.set("view",null)}}))})}else h&&h instanceof enyo.UiComponent&&(this.viewKind||(this.viewKind=h.ctor),h.set("bubbleTarget",this));this.view=h}},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.viewChanged()}})),destroy:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.view=null,this.viewKind=null}})),notInstanceOwner:!0}),enyo.applications={},enyo.kind({name:"enyo.Application",kind:"enyo.ViewController",autoStart:!0,renderOnStart:!0,defaultKind:"enyo.Controller",controllers:null,viewReady:!1,start:function(){this.renderOnStart&&this.render()},render:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.view&&this.view.generated&&this.set("viewReady",!0)}})),constructor:enyo.inherit((function(s){return function(h){h&&"string"==typeof h.name&&(enyo.setPath(h.name,this),this.id=h&&h.name),s.apply(this,arguments),this.controllers=this.$,enyo.applications[this.id||this.makeId()]=this}})),create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.autoStart&&this.start()}})),adjustComponentProps:enyo.inherit((function(s){return function(h){h.app=this,s.apply(this,arguments)}})),destroy:enyo.inherit((function(s){return function(){delete enyo.applications[this.id],s.apply(this,arguments)}})),owner:enyo.master}),enyo.singleton({name:"enyo.jobs",published:{priorityLevel:0},_jobs:[[],[],[],[],[],[],[],[],[],[]],_priorities:{},_namedJobs:{},_magicWords:{low:3,normal:5,high:7},add:function(s,h,l){h=h||5,h=enyo.isString(h)?this._magicWords[h]:h,l&&(this.remove(l),this._namedJobs[l]=h),h>=this.priorityLevel?s():this._jobs[h-1].push({fkt:s,name:l})},remove:function(s){var h=this._jobs[this._namedJobs[s]-1];if(h)for(var l=h.length-1;l>=0;l--)if(h[l].name===s)return h.splice(l,1)},registerPriority:function(s,h){this._priorities[h]=s,this.setPriorityLevel(Math.max(s,this.priorityLevel))},unregisterPriority:function(s){var h=0;for(var l in delete this._priorities[s],this._priorities)h=Math.max(h,this._priorities[l]);this.setPriorityLevel(h)},priorityLevelChanged:function(s){s>this.priorityLevel&&this._doJob()},_doJob:function(){for(var s,h=9;h>=this.priorityLevel;h--)if(this._jobs[h].length){s=this._jobs[h].shift();break}s&&(s.fkt(),delete this._namedJobs[s.name],setTimeout(enyo.bind(this,"_doJob"),10))}}),enyo.macroize=function(s,h,l){var c,d,f=s,p=l||enyo.macroize.pattern,a=function(s,l){return null==(c=enyo.getPath.call(h,l))?"{$"+l+"}":(d=!0,c)},g=0;do{if(d=!1,f=f.replace(p,a),++g>=20)throw"enyo.macroize: recursion too deep"}while(d);return f},enyo.quickReplace=function(s,h,l){l=l||enyo.macroize.pattern;return s.replace(l,(function(s){return h[s]||s}))},enyo.quickMacroize=function(s,h,l){var c,d=s,f=l||enyo.macroize.pattern;return d.replace(f,(function(s,l){return null==(c=l in h?h[l]:enyo.getPath.call(h,l))?"{$"+l+"}":c}))},enyo.macroize.pattern=/\{\$([^{}]*)\}/g,window.$L=function(s){return s},enyo.updateLocale=function(){enyo.Signals.send("onlocalechange")},document.addEventListener&&document.addEventListener("localechange",(function(){enyo.updateLocale()}),!1),enyo.kind({name:"enyo.InputBinding",kind:enyo.Binding,placeholderDirection:"source",oneWay:!1,transform:function(s,h,l){return s||(l[l.placeholderDirection].placeholder||"")}}),enyo.kind({name:"enyo.BooleanBinding",kind:enyo.Binding,transform:function(s){return!!s}}),enyo.kind({name:"enyo.EmptyBinding",kind:enyo.Binding,transform:function(s){return""!==s&&null!=s}}),enyo.kind({name:"enyo.BooleanOnlyBinding",kind:enyo.Binding,transform:function(s){return!0!==s&&!1!==s?void 0:s}}),enyo.kind({name:"enyo.StringBinding",kind:enyo.Binding,transform:function(s){return enyo.isString(s)?s:""}}),enyo.kind({name:"enyo.InvertBooleanBinding",kind:enyo.Binding,transform:function(s){return!s}}),enyo.kind({name:"enyo.Async",kind:"enyo.Object",published:{timeout:0},failed:!1,context:null,constructor:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.responders=[],this.errorHandlers=[],this.progressHandlers=[]}})),destroy:enyo.inherit((function(s){return function(){this.timeoutJob&&this.clearTimeout(),s.apply(this,arguments)}})),accumulate:function(s,h){var l=2>h.length?h[0]:enyo.bind(h[0],h[1]);s.push(l)},response:function(){return this.accumulate(this.responders,arguments),this},error:function(){return this.accumulate(this.errorHandlers,arguments),this},route:function(s,h){var l=this.bindSafely("respond");s.response((function(s,h){l(h)}));var c=this.bindSafely("fail");s.error((function(s,h){c(h)})),s.go(h)},handle:function(s,h){var l=h.shift();if(l)if(l instanceof enyo.Async)this.route(l,s);else{var c=enyo.call(this.context||this,l,[this,s]);c=void 0!==c?c:s,(this.failed?this.fail:this.respond).call(this,c)}},startTimer:function(){this.startTime=enyo.perfNow(),this.timeout&&(this.timeoutJob=setTimeout(this.bindSafely("timeoutComplete"),this.timeout))},endTimer:function(){this.timeoutJob&&(this.endTime=enyo.perfNow(),clearTimeout(this.timeoutJob),this.timeoutJob=null,this.latency=this.endTime-this.startTime)},timeoutComplete:function(){this.timedout=!0,this.fail("timeout")},respond:function(s){this.failed=!1,this.endTimer(),this.handle(s,this.responders)},fail:function(s){this.failed=!0,this.endTimer(),this.handle(s,this.errorHandlers)},recover:function(){this.failed=!1},progress:function(){return this.accumulate(this.progressHandlers,arguments),this},sendProgress:function(s,h,l,c){var d=enyo.mixin({},c);d.type="progress",d.current=s,d.min=h,d.max=l;for(var f=0;this.progressHandlers.length>f;f++)enyo.call(this.context||this,this.progressHandlers[f],[this,d])},go:function(s){return this.sendProgress(0,0,1),enyo.asyncMethod(this,(function(){this.sendProgress(1,0,1),this.respond(s)})),this}}),enyo.json={stringify:function(s,h,l){return JSON.stringify(s,h,l)},parse:function(s,h){return s?JSON.parse(s,h):null}},enyo.getCookie=function(s){var h=document.cookie.match(RegExp("(?:^|; )"+s+"=([^;]*)"));return h?decodeURIComponent(h[1]):void 0},enyo.setCookie=function(s,h,l){var c,d,f=s+"="+encodeURIComponent(h),p=l||{},g=p.expires;if("number"==typeof g){var y=new Date;y.setTime(y.getTime()+864e5*g),g=y}for(c in g&&g.toUTCString&&(p.expires=g.toUTCString()),p)f+="; "+c,!0!==(d=p[c])&&(f+="="+d);document.cookie=f},enyo.xhr={request:function(s){var h=this.getXMLHttpRequest(s),l=this.simplifyFileURL(enyo.path.rewrite(s.url)),c=s.method||"GET",d=!s.sync;if(s.username?h.open(c,l,d,s.username,s.password):h.open(c,l,d),enyo.mixin(h,s.xhrFields),s.callback&&this.makeReadyStateHandler(h,s.callback),s.headers=s.headers||{},"GET"!==c&&enyo.platform.ios&&6==enyo.platform.ios&&null!==s.headers["cache-control"]&&(s.headers["cache-control"]=s.headers["cache-control"]||"no-cache"),h.setRequestHeader)for(var f in s.headers)s.headers[f]&&h.setRequestHeader(f,s.headers[f]);return"function"==typeof h.overrideMimeType&&s.mimeType&&h.overrideMimeType(s.mimeType),h.send(s.body||null),!d&&s.callback&&h.onreadystatechange(h),h},cancel:function(s){s.onload&&(s.onload=null),s.onreadystatechange&&(s.onreadystatechange=null),s.abort&&s.abort()},makeReadyStateHandler:function(s,h){window.XDomainRequest&&s instanceof window.XDomainRequest?s.onload=function(){var l;"arraybuffer"===s.responseType?l=s.response:"string"==typeof s.responseText&&(l=s.responseText),h.apply(null,[l,s]),s=null}:s.onreadystatechange=function(){var l;s&&4==s.readyState&&("arraybuffer"===s.responseType?l=s.response:"string"==typeof s.responseText&&(l=s.responseText),h.apply(null,[l,s]),s=null)}},inOrigin:function(s){var h=document.createElement("a"),l=!1;return h.href=s,(":"===h.protocol||h.protocol===window.location.protocol&&h.hostname===window.location.hostname&&h.port===(window.location.port||("https:"===window.location.protocol?"443":"80")))&&(l=!0),l},simplifyFileURL:function(s){var h=document.createElement("a");if(h.href=s,"file:"===h.protocol||":"===h.protocol&&"file:"===window.location.protocol){var l=4>enyo.platform.webos?"":h.host;return h.protocol+"//"+l+h.pathname}return":"===h.protocol&&"x-wmapp0:"===window.location.protocol?window.location.protocol+"//"+window.location.pathname.split("/")[0]+"/"+h.host+h.pathname:s},getXMLHttpRequest:function(s){try{if(10>enyo.platform.ie&&window.XDomainRequest&&!s.headers&&!this.inOrigin(s.url)&&!/^file:\/\//.test(window.location.href))return new window.XDomainRequest}catch(s){}try{if(enyo.platform.firefoxOS){var h=!1,l={};if(s.mozSystem&&(l.mozSystem=!0,h=!0),s.mozAnon&&(l.mozAnon=!0,h=!0),h)return new XMLHttpRequest(l)}return new XMLHttpRequest}catch(s){}return null}},function(s){function t(){this.fake=!0,this._fields=[],this.boundary="--------------------------";for(var s=0;24>s;s++)this.boundary+=Math.floor(10*Math.random()).toString(16)}function n(s,h){if(this.name=h.name,this.type=h.type||"application/octet-stream",!enyo.isArray(s))throw Error("enyo.Blob only handles Arrays of Strings");if(s.length>0&&"string"!=typeof s[0])throw Error("enyo.Blob only handles Arrays of Strings");this._bufs=s}if(s.FormData)try{return new s.FormData,new s.Blob,enyo.FormData=s.FormData,void(enyo.Blob=s.Blob)}catch(s){}t.prototype.getContentType=function(){return"multipart/form-data; boundary="+this.boundary},t.prototype.append=function(s,h,l){this._fields.push([s,h,l])},t.prototype.toString=function(){var s=this.boundary,h="";return enyo.forEach(this._fields,(function(l){if(h+="--"+s+"\r\n",l[2]||l[1].name){var c=l[1],d=l[2]||c.name;h+='Content-Disposition: form-data; name="'+l[0]+'"; filename="'+d+'"\r\n',h+="Content-Type: "+c.type+"\r\n\r\n",h+=c.getAsBinary()+"\r\n"}else h+='Content-Disposition: form-data; name="'+l[0]+'";\r\n\r\n',h+=l[1]+"\r\n"})),h+="--"+s+"--"},enyo.FormData=t,n.prototype.getAsBinary=function(){return"".concat.apply("",this._bufs)},enyo.Blob=n}(window),enyo.AjaxProperties={cacheBust:!0,url:"",method:"GET",handleAs:"json",contentType:"application/x-www-form-urlencoded",sync:!1,headers:null,postBody:"",username:"",password:"",xhrFields:null,mimeType:null},enyo.kind({name:"enyo.Ajax",kind:"enyo.Async",published:enyo.AjaxProperties,constructor:enyo.inherit((function(s){return function(h){enyo.mixin(this,h),s.apply(this,arguments)}})),destroy:enyo.inherit((function(s){return function(){this.xhr=null,s.apply(this,arguments)}})),go:function(s){return this.failed=!1,this.startTimer(),this.request(s),this},request:function(s){var h=this.url.split("?"),l=h.shift()||"",c=h.length?h.join("?").split("&"):[],d=null;enyo.isString(s)?d=s:s&&(d=enyo.Ajax.objectToQuery(s)),d&&(c.push(d),d=null),this.cacheBust&&c.push(Math.random());var f,p=c.length?[l,c.join("&")].join("?"):l,g={};"GET"!=this.method&&(f=this.postBody,"POST"===this.method&&f instanceof enyo.FormData?f.fake&&(g["Content-Type"]=f.getContentType(),f=""+f):(g["Content-Type"]=this.contentType,f instanceof Object&&(f=null!==this.contentType.match(/^application\/json(;.*)?$/)?JSON.stringify(f):"application/x-www-form-urlencoded"===this.contentType?enyo.Ajax.objectToQuery(f):""+f))),enyo.mixin(g,this.headers),0===enyo.keys(g).length&&(g=void 0);try{this.xhr=enyo.xhr.request({url:p,method:this.method,callback:this.bindSafely("receive"),body:f,headers:g,sync:this.sync,username:this.username,password:this.password,xhrFields:enyo.mixin({onprogress:this.bindSafely(this.updateProgress)},this.xhrFields),mimeType:this.mimeType})}catch(s){this.fail(s)}},receive:function(s,h){var l;this.failed||this.destroyed||(l="string"==typeof h.responseText?h.responseText:h.responseBody,this.xhrResponse={status:h.status,headers:enyo.Ajax.parseResponseHeaders(h),body:l},this.isFailure(h)?this.fail(h.status):this.respond(this.xhrToResponse(h)))},fail:enyo.inherit((function(s){return function(){this.xhr&&(enyo.xhr.cancel(this.xhr),this.xhr=null),s.apply(this,arguments)}})),xhrToResponse:function(s){return s?this[(this.handleAs||"text")+"Handler"](s):void 0},isFailure:function(s){try{var h="";return"string"==typeof s.responseText&&(h=s.responseText),0===s.status&&""===h||0!==s.status&&(200>s.status||s.status>=300)}catch(s){return!0}},xmlHandler:function(s){return s.responseXML},textHandler:function(s){return s.responseText},jsonHandler:function(s){var h=s.responseText;try{return h&&enyo.json.parse(h)}catch(s){return enyo.warn("Ajax request set to handleAs JSON but data was not in JSON format"),h}},updateProgress:function(s){var h={};for(var l in s)"input"!==l&&(h[l]=s[l]);this.sendProgress(s.loaded,0,s.total,h)},statics:{objectToQuery:function(s){var h=encodeURIComponent,l=[],c={};for(var d in s){var f=s[d];if(f!=c[d]){var p=h(d)+"=";if(enyo.isArray(f))for(var g=0;f.length>g;g++)l.push(p+h(f[g]));else l.push(p+h(f))}}return l.join("&")}},protectedStatics:{parseResponseHeaders:function(s){var h={},l=[];s.getAllResponseHeaders&&(l=s.getAllResponseHeaders().split(/\r?\n/));for(var c=0;l.length>c;c++){var d=l[c],f=d.indexOf(": ");if(f>0){var p=d.substring(0,f).toLowerCase(),g=d.substring(f+2);h[p]=g}}return h}}}),enyo.kind({name:"enyo.JsonpRequest",kind:"enyo.Async",published:{url:"",charset:null,callbackName:"callback",cacheBust:!0,overrideCallback:null},protectedStatics:{nextCallbackID:0},addScriptElement:function(){var s=document.createElement("script");s.src=this.src,s.async="async",this.charset&&(s.charset=this.charset),s.onerror=this.bindSafely((function(){this.fail(400)}));var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(s,h),this.scriptTag=s},removeScriptElement:function(){var s=this.scriptTag;this.scriptTag=null,s.onerror=null,s.parentNode&&s.parentNode.removeChild(s)},constructor:enyo.inherit((function(s){return function(h){enyo.mixin(this,h),s.apply(this,arguments)}})),go:function(s){return this.startTimer(),this.jsonp(s),this},jsonp:function(s){var h=this.overrideCallback||"enyo_jsonp_callback_"+enyo.JsonpRequest.nextCallbackID++;this.src=this.buildUrl(s,h),this.addScriptElement(),window[h]=this.bindSafely(this.respond);var l=this.bindSafely((function(){this.removeScriptElement(),window[h]=null}));this.response(l),this.error(l)},buildUrl:function(s,h){var l=this.url.split("?"),c=l.shift()||"",d=l.length?l.join("?").split("&"):[],f=this.bodyArgsFromParams(s,h);return d.push(f),this.cacheBust&&d.push(Math.random()),[c,d.join("&")].join("?")},bodyArgsFromParams:function(s,h){if(enyo.isString(s))return s.replace("=?","="+h);var l=enyo.mixin({},s);return this.callbackName&&(l[this.callbackName]=h),enyo.Ajax.objectToQuery(l)}}),enyo.kind({name:"enyo._AjaxComponent",kind:"enyo.Component",published:enyo.AjaxProperties}),enyo.kind({name:"enyo.WebService",kind:"enyo._AjaxComponent",published:{jsonp:!1,callbackName:"callback",charset:null,timeout:0},events:{onResponse:"",onError:"",onProgress:""},send:function(s,h){return this.jsonp?this.sendJsonp(s,h):this.sendAjax(s,h)},sendJsonp:function(s,h){var l=new enyo.JsonpRequest;for(var c in{url:1,callbackName:1,charset:1,timeout:1})l[c]=this[c];return enyo.mixin(l,h),this.sendAsync(l,s)},sendAjax:function(s,h){var l=new enyo.Ajax(h);for(var c in enyo.AjaxProperties)l[c]=this[c];return l.timeout=this.timeout,enyo.mixin(l,h),this.sendAsync(l,s)},sendAsync:function(s,h){return s.go(h).response(this,"response").error(this,"error").progress(this,"progress")},response:function(s,h){this.doResponse({ajax:s,data:h})},error:function(s,h){this.doError({ajax:s,data:h})},progress:function(s,h){this.doProgress(h)}}),enyo.kind({name:"enyo.Source",kind:null,store:null,fetch:function(){},commit:function(){},destroy:function(){},find:function(){},get:function(){return enyo.getPath.apply(this,arguments)},set:function(){return enyo.setPath.apply(this,arguments)}}),enyo.kind({name:"enyo.LocalStorageSource",kind:enyo.Source}),function(s){var h=/^http/;s.kind({name:"enyo.XHRSource",kind:s.Source,requestKind:null,urlRoot:"",buildUrl:function(l,c){var d=c.url||s.isFunction(l.getUrl)&&l.getUrl()||l.url;return h.test(d)||(d=(l.urlRoot||this.urlRoot||function(){var s=location.protocol,h=location.pathname.split("/");return s+="//"+location.host,h.length>1&&h[h.length-1].match(/\./)&&h.pop(),s+"/"+h.join("/")}())+"/"+d),function(s){return s.replace(/([^:]\/)(\/+)/g,"$1")}(d)},go:function(h){var l=new(0,this.requestKind)(s.only(this._requestOptions,h));l.response((function(s,l){h&&h.success&&h.success(l,s)})),l.error(h.fail),l.go(h.params)},find:function(s,h){var l=s.prototype,c=l.kindName,d=h.attributes,f="/find/"+c;h.url=f,h.url=this.buildUrl(l,h),h.method="POST",h.postBody=d,this.go(h)}}),s.kind({name:"enyo.AjaxSource",kind:s.XHRSource,requestKind:s.Ajax,fetch:function(s,h){h.method="GET",h.url=this.buildUrl(s,h),this.go(h)},commit:function(s,h){h.method=s.isNew?"POST":"PUT",h.url=this.buildUrl(s,h),h.postBody=s.toJSON(),this.go(h)},destroy:function(s,h){h.method="DELETE",h.url=this.buildUrl(s,h),this.go(h)},_requestOptions:s.keys(s.AjaxProperties)}),s.kind({name:"enyo.JsonpSource",kind:s.XHRSource,requestKind:s.JsonpRequest,fetch:function(s,h){h.cacheBust=!1,h.method="GET",h.url=this.buildUrl(s,h),this.go(h)},commit:function(s,h){h.cacheBust=!1,h.method=s.isNew?"POST":"PUT",h.url=this.buildUrl(s,h),h.postBody=s.toJSON(),this.go(h)},destroy:function(s,h){h.cacheBust=!1,h.method="DELETE",h.url=this.buildUrl(s,h),this.go(h)},_requestOptions:s.keys(s.getPath("enyo.JsonpRequest").prototype.published)})}(enyo),function(s){s.kind({name:"enyo.Store",kind:s.Object,noDefer:!0,sources:{ajax:"enyo.AjaxSource",jsonp:"enyo.JsonpSource"},ignoreDuplicates:!1,records:null,collections:null,createRecord:function(h,l,c){3>arguments.length&&s.isObject(h)&&(c=l,l=h,h=s.Model);var d=s.isString(h)&&s.getPath(h)||s.isFunction(h)&&h;return c=c||{},s.mixin(c,{store:this}),d||(d=s.Model),new d(l,c)},getRecord:function(s){return this.records.euid[s]},getCollection:function(s){return this.collections[s]},createCollection:function(h,l,c){3>arguments.length&&s.isArray(h)&&(c=l,l=h,h=s.Collection);var d=s.isString(h)&&s.getPath(h)||s.isFunction(h)&&h;return c=c||{},s.mixin(c,{store:this}),d||(d=s.Collection),new d(l,c)},addRecord:function(s){var h=this.records,l=s.primaryKey,c=h.pk[s.kindName]||(h.pk[s.kindName]={}),d=s.get(l),f=s.euid;if(s.store&&s.store!==this&&s.store.removeRecord(s),h.euid[f]&&h.euid[f]!==s)throw"enyo.Store.addRecord: duplicate and unmatching euid entries - parallel euid's should not exist";if(h.euid[f]=s,null!=d)if(c[d]&&c[d]!==s){if(!this.ignoreDuplicates)throw"enyo.Store.addRecord: duplicate record added to store for kind `"+s.kindName+"` with primaryKey set to `"+l+"` and the same value of `"+d+"` which cannot coexist for the kind without the `ignoreDuplicates` flag of the store set to `true`"}else c[d]=s;h.kn[s.kindName]=h.kn[s.kindName]||(h.kn[s.kindName]={}),h.kn[s.kindName][f]=s,s.store||(s.store=this)},addCollection:function(s){var h=this.collections,l=s.euid;s.store&&s.store!==this&&s.store.removeCollection(s),s.addListener("destroy",this._collectionDestroyed),h[l]=s,s.store||(s.store=this)},removeCollection:function(s){delete this.collections[s.euid],s.removeListener("destroy",this._collectionDestroyed)},removeRecord:function(s){var h=this.records,l=s.primaryKey,c=s.euid,d=s.get(l);delete h.euid[c],delete h.kn[s.kindName][c],delete h.pk[s.kindName][d]},addSources:function(s){var h=this.sources;for(var l in s)h[l]=s[l];this._initSources()},removeSource:function(s){delete this.sources[s]},removeSources:function(s){for(var h,l=this.sources,c=0;h=s[c];++c)delete l[h]},find:function(h,l){1==arguments.length&&(l=h,h=s.Model);var c=s.isString(h)?s.constructorForKind(h):h,d=c.prototype,f=l,p=f.attributes,g=this.sources,y=this.records,m=d.primaryKey,v=f.source&&(s.isString(f.source)&&g[f.source]||f.source)||g[d.defaultSource],b=f.euid&&y.euid[f.euid]||p&&p[m]&&y.pk[d.kindName][p[m]];return b?f.success(f,b):v?((f=s.clone(f)).success=this.bindSafely("didFind",l),f.fail=this.bindSafely("didFail","find",l),l.strategy=l.strategy||"merge",void v.find(c,f)):this.warn("could not find source `"+(f.source||d.defaultSource)+"`")},findLocal:function(h,l,c){3>arguments.length&&s.isObject(h)&&(s.isFunction(l)&&(c=l),l=h,h=s.Model);var d,f=("string"==typeof h?s.constructorForKind(h):h).prototype,p=this.records,g=l[f?f.primaryKey:""];return l.euid?p.euid[l.euid]:null!=g?(d=p.pk[f.kindName])&&d[g]||void 0:l.kindName?(d=p.kn[l.kindName])&&s.values(d)||[]:(c=c&&("string"==typeof c&&this[c]||c)||this.filter,c=this.bindSafely(c,l),s.filter(s.values(p.kn[f.kindName])||[],c,this))},filter:function(s,h){for(var l in s)if(h.get(l)!==s[l])return!1;return!0},didFind:function(){this.log(arguments)},didFetch:function(s,h,l){h&&h.success&&h.success(l)},didCommit:function(s,h,l){h&&h.success&&h.success(l)},didDestroy:function(s,h,l){h&&h.success&&h.success(l)},didFail:function(s,h,l,c){return l&&l.fail?l.fail(c):void 0},fetchRecord:function(h,l){var c=this.sources,d=l?s.clone(l):{},f=c[d.source||h.defaultSource];if(!f)throw"enyo.Store: Could not find source '"+(d.source||h.defaultSource)+"'";d.success=this.bindSafely("didFetch",h,l),d.fail=this.bindSafely("didFail","fetch",h,l),f.fetch(h,d)},commitRecord:function(h,l){var c=this.sources,d=l?s.clone(l):{},f=c[d.source||h.defaultSource];if(!f)throw"enyo.Store: Could not find source '"+(d.source||h.defaultSource)+"'";d.success=this.bindSafely("didCommit",h,l),d.fail=this.bindSafely("didFail","commit",h,l),f.commit(h,d)},destroyRecord:function(h,l){var c=this.sources,d=l?s.clone(l):{},f=c[d.source||h.defaultSource];if(!f)throw"enyo.Store: Could not find source '"+(d.source||h.defaultSource)+"'";d.success=this.bindSafely("didDestroy",h,l),d.fail=this.bindSafely("didFail","destroy",h,l),f.destroy(h,d)},destroyRecordLocal:function(s,h){this.didDestroy(s,h)},_initRecords:function(){for(var s,h=this.records,l=["euid","pk","kn"],c=0;s=l[c];++c)h[s]=h[s]||{}},_initSources:function(){var h,l=this.sources;for(var c in l)(h=l[c])&&s.isString(h)&&(h=s.getPath(h)),h?"function"==typeof h&&h.prototype?l[c]=new h({store:this}):(l[c]=h,h.store=this):!h&&s.isString(l[c])&&this.warn("could not find source -> `"+l[c]+"`")},_recordDestroyed:function(s){this.removeRecord(s)},_collectionDestroyed:function(s){this.removeCollection(s)},_recordKeyChanged:function(s,h){h&&delete this.records.pk[s.kindName][h],this.addRecord(s)},constructor:s.inherit((function(s){return function(){var h=s.apply(this,arguments);return this.sources=this.sources||{},this.records=this.records||{},this.collections=this.collections||{},this._initRecords(),this._initSources(),this._recordDestroyed=this.bindSafely("_recordDestroyed"),this._collectionDestroyed=this.bindSafely("_collectionDestroyed"),h}}))}),s.Store.concat=function(h,l){if(l.sources){var c=h.prototype||h;c.sources=c.sources?s.mixin(s.clone(c.sources),l.sources):l.sources,delete l.sources}},s.store=new s.Store}(enyo),function(s){var h={ignore:!0,filter:function(s,h,l,c){return void 0===c[s]&&void 0!==h}};s.kind({name:"enyo.Model",kind:null,mixins:[s.ObserverSupport,s.BindingSupport,s.RegisteredEventSupport],noDefer:!0,attributes:null,defaults:{},readOnly:!1,store:null,defaultSource:"ajax",includeKeys:null,url:"",urlRoot:"",dirty:!1,primaryKey:"id",mergeKeys:null,euid:"",isNew:!0,get:function(s){if(this.attributes){var h=this.attributes[s];return h&&"function"==typeof h?h.call(this):h}},set:function(h,l,c){if(this.attributes){if(s.isObject(h))return this.setObject(h);var d,f,p=this.attributes[h];if(this._updated=!1,p&&"function"==typeof p)return this;if(c||p!==l){if(this.previous[h]=p,this.computedMap&&(f=this.computedMap[h])){"string"==typeof f&&(f=this.computedMap[h]=s.trim(f).split(" ")),d={};for(var g,y=0;g=f[y];++y)this.attributes[h]=p,this.previous[g]=d[g]=this.get(g),this.attributes[h]=l,this.changed[g]=this.get(g),this._updated=!0}if(this.changed[h]=this.attributes[h]=l,this.notifyObservers(h,p,l),this._updated=!0,d)for(var m in d)this.notifyObservers(m,this.previous[m],d[m]);!this.isSilenced()&&this._updated&&(this._updated=!1,this.triggerEvent("change"),this.changed={}),this.dirty=!0}}return this},setObject:function(s){if(this.attributes&&s){this.stopNotifications(),this.silence();var h=!1;for(var l in s)this.set(l,s[l]),h=h||this._updated;this.startNotifications(),this.unsilence(),h&&(this._updated=!1,this.triggerEvent("change")),this.changed={}}return this},constructor:function(l,c){c&&this.importProps(c),this.euid=s.uuid();var d=this.attributes=this.attributes?s.clone(this.attributes):{},f=this.defaults,p=l;p&&s.mixin(d,this.parse(p)),f&&s.mixin(d,f,h),this.changed={},this.previous=this.raw(),this.storeChanged()},importProps:function(h){h&&s.kind.statics.extend(h,this)},raw:function(){var h=this.includeKeys,l=this.attributes,c=h?s.only(h,l):s.clone(l);for(var d in c)"function"==typeof c[d]?c[d]=c[d].call(this):c[d]instanceof s.Collection&&(c[d]=c[d].raw());return c},toJSON:function(){return s.json.stringify(this.raw())},getUrl:function(){var s=this.primaryKey,h=this.get(s),l=this.urlRoot+"/"+this.url;return h&&(l+="/"+h),l},commit:function(h){var l=h?s.clone(h):{};l.success=s.bindSafely(this,"didCommit",this,h),l.fail=s.bindSafely(this,"didFail","commit",this,h),this.store.commitRecord(this,l)},fetch:function(h){var l=h?s.clone(h):{};l.success=s.bindSafely(this,"didFetch",this,h),l.fail=s.bindSafely(this,"didFail","fetch",this,h),this.store.fetchRecord(this,l)},destroy:function(h){if(this.readOnly||this.isNew)return this.destroyLocal();var l=h?s.clone(h):{};l.success=s.bindSafely(this,"didDestroy",this,h),l.fail=s.bindSafely(this,"didFail","destroy",this,h),this.store.destroyRecord(this,l)},destroyLocal:function(){var h={};h.success=s.bindSafely(this,"didDestroy",this),this.store.destroyRecordLocal(this,h)},parse:function(s){return s},didFetch:function(s,h,l){var c=this.parse(l);c&&this.setObject(c),this.dirty=!1,this.isNew=!1,h&&h.success&&h.success(s,h,l)},didCommit:function(s,h,l){var c=this.parse(l);c&&this.setObject(c),this.dirty=!1,this.isNew=!1,h&&h.success&&h.success(s,h,l)},didDestroy:function(h,l,c){for(var d in this.attributes)(this.attributes[d]instanceof s.Model||this.attributes[d]instanceof s.Collection)&&this.attributes[d].owner===this&&this.attributes[d].destroy();this.triggerEvent("destroy"),this.store._recordDestroyed(this),this.previous=null,this.changed=null,this.defaults=null,this.includeKeys=null,this.mergeKeys=null,this.store=null,this.destroyed=!0,this.removeAllObservers(),this.removeAllListeners(),l&&l.success&&l.success(h,l,c)},didFail:function(s,h,l,c){l&&l.fail&&l.fail(h,l,c)},storeChanged:function(){var h=this.store||s.store;h&&s.isString(h)&&((h=s.getPath(h))||s.warn("enyo.Model: could not find the requested store -> ",this.store,", usingthe default store")),(h=this.store=h||s.store).addRecord(this)},_attributeSpy:function(){this.primaryKey==arguments[2]&&this.store._recordKeyChanged(this,this.previous[this.primaryKey])},observers:{_attributeSpy:"*"}}),s.Model.concat=function(h,l){var c=h.prototype||h;l.attributes&&(c.attributes=c.attributes?s.mixin(s.clone(c.attributes),l.attributes):l.attributes,delete l.attributes),l.defaults&&(c.defaults=c.defaults?s.mixin(s.clone(c.defaults),l.defaults):l.defaults,delete l.defaults),l.mergeKeys&&(c.mergeKeys=c.mergeKeys?s.merge(c.mergeKeys,l.mergeKeys):l.mergeKeys.slice(),delete l.mergeKeys)}}(enyo),enyo.kind({name:"enyo.RelationalModel",kind:"enyo.Model"}),enyo.kind({name:"enyo.Collection",kind:enyo.Component,noDefer:!0,mixins:[enyo.RegisteredEventSupport],model:enyo.Model,url:"",instanceAllRecords:!1,defaultSource:"ajax",records:null,preserveRecords:!1,store:null,length:0,isFetching:!1,fetch:function(s){var h=s?enyo.clone(s):{};(s=s||{})&&(s.strategy=s.strategy||"add"),h.success=enyo.bindSafely(this,"didFetch",this,s),h.fail=enyo.bindSafely(this,"didFail","fetch",this,s),this.set("isFetching",!0),enyo.asyncMethod(this,(function(){this.store.fetchRecord(this,h)}))},fetchAndReplace:function(s){var h=s||{};return h.replace=!0,this.fetch(h)},fetchAndDestroy:function(s){var h=s||{};return h.destroy=!0,this.fetch(h)},fetchAndDestroyLocal:function(s){var h=s||{};return h.destroyLocal=!0,this.fetch(h)},didFetch:function(s,h,l){h.replace&&!h.destroy?this.removeAll():h.destroy&&!h.destroyLocal?this.destroyAll():h.destroyLocal&&this.destroyAllLocal();var c,d=this.parse(l),f=h.strategy;if(d){for(var p,g=0;p=d[g];++g)p&&(p.isNew=!1);(c=this[f])&&enyo.isFunction(c)&&c.call(this,d)}h&&h.success&&h.success(s,h,l),this.set("isFetching",!1)},didFail:function(s,h,l,c){l&&l.fail&&l.fail(h,l,c),this.set("isFetching",!1)},parse:function(s){return s},raw:function(){return this.map((function(s){return s.raw()}))},toJSON:function(){return enyo.json.stringify(this.raw())},merge:function(s){if(s){var h=this.model.prototype,l=h.primaryKey,c=h.mergeKeys,d=[],f=this.records.slice(),p=!1,g=!1;s=enyo.isArray(s)?s:[s];for(var y,m=0;y=s[m];++m){p=!1;var v=y.get?y.get(l):y[l];if(c||null!=v){for(var b,w=0;!p&&(b=f[w]);++w)if(null!=v&&v===(b.get?b.get(l):b[l]))p=!0,f.splice(w,1);else if(c){g=!1;for(var C,S=0;C=c[S];++S){if((v=y.get?y.get(C):y[C])!==(b.get?b.get(C):b[C])){g=!1;break}g=!0}g&&(p=!0,f.splice(w,1))}p?b.setObject?b.setObject(y.raw?y.raw():b.parse(y)):enyo.mixin(b,y.raw?y.raw():y):d.push(y)}else d.push(y)}d.length&&this.add(d)}},add:function(s,h){var l=this.records,c=[],d=this.length;if(h=null===h||isNaN(h)?d:Math.max(0,Math.min(d,h)),!(s=enyo.isArray(s)?s:[s]).length)return c;for(var f,p=0;f=s[p];++p){if(f instanceof enyo.Model){if(f.destroyed)throw"enyo.Collection.add: cannot add a record that has already been destroyed";f.addListener("change",this._recordChanged),f.addListener("destroy",this._recordDestroyed)}else this.instanceAllRecords&&(s[p]=this.createRecord(f,null,!1));c.push(p+h)}return s.unshift.apply(s,[h,0]),l.splice.apply(l,s),s.splice(0,2),this.length=l.length,d!==this.length&&this.notifyObservers("length",d,this.length),c.length&&this.triggerEvent("add",{records:c}),c},remove:function(s){var h,l,c=[],d={},f=this.length;s=enyo.isArray(s)&&s||[s];for(var p,g,y,m=0;p=s[m];++m)if((g=this.indexOf(p))>-1){if(void 0===l||l>=g)l=g,c.unshift(g);else if(void 0===h||g>=h)h=g,c.push(g);else if(h!==g&&l!==g){for(y=0;g>c[y];)++y;c.splice(y,0,g)}d[g]=p}for(m=c.length-1;!isNaN(g=c[m]);--m)this.records.splice(g,1),d[g]instanceof this.model&&(d[g].removeListener("change",this._recordChanged),d[g].removeListener("destroy",this._recordDestroyed));return this.length=this.records.length,f!=this.length&&this.notifyObservers("length",f,this.length),c.length&&this.triggerEvent("remove",{records:d}),d},reset:function(s){var h,l=!1;return s&&enyo.isArray(s)&&(h=this.records.length,this.records=s.slice(),this.length=this.records.length,l=!0),l&&(h!==this.length&&this.notifyObservers("length",h,this.length),this.triggerEvent("reset",{records:this.records})),this},removeAll:function(){return this.reset().remove(this.records)},destroyAll:function(s){var h,l=this.removeAll(),c=!0===s?"destroyLocal":"destroy";for(var d in this._destroyAll=!0,l)(h=l[d])&&h instanceof enyo.Model&&h[c]();this._destroyAll=!1},destroyAllLocal:function(){this.destroyAll(!0)},indexOf:function(s,h){return enyo.indexOf(s,this.records,h)},map:function(s,h){h=h||this;for(var l,c=[],d=0,f=this.length;f>d&&(l=this.at(d));++d)c.push(s.call(h,l,d));return c},filter:function(s,h){var l=[];if(s){h=h||this;for(var c,d=0,f=this.length;f>d&&(c=this.at(d));++d)s.call(h,c,d)&&l.push(c)}return l},at:function(s){var h=this.records[s];return!h||h instanceof this.model||(h=this.records[s]=this.createRecord(h,null,!1)),h},createRecord:function(s,h,l){var c,d={owner:this};return s&&!1===s.isNew&&((h||d).isNew=!1,delete s.isNew),c=this.store.createRecord(this.model,s,h?enyo.mixin(d,h):d),l=!1===l?-1:null!==l&&l>=0?l:this.length,c.addListener("change",this._recordChanged),c.addListener("destroy",this._recordDestroyed),l>=0&&this.add(c,l),c},recordChanged:null,constructor:enyo.inherit((function(s){return function(h,l){var c=enyo.isArray(h)?h.slice():null,d=l||(h&&!c?h:null);d&&this.importProps(d),this.records=(this.records||[]).concat(c?this.parse(c):[]),this.length=this.records.length,this._recordChanged=enyo.bindSafely(this,this._recordChanged),this._recordDestroyed=enyo.bindSafely(this,this._recordDestroyed),this.euid=enyo.uuid();var f=this.model;this.model=f&&enyo.isString(f)?enyo.getPath(f):enyo.checkConstructor(f),this.storeChanged(),h=l=void 0,s.apply(this,arguments)}})),destroy:enyo.inherit((function(s){return function(){var h,l=this.removeAll();for(var c in l)(h=l[c]).owner===this&&(this.preserveRecords?h.owner=null:h.destroy());this.triggerEvent("destroy"),this.store=null,this.removeAllListeners(),s.apply(this,arguments)}})),importProps:function(s){s&&(s.records&&(this.records=this.records?this.records.concat(s.records):s.records,delete s.records),enyo.kind.statics.extend(s,this))},storeChanged:function(){var s=this.store||enyo.store;s&&enyo.isString(s)&&((s=enyo.getPath(s))||enyo.warn("enyo.Collection: could not find the requested store -> ",this.store,", usingthe default store")),(s=this.store=s||enyo.store).addCollection(this)},_recordChanged:function(s,h,l){this.recordChanged&&this.recordChanged(s,h,l)},_recordDestroyed:function(s){this._destroyAll||this.remove(s)}}),enyo.kind({name:"enyo.ModelController",kind:enyo.Controller,model:null,get:function(s){return"model"==s?this.getLocal(s):this._isComputed(s)?this._getComputed(s):this.model?this.model.get.apply(this.model,arguments):null},getLocal:function(){return enyo.getPath.apply(this,arguments)},set:function(s,h){return"model"==s?this.setLocal(s,h):this.model?this.model.set.apply(this.model,arguments):void 0},setLocal:function(){return enyo.setPath.apply(this,arguments)},sync:function(s){var h=this.model,l=s||this.model&&this.model.attributes;for(var c in l)this.notifyObservers(c,h?h.previous[c]:l[c],h?this.model.get(c):null)},modelChanged:function(s,h){var l=s,c=h;l&&(l.removeListener("change",this._modelChanged),l.removeListener("destroy",this._modelDestroyed),c||this.sync(l.attributes)),c&&(c.addListener("change",this._modelChanged),c.addListener("destroy",this._modelDestroyed),this.sync())},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.model&&this.notifyObservers("model",null,this.model)}})),constructor:enyo.inherit((function(s){return function(){s.apply(this,arguments),this._modelChanged=this.bindSafely("_modelChanged")}})),_modelChanged:function(s){var h=s.changed;for(var l in h)this.notifyObservers(l,s.previous[l],h[l])},_modelDestroyed:function(s){s===this.model&&this.setLocal("model",null)}}),enyo.requiresWindow=function(s){s()},enyo.dom={byId:function(s,h){return"string"==typeof s?(h||document).getElementById(s):s},escape:function(s){return null!==s?(s+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},getBounds:function(s){return s?{left:s.offsetLeft,top:s.offsetTop,width:s.offsetWidth,height:s.offsetHeight}:null},_ie8GetComputedStyle:function(s){var h=/(\-([a-z]){1})/g;return"float"===s?s="styleFloat":h.test(s)&&(s=s.replace(h,(function(){return arguments[2].toUpperCase()}))),void 0!==this[s]?this[s]:null},getComputedStyle:function(s){if(9>enyo.platform.ie&&s&&s.currentStyle){var h=enyo.clone(s.currentStyle);return h.getPropertyValue=this._ie8GetComputedStyle,h.setProperty=function(){return s.currentStyle.setExpression.apply(s.currentStyle,arguments)},h.removeProperty=function(){return s.currentStyle.removeAttribute.apply(s.currentStyle,arguments)},h}return window.getComputedStyle&&s&&window.getComputedStyle(s,null)},getComputedStyleValue:function(s,h,l){var c=l||this.getComputedStyle(s),d=enyo.platform.ie;if(c=c?c.getPropertyValue(h):null,d){var f={thin:(d>8?2:1)+"px",medium:(d>8?4:3)+"px",thick:(d>8?6:5)+"px",none:"0"};if(void 0!==f[c]&&(c=f[c]),"auto"==c)switch(h){case"width":c=s.offsetWidth;break;case"height":c=s.offsetHeight}}return c},getFirstElementByTagName:function(s){var h=document.getElementsByTagName(s);return h&&h[0]},applyBodyFit:function(){var s=this.getFirstElementByTagName("html");s&&this.addClass(s,"enyo-document-fit"),enyo.dom.addBodyClass("enyo-body-fit"),enyo.bodyIsFitting=!0},getWindowWidth:function(){return window.innerWidth?window.innerWidth:document.body&&document.body.offsetWidth?document.body.offsetWidth:"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?document.documentElement.offsetWidth:320},getWindowHeight:function(){return window.innerHeight?window.innerHeight:document.body&&document.body.offsetHeight?document.body.offsetHeight:"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetHeight?document.documentElement.offsetHeight:480},compareDocumentPosition:function(s,h){return s.compareDocumentPosition?s.compareDocumentPosition(h):s.contains?(s!=h&&s.contains(h)&&16)+(s!=h&&h.contains(s)&&8)+(s.sourceIndex>=0&&h.sourceIndex>=0?(s.sourceIndex<h.sourceIndex&&4)+(s.sourceIndex>h.sourceIndex&&2):1)+0:0},_ieCssToPixelValue:function(s,h){var l=h,c=s.style,d=c.left,f=s.runtimeStyle&&s.runtimeStyle.left;return f&&(s.runtimeStyle.left=s.currentStyle.left),c.left=l,l=c.pixelLeft,c.left=d,f&&(c.runtimeStyle.left=f),l},_pxMatch:/px/i,getComputedBoxValue:function(s,h,l,c){var d=c||this.getComputedStyle(s);if(d&&(!enyo.platform.ie||enyo.platform.ie>=9)){var f=d.getPropertyValue(h+"-"+l);return"auto"===f?0:parseInt(f,10)}if(s&&s.currentStyle){var p=s.currentStyle[h+enyo.cap(l)];return p.match(this._pxMatch)||(p=this._ieCssToPixelValue(s,p)),parseInt(p,0)}return 0},calcBoxExtents:function(s,h){var l=this.getComputedStyle(s);return{top:this.getComputedBoxValue(s,h,"top",l),right:this.getComputedBoxValue(s,h,"right",l),bottom:this.getComputedBoxValue(s,h,"bottom",l),left:this.getComputedBoxValue(s,h,"left",l)}},calcPaddingExtents:function(s){return this.calcBoxExtents(s,"padding")},calcMarginExtents:function(s){return this.calcBoxExtents(s,"margin")},calcNodePosition:function(s,h){var l=0,c=0,d=s,f=d.offsetWidth,p=d.offsetHeight,g=enyo.dom.getStyleTransformProp(),y=/translateX\((-?\d+)px\)/i,m=/translateY\((-?\d+)px\)/i,v=0,b=0,w=0,C=0,S=0,x=0;if(h?(w=h.offsetHeight,C=h.offsetWidth):(w=document.body.parentNode.offsetHeight>this.getWindowHeight()?this.getWindowHeight()-document.body.parentNode.scrollTop:document.body.parentNode.offsetHeight,C=document.body.parentNode.offsetWidth>this.getWindowWidth()?this.getWindowWidth()-document.body.parentNode.scrollLeft:document.body.parentNode.offsetWidth),d.offsetParent)do{h&&8&this.compareDocumentPosition(h,d.offsetParent)&&(S=h.offsetLeft,x=h.offsetTop),c+=d.offsetLeft-(d.offsetParent?d.offsetParent.scrollLeft:0)-S,g&&y.test(d.style[g])&&(c+=parseInt(d.style[g].replace(y,"$1"),10)),l+=d.offsetTop-(d.offsetParent?d.offsetParent.scrollTop:0)-x,g&&m.test(d.style[g])&&(l+=parseInt(d.style[g].replace(m,"$1"),10)),d!==s&&(d.currentStyle?(v=parseInt(d.currentStyle.borderLeftWidth,10),b=parseInt(d.currentStyle.borderTopWidth,10)):window.getComputedStyle?(v=parseInt(window.getComputedStyle(d,"").getPropertyValue("border-left-width"),10),b=parseInt(window.getComputedStyle(d,"").getPropertyValue("border-top-width"),10)):(v=parseInt(d.style.borderLeftWidth,10),b=parseInt(d.style.borderTopWidth,10)),v&&(c+=v),b&&(l+=b))}while((d=d.offsetParent)&&(!h||16&this.compareDocumentPosition(h,d)));return{top:l,left:c,bottom:w-l-p,right:C-c-f,height:p,width:f}},setInnerHtml:function(s,h){s.innerHTML=h},hasClass:function(s,h){return s&&s.className?(" "+s.className+" ").indexOf(" "+h+" ")>=0:void 0},addClass:function(s,h){if(s&&!this.hasClass(s,h)){var l=s.className;s.className=l+(l?" ":"")+h}},removeClass:function(s,h){if(s&&this.hasClass(s,h)){var l=s.className;s.className=(" "+l+" ").replace(" "+h+" "," ").slice(1,-1)}},addBodyClass:function(s){enyo.exists(enyo.roots)?enyo.dom.addClass(document.body,s):enyo.dom._bodyClasses?enyo.dom._bodyClasses.push(s):enyo.dom._bodyClasses=[s]},getAbsoluteBounds:function(s){for(var h=s,l=0,c=0,d=h.offsetWidth,f=h.offsetHeight,p=enyo.dom.getStyleTransformProp(),g=/translateX\((-?\d+|-?\d*\.\d+)px\)/i,y=/translateY\((-?\d+|-?\d*\.\d+)px\)/i,m=/(?!matrix3d\()(-?\d+|-?\d*\.\d+)(?=[,\)])/g,v=null,b=null,w=null;h;)h.offsetParent!=w&&(enyo.platform.firefox?(l+=h.offsetLeft,c+=h.offsetTop):(l+=h.offsetLeft-(h.offsetParent?h.offsetParent.scrollLeft:0),c+=h.offsetTop-(h.offsetParent?h.offsetParent.scrollTop:0)),w=h.offsetParent),p&&h.style&&((v=(b=h.style[p]).match(g))&&void 0!==v[1]&&v[1]&&(l+=parseInt(v[1],10)),(v=b.match(y))&&void 0!==v[1]&&v[1]&&(c+=parseInt(v[1],10)),(v=b.match(m))&&16===v.length&&(void 0!==v[12]&&"0"!==v[12]&&(l+=parseFloat(v[12])),void 0!==v[13]&&"0"!==v[13]&&(c+=parseFloat(v[13])))),h=h.parentNode;return{top:s?c:void 0,left:s?l:void 0,bottom:s?document.body.offsetHeight-c-f:void 0,right:s?document.body.offsetWidth-l-d:void 0,height:f,width:d}},flushBodyClasses:function(){if(enyo.dom._bodyClasses){for(var s,h=0;s=enyo.dom._bodyClasses[h];++h)enyo.dom.addClass(document.body,s);enyo.dom._bodyClasses=null}},_bodyClasses:null},void 0!==window.MSApp&&(enyo.dom.setInnerHtml=function(s,h){s.innerHTML=h}),document.head&&document.head.classList&&(enyo.dom.hasClass=function(s,h){return s?s.classList.contains(h):void 0},enyo.dom.addClass=function(s,h){return s?s.classList.add(h):void 0},enyo.dom.removeClass=function(s,h){return s?s.classList.remove(h):void 0}),function(){enyo.dom.calcCanAccelerate=function(){if(2>=enyo.platform.android)return!1;for(var s,h=["perspective","WebkitPerspective","MozPerspective","msPerspective","OPerspective"],l=0;s=h[l];l++)if(void 0!==document.body.style[s])return!0;return!1};var s=["transform","-webkit-transform","-moz-transform","-ms-transform","-o-transform"],h=["transform","webkitTransform","MozTransform","msTransform","OTransform"];enyo.dom.getCssTransformProp=function(){if(this._cssTransformProp)return this._cssTransformProp;var l=enyo.indexOf(this.getStyleTransformProp(),h);return this._cssTransformProp=s[l],this._cssTransformProp},enyo.dom.getStyleTransformProp=function(){if(this._styleTransformProp||!document.body)return this._styleTransformProp;for(var s,l=0;s=h[l];l++)if(void 0!==document.body.style[s])return this._styleTransformProp=s,this._styleTransformProp},enyo.dom.domTransformsToCss=function(s){var h,l,c="";for(h in s)null!=(l=s[h])&&""!==l&&(c+=h+"("+l+") ");return c},enyo.dom.transformsToDom=function(s){var h=this.domTransformsToCss(s.domTransforms),l=s.hasNode()?s.node.style:null,c=s.domStyles,d=this.getStyleTransformProp(),f=this.getCssTransformProp();d&&f&&(c[f]=h,l?(l[d]=h,s.invalidateStyles()):s.domStylesChanged())},enyo.dom.canTransform=function(){return Boolean(this.getStyleTransformProp())},enyo.dom.canAccelerate=function(){return void 0!==this.accelerando?this.accelerando:document.body&&(this.accelerando=this.calcCanAccelerate())},enyo.dom.transform=function(s,h){var l=s.domTransforms=s.domTransforms||{};enyo.mixin(l,h),this.transformsToDom(s)},enyo.dom.transformValue=function(s,h,l){(s.domTransforms=s.domTransforms||{})[h]=l,this.transformsToDom(s)},enyo.dom.accelerate=function(s,h){var l="auto"==h?this.canAccelerate():h;this.transformValue(s,"translateZ",l?0:null)}}(),enyo.kind({name:"enyo.Control",kind:"enyo.UiComponent",published:{tag:"div",attributes:null,classes:"",style:"",content:"",showing:!0,allowHtml:!1,src:"",canGenerate:!0,fit:null,isContainer:!1},rtl:!1,handlers:{ontap:"tap",onShowingChanged:"showingChangedHandler"},_isView:!0,_needsRender:!0,noDefer:!0,defaultKind:"Control",controlClasses:"",node:null,generated:!1,kindStyle:"",create:enyo.inherit((function(s){return function(){null==this.tag&&(this._needsRender=!1),this.initStyles(),s.apply(this,arguments),this.showingChanged(),this.kindClasses&&this.addClass(this.kindClasses),this.classes&&this.addClass(this.classes),this.initProps(["id","content","src"])}})),constructor:enyo.inherit((function(s){return function(){this.attributes=enyo.clone(this.ctor.prototype.attributes),s.apply(this,arguments)}})),destroy:enyo.inherit((function(s){return function(){this.removeFromRoots(),this.removeNodeFromDom(),enyo.Control.unregisterDomEvents(this.id),s.apply(this,arguments)}})),initProps:function(s){for(var h,l,c=0;h=s[c];c++)this[h]&&(this[l=h+"Changed"]&&this[l]())},dispatchEvent:enyo.inherit((function(s){return function(h,l){return!(!this.strictlyInternalEvents[h]||!this.isInternalEvent(l))||s.apply(this,arguments)}})),classesChanged:function(s){this.removeClass(s),this.addClass(this.classes)},addChild:enyo.inherit((function(s){return function(h){h.addClass(this.controlClasses),s.apply(this,arguments)}})),removeChild:enyo.inherit((function(s){return function(h){s.apply(this,arguments),h.removeClass(this.controlClasses)}})),strictlyInternalEvents:{onenter:1,onleave:1},isInternalEvent:function(s){var h=enyo.dispatcher.findDispatchTarget(s.relatedTarget);return h&&h.isDescendantOf(this)},hasNode:function(){return this.generated&&(this.node||this.findNodeById())},addContent:function(s){this.setContent(this.get("content")+s)},getAttribute:function(s){var h=this.hasNode();return h?h.getAttribute(s):this.attributes[s]},setAttribute:function(s,h){this.attributes[s]=h,this.hasNode()&&this.attributeToNode(s,h),this.invalidateTags()},getNodeProperty:function(s,h){var l=this.hasNode();return l?l[s]:h},setNodeProperty:function(s,h){var l=this.hasNode();l&&(l[s]=h)},setClassAttribute:function(s){this.setAttribute("class",s)},getClassAttribute:function(){return this.attributes.class||""},hasClass:function(s){return s&&(" "+this.getClassAttribute()+" ").indexOf(" "+s+" ")>=0},addClass:function(s){if(s&&!this.hasClass(s)){var h=this.getClassAttribute();this.setClassAttribute(h+(h?" ":"")+s)}},removeClass:function(s){if(s&&this.hasClass(s)){var h=this.getClassAttribute();h=(" "+h+" ").replace(" "+s+" "," ").slice(1,-1),this.setClassAttribute(h)}},addRemoveClass:function(s,h){this[h?"addClass":"removeClass"](s)},initStyles:function(){this.domStyles=this.domStyles?enyo.clone(this.domStyles):{},enyo.Control.cssTextToDomStyles(this.kindStyle+this.style,this.domStyles),"none"==this.domStyles.display&&(this.showing=!1,this.domStyles.display="")},styleChanged:function(){this.domStyles={},enyo.Control.cssTextToDomStyles(this.kindStyle+this.style,this.domStyles),this.domStylesChanged()},applyStyle:function(s,h){this.domStyles[s]=h,this.domStylesChanged()},addStyles:function(s){if(enyo.isObject(s))for(var h in s)this.domStyles[h]=s[h];else enyo.Control.cssTextToDomStyles(s,this.domStyles);this.domStylesChanged()},getComputedStyleValue:function(s,h){return this.hasNode()?enyo.dom.getComputedStyleValue(this.node,s):h},domStylesChanged:function(){this.invalidateStyles(),this.invalidateTags(),this.renderStyles()},stylesToNode:function(){this.node.style.cssText=this.getDomCssText()},setupBodyFitting:function(){enyo.dom.applyBodyFit(),this.addClass("enyo-fit enyo-clip")},setupOverflowScrolling:function(){enyo.platform.android||enyo.platform.androidChrome||enyo.platform.blackberry||enyo.dom.addBodyClass("webkitOverflowScrolling")},render:function(){if(this.parent){if(this.parent.beforeChildRender(this),!this.parent.generated)return this;if(null===this.tag)return this.parent.render(),this}return this.hasNode()||this.renderNode(),this.hasNode()&&(this.renderDom(),this.generated&&this.rendered()),this},renderInto:function(s){this.teardownRender();var h=enyo.dom.byId(s),l=enyo.exists(this.fit)&&!1===this.fit;return h!=document.body||l?this.fit&&this.addClass("enyo-fit enyo-clip"):this.setupBodyFitting(),this.addClass("enyo-no-touch-action"),this.setupOverflowScrolling(),enyo.dom._bodyClasses&&enyo.dom.flushBodyClasses(),enyo.dom.setInnerHtml(h,this.generateHtml()),enyo.addToRoots(this),this.generated&&this.rendered(),this},write:function(){return enyo.dom._bodyClasses&&enyo.dom.flushBodyClasses(),this.fit&&this.setupBodyFitting(),this.addClass("enyo-no-touch-action"),this.setupOverflowScrolling(),document.write(this.generateHtml()),enyo.addToRoots(this),this.generated&&this.rendered(),this},rendered:function(){this.reflow();for(var s,h=0;s=this.children[h];h++)s.generated&&s.rendered()},show:function(){this.setShowing(!0)},hide:function(){this.setShowing(!1)},focus:function(){this.hasNode()&&this.node.focus()},blur:function(){this.hasNode()&&this.node.blur()},hasFocus:function(){return this.hasNode()?document.activeElement===this.node:void 0},getBounds:function(){var s=this.node||this.hasNode();return enyo.dom.getBounds(s)||{left:void 0,top:void 0,width:void 0,height:void 0}},setBounds:function(s,h){for(var l,c,d=this.domStyles,f=h||"px",p=["width","height","left","top","right","bottom"],g=0;c=p[g];g++)((l=s[c])||0===l)&&(d[c]=l+(enyo.isString(l)?"":f));this.domStylesChanged()},getAbsoluteBounds:function(){var s=this.node||this.hasNode();return enyo.dom.getAbsoluteBounds(s)||{left:void 0,top:void 0,width:void 0,height:void 0,bottom:void 0,right:void 0}},getCssText:function(){var s=this.node||this.hasNode();return s?s.style.cssText:void 0},getCssClasses:function(){var s=this.node||this.hasNode();return s?s.className:void 0},findNodeById:function(){return this.id&&(this.node=enyo.dom.byId(this.id))},idChanged:function(s){s&&enyo.Control.unregisterDomEvents(s),this.setAttribute("id",this.id),this.id&&enyo.Control.registerDomEvents(this.id,this)},contentChanged:function(){this.hasNode()&&this.renderContent(),this._needsRender=!0},getSrc:function(){return this.getAttribute("src")},srcChanged:function(){this.src?this.setAttribute("src",enyo.path.rewrite(this.src)):this.setAttribute("src","")},attributesChanged:function(){this.invalidateTags(),this.renderAttributes()},generateHtml:function(){if(!1===this.canGenerate)return"";var s=this.generateInnerHtml(),h=this.generateOuterHtml(s);return this.set("generated",!0),this._needsRender=!1,h},generateInnerHtml:function(){return this.flow(),this.children.length?this.generateChildHtml():this.allowHtml?this.get("content"):enyo.Control.escapeHtml(this.get("content"))},generateChildHtml:function(){for(var s,h="",l=0;s=this.children[l];l++){h+=s.generateHtml()}return h},generateOuterHtml:function(s){return this.tag?(this.tagsValid||this.prepareTags(),this._openTag+s+this._closeTag):s},invalidateTags:function(){this.tagsValid=!1},invalidateStyles:function(){this.stylesValid=!1},getDomCssText:function(){return this.stylesValid||(this.domCssText=enyo.Control.domStylesToCssText(this.domStyles),this.stylesValid=!0),this.domCssText},prepareTags:function(){var s=this.getDomCssText();this._openTag="<"+this.tag+(s?' style="'+s+'"':"")+enyo.Control.attributesToHtml(this.attributes),enyo.Control.selfClosing[this.tag]?(this._openTag+="/>",this._closeTag=""):(this._openTag+=">",this._closeTag="</"+this.tag+">"),this.tagsValid=!0},attributeToNode:function(s,h){null===h||!1===h||""===h?this.node.removeAttribute(s):this.node.setAttribute(s,h)},attributesToNode:function(){for(var s in this.attributes)this.attributeToNode(s,this.attributes[s])},getParentNode:function(){return this.parentNode||this.parent&&(this.parent.hasNode()||this.parent.getParentNode())},addNodeToParent:function(){if(this.node){var s=this.getParentNode();s&&(void 0!==this.addBefore?this.insertNodeInParent(s,this.addBefore&&this.addBefore.hasNode()):this.appendNodeToParent(s))}},appendNodeToParent:function(s){s.appendChild(this.node)},insertNodeInParent:function(s,h){s.insertBefore(this.node,h||s.firstChild)},removeNodeFromDom:function(){this.hasNode()&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},teardownRender:function(){this.generated&&this.teardownChildren(),this.node=null,this.set("generated",!1)},teardownChildren:function(){for(var s,h=0;s=this.children[h];h++)s.teardownRender()},renderNode:function(){this.teardownRender(),this.node=document.createElement(this.tag),this.addNodeToParent(),this.set("generated",!0)},renderDom:function(){this.renderAttributes(),this.renderStyles(),this.renderContent()},renderContent:function(){this.generated&&this.teardownChildren(),this.node&&enyo.dom.setInnerHtml(this.node,this.generateInnerHtml())},renderReusingNode:function(){if(this.canGenerate)if(null===this.tag||this.generated)if(this.children.length)for(var s,h=0;s=this.children[h];++h)s.renderReusingNode();else this.generated&&this.hasNode()&&this._needsRender&&(enyo.dom.setInnerHtml(this.node,this.generateInnerHtml()),this._needsRender=!1);else this.render()},renderStyles:function(){this.hasNode()&&this.stylesToNode()},renderAttributes:function(){this.hasNode()&&this.attributesToNode()},beforeChildRender:function(){this.generated&&this.flow()},syncDisplayToShowing:function(){var s=this.domStyles;this.showing?"none"==s.display&&this.applyStyle("display",this._displayStyle||""):(this._displayStyle="none"==s.display?"":s.display,this.applyStyle("display","none"))},showingChanged:function(s){this.syncDisplayToShowing(),this.sendShowingChangedEvent(s)},sendShowingChangedEvent:function(s){var h=!0===s||!1===s,l=this.parent;h&&(!l||l.getAbsoluteShowing(!0))&&this.waterfall("onShowingChanged",{originator:this,showing:this.getShowing()})},getShowing:function(){return this.showing},getAbsoluteShowing:function(s){var h;return s||(h=this.getBounds()),!(!this.generated||this.destroyed||!this.getShowing()||h&&0===h.height&&0===h.width)&&(!this.parent||!this.parent.getAbsoluteShowing||this.parentNode===enyo.floatingLayer.hasNode()||this.parent.getAbsoluteShowing(s))},showingChangedHandler:function(s){return s!==this&&!this.getShowing()},fitChanged:function(){this.parent.reflow()},isFullscreen:function(){return this.hasNode()&&this.hasNode()===enyo.fullscreen.getFullscreenElement()},requestFullscreen:function(){return!!this.hasNode()&&!!enyo.fullscreen.requestFullscreen(this)},cancelFullscreen:function(){return!!this.isFullscreen()&&(enyo.fullscreen.cancelFullscreen(),!0)},removeFromRoots:function(){this._isRoot&&enyo.remove(this,enyo.roots)},detectTextDirectionality:function(){this.content&&this.content.length&&(this.rtl=enyo.isRtl(this.content),this.applyStyle("direction",this.rtl?"rtl":"ltr"))},statics:{escapeHtml:function(s){return null!=s?(s+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},registerDomEvents:function(s,h){enyo.$[s]=h},unregisterDomEvents:function(s){enyo.$[s]=null},selfClosing:{img:1,hr:1,br:1,area:1,base:1,basefont:1,input:1,link:1,meta:1,command:1,embed:1,keygen:1,wbr:1,param:1,source:1,track:1,col:1},cssTextToDomStyles:function(s,h,l){if(s)for(var c,d,f,p,g=s.replace(/;$/,"").split(/\s*;[\s;]*/),y=0;p=g[y];y++)d=(c=p.split(/\s*:\s*/)).shift(),l?delete h[d]:(f=c.join(":"),h[d]=f)},domStylesToCssText:function(s){var h,l,c="";for(h in s)null!=(l=s[h])&&""!==l&&(c+=h+": "+l+"; ");return enyo.trim(c)},stylesToHtml:function(s){var h=enyo.Control.domStylesToCssText(s);return h?' style="'+h+'"':""},escapeAttribute:function(s){return enyo.isString(s)?(s+"").replace(/&/g,"&amp;").replace(/\"/g,"&quot;"):s},attributesToHtml:function(s){var h,l,c="";for(h in s)null!==(l=s[h])&&!1!==l&&""!==l&&(c+=" "+h+'="'+enyo.Control.escapeAttribute(l)+'"');return c},normalizeCssStyleString:function(s){return(s+";").replace(/^[;\s]+/,"").replace(/\s*(;|:)\1+/g,"$1").replace(/(:|;)\s*(?!$)/g,"$1 ")}}}),enyo.defaultCtor=enyo.Control,enyo.Control.concat=function(s,h,l){var c=s.prototype||s;h.classes&&(l?c.classes=enyo.trim((c.classes?c.classes+" ":"")+h.classes):(c.kindClasses=enyo.trim((c.kindClasses?c.kindClasses:"")+(c.classes?" "+c.classes:"")),c.classes=h.classes),delete h.classes),h.style&&(l?c.style=enyo.Control.normalizeCssStyleString((c.style?c.style+";":"")+" "+h.style+";"):(c.kindStyle=enyo.Control.normalizeCssStyleString((c.kindStyle?c.kindStyle+"; ":"")+(c.style?" "+c.style:"")),c.style=enyo.Control.normalizeCssStyleString(h.style)),delete h.style),h.attributes&&(c.attributes=c.attributes?enyo.mixin(enyo.clone(c.attributes),h.attributes):h.attributes,delete h.attributes)},enyo.View=enyo.Control,enyo.platform={touch:Boolean("ontouchstart"in window||window.navigator.msMaxTouchPoints),gesture:Boolean("ongesturestart"in window||window.navigator.msMaxTouchPoints)},function(){for(var s,h,l,c=navigator.userAgent,d=enyo.platform,f=[{platform:"androidChrome",regex:/Android .* Chrome\/(\d+)[.\d]+/},{platform:"android",regex:/Android (\d+)/},{platform:"android",regex:/Silk\/1./,forceVersion:2,extra:{silk:1}},{platform:"android",regex:/Silk\/2./,forceVersion:4,extra:{silk:2}},{platform:"android",regex:/Silk\/3./,forceVersion:4,extra:{silk:3}},{platform:"windowsPhone",regex:/Windows Phone (?:OS )?(\d+)[.\d]+/},{platform:"ie",regex:/MSIE (\d+)/},{platform:"ie",regex:/Trident\/.*; rv:(\d+)/},{platform:"ios",regex:/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/},{platform:"webos",regex:/(?:web|hpw)OS\/(\d+)/},{platform:"webos",regex:/WebAppManager|Isis/,forceVersion:4},{platform:"safari",regex:/Version\/(\d+)[.\d]+\s+Safari/},{platform:"chrome",regex:/Chrome\/(\d+)[.\d]+/},{platform:"androidFirefox",regex:/Android;.*Firefox\/(\d+)/},{platform:"firefoxOS",regex:/Mobile;.*Firefox\/(\d+)/},{platform:"firefox",regex:/Firefox\/(\d+)/},{platform:"blackberry",regex:/PlayBook/i,forceVersion:2},{platform:"blackberry",regex:/BB1\d;.*Version\/(\d+\.\d+)/},{platform:"tizen",regex:/Tizen (\d+)/}],p=0;s=f[p];p++)if(h=s.regex.exec(c)){l=s.forceVersion?s.forceVersion:Number(h[1]),d[s.platform]=l,s.extra&&enyo.mixin(d,s.extra),d.platformName=s.platform;break}enyo.dumbConsole=Boolean(d.android||d.ios||d.webos)}(),function(){for(var s,h,l,c=Math.round(1e3/60),d=["webkit","moz","ms","o",""],f="requestAnimationFrame",p="cancel"+enyo.cap(f),a=function(s){return window.setTimeout(s,c)},u=function(s){return window.clearTimeout(s)},g=0,y=d.length;((s=d[g])||y>g)&&!(enyo.platform.ios>=6);g++)if(h=s?s+enyo.cap(p):p,l=s?s+enyo.cap(f):f,window[h]){u=window[h],a=window[l],"webkit"==s&&u(a(enyo.nop));break}enyo.requestAnimationFrame=function(s,h){return a(s,h)},enyo.cancelRequestAnimationFrame=function(s){return u(s)}}(),enyo.easing={cubicIn:function(s){return Math.pow(s,3)},cubicOut:function(s){return Math.pow(s-1,3)+1},expoOut:function(s){return 1==s?1:-1*Math.pow(2,-10*s)+1},quadInOut:function(s){return 1>(s*=2)?Math.pow(s,2)/2:-1*(--s*(s-2)-1)/2},linear:function(s){return s}},enyo.easedLerp=function(s,h,l,c){var d=(enyo.perfNow()-s)/h;return c?d>=1?0:1-l(1-d):d>=1?1:l(d)},enyo.easedComplexLerp=function(s,h,l,c,d,f,p){var g=(enyo.perfNow()-s)/h;return l(c?1-g:g,d,f,p,h)},enyo.ready((function(){(window.cordova||window.PhoneGap)&&document.addEventListener("deviceready",(function(s){for(var h,l=["pause","resume","online","offline","backbutton","batterycritical","batterylow","batterystatus","menubutton","searchbutton","startcallbutton","endcallbutton","volumedownbutton","volumeupbutton"],c=0;h=l[c];c++)document.addEventListener(h,enyo.bind(enyo.Signals,"send","on"+h),!1);enyo.Signals.send("ondeviceready",s)}),!1)})),enyo.ready((function(){function e(c){c=c||window.event,enyo.hidden=c.type in l?l[c.type]:document[s],enyo.visibilityState=c.type in l?l[c.type]?"hidden":"visible":document[h],enyo.Signals.send("onvisibilitychange",enyo.mixin(c,{hidden:enyo.hidden}))}var s="hidden",h="visibilityState",l={};l.blur=l.focusout=l.pagehide=!0,l.focus=l.focusin=l.pageshow=!1,s in document?document.addEventListener("visibilitychange",e):(s="mozHidden")in document?(document.addEventListener("mozvisibilitychange",e),h="mozVisibilityState"):(s="webkitHidden")in document?(document.addEventListener("webkitvisibilitychange",e),h="webkitVisibilityState"):(s="msHidden")in document?(document.addEventListener("msvisibilitychange",e),h="msVisibilityState"):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e,enyo.hidden=void 0!==document[s]&&document[s],enyo.visibilityState=void 0!==document[h]?document[h]:"visible"})),function(s){s.$={},s.dispatcher={events:["mousedown","mouseup","mouseover","mouseout","mousemove","mousewheel","click","dblclick","change","keydown","keyup","keypress","input","paste","copy","cut","webkitTransitionEnd","transitionend","webkitAnimationEnd","animationEnd"],windowEvents:["resize","load","unload","message","hashchange","popstate"],features:[],connect:function(){var h,l,c=s.dispatcher;for(h=0;l=c.events[h];h++)c.listen(document,l);for(h=0;l=c.windowEvents[h];h++)"unload"===l&&"object"==typeof window.chrome&&window.chrome.app||c.listen(window,l)},listen:function(h,l,c){var d=s.dispatch;this.listen=h.addEventListener?function(s,h,l){s.addEventListener(h,l||d,!1)}:function(h,l,c){h.attachEvent("on"+l,(function(h){return h.target=h.srcElement,h.preventDefault||(h.preventDefault=s.iePreventDefault),(c||d)(h)}))},this.listen(h,l,c)},stopListening:function(h,l,c){var d=s.dispatch;this.stopListening=h.addEventListener?function(s,h,l){s.removeEventListener(h,l||d,!1)}:function(s,h,l){s.detachEvent("on"+h,l||d)},this.stopListening(h,l,c)},dispatch:function(s){var h=this.findDispatchTarget(s.target)||this.findDefaultTarget();s.dispatchTarget=h;for(var l,c=0;l=this.features[c];c++)if(!0===l.call(this,s))return;return h&&!s.preventDispatch?this.dispatchBubble(s,h):void 0},findDispatchTarget:function(h){var l,c=h;try{for(;c;){if(l=s.$[c.id]){l.eventNode=c;break}c=c.parentNode}}catch(h){s.log(h,c)}return l},findDefaultTarget:function(){return s.master},dispatchBubble:function(s,h){var l=s.type;return l=s.customEvent?l:"on"+l,h.bubble(l,s,h)}},s.iePreventDefault=function(){try{this.returnValue=!1}catch(s){}},s.dispatch=function(h){return s.dispatcher.dispatch(h)},s.bubble=function(h){var l=h||window.event;l&&(l.target||(l.target=l.srcElement),s.dispatch(l))},s.bubbler="enyo.bubble(arguments[0])",function(){var t=function(){s.bubble(arguments[0])};s.makeBubble=function(){var h=Array.prototype.slice.call(arguments,0),l=h.shift();"object"==typeof l&&"function"==typeof l.hasNode&&s.forEach(h,(function(h){this.hasNode()&&s.dispatcher.listen(this.node,h,t)}),l)},s.unmakeBubble=function(){var h=Array.prototype.slice.call(arguments,0),l=h.shift();"object"==typeof l&&"function"==typeof l.hasNode&&s.forEach(h,(function(h){this.hasNode()&&s.dispatcher.stopListening(this.node,h,t)}),l)}}(),s.requiresWindow(s.dispatcher.connect),s.dispatcher.features.push((function(h){if("click"===h.type&&0===h.clientX&&0===h.clientY){var l=s.clone(h);l.type="tap",l.preventDefault=s.nop,s.dispatch(l)}}));var h={};s.dispatcher.features.push((function(s){("mousemove"==s.type||"tap"==s.type||"click"==s.type||"touchmove"==s.type)&&(h.clientX=s.clientX,h.clientY=s.clientY,h.pageX=s.pageX,h.pageY=s.pageY,h.screenX=s.screenX,h.screenY=s.screenY)})),s.getPosition=function(){var l=s.clone(h);if(9>s.platform.ie){var c=document.documentElement||document.body.parentNode||document.body;l.pageX=l.clientX+c.scrollLeft,l.pageY=l.clientY+c.scrollTop}return l}}(enyo),function(){var s="previewDomEvent",h={feature:function(s){h.dispatch(s,s.dispatchTarget)},dispatch:function(h,l){for(var c,d=this.buildLineage(l),f=0;c=d[f];f++)if(c[s]&&!0===c[s](h))return void(h.preventDispatch=!0)},buildLineage:function(s){for(var h=[],l=s;l;)h.unshift(l),l=l.parent;return h}};enyo.dispatcher.features.push(h.feature)}(),enyo.dispatcher.features.push((function(s){if(this.captureTarget){var h=s.dispatchTarget,l=(s.customEvent?"":"on")+s.type,c=this.captureEvents[l],d=this.captureHandlerScope||this.captureTarget,f=c&&d[c];if(f&&!(h&&h.isDescendantOf&&h.isDescendantOf(this.captureTarget))){var p=s.captureTarget=this.captureTarget;s.preventDispatch=f&&f.apply(d,[p,s])&&!this.autoForwardEvents[s.type]}}})),enyo.mixin(enyo.dispatcher,{autoForwardEvents:{leave:1,resize:1},captures:[],capture:function(s,h,l){var c={target:s,events:h,scope:l};this.captures.push(c),this.setCaptureInfo(c)},release:function(s){for(var h=this.captures.length-1;h>=0;h--)if(this.captures[h].target===s){this.captures.splice(h,1),this.setCaptureInfo(this.captures[this.captures.length-1]);break}},setCaptureInfo:function(s){this.captureTarget=s&&s.target,this.captureEvents=s&&s.events,this.captureHandlerScope=s&&s.scope}}),enyo.gesture={eventProps:["target","relatedTarget","clientX","clientY","pageX","pageY","screenX","screenY","altKey","ctrlKey","metaKey","shiftKey","detail","identifier","dispatchTarget","which","srcEvent"],makeEvent:function(s,h){var l={};l.type=s;for(var c,d=0;c=this.eventProps[d];d++)l[c]=h[c];if(l.srcEvent=l.srcEvent||h,l.preventDefault=this.preventDefault,l.disablePrevention=this.disablePrevention,10>enyo.platform.ie){8==enyo.platform.ie&&l.target&&(l.pageX=l.clientX+l.target.scrollLeft,l.pageY=l.clientY+l.target.scrollTop);var f=window.event&&window.event.button;f&&(l.which=1&f?1:2&f?2:4&f?3:0)}else(enyo.platform.webos||window.PalmSystem)&&0===l.which&&(l.which=1);return l},down:function(s){this.drag.holdPulseConfig=enyo.clone(this.drag.holdPulseDefaultConfig);var h=this.makeEvent("down",s);h.configureHoldPulse=this.configureHoldPulse,enyo.dispatch(h),this.downEvent=h,this.drag.cancelHold(),this.drag.beginHold(h)},move:function(s){var h=this.makeEvent("move",s);h.dx=h.dy=h.horizontal=h.vertical=0,h.which&&this.downEvent&&(h.dx=s.clientX-this.downEvent.clientX,h.dy=s.clientY-this.downEvent.clientY,h.horizontal=Math.abs(h.dx)>Math.abs(h.dy),h.vertical=!h.horizontal),enyo.dispatch(h)},up:function(s){var h=this.makeEvent("up",s),l=!1;h.preventTap=function(){l=!0},enyo.dispatch(h),!l&&this.downEvent&&1==this.downEvent.which&&this.sendTap(h),this.downEvent=null},over:function(s){var h=this.makeEvent("enter",s);enyo.dispatch(h)},out:function(s){var h=this.makeEvent("leave",s);enyo.dispatch(h)},sendTap:function(s){var h=this.findCommonAncestor(this.downEvent.target,s.target);if(h){var l=this.makeEvent("tap",s);l.target=h,enyo.dispatch(l)}},findCommonAncestor:function(s,h){for(var l=h;l;){if(this.isTargetDescendantOf(s,l))return l;l=l.parentNode}},isTargetDescendantOf:function(s,h){for(var l=s;l;){if(l==h)return!0;l=l.parentNode}},configureHoldPulse:function(s){enyo.mixin(enyo.gesture.drag.holdPulseConfig,s)}},enyo.gesture.preventDefault=function(){this.srcEvent&&this.srcEvent.preventDefault()},enyo.gesture.disablePrevention=function(){this.preventDefault=enyo.nop,this.srcEvent&&(this.srcEvent.preventDefault=enyo.nop)},enyo.dispatcher.features.push((function(s){return enyo.gesture.events[s.type]?enyo.gesture.events[s.type](s):void 0})),enyo.gesture.events={mousedown:function(s){enyo.gesture.down(s)},mouseup:function(s){enyo.gesture.up(s)},mousemove:function(s){enyo.gesture.move(s)},mouseover:function(s){enyo.gesture.over(s)},mouseout:function(s){enyo.gesture.out(s)}},enyo.requiresWindow((function(){document.addEventListener&&document.addEventListener("DOMMouseScroll",(function(s){var h=enyo.clone(s);h.preventDefault=function(){s.preventDefault()},h.type="mousewheel",h[h.VERTICAL_AXIS==h.axis?"wheelDeltaY":"wheelDeltaX"]=-40*h.detail,enyo.dispatch(h)}),!1)})),enyo.dispatcher.features.push((function(s){return enyo.gesture.drag[s.type]?enyo.gesture.drag[s.type](s):void 0})),enyo.gesture.drag={holdPulseDefaultConfig:{delay:200,resume:!1,moveTolerance:16,endHold:"onMove"},holdPulseConfig:{},trackCount:5,minFlick:.1,minTrack:8,down:function(s){this.stopDragging(s),this.target=s.target,this.startTracking(s)},move:function(s){if(this.tracking){if(this.track(s),!s.which)return this.stopDragging(s),this.cancelHold(),void(this.tracking=!1);this.dragEvent?this.sendDrag(s):"onMove"===this.holdPulseConfig.endHold&&(this.dy*this.dy+this.dx*this.dx>=this.holdPulseConfig.moveTolerance?this.holdJob&&(this.holdPulseConfig.resume?this.stopHold():(this.cancelHold(),this.sendDragStart(s))):this.holdPulseConfig.resume&&!this.holdJob&&this.beginHold(s))}},up:function(s){this.endTracking(s),this.stopDragging(s),this.cancelHold(),this.target=null},enter:function(s){this.holdPulseConfig.resume&&"onLeave"===this.holdPulseConfig.endHold&&this.target&&s.target===this.target&&this.beginHold(s)},leave:function(s){this.dragEvent?this.sendDragOut(s):"onLeave"===this.holdPulseConfig.endHold&&(this.holdPulseConfig.resume?this.stopHold():(this.cancelHold(),this.sendDragStart(s)))},stopDragging:function(s){if(this.dragEvent){this.sendDrop(s);var h=this.sendDragFinish(s);return this.dragEvent=null,h}},makeDragEvent:function(s,h,l,c){var d=Math.abs(this.dx),f=Math.abs(this.dy),p=d>f,g=.414>(p?f/d:d/f),y={};return y.type=s,y.dx=this.dx,y.dy=this.dy,y.ddx=this.dx-this.lastDx,y.ddy=this.dy-this.lastDy,y.xDirection=this.xDirection,y.yDirection=this.yDirection,y.pageX=l.pageX,y.pageY=l.pageY,y.clientX=l.clientX,y.clientY=l.clientY,y.horizontal=p,y.vertical=!p,y.lockable=g,y.target=h,y.dragInfo=c,y.ctrlKey=l.ctrlKey,y.altKey=l.altKey,y.metaKey=l.metaKey,y.shiftKey=l.shiftKey,y.srcEvent=l.srcEvent,8==enyo.platform.ie&&y.target&&(y.pageX=y.clientX+y.target.scrollLeft,y.pageY=y.clientY+y.target.scrollTop),y.preventDefault=enyo.gesture.preventDefault,y.disablePrevention=enyo.gesture.disablePrevention,y},sendDragStart:function(s){this.dragEvent=this.makeDragEvent("dragstart",this.target,s),enyo.dispatch(this.dragEvent)},sendDrag:function(s){var h=this.makeDragEvent("dragover",s.target,s,this.dragEvent.dragInfo);enyo.dispatch(h),h.type="drag",h.target=this.dragEvent.target,enyo.dispatch(h)},sendDragFinish:function(s){var h=this.makeDragEvent("dragfinish",this.dragEvent.target,s,this.dragEvent.dragInfo);h.preventTap=function(){s.preventTap&&s.preventTap()},enyo.dispatch(h)},sendDragOut:function(s){var h=this.makeDragEvent("dragout",s.target,s,this.dragEvent.dragInfo);enyo.dispatch(h)},sendDrop:function(s){var h=this.makeDragEvent("drop",s.target,s,this.dragEvent.dragInfo);h.preventTap=function(){s.preventTap&&s.preventTap()},enyo.dispatch(h)},startTracking:function(s){this.tracking=!0,this.px0=s.clientX,this.py0=s.clientY,this.flickInfo={},this.flickInfo.startEvent=s,this.flickInfo.moves=[],this.track(s)},track:function(s){this.lastDx=this.dx,this.lastDy=this.dy,this.dx=s.clientX-this.px0,this.dy=s.clientY-this.py0,this.xDirection=this.calcDirection(this.dx-this.lastDx,0),this.yDirection=this.calcDirection(this.dy-this.lastDy,0);var h=this.flickInfo;h.moves.push({x:s.clientX,y:s.clientY,t:enyo.perfNow()}),h.moves.length>this.trackCount&&h.moves.shift()},endTracking:function(){this.tracking=!1;var s=this.flickInfo,h=s&&s.moves;if(h&&h.length>1){for(var l,c=h[h.length-1],d=enyo.perfNow(),f=h.length-2,p=0,g=0,y=0,m=0,v=0,b=0,w=0;l=h[f];f--)p=d-l.t,g=(c.x-l.x)/p,y=(c.y-l.y)/p,w=w||(0>y?-1:y>0?1:0),(g*(b=b||(0>g?-1:g>0?1:0))>m*b||y*w>v*w)&&(m=g,v=y);var C=Math.sqrt(m*m+v*v);C>this.minFlick&&this.sendFlick(s.startEvent,m,v,C)}this.flickInfo=null},calcDirection:function(s,h){return s>0?1:0>s?-1:h},beginHold:function(s){this.holdStart=enyo.perfNow();var h=enyo.clone(s);h.srcEvent=enyo.clone(s.srcEvent),this._holdJobFunction=enyo.bind(this,"sendHoldPulse",h),this._holdJobFunction.ce=h,this.holdJob=setInterval(this._holdJobFunction,this.holdPulseConfig.delay)},cancelHold:function(){this.stopHold(),this.sentHold&&(this.sentHold=!1,this.sendRelease(this.holdEvent))},stopHold:function(){clearInterval(this.holdJob),this.holdJob=null,this._holdJobFunction&&(this._holdJobFunction.ce=null,this._holdJobFunction=null)},sendHoldPulse:function(s){this.sentHold||(this.sentHold=!0,this.sendHold(s));var h=enyo.gesture.makeEvent("holdpulse",s);h.holdTime=enyo.perfNow()-this.holdStart,enyo.dispatch(h)},sendHold:function(s){this.holdEvent=s;var h=enyo.gesture.makeEvent("hold",s);enyo.dispatch(h)},sendRelease:function(s){var h=enyo.gesture.makeEvent("release",s);enyo.dispatch(h)},sendFlick:function(s,h,l,c){var d=enyo.gesture.makeEvent("flick",s);d.xVelocity=h,d.yVelocity=l,d.velocity=c,enyo.dispatch(d)}},enyo.dom.transition=enyo.platform.ios||enyo.platform.android||enyo.platform.chrome||enyo.platform.androidChrome||enyo.platform.safari?"-webkit-transition":enyo.platform.firefox||enyo.platform.firefoxOS||enyo.platform.androidFirefox?"-moz-transition":"transition",enyo.dispatcher.features.push((function(s){if("keydown"===s.type||"keyup"===s.type||"keypress"===s.type){s.keySymbol=this.keyMap[s.keyCode];var h=this.findDefaultTarget();s.dispatchTarget!==h&&this.dispatchBubble(s,h)}})),enyo.mixin(enyo.dispatcher,{keyMap:{},registerKeyMap:function(s){enyo.mixin(this.keyMap,s)}}),enyo.requiresWindow((function(){var s=enyo.gesture,h=s.events;s.events.touchstart=function(h){s.events=l,s.events.touchstart(h)};var l={_touchCount:0,touchstart:function(h){this._touchCount+=h.changedTouches.length,this.excludedTarget=null;var l=this.makeEvent(h);s.down(l),l=this.makeEvent(h),this.overEvent=l,s.over(l)},touchmove:function(h){enyo.job.stop("resetGestureEvents");var l=s.drag.dragEvent;this.excludedTarget=l&&l.dragInfo&&l.dragInfo.node;var c=this.makeEvent(h);s.move(c),enyo.bodyIsFitting&&h.preventDefault(),this.overEvent&&this.overEvent.target!=c.target&&(this.overEvent.relatedTarget=c.target,c.relatedTarget=this.overEvent.target,s.out(this.overEvent),s.over(c)),this.overEvent=c},touchend:function(h){s.up(this.makeEvent(h)),s.out(this.overEvent),this._touchCount-=h.changedTouches.length},mouseup:function(){0===this._touchCount&&(this.sawMousedown=!1,s.events=h)},makeEvent:function(s){var h=enyo.clone(s.changedTouches[0]);return h.srcEvent=s,h.target=this.findTarget(h),h.which=1,h},calcNodeOffset:function(s){if(s.getBoundingClientRect){var h=s.getBoundingClientRect();return{left:h.left,top:h.top,width:h.width,height:h.height}}},findTarget:function(s){return document.elementFromPoint(s.clientX,s.clientY)},findTargetTraverse:function(s,h,l){var c=s||document.body,d=this.calcNodeOffset(c);if(d&&c!=this.excludedTarget){var f=h-d.left,p=l-d.top;if(f>0&&p>0&&d.width>=f&&d.height>=p){for(var g,y,m=c.childNodes,v=m.length-1;y=m[v];v--)if(g=this.findTargetTraverse(y,h,l))return g;return c}}},connect:function(){enyo.forEach(["touchstart","touchmove","touchend","gesturestart","gesturechange","gestureend"],(function(s){9>enyo.platform.ie?document["on"+s]=enyo.dispatch:document.addEventListener(s,enyo.dispatch,!1)})),18>=enyo.platform.androidChrome||2===enyo.platform.silk?this.findTarget=function(s){return document.elementFromPoint(s.screenX,s.screenY)}:document.elementFromPoint||(this.findTarget=function(s){return this.findTargetTraverse(null,s.clientX,s.clientY)})}};l.connect()})),function(){var s;if(window.navigator.pointerEnabled?s=["pointerdown","pointerup","pointermove","pointerover","pointerout","pointercancel"]:window.navigator.msPointerEnabled&&(s=["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerOver","MSPointerOut","MSPointerCancel"]),s){var t=function(s){var h=enyo.clone(s);return h.srcEvent=s,h.which=s.buttons||1,h},h=enyo.gesture;enyo.gesture.events={};var l={pointerdown:function(s){var l=t(s);h.down(l)},pointerup:function(s){var l=t(s);h.up(l)},pointermove:function(s){var l=t(s);h.move(l)},pointercancel:function(s){var l=t(s);h.up(l)},pointerover:function(s){var l=t(s);h.over(l)},pointerout:function(s){var l=t(s);h.out(l)}};!window.navigator.pointerEnabled&&window.navigator.msPointerEnabled&&(l.MSPointerDown=l.pointerdown,l.MSPointerUp=l.pointerup,l.MSPointerMove=l.pointermove,l.MSPointerCancel=l.pointercancel,l.MSPointerOver=l.pointerover,l.MSPointerOut=l.pointerout),enyo.forEach(s,(function(s){enyo.dispatcher.listen(document,s)})),enyo.dispatcher.features.push((function(s){l[s.type]&&s.isPrimary&&l[s.type](s)}))}}(),function(){!enyo.platform.gesture&&enyo.platform.touch&&enyo.dispatcher.features.push((function(l){s[l.type]&&h[l.type](l)}));var s={touchstart:!0,touchmove:!0,touchend:!0},h={orderedTouches:[],gesture:null,touchstart:function(s){if(enyo.forEach(s.changedTouches,(function(s){var h=s.identifier;0>enyo.indexOf(h,this.orderedTouches)&&this.orderedTouches.push(h)}),this),s.touches.length>=2&&!this.gesture){var h=this.gesturePositions(s);this.gesture=this.gestureVector(h),this.gesture.angle=this.gestureAngle(h),this.gesture.scale=1,this.gesture.rotation=0;var l=this.makeGesture("gesturestart",s,{vector:this.gesture,scale:1,rotation:0});enyo.dispatch(l)}},touchend:function(s){if(enyo.forEach(s.changedTouches,(function(s){enyo.remove(s.identifier,this.orderedTouches)}),this),1>=s.touches.length&&this.gesture){var h=s.touches[0]||s.changedTouches[s.changedTouches.length-1];enyo.dispatch(this.makeGesture("gestureend",s,{vector:{xcenter:h.pageX,ycenter:h.pageY},scale:this.gesture.scale,rotation:this.gesture.rotation})),this.gesture=null}},touchmove:function(s){if(this.gesture){var h=this.makeGesture("gesturechange",s);this.gesture.scale=h.scale,this.gesture.rotation=h.rotation,enyo.dispatch(h)}},findIdentifiedTouch:function(s,h){for(var l,c=0;l=s[c];c++)if(l.identifier===h)return l},gesturePositions:function(s){var h=this.findIdentifiedTouch(s.touches,this.orderedTouches[0]),l=this.findIdentifiedTouch(s.touches,this.orderedTouches[this.orderedTouches.length-1]),c=h.pageX,d=l.pageX,f=h.pageY,p=l.pageY,g=d-c,y=p-f;return{x:g,y:y,h:Math.sqrt(g*g+y*y),fx:c,lx:d,fy:f,ly:p}},gestureAngle:function(s){var h=s,l=Math.asin(h.y/h.h)*(180/Math.PI);return 0>h.x&&(l=180-l),h.x>0&&0>h.y&&(l+=360),l},gestureVector:function(s){var h=s;return{magnitude:h.h,xcenter:Math.abs(Math.round(h.fx+h.x/2)),ycenter:Math.abs(Math.round(h.fy+h.y/2))}},makeGesture:function(s,h,l){var c,d,f;if(l)c=l.vector,d=l.scale,f=l.rotation;else{var p=this.gesturePositions(h);d=(c=this.gestureVector(p)).magnitude/this.gesture.magnitude,f=(360+this.gestureAngle(p)-this.gesture.angle)%360}var g=enyo.clone(h);return enyo.mixin(g,{type:s,scale:d,pageX:c.xcenter,pageY:c.ycenter,rotation:f})}}}(),enyo.kind({name:"enyo.ScrollMath",kind:"enyo.Component",published:{vertical:!0,horizontal:!0},events:{onScrollStart:"",onScroll:"",onScrollStop:""},kSpringDamping:.93,kDragDamping:.5,kFrictionDamping:.97,kSnapFriction:.9,kFlickScalar:15,kMaxFlick:enyo.platform.android>2?2:1e9,kFrictionEpsilon:.01,topBoundary:0,rightBoundary:0,bottomBoundary:0,leftBoundary:0,interval:20,fixedTime:!0,x0:0,x:0,y0:0,y:0,destroy:enyo.inherit((function(s){return function(){this.stop(),s.apply(this,arguments)}})),verlet:function(){var s=this.x;this.x+=s-this.x0,this.x0=s;var h=this.y;this.y+=h-this.y0,this.y0=h},damping:function(s,h,l,c){var d=s-h;return.5>Math.abs(d)?h:s*c>h*c?l*d+h:s},boundaryDamping:function(s,h,l,c){return this.damping(this.damping(s,h,c,1),l,c,-1)},constrain:function(){var s=this.boundaryDamping(this.y,this.topBoundary,this.bottomBoundary,this.kSpringDamping);s!=this.y&&(this.y0=s-(this.y-this.y0)*this.kSnapFriction,this.y=s);var h=this.boundaryDamping(this.x,this.leftBoundary,this.rightBoundary,this.kSpringDamping);h!=this.x&&(this.x0=h-(this.x-this.x0)*this.kSnapFriction,this.x=h)},friction:function(s,h,l){var c=this[s]-this[h],d=Math.abs(c)>this.kFrictionEpsilon?l:0;this[s]=this[h]+d*c},frame:10,simulate:function(s){for(;s>=this.frame;)s-=this.frame,this.dragging||this.constrain(),this.verlet(),this.friction("y","y0",this.kFrictionDamping),this.friction("x","x0",this.kFrictionDamping);return s},animate:function(){this.stop();var s,h,l=enyo.perfNow(),c=0,d=this.bindSafely((function(){var f=enyo.perfNow();this.job=enyo.requestAnimationFrame(d);var p=f-l;l=f,this.dragging&&(this.y0=this.y=this.uy,this.x0=this.x=this.ux),c+=Math.max(16,p),this.fixedTime&&!this.isInOverScroll()&&(c=this.interval),c=this.simulate(c),h!=this.y||s!=this.x?this.scroll():this.dragging||(this.stop(),this.scroll(),this.doScrollStop()),h=this.y,s=this.x}));this.job=enyo.requestAnimationFrame(d)},start:function(){this.job||(this.doScrollStart(),this.animate())},stop:function(s){var h=this.job;h&&(this.job=enyo.cancelRequestAnimationFrame(h)),s&&this.doScrollStop()},stabilize:function(){this.start();var s=Math.min(this.topBoundary,Math.max(this.bottomBoundary,this.y)),h=Math.min(this.leftBoundary,Math.max(this.rightBoundary,this.x));this.y=this.y0=s,this.x=this.x0=h,this.scroll(),this.stop(!0)},startDrag:function(s){this.dragging=!0,this.my=s.pageY,this.py=this.uy=this.y,this.mx=s.pageX,this.px=this.ux=this.x},drag:function(s){if(this.dragging){var h=this.vertical?s.pageY-this.my:0;this.uy=h+this.py,this.uy=this.boundaryDamping(this.uy,this.topBoundary,this.bottomBoundary,this.kDragDamping);var l=this.horizontal?s.pageX-this.mx:0;return this.ux=l+this.px,this.ux=this.boundaryDamping(this.ux,this.leftBoundary,this.rightBoundary,this.kDragDamping),this.start(),!0}},dragDrop:function(){if(this.dragging&&!window.PalmSystem){this.y=this.uy,this.y0=this.y-.5*(this.y-this.y0),this.x=this.ux,this.x0=this.x-.5*(this.x-this.x0)}this.dragFinish()},dragFinish:function(){this.dragging=!1},flick:function(s){var h;this.vertical&&(h=s.yVelocity>0?Math.min(this.kMaxFlick,s.yVelocity):Math.max(-this.kMaxFlick,s.yVelocity),this.y=this.y0+h*this.kFlickScalar),this.horizontal&&(h=s.xVelocity>0?Math.min(this.kMaxFlick,s.xVelocity):Math.max(-this.kMaxFlick,s.xVelocity),this.x=this.x0+h*this.kFlickScalar),this.start()},mousewheel:function(s){var h=this.vertical?s.wheelDeltaY||(s.wheelDeltaX?0:s.wheelDelta):0,l=this.horizontal?s.wheelDeltaX:0,c=!1;return(h>0&&this.y<this.topBoundary||0>h&&this.y>this.bottomBoundary)&&(this.y=this.y0=this.y0+h,c=!0),(l>0&&this.x<this.leftBoundary||0>l&&this.x>this.rightBoundary)&&(this.x=this.x0=this.x0+l,c=!0),c?(this.stop(!0),this.start(),!0):void 0},scroll:function(){this.doScroll()},scrollTo:function(s,h){null!==h&&(this.y=this.y0-(h+this.y0)*(1-this.kFrictionDamping)),null!==s&&(this.x=this.x0-(s+this.x0)*(1-this.kFrictionDamping)),this.start()},setScrollX:function(s){this.x=this.x0=s},setScrollY:function(s){this.y=this.y0=s},setScrollPosition:function(s){this.setScrollY(s)},isScrolling:function(){return Boolean(this.job)},isInOverScroll:function(){return this.job&&(this.x>this.leftBoundary||this.x<this.rightBoundary||this.y>this.topBoundary||this.y<this.bottomBoundary)}}),enyo.kind({name:"enyo.ScrollStrategy",tag:null,published:{vertical:"default",horizontal:"default",scrollLeft:0,scrollTop:0,maxHeight:null,useMouseWheel:!0},handlers:{ondragstart:"dragstart",ondragfinish:"dragfinish",ondown:"down",onmove:"move",onmousewheel:"mousewheel"},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.horizontalChanged(),this.verticalChanged(),this.maxHeightChanged()}})),rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),enyo.makeBubble(this.container,"scroll"),this.scrollNode=this.calcScrollNode()}})),teardownRender:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.scrollNode=null}})),calcScrollNode:function(){return this.container.hasNode()},horizontalChanged:function(){this.container.applyStyle("overflow-x","default"==this.horizontal?"auto":this.horizontal)},verticalChanged:function(){this.container.applyStyle("overflow-y","default"==this.vertical?"auto":this.vertical)},maxHeightChanged:function(){this.container.applyStyle("max-height",this.maxHeight)},scrollTo:function(s,h){this.scrollNode&&(this.setScrollLeft(s),this.setScrollTop(h))},scrollToNode:function(s,h){if(this.scrollNode){for(var l=this.getScrollBounds(),c=s,d={height:c.offsetHeight,width:c.offsetWidth,top:0,left:0};c&&c.parentNode&&c.id!=this.scrollNode.id;)d.top+=c.offsetTop,d.left+=c.offsetLeft,c=c.parentNode;this.setScrollTop(Math.min(l.maxTop,!1===h?d.top-l.clientHeight+d.height:d.top)),this.setScrollLeft(Math.min(l.maxLeft,!1===h?d.left-l.clientWidth+d.width:d.left))}},scrollIntoView:function(s,h){s.hasNode()&&s.node.scrollIntoView(h)},isInView:function(s){var h=this.getScrollBounds(),l=s.offsetTop,c=s.offsetHeight,d=s.offsetLeft,f=s.offsetWidth;return l>=h.top&&h.top+h.clientHeight>=l+c&&d>=h.left&&h.left+h.clientWidth>=d+f},setScrollTop:function(s){this.scrollTop=s,this.scrollNode&&(this.scrollNode.scrollTop=this.scrollTop)},setScrollLeft:function(s){this.scrollLeft=s,this.scrollNode&&(this.scrollNode.scrollLeft=this.scrollLeft)},getScrollLeft:function(){return this.scrollNode?this.scrollNode.scrollLeft:this.scrollLeft},getScrollTop:function(){return this.scrollNode?this.scrollNode.scrollTop:this.scrollTop},_getScrollBounds:function(){var s=this.getScrollSize(),h=this.container.hasNode(),l={left:this.getScrollLeft(),top:this.getScrollTop(),clientHeight:h?h.clientHeight:0,clientWidth:h?h.clientWidth:0,height:s.height,width:s.width};return l.maxLeft=Math.max(0,l.width-l.clientWidth),l.maxTop=Math.max(0,l.height-l.clientHeight),l},getScrollSize:function(){var s=this.scrollNode;return{width:s?s.scrollWidth:0,height:s?s.scrollHeight:0}},getScrollBounds:function(){return this._getScrollBounds()},calcStartInfo:function(){var s=this.getScrollBounds(),h=this.getScrollTop(),l=this.getScrollLeft();this.canVertical=s.maxTop>0&&"hidden"!=this.vertical,this.canHorizontal=s.maxLeft>0&&"hidden"!=this.horizontal,this.startEdges={top:0===h,bottom:h===s.maxTop,left:0===l,right:l===s.maxLeft}},shouldDrag:function(s){var h=s.vertical;return h&&this.canVertical||!h&&this.canHorizontal},dragstart:function(s,h){return this.dragging=this.shouldDrag(h),this.dragging?this.preventDragPropagation:void 0},dragfinish:function(s,h){this.dragging&&(this.dragging=!1,h.preventTap())},down:function(){this.calcStartInfo()},move:function(s,h){h.which&&(this.canVertical&&h.vertical||this.canHorizontal&&h.horizontal)&&h.disablePrevention()},mousewheel:function(s,h){this.useMouseWheel||h.preventDefault()}}),enyo.kind({name:"enyo.ScrollThumb",axis:"v",minSize:4,cornerSize:6,classes:"enyo-thumb",create:enyo.inherit((function(s){return function(){s.apply(this,arguments);var h="v"==this.axis;this.dimension=h?"height":"width",this.offset=h?"top":"left",this.translation=h?"translateY":"translateX",this.positionMethod=h?"getScrollTop":"getScrollLeft",this.sizeDimension=h?"clientHeight":"clientWidth",this.addClass("enyo-"+this.axis+"thumb"),this.transform=enyo.dom.canTransform(),enyo.dom.canAccelerate()&&enyo.dom.transformValue(this,"translateZ",0)}})),sync:function(s){this.scrollBounds=s._getScrollBounds(),this.update(s)},update:function(s){if(this.showing){var h=this.dimension,l=this.offset,c=this.scrollBounds[this.sizeDimension],d=this.scrollBounds[h],f=0,p=0,g=0;if(c>=d)return void this.hide();s.isOverscrolling()&&(g=s.getOverScrollBounds()["over"+l],f=Math.abs(g),p=Math.max(g,0));var y=s[this.positionMethod]()-g,m=c-this.cornerSize,v=Math.floor(c*c/d-f);v=Math.max(this.minSize,v);var b=Math.floor(m*y/d+p);b=Math.max(0,Math.min(m-this.minSize,b)),this.needed=c>v,this.needed&&this.hasNode()?(this._pos!==b&&(this._pos=b,this.transform?enyo.dom.transformValue(this,this.translation,b+"px"):"v"==this.axis?this.setBounds({top:b+"px"}):this.setBounds({left:b+"px"})),this._size!==v&&(this._size=v,this.node.style[h]=this.domStyles[h]=v+"px")):this.hide()}},setShowing:function(s){if(!(s&&s!=this.showing&&this.scrollBounds[this.sizeDimension]>=this.scrollBounds[this.dimension])&&(this.hasNode()&&this.cancelDelayHide(),s!=this.showing)){var h=this.showing;this.showing=s,this.showingChanged(h)}},delayHide:function(s){this.showing&&enyo.job(this.id+"hide",this.bindSafely("hide"),s||0)},cancelDelayHide:function(){enyo.job.stop(this.id+"hide")}}),enyo.kind({name:"enyo.TouchScrollStrategy",kind:"ScrollStrategy",overscroll:!0,preventDragPropagation:!0,published:{vertical:"default",horizontal:"default",thumb:!0,scrim:!1,dragDuringGesture:!0,interval:20,fixedTime:!0,frame:10},events:{onShouldDrag:""},handlers:{onscroll:"domScroll",onflick:"flick",onhold:"hold",ondragstart:"dragstart",onShouldDrag:"shouldDrag",ondrag:"drag",ondragfinish:"dragfinish",onmousewheel:"mousewheel"},tools:[{kind:"ScrollMath",onScrollStart:"scrollMathStart",onScroll:"scrollMathScroll",onScrollStop:"scrollMathStop"},{name:"vthumb",kind:"ScrollThumb",axis:"v",showing:!1},{name:"hthumb",kind:"ScrollThumb",axis:"h",showing:!1}],scrimTools:[{name:"scrim",classes:"enyo-fit",style:"z-index: 1;",showing:!1}],components:[{name:"client",classes:"enyo-touch-scroller"}],listReordering:!1,create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.transform=enyo.dom.canTransform(),this.transform||this.overscroll&&this.$.client.applyStyle("position","relative"),this.accel=enyo.dom.canAccelerate();var h="enyo-touch-strategy-container";enyo.platform.ios&&this.accel&&(h+=" enyo-composite"),this.scrimChanged(),this.intervalChanged(),this.fixedTimeChanged(),this.frameChanged(),this.container.addClass(h),this.translation=this.accel?"translate3d":"translate"}})),initComponents:enyo.inherit((function(s){return function(){this.createChrome(this.tools),s.apply(this,arguments)}})),destroy:enyo.inherit((function(s){return function(){this.container.removeClass("enyo-touch-strategy-container"),s.apply(this,arguments)}})),rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),enyo.makeBubble(this.$.client,"scroll"),this.calcBoundaries(),this.syncScrollMath(),this.thumb&&this.alertThumbs()}})),scrimChanged:function(){this.scrim&&!this.$.scrim&&this.makeScrim(),!this.scrim&&this.$.scrim&&this.$.scrim.destroy()},makeScrim:function(){var s=this.controlParent;this.controlParent=null,this.createChrome(this.scrimTools),this.controlParent=s;var h=this.container.hasNode();h&&(this.$.scrim.parentNode=h,this.$.scrim.render())},isScrolling:function(){var s=this.$.scrollMath;return s?s.isScrolling():this.scrolling},isOverscrolling:function(){var s=this.$.scrollMath||this;return!!this.overscroll&&Boolean(s.isInOverScroll())},domScroll:function(){this.isScrolling()||(this.calcBoundaries(),this.syncScrollMath(),this.thumb&&this.alertThumbs())},horizontalChanged:function(){this.$.scrollMath.horizontal="hidden"!=this.horizontal},verticalChanged:function(){this.$.scrollMath.vertical="hidden"!=this.vertical},maxHeightChanged:function(){this.$.client.applyStyle("max-height",this.maxHeight),this.$.client.addRemoveClass("enyo-scrollee-fit",!this.maxHeight)},thumbChanged:function(){this.hideThumbs()},intervalChanged:function(){this.$.scrollMath&&(this.$.scrollMath.interval=this.interval)},fixedTimeChanged:function(){this.$.scrollMath&&(this.$.scrollMath.fixedTime=this.fixedTime)},frameChanged:function(){this.$.scrollMath&&(this.$.scrollMath.frame=this.frame)},stop:function(){this.isScrolling()&&this.$.scrollMath.stop(!0)},stabilize:function(){this.$.scrollMath&&this.$.scrollMath.stabilize()},scrollTo:function(s,h){this.stop(),this.$.scrollMath.scrollTo(s,h||0===h?h:null)},scrollIntoView:enyo.inherit((function(s){return function(){this.stop(),s.apply(this,arguments)}})),setScrollLeft:enyo.inherit((function(s){return function(){this.stop(),s.apply(this,arguments)}})),setScrollTop:enyo.inherit((function(s){return function(){this.stop(),s.apply(this,arguments)}})),getScrollLeft:enyo.inherit((function(s){return function(){return this.isScrolling()?this.scrollLeft:s.apply(this,arguments)}})),getScrollTop:enyo.inherit((function(s){return function(){return this.isScrolling()?this.scrollTop:s.apply(this,arguments)}})),calcScrollNode:function(){return this.$.client.hasNode()},calcAutoScrolling:function(){var s="auto"==this.vertical,h="auto"==this.horizontal||"default"==this.horizontal;if((s||h)&&this.scrollNode){var l=this.getScrollBounds();s&&(this.$.scrollMath.vertical=l.height>l.clientHeight),h&&(this.$.scrollMath.horizontal=l.width>l.clientWidth)}},shouldDrag:function(s,h){this.calcAutoScrolling();var l=h.vertical,c=this.$.scrollMath.horizontal&&!l,d=this.$.scrollMath.vertical&&l,f=0>h.dy,p=0>h.dx,g=!f&&this.startEdges.top||f&&this.startEdges.bottom,y=!p&&this.startEdges.left||p&&this.startEdges.right;return h.boundaryDragger||!c&&!d||(h.boundaryDragger=this),!g&&d||!y&&c?(h.dragger=this,!0):void 0},flick:function(s,h){return(Math.abs(h.xVelocity)>Math.abs(h.yVelocity)?this.$.scrollMath.horizontal:this.$.scrollMath.vertical)&&this.dragging?(this.$.scrollMath.flick(h),this.preventDragPropagation):void 0},hold:function(s,h){if(this.isScrolling()&&!this.isOverscrolling())return(this.$.scrollMath||this).stop(h),!0},move:function(){},dragstart:function(s,h){return!!(!this.dragDuringGesture&&h.srcEvent.touches&&h.srcEvent.touches.length>1)||(this.doShouldDrag(h),this.dragging=h.dragger==this||!h.dragger&&h.boundaryDragger==this,!(!this.dragging||(h.preventDefault(),this.syncScrollMath(),this.$.scrollMath.startDrag(h),!this.preventDragPropagation))||void 0)},drag:function(s,h){return!this.listReordering&&void(this.dragging&&(h.preventDefault(),this.$.scrollMath.drag(h),this.scrim&&this.$.scrim.show()))},dragfinish:function(s,h){this.dragging&&(h.preventTap(),this.$.scrollMath.dragFinish(),this.dragging=!1,this.scrim&&this.$.scrim.hide())},mousewheel:function(s,h){return!this.dragging&&this.useMouseWheel&&(this.calcBoundaries(),this.syncScrollMath(),this.stabilize(),this.$.scrollMath.mousewheel(h))?(h.preventDefault(),!0):void 0},scrollMathStart:function(){this.scrollNode&&!this.isScrolling()&&(this.scrolling=!0,this.isOverscrolling()||this.calcBoundaries(),this.thumb&&this.showThumbs())},scrollMathScroll:function(s){this.overscroll?this.effectScroll(-s.x,-s.y):this.effectScroll(-Math.min(s.leftBoundary,Math.max(s.rightBoundary,s.x)),-Math.min(s.topBoundary,Math.max(s.bottomBoundary,s.y))),this.thumb&&this.updateThumbs()},scrollMathStop:function(){this.scrolling=!1,this.effectScrollStop(),this.thumb&&this.delayHideThumbs(100)},calcBoundaries:function(){var s=this.$.scrollMath||this,h=this._getScrollBounds();s.bottomBoundary=h.clientHeight-h.height,s.rightBoundary=h.clientWidth-h.width},syncScrollMath:function(){var s=this.$.scrollMath;s&&(s.setScrollX(-this.getScrollLeft()),s.setScrollY(-this.getScrollTop()))},effectScroll:function(s,h){this.scrollNode&&(this.scrollLeft=this.scrollNode.scrollLeft=s,this.scrollTop=this.scrollNode.scrollTop=h,this.effectOverscroll(null!==s?Math.round(s):s,null!==h?Math.round(h):h))},effectScrollStop:function(){this.effectOverscroll(null,null)},effectOverscroll:function(s,h){var l=this.scrollNode,c="0",d="0",f=this.accel?",0":"";null!==h&&Math.abs(h-l.scrollTop)>1&&(d=l.scrollTop-h),null!==s&&Math.abs(s-l.scrollLeft)>1&&(c=l.scrollLeft-s),this.transform?enyo.dom.transformValue(this.$.client,this.translation,c+"px, "+d+"px"+f):this.$.client.setBounds({left:c+"px",top:d+"px"})},getOverScrollBounds:function(){var s=this.$.scrollMath||this;return{overleft:Math.min(s.leftBoundary-s.x,0)||Math.max(s.rightBoundary-s.x,0),overtop:Math.min(s.topBoundary-s.y,0)||Math.max(s.bottomBoundary-s.y,0)}},_getScrollBounds:enyo.inherit((function(s){return function(){var h=s.apply(this,arguments);return enyo.mixin(h,this.getOverScrollBounds()),h}})),getScrollBounds:enyo.inherit((function(s){return function(){return this.stop(),s.apply(this,arguments)}})),alertThumbs:function(){this.showThumbs(),this.delayHideThumbs(500)},syncThumbs:function(){this.$.vthumb.sync(this),this.$.hthumb.sync(this)},updateThumbs:function(){this.$.vthumb.update(this),this.$.hthumb.update(this)},showThumbs:function(){this.syncThumbs(),"hidden"!=this.horizontal&&this.$.hthumb.show(),"hidden"!=this.vertical&&this.$.vthumb.show()},hideThumbs:function(){this.$.vthumb.hide(),this.$.hthumb.hide()},delayHideThumbs:function(s){this.$.vthumb.delayHide(s),this.$.hthumb.delayHide(s)}}),enyo.kind({name:"enyo.TranslateScrollStrategy",kind:"TouchScrollStrategy",translateOptimized:!1,components:[{name:"clientContainer",classes:"enyo-touch-scroller",components:[{name:"client"}]}],rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),enyo.makeBubble(this.$.clientContainer,"scroll")}})),getScrollSize:function(){var s=this.$.client.hasNode();return{width:s?s.scrollWidth:0,height:s?s.scrollHeight:0}},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),enyo.dom.transformValue(this.$.client,this.translation,"0,0,0")}})),calcScrollNode:function(){return this.$.clientContainer.hasNode()},maxHeightChanged:function(){this.$.client.applyStyle("min-height",this.maxHeight?null:"100%"),this.$.client.applyStyle("max-height",this.maxHeight),this.$.clientContainer.addRemoveClass("enyo-scrollee-fit",!this.maxHeight)},shouldDrag:enyo.inherit((function(s){return function(){return this.stop(),this.calcStartInfo(),s.apply(this,arguments)}})),syncScrollMath:enyo.inherit((function(s){return function(){this.translateOptimized||s.apply(this,arguments)}})),setScrollLeft:enyo.inherit((function(s){return function(h){if(this.stop(),this.translateOptimized){var l=this.$.scrollMath;l.setScrollX(-h),l.stabilize()}else s.apply(this,arguments)}})),setScrollTop:enyo.inherit((function(s){return function(h){if(this.stop(),this.translateOptimized){var l=this.$.scrollMath;l.setScrollY(-h),l.stabilize()}else s.apply(this,arguments)}})),getScrollLeft:enyo.inherit((function(s){return function(){return this.translateOptimized?this.scrollLeft:s.apply(this,arguments)}})),getScrollTop:enyo.inherit((function(s){return function(){return this.translateOptimized?this.scrollTop:s.apply(this,arguments)}})),scrollMathStart:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.scrollStarting=!0,this.startX=0,this.startY=0,!this.translateOptimized&&this.scrollNode&&(this.startX=this.getScrollLeft(),this.startY=this.getScrollTop())}})),scrollMathScroll:function(s){this.overscroll?(this.scrollLeft=-s.x,this.scrollTop=-s.y):(this.scrollLeft=-Math.min(s.leftBoundary,Math.max(s.rightBoundary,s.x)),this.scrollTop=-Math.min(s.topBoundary,Math.max(s.bottomBoundary,s.y))),this.isScrolling()&&(this.$.scrollMath.isScrolling()&&this.effectScroll(this.startX-this.scrollLeft,this.startY-this.scrollTop),this.thumb&&this.updateThumbs())},effectScroll:function(s,h){var l=s+"px, "+h+"px"+(this.accel?",0":"");enyo.dom.transformValue(this.$.client,this.translation,l)},effectScrollStop:function(){if(!this.translateOptimized){var s="0,0"+(this.accel?",0":""),h=this.$.scrollMath,l=this._getScrollBounds(),c=Boolean(l.maxTop+h.bottomBoundary||l.maxLeft+h.rightBoundary);enyo.dom.transformValue(this.$.client,this.translation,c?null:s),this.setScrollLeft(this.scrollLeft),this.setScrollTop(this.scrollTop),c&&enyo.dom.transformValue(this.$.client,this.translation,s)}},twiddle:function(){this.translateOptimized&&this.scrollNode&&(this.scrollNode.scrollTop=1,this.scrollNode.scrollTop=0)},down:enyo.nop}),enyo.kind({name:"enyo.TransitionScrollStrategy",kind:"enyo.TouchScrollStrategy",components:[{name:"clientContainer",classes:"enyo-touch-scroller",components:[{name:"client"}]}],events:{onScrollStart:"",onScroll:"",onScrollStop:""},handlers:{ondown:"down",ondragfinish:"dragfinish",onwebkitTransitionEnd:"transitionComplete"},tools:[{name:"vthumb",kind:"ScrollThumb",axis:"v",showing:!0},{name:"hthumb",kind:"ScrollThumb",axis:"h",showing:!1}],kFlickScalar:600,topBoundary:0,rightBoundary:0,bottomBoundary:0,leftBoundary:0,scrolling:!1,listener:null,boundaryX:0,boundaryY:0,stopTimeout:null,stopTimeoutMS:80,scrollInterval:null,scrollIntervalMS:50,transitions:{none:"",scroll:"3.8s cubic-bezier(.19,1,.28,1.0) 0s",bounce:"0.5s cubic-bezier(0.06,.5,.5,.94) 0s"},setScrollLeft:function(s){var h=this.scrollLeft;this.stop(),this.scrollLeft=s,(this.isInLeftOverScroll()||this.isInRightOverScroll())&&(this.scrollLeft=h),this.effectScroll()},setScrollTop:function(s){var h=this.scrollTop;this.stop(),this.scrollTop=s,(this.isInTopOverScroll()||this.isInBottomOverScroll())&&(this.scrollTop=h),this.effectScroll()},setScrollX:function(s){this.scrollLeft=-1*s},setScrollY:function(s){this.scrollTop=-1*s},getScrollLeft:function(){return this.scrollLeft},getScrollTop:function(){return this.scrollTop},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),enyo.dom.transformValue(this.$.client,this.translation,"0,0,0")}})),destroy:enyo.inherit((function(s){return function(){this.clearCSSTransitionInterval(),s.apply(this,arguments)}})),getScrollSize:function(){var s=this.$.client.hasNode();return{width:s?s.scrollWidth:0,height:s?s.scrollHeight:0}},horizontalChanged:function(){"hidden"==this.horizontal&&(this.scrollHorizontal=!1)},verticalChanged:function(){"hidden"==this.vertical&&(this.scrollVertical=!1)},intervalChanged:function(){this.interval!=enyo.TransitionScrollStrategy.prototype.interval&&this.warn("'interval' not implemented in TransitionScrollStrategy")},calcScrollNode:function(){return this.$.clientContainer.hasNode()},calcBoundaries:function(){var s=this._getScrollBounds();this.bottomBoundary=s.clientHeight-s.height,this.rightBoundary=s.clientWidth-s.width},maxHeightChanged:function(){this.$.client.applyStyle("min-height",this.maxHeight?null:"100%"),this.$.client.applyStyle("max-height",this.maxHeight),this.$.clientContainer.addRemoveClass("enyo-scrollee-fit",!this.maxHeight)},calcAutoScrolling:function(){var s=this.getScrollBounds();this.vertical&&(this.scrollVertical=s.height>s.clientHeight),this.horizontal&&(this.scrollHorizontal=s.width>s.clientWidth)},isInOverScroll:function(){return this.isInTopOverScroll()||this.isInBottomOverScroll()||this.isInLeftOverScroll()||this.isInRightOverScroll()},isInLeftOverScroll:function(){return this.getScrollLeft()<this.leftBoundary},isInRightOverScroll:function(){return!(0>=this.getScrollLeft)&&-1*this.getScrollLeft()<this.rightBoundary},isInTopOverScroll:function(){return this.getScrollTop()<this.topBoundary},isInBottomOverScroll:function(){return!(0>=this.getScrollTop())&&-1*this.getScrollTop()<this.bottomBoundary},calcStartInfo:function(){var s=this.getScrollBounds(),h=this.getScrollTop(),l=this.getScrollLeft();this.startEdges={top:0===h,bottom:h===s.maxTop,left:0===l,right:l===s.maxLeft}},mousewheel:function(s,h){if(!this.dragging&&this.useMouseWheel){this.calcBoundaries(),this.syncScrollMath(),this.stabilize();var l=this.vertical?h.wheelDeltaY||h.wheelDelta:0,c=parseFloat(this.getScrollTop())+-1*parseFloat(l);return c=this.bottomBoundary>-1*c?-1*this.bottomBoundary:this.topBoundary>c?this.topBoundary:c,this.setScrollTop(c),this.doScroll(),h.preventDefault(),!0}},scroll:function(){this.thumb&&this.updateThumbs(),this.calcBoundaries(),this.doScroll()},start:function(){this.startScrolling(),this.doScrollStart()},stop:function(){this.isScrolling()&&this.stopScrolling(),this.thumb&&this.delayHideThumbs(100),this.doScrollStop()},updateX:function(){var s=window.getComputedStyle(this.$.client.node,null).getPropertyValue(enyo.dom.getCssTransformProp()).split("(")[1];return s=void 0===s?0:s.split(")")[0].split(",")[4],-1*parseFloat(s)!==this.scrollLeft&&(this.scrollLeft=-1*parseFloat(s),!0)},updateY:function(){var s=window.getComputedStyle(this.$.client.node,null).getPropertyValue(enyo.dom.getCssTransformProp()).split("(")[1];return s=void 0===s?0:s.split(")")[0].split(",")[5],-1*parseFloat(s)!==this.scrollTop&&(this.scrollTop=-1*parseFloat(s),!0)},effectScroll:function(){var s=-1*this.scrollLeft+"px, "+-1*this.scrollTop+"px"+(this.accel?", 0":"");enyo.dom.transformValue(this.$.client,this.translation,s)},down:function(){var s=this;return this.isScrolling()&&!this.isOverscrolling()?(this.stopTimeout=setTimeout((function(){s.stop()}),this.stopTimeoutMS),!0):void 0},dragstart:function(s,h){return this.stopTimeout&&clearTimeout(this.stopTimeout),!!(!this.dragDuringGesture&&h.srcEvent.touches&&h.srcEvent.touches.length>1)||(this.shouldDrag(h),this.dragging=h.dragger==this||!h.dragger&&h.boundaryDragger==this,!(!this.dragging||(this.isScrolling()&&this.stopScrolling(),this.thumb&&this.showThumbs(),h.preventDefault(),this.prevY=h.pageY,this.prevX=h.pageX,!this.preventDragPropagation))||void 0)},shouldDrag:function(s){return this.calcStartInfo(),this.calcBoundaries(),this.calcAutoScrolling(),this.scrollHorizontal?this.scrollVertical&&this.shouldDragVertical(s)||this.shouldDragHorizontal(s):this.shouldDragVertical(s)},shouldDragVertical:function(s){var h=this.canDragVertical(s),l=this.oobVertical(s);return!s.boundaryDragger&&h&&(s.boundaryDragger=this),!l&&h?(s.dragger=this,!0):void 0},shouldDragHorizontal:function(s){var h=this.canDragHorizontal(s),l=this.oobHorizontal(s);return!s.boundaryDragger&&h&&(s.boundaryDragger=this),!l&&h?(s.dragger=this,!0):void 0},canDragVertical:function(s){return this.scrollVertical&&s.vertical},canDragHorizontal:function(s){return this.scrollHorizontal&&!s.vertical},oobVertical:function(s){var h=0>s.dy;return!h&&this.startEdges.top||h&&this.startEdges.bottom},oobHorizontal:function(s){var h=0>s.dx;return!h&&this.startEdges.left||h&&this.startEdges.right},drag:function(s,h){return!this.listReordering&&void(this.dragging&&(h.preventDefault(),this.scrollLeft=this.scrollHorizontal?this.calculateDragDistance(parseInt(this.getScrollLeft(),10),-1*(h.pageX-this.prevX),this.leftBoundary,this.rightBoundary):this.getScrollLeft(),this.scrollTop=this.scrollVertical?this.calculateDragDistance(this.getScrollTop(),-1*(h.pageY-this.prevY),this.topBoundary,this.bottomBoundary):this.getScrollTop(),this.effectScroll(),this.scroll(),this.prevY=h.pageY,this.prevX=h.pageX,this.resetBoundaryX(),this.resetBoundaryY()))},calculateDragDistance:function(s,h,l,c){var d=s+h;return this.overscrollDragDamping(s,d,h,l,c)},overscrollDragDamping:function(s,h,l,c,d){return(c>h||d>-1*h)&&(h=s+(l/=2)),h},resetBoundaryX:function(){this.boundaryX=0},resetBoundaryY:function(){this.boundaryY=0},dragfinish:function(s,h){this.dragging&&(h.preventTap(),this.dragging=!1,this.isScrolling()||this.correctOverflow(),this.scrim&&this.$.scrim.hide())},correctOverflow:function(){if(this.isInOverScroll()){var s=!!this.scrollHorizontal&&this.correctOverflowX(),h=!!this.scrollVertical&&this.correctOverflowY();!1!==s&&!1!==h?(this.scrollLeft=!1!==s?s:this.getScrollLeft(),this.scrollTop=!1!==h?h:this.getScrollTop(),this.startOverflowScrolling()):!1!==s?(this.scrollLeft=s,this.scrollTop=this.targetScrollTop||this.scrollTop,this.targetScrollLeft=this.getScrollLeft(),this.vertical?this.startScrolling():this.startOverflowScrolling()):!1!==h&&(this.scrollTop=h,this.scrollLeft=this.targetScrollLeft||this.scrollLeft,this.targetScrollTop=this.getScrollTop(),this.scrollHorizontal?this.startScrolling():this.startOverflowScrolling())}},correctOverflowX:function(){if(this.isInLeftOverScroll()){if(this.beyondBoundary(this.getScrollLeft(),this.leftBoundary,this.boundaryX))return this.leftBoundary}else if(this.isInRightOverScroll()&&this.beyondBoundary(this.getScrollLeft(),this.rightBoundary,this.boundaryX))return-1*this.rightBoundary;return!1},correctOverflowY:function(){if(this.isInTopOverScroll()){if(this.beyondBoundary(this.getScrollTop(),this.topBoundary,this.boundaryY))return this.topBoundary}else if(this.isInBottomOverScroll()&&this.beyondBoundary(this.getScrollTop(),this.bottomBoundary,this.boundaryY))return-1*this.bottomBoundary;return!1},beyondBoundary:function(s,h,l){return Math.abs(Math.abs(h)-Math.abs(s))>Math.abs(l)},flick:function(s,h){return this.dragging&&this.flickOnEnabledAxis(h)?(this.scrollLeft=this.scrollHorizontal?this.calculateFlickDistance(this.scrollLeft,-1*h.xVelocity):this.getScrollLeft(),this.scrollTop=this.scrollVertical?this.calculateFlickDistance(this.scrollTop,-1*h.yVelocity):this.getScrollTop(),this.targetScrollLeft=this.scrollLeft,this.targetScrollTop=this.scrollTop,this.boundaryX=null,this.boundaryY=null,this.isInLeftOverScroll()?this.boundaryX=this.figureBoundary(this.getScrollLeft()):this.isInRightOverScroll()&&(this.boundaryX=this.figureBoundary(-1*this.bottomBoundary-this.getScrollLeft())),this.isInTopOverScroll()?this.boundaryY=this.figureBoundary(this.getScrollTop()):this.isInBottomOverScroll()&&(this.boundaryY=this.figureBoundary(-1*this.bottomBoundary-this.getScrollTop())),this.startScrolling(),this.preventDragPropagation):void 0},flickOnEnabledAxis:function(s){return Math.abs(s.xVelocity)>Math.abs(s.yVelocity)?this.scrollHorizontal:this.scrollVertical},calculateFlickDistance:function(s,h){return s+h*this.kFlickScalar},startScrolling:function(){this.applyTransition("scroll"),this.effectScroll(),this.setCSSTransitionInterval(),this.scrolling=!0},startOverflowScrolling:function(){this.applyTransition("bounce"),this.effectScroll(),this.setOverflowTransitionInterval(),this.scrolling=!0},applyTransition:function(s){this.$.client.applyStyle("-webkit-transition",this.transitions[s])},stopScrolling:function(){this.resetCSSTranslationVals(),this.clearCSSTransitionInterval(),this.scrolling=!1},setCSSTransitionInterval:function(){this.clearCSSTransitionInterval(),this.scrollInterval=setInterval(this.bindSafely((function(){this.updateScrollPosition(),this.correctOverflow()})),this.scrollIntervalMS)},setOverflowTransitionInterval:function(){this.clearCSSTransitionInterval(),this.scrollInterval=setInterval(this.bindSafely((function(){this.updateScrollPosition()})),this.scrollIntervalMS)},updateScrollPosition:function(){var s=this.updateY(),h=this.updateX();this.scroll(),s||h||this.stop()},clearCSSTransitionInterval:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null)},resetCSSTranslationVals:function(){var s=enyo.dom.getCssTransformProp(),h=window.getComputedStyle(this.$.client.node,null).getPropertyValue(s).split("(")[1].split(")")[0].split(",");this.applyTransition("none"),this.scrollLeft=-1*h[4],this.scrollTop=-1*h[5],this.effectScroll()},figureBoundary:function(s){var h=Math.abs(s),l=h-h/Math.pow(h,.02);return 0>s?-1*l:l},transitionComplete:function(s,h){if(h.originator===this.$.client){var l=!1;this.isInTopOverScroll()?(l=!0,this.scrollTop=this.topBoundary):this.isInBottomOverScroll()&&(l=!0,this.scrollTop=-1*this.bottomBoundary),this.isInLeftOverScroll()?(l=!0,this.scrollLeft=this.leftBoundary):this.isInRightOverScroll()&&(l=!0,this.scrollLeft=-1*this.rightBoundary),l?this.startOverflowScrolling():this.stop()}},scrollTo:function(s,h){this.setScrollTop(h),this.setScrollLeft(s),this.start()},getOverScrollBounds:function(){return{overleft:Math.min(this.leftBoundary+this.scrollLeft,0)||Math.max(this.rightBoundary+this.scrollLeft,0),overtop:Math.min(this.topBoundary+this.scrollTop,0)||Math.max(this.bottomBoundary+this.scrollTop,0)}}}),enyo.kind({name:"enyo.Scroller",published:{horizontal:"default",vertical:"default",scrollTop:0,scrollLeft:0,maxHeight:null,touch:!1,strategyKind:"ScrollStrategy",thumb:!0,useMouseWheel:!0},events:{onScrollStart:"",onScroll:"",onScrollStop:""},touchOverscroll:!0,preventDragPropagation:!0,preventScrollPropagation:!0,noDefer:!0,handlers:{onscroll:"domScroll",onScrollStart:"scrollStart",onScroll:"scroll",onScrollStop:"scrollStop"},classes:"enyo-scroller",statics:{osInfo:[{os:"android",version:3},{os:"androidChrome",version:18},{os:"androidFirefox",version:16},{os:"firefoxOS",version:16},{os:"ios",version:5},{os:"webos",version:1e9},{os:"blackberry",version:1e9},{os:"tizen",version:2}],hasTouchScrolling:function(){for(var s,h=0;s=this.osInfo[h];h++)if(enyo.platform[s.os])return!0;return!(!(enyo.platform.ie>=10||enyo.platform.windowsPhone>=8)||!enyo.platform.touch)||void 0},hasNativeScrolling:function(){for(var s,h=0;s=this.osInfo[h];h++)if(enyo.platform[s.os]<s.version)return!1;return!0},getTouchStrategy:function(){return enyo.platform.android>=3||8===enyo.platform.windowsPhone||enyo.platform.webos>=4?"TranslateScrollStrategy":"TouchScrollStrategy"}},controlParentName:"strategy",create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.horizontalChanged(),this.verticalChanged(),this.useMouseWheelChanged()}})),importProps:enyo.inherit((function(s){return function(h){s.apply(this,arguments),h&&void 0===h.strategyKind&&(enyo.Scroller.touchScrolling||this.touch)&&(this.strategyKind=enyo.Scroller.getTouchStrategy())}})),initComponents:enyo.inherit((function(s){return function(){this.strategyKindChanged(),s.apply(this,arguments)}})),teardownChildren:enyo.inherit((function(s){return function(){this.cacheScrollPosition(),s.apply(this,arguments)}})),rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.restoreScrollPosition()}})),strategyKindChanged:function(){this.$.strategy&&(this.$.strategy.destroy(),this.controlParent=null),this.createStrategy(),this.hasNode()&&this.render()},createStrategy:function(){this.createComponents([{name:"strategy",maxHeight:this.maxHeight,kind:this.strategyKind,thumb:this.thumb,preventDragPropagation:this.preventDragPropagation,overscroll:this.touchOverscroll,isChrome:!0}])},getStrategy:function(){return this.$.strategy},maxHeightChanged:function(){this.$.strategy.setMaxHeight(this.maxHeight)},showingChanged:enyo.inherit((function(s){return function(){this.showing||this.cacheScrollPosition(!0),s.apply(this,arguments),this.showing&&this.restoreScrollPosition()}})),thumbChanged:function(){this.$.strategy.setThumb(this.thumb)},cacheScrollPosition:function(s){var h={left:this.getScrollLeft(),top:this.getScrollTop()};s&&(this.setScrollLeft(0),this.setScrollTop(0)),this.cachedPosition=h},restoreScrollPosition:function(){if(this.cachedPosition){var s=this.cachedPosition;(s.top||s.left)&&(this.cachedPosition=null,this.setScrollLeft(s.left),this.setScrollTop(s.top))}},horizontalChanged:function(){this.$.strategy.setHorizontal(this.horizontal)},verticalChanged:function(){this.$.strategy.setVertical(this.vertical)},setScrollLeft:function(s){this.scrollLeft=s,this.cachedPosition&&(this.cachedPosition.left=s),this.$.strategy.setScrollLeft(this.scrollLeft)},setScrollTop:function(s){this.scrollTop=s,this.cachedPosition&&(this.cachedPosition.top=s),this.$.strategy.setScrollTop(s)},getScrollLeft:function(){return this.scrollLeft=this.$.strategy.getScrollLeft(),this.scrollLeft},getScrollTop:function(){return this.scrollTop=this.$.strategy.getScrollTop(),this.scrollTop},getScrollBounds:function(){var s=this.$.strategy.getScrollBounds();return(-1!==s.xDir&&0!==s.xDir&&1!==s.xDir||-1!==s.yDir&&0!==s.yDir&&1!==s.yDir)&&this.decorateBounds(s),this.scrollTop=s.top,this.scrollLeft=s.left,s},scrollIntoView:function(s,h){this.$.strategy.scrollIntoView(s,h)},scrollTo:function(s,h){this.$.strategy.scrollTo(s,h)},scrollToControl:function(s,h){this.scrollToNode(s.hasNode(),h)},scrollToNode:function(s,h){this.$.strategy.scrollToNode(s,h)},decorateScrollEvent:function(s){var h=s.scrollBounds=s.scrollBounds||this.$.strategy._getScrollBounds();(-1!==h.xDir&&0!==h.xDir&&1!==h.xDir||-1!==h.yDir&&0!==h.yDir&&1!==h.yDir)&&this.decorateBounds(h),this.scrollTop=h.top,this.scrollLeft=h.left},decorateBounds:function(s){var h=this.scrollLeft-s.left,l=this.scrollTop-s.top;s.xDir=0>h?1:h>0?-1:0,s.yDir=0>l?1:l>0?-1:0,this.scrollLeft=s.left,this.scrollTop=s.top},domScroll:function(s,h){return this.$.strategy.domScroll&&h.originator==this&&this.$.strategy.domScroll(s,h),this.decorateScrollEvent(h),this.doScroll(h),!0},shouldStopScrollEvent:function(s){return this.preventScrollPropagation&&s.originator.owner!=this.$.strategy},scrollStart:function(s,h){return!!this.shouldStopScrollEvent(h)||(this.decorateScrollEvent(h),!1)},scroll:function(s,h){return!!(h.dispatchTarget?this.preventScrollPropagation&&!(h.originator==this||h.originator.owner==this.$.strategy):this.shouldStopScrollEvent(h))||(this.decorateScrollEvent(h),!1)},scrollStop:function(s,h){return!!this.shouldStopScrollEvent(h)||(this.decorateScrollEvent(h),!1)},scrollToTop:function(){this.setScrollTop(0)},scrollToBottom:function(){this.setScrollTop(this.getScrollBounds().maxTop)},scrollToRight:function(){this.setScrollLeft(this.getScrollBounds().maxLeft)},scrollToLeft:function(){this.setScrollLeft(0)},stabilize:function(){var s=this.getStrategy();s.stabilize&&s.stabilize()},useMouseWheelChanged:function(){this.$.strategy.setUseMouseWheel(this.useMouseWheel)},resized:enyo.inherit((function(s){return function(){this.getAbsoluteShowing(!0)&&s.apply(this,arguments)}}))}),enyo.Scroller.hasTouchScrolling()&&(enyo.Scroller.prototype.strategyKind=enyo.Scroller.getTouchStrategy()),enyo.kind({name:"enyo.Anchor",kind:"enyo.Control",tag:"a",published:{href:"",title:""},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.hrefChanged(),this.titleChanged()}})),hrefChanged:function(){this.setAttribute("href",this.href)},titleChanged:function(){this.setAttribute("title",this.title)}}),enyo.kind({name:"enyo.Animator",kind:"Component",published:{duration:350,startValue:0,endValue:1,node:null,easingFunction:enyo.easing.cubicOut},events:{onStep:"",onEnd:"",onStop:""},constructed:enyo.inherit((function(s){return function(){s.apply(this,arguments),this._next=this.bindSafely("next")}})),destroy:enyo.inherit((function(s){return function(){this.stop(),s.apply(this,arguments)}})),play:function(s){return this.stop(),this.reversed=!1,s&&enyo.mixin(this,s),this.t0=this.t1=enyo.perfNow(),this.value=this.startValue,enyo.jobs.registerPriority(5,this.id),this.job=!0,this.next(),this},stop:function(){return this.isAnimating()?(this.cancel(),this.fire("onStop"),this):void 0},reverse:function(){if(this.isAnimating()){this.reversed=!this.reversed;var s=this.t1=enyo.perfNow(),h=s-this.t0;this.t0=s+h-this.duration;var l=this.startValue;return this.startValue=this.endValue,this.endValue=l,this}},isAnimating:function(){return Boolean(this.job)},requestNext:function(){this.job=enyo.requestAnimationFrame(this._next,this.node)},cancel:function(){enyo.cancelRequestAnimationFrame(this.job),this.node=null,this.job=null,enyo.jobs.unregisterPriority(this.id)},shouldEnd:function(){return this.dt>=this.duration},next:function(){this.t1=enyo.perfNow(),this.dt=this.t1-this.t0;var s,h=this.easingFunction.length;1===h?(s=this.fraction=enyo.easedLerp(this.t0,this.duration,this.easingFunction,this.reversed),this.value=this.startValue+s*(this.endValue-this.startValue)):this.value=enyo.easedComplexLerp(this.t0,this.duration,this.easingFunction,this.reversed,this.dt,this.startValue,this.endValue-this.startValue),s>=1&&1===h||this.shouldEnd()?(this.value=this.endValue,this.fraction=1,this.fire("onStep"),this.cancel(),this.fire("onEnd")):(this.fire("onStep"),this.requestNext())},fire:function(s){var h=this[s];enyo.isString(h)?this.bubble(s):h&&h.call(this.context||window,this)}}),enyo.kind({name:"enyo.BaseLayout",kind:"enyo.Layout",layoutClass:"enyo-positioned",reflow:function(){enyo.forEach(this.container.children,(function(s){null!==s.fit&&s.addRemoveClass("enyo-fit",s.fit)}),this)}}),enyo.kind({name:"enyo.Image",noEvents:!1,published:{alt:"",sizing:"",position:"center"},tag:"img",classes:"enyo-image",attributes:{draggable:"false"},create:enyo.inherit((function(s){return function(){this.noEvents&&(delete this.attributes.onload,delete this.attributes.onerror),s.apply(this,arguments),this.altChanged(),this.sizingChanged()}})),srcChanged:enyo.inherit((function(s){return function(){this.sizing&&this.src?this.applyStyle("background-image","url("+enyo.path.rewrite(this.src)+")"):s.apply(this,arguments)}})),altChanged:function(){this.setAttribute("alt",this.alt)},sizingChanged:function(s){this.tag=this.sizing?"div":"img",this.addRemoveClass("sized",!!this.sizing),this.inOld&&this.removeClass(s),this.sizing&&this.addClass(this.sizing),this.generated&&(this.srcChanged(),this.render())},positionChanged:function(){this.sizing&&this.applyStyle("background-position",this.containPosition)},rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),enyo.makeBubble(this,"load","error")}})),statics:{placeholder:"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBzdHlsZT0ic3Ryb2tlOiAjNDQ0OyBzdHJva2Utd2lkdGg6IDE7IGZpbGw6ICNhYWE7IiAvPjxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjEwMCUiIHkyPSIxMDAlIiBzdHlsZT0ic3Ryb2tlOiAjNDQ0OyBzdHJva2Utd2lkdGg6IDE7IiAvPjxsaW5lIHgxPSIxMDAlIiB5MT0iMCIgeDI9IjAiIHkyPSIxMDAlIiBzdHlsZT0ic3Ryb2tlOiAjNDQ0OyBzdHJva2Utd2lkdGg6IDE7IiAvPjwvc3ZnPg=="}}),enyo.kind({name:"enyo.Input",published:{value:"",placeholder:"",type:"",disabled:!1,selectOnFocus:!1},events:{onDisabledChange:""},defaultFocus:!1,tag:"input",classes:"enyo-input",handlers:{onfocus:"focused",oninput:"input",onclear:"clear",ondragstart:"dragstart"},create:enyo.inherit((function(s){return function(){enyo.platform.ie&&(this.handlers.onkeyup="iekeyup"),enyo.platform.windowsPhone&&(this.handlers.onkeydown="iekeydown"),s.apply(this,arguments),this.placeholderChanged(),this.type&&this.typeChanged(),this.valueChanged()}})),rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),enyo.makeBubble(this,"focus","blur"),8==enyo.platform.ie&&this.setAttribute("onchange",enyo.bubbler),this.disabledChanged(),this.defaultFocus&&this.focus()}})),typeChanged:function(){this.setAttribute("type",this.type)},placeholderChanged:function(){this.setAttribute("placeholder",this.placeholder)},disabledChanged:function(){this.setAttribute("disabled",this.disabled),this.bubble("onDisabledChange")},valueChanged:function(){var s=this.hasNode(),h=this.attributes;s?(s.value!==this.value&&(s.value=this.value),h.value=this.value):this.setAttribute("value",this.value)},iekeyup:function(s,h){var l=enyo.platform.ie,c=h.keyCode;(8>=l||9==l&&(8==c||46==c))&&this.bubble("oninput",h)},iekeydown:function(s,h){var l=enyo.platform.windowsPhone,c=h.keyCode,d=h.dispatchTarget;8>=l&&13==c&&"input"==this.tag&&d.hasNode()&&d.node.blur()},clear:function(){this.setValue("")},dragstart:function(){return this.hasFocus()},focused:function(){this.selectOnFocus&&enyo.asyncMethod(this,"selectContents")},selectContents:function(){var s=this.hasNode();if(s&&s.setSelectionRange)s.setSelectionRange(0,s.value.length);else if(s&&s.createTextRange){var h=s.createTextRange();h.expand("textedit"),h.select()}},input:function(){var s=this.getNodeProperty("value");this.setValue(s)}}),enyo.kind({name:"enyo.RichText",classes:"enyo-richtext enyo-selectable",published:{allowHtml:!0,disabled:!1,value:""},defaultFocus:!1,protectedStatics:{osInfo:[{os:"android",version:3},{os:"ios",version:5}],hasContentEditable:function(){for(var s,h=0;s=enyo.RichText.osInfo[h];h++)if(enyo.platform[s.os]<s.version)return!1;return!0}},kind:"enyo.Input",attributes:{contenteditable:!0},handlers:{onfocus:"focusHandler",onblur:"blurHandler",onkeyup:"updateValue",oncut:"updateValueAsync",onpaste:"updateValueAsync",oninput:null},create:enyo.inherit((function(s){return function(){this.setTag(enyo.RichText.hasContentEditable()?"div":"textarea"),s.apply(this,arguments),this.disabledChanged()}})),focusHandler:function(){this._value=this.get("value")},blurHandler:function(){this._value!==this.get("value")&&this.bubble("onchange")},valueChanged:function(){var s=this.get("value");this.hasFocus()&&s!==this.node.innerHTML?(this.selectAll(),this.insertAtCursor(s)):this.hasFocus()||this.set("content",s)},disabledChanged:function(){"div"===this.tag?this.setAttribute("contenteditable",this.disabled?null:"true"):this.setAttribute("disabled",this.disabled),this.bubble("onDisabledChange")},updateValue:function(){var s=this.node.innerHTML;this.set("value",s)},updateValueAsync:function(){enyo.asyncMethod(this.bindSafely("updateValue"))},hasFocus:function(){return this.hasNode()?document.activeElement===this.node:void 0},getSelection:function(){return this.hasFocus()?window.getSelection():void 0},removeSelection:function(s){var h=this.getSelection();h&&h[s?"collapseToStart":"collapseToEnd"]()},modifySelection:function(s,h,l){var c=this.getSelection();c&&c.modify(s||"move",h,l)},moveCursor:function(s,h){this.modifySelection("move",s,h)},moveCursorToEnd:function(){this.moveCursor("forward","documentboundary")},moveCursorToStart:function(){this.moveCursor("backward","documentboundary")},selectAll:function(){this.hasFocus()&&document.execCommand("selectAll")},insertAtCursor:function(s){if(this.hasFocus()){var h=this.allowHtml?s:enyo.Control.escapeHtml(s).replace(/\n/g,"<br/>");document.execCommand("insertHTML",!1,h)}}}),enyo.kind({name:"enyo.TextArea",kind:"enyo.Input",tag:"textarea",classes:"enyo-textarea",rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.valueChanged()}}))}),enyo.kind({name:"enyo.Select",published:{selected:0},handlers:{onchange:"change"},tag:"select",defaultKind:"enyo.Option",rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),8==enyo.platform.ie&&this.setAttribute("onchange",enyo.bubbler),this.selectedChanged()}})),getSelected:function(){return Number(this.getNodeProperty("selectedIndex",this.selected))},selectedChanged:function(){this.setNodeProperty("selectedIndex",this.selected)},change:function(){this.selected=this.getSelected()},render:enyo.inherit((function(s){return function(){enyo.platform.ie?this.parent.render():s.apply(this,arguments)}})),getValue:function(){return this.hasNode()?this.node.value:void 0}}),enyo.kind({name:"enyo.Option",published:{value:""},tag:"option",create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.valueChanged()}})),valueChanged:function(){this.setAttribute("value",this.value)}}),enyo.kind({name:"enyo.OptionGroup",published:{label:""},tag:"optgroup",defaultKind:"enyo.Option",create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.labelChanged()}})),labelChanged:function(){this.setAttribute("label",this.label)}}),enyo.kind({name:"enyo.Group",published:{highlander:!0,allowHighlanderDeactivate:!1,active:null,groupName:null},handlers:{onActivate:"activate"},activate:function(s,h){(!this.groupName&&!h.originator.groupName||h.originator.groupName==this.groupName)&&this.highlander&&(void 0!==h.allowHighlanderDeactivate&&h.allowHighlanderDeactivate!==this.allowHighlanderDeactivate&&this.setAllowHighlanderDeactivate(h.allowHighlanderDeactivate),h.originator.active?this.setActive(h.originator):h.originator==this.active&&(this.allowHighlanderDeactivate?this.setActive(null):this.active.setActive(!0)))},activeChanged:function(s){s&&(s.setActive(!1),s.removeClass("active")),this.active&&this.active.addClass("active")}}),enyo.kind({name:"enyo.GroupItem",published:{active:!1},rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.activeChanged()}})),activeChanged:function(){this.bubble("onActivate")}}),enyo.kind({name:"enyo.ToolDecorator",kind:"enyo.GroupItem",classes:"enyo-tool-decorator"}),enyo.kind({name:"enyo.Button",kind:"enyo.ToolDecorator",tag:"button",attributes:{type:"button"},published:{disabled:!1},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.disabledChanged()}})),disabledChanged:function(){this.setAttribute("disabled",this.disabled)},tap:function(){return!!this.disabled||void this.setActive(!0)}}),enyo.kind({name:"enyo.Checkbox",kind:"enyo.Input",classes:"enyo-checkbox",events:{onActivate:""},published:{checked:!1,active:!1,type:"checkbox"},kindClasses:"",handlers:{onchange:"change",onclick:"click"},rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.active&&this.activeChanged(),this.checkedChanged()}})),checkedChanged:function(){this.setNodeProperty("checked",this.checked),this.setAttribute("checked",this.checked?"checked":""),this.setActive(this.checked)},activeChanged:function(){this.active=enyo.isTrue(this.active),this.setChecked(this.active),this.bubble("onActivate")},setValue:function(s){this.setChecked(enyo.isTrue(s))},getValue:function(){return this.getChecked()},valueChanged:function(){},change:function(){var s=enyo.isTrue(this.getNodeProperty("checked"));this.setActive(s)},click:function(s,h){8>=enyo.platform.ie&&this.bubble("onchange",h)}}),enyo.kind({name:"enyo.Repeater",published:{count:0},events:{onSetupItem:""},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.countChanged()}})),initComponents:enyo.inherit((function(s){return function(){this.itemComponents=this.components||this.kindComponents,this.components=this.kindComponents=null,s.apply(this,arguments)}})),countChanged:function(){this.build()},itemAtIndex:function(s){return this.controlAtIndex(s)},build:function(){this.destroyClientControls();for(var s,h=0;this.count>h;h++)(s=this.createComponent({kind:"enyo.OwnerProxy",index:h})).createComponents(this.itemComponents),this.doSetupItem({index:h,item:s});this.render()},renderRow:function(s){var h=this.itemAtIndex(s);this.doSetupItem({index:s,item:h})}}),enyo.kind({name:"enyo.OwnerProxy",tag:null,decorateEvent:enyo.inherit((function(s){return function(h,l){l&&(enyo.exists(l.index)?(l.indices=l.indices||[l.index],l.indices.push(this.index)):l.index=this.index,l.delegate&&l.delegate.owner===this&&(l.delegate=this.owner)),s.apply(this,arguments)}}))}),enyo.kind({name:"enyo._DragAvatar",style:"position: absolute; z-index: 10; pointer-events: none; cursor: move;",showing:!1,showingChanged:enyo.inherit((function(s){return function(){s.apply(this,arguments),document.body.style.cursor=this.showing?"move":null}}))}),enyo.kind({name:"enyo.DragAvatar",kind:"enyo.Component",published:{showing:!1,offsetX:20,offsetY:30},initComponents:enyo.inherit((function(s){return function(){this.avatarComponents=this.components,this.components=null,s.apply(this,arguments)}})),requireAvatar:function(){this.avatar||(this.avatar=this.createComponent({kind:enyo._DragAvatar,parentNode:document.body,showing:!1,components:this.avatarComponents}).render())},showingChanged:function(){this.avatar.setShowing(this.showing),document.body.style.cursor=this.showing?"move":null},drag:function(s){this.requireAvatar(),this.avatar.setBounds({top:s.pageY-this.offsetY,left:s.pageX+this.offsetX}),this.show()},show:function(){this.setShowing(!0)},hide:function(){this.setShowing(!1)}}),enyo.kind({name:"enyo.FloatingLayer",create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.setParent(null)}})),hasNode:enyo.inherit((function(s){return function(){return s.apply(this,arguments),this.node&&!this.node.parentNode&&this.teardownRender(),this.node}})),render:enyo.inherit((function(s){return function(){return this.parentNode=document.body,s.apply(this,arguments)}})),generateInnerHtml:function(){return""},beforeChildRender:function(){this.hasNode()||this.render()},teardownChildren:function(){}}),enyo.floatingLayer=new enyo.FloatingLayer,enyo.kind({name:"enyo.Popup",classes:"enyo-popup enyo-no-touch-action",published:{modal:!1,autoDismiss:!0,floating:!1,centered:!1,showTransitions:!1,allowDefault:!1},showing:!1,handlers:{onkeydown:"keydown",ondragstart:"dragstart",onfocus:"focus",onblur:"blur",onRequestShow:"requestShow",onRequestHide:"requestHide"},captureEvents:!0,eventsToCapture:{ondown:"capturedDown",ontap:"capturedTap"},events:{onShow:"",onHide:""},tools:[{kind:"Signals",onKeydown:"keydown"}],create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.canGenerate=!this.floating}})),render:enyo.inherit((function(s){return function(){this.floating&&(enyo.floatingLayer.hasNode()||enyo.floatingLayer.render(),this.parentNode=enyo.floatingLayer.hasNode()),s.apply(this,arguments)}})),destroy:enyo.inherit((function(s){return function(){this.release(),s.apply(this,arguments)}})),reflow:enyo.inherit((function(s){return function(){this.updatePosition(),s.apply(this,arguments)}})),calcViewportSize:function(){if(window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var s=document.documentElement;return{width:s.offsetWidth,height:s.offsetHeight}},updatePosition:function(){var s=this.calcViewportSize(),h=this.getBounds();if(this.targetPosition){var l=this.targetPosition;"number"==typeof l.left?l.left+h.width>s.width?(l.right=l.left-h.width>=0?s.width-l.left:0,l.left=null):l.right=null:"number"==typeof l.right&&(l.right+h.width>s.width?(l.left=l.right-h.width>=0?s.width-l.right:0,l.right=null):l.left=null),"number"==typeof l.top?l.top+h.height>s.height?(l.bottom=l.top-h.height>=0?s.height-l.top:0,l.top=null):l.bottom=null:"number"==typeof l.bottom&&(l.bottom+h.height>s.height?(l.top=l.bottom-h.height>=0?s.height-l.bottom:0,l.bottom=null):l.top=null),this.addStyles("left: "+(null!==l.left?l.left+"px":"initial")+"; right: "+(null!==l.right?l.right+"px":"initial")+"; top: "+(null!==l.top?l.top+"px":"initial")+"; bottom: "+(null!==l.bottom?l.bottom+"px":"initial")+";")}else if(this.centered){var c=this.getInstanceOwner().getBounds();this.addStyles("top: "+Math.max((c.height-h.height)/2,0)+"px; left: "+Math.max((c.width-h.width)/2,0)+"px;")}},showingChanged:enyo.inherit((function(s){return function(){this.floating&&this.showing&&!this.hasNode()&&this.render(),(this.centered||this.targetPosition)&&(this.showTransitions||this.applyStyle("visibility","hidden"),this.addStyles("top: 0px; left: 0px; right: initial; bottom: initial;")),s.apply(this,arguments),this.showing?(this.resized(),this.captureEvents&&this.capture()):this.captureEvents&&this.release(),(this.centered||this.targetPosition&&!this.showTransitions)&&this.applyStyle("visibility",null),this.hasNode()&&this[this.showing?"doShow":"doHide"]()}})),capture:function(){enyo.dispatcher.capture(this,this.eventsToCapture)},release:function(){enyo.dispatcher.release(this)},capturedDown:function(s,h){return this.downEvent=h,this.modal&&!this.allowDefault&&h.preventDefault(),this.modal},capturedTap:function(s,h){return this.autoDismiss&&!h.dispatchTarget.isDescendantOf(this)&&this.downEvent&&!this.downEvent.dispatchTarget.isDescendantOf(this)&&(this.downEvent=null,this.hide()),this.modal},dragstart:function(s,h){var l=h.dispatchTarget===this||h.dispatchTarget.isDescendantOf(this);return s.autoDismiss&&!l&&s.setShowing(!1),!0},keydown:function(s,h){this.showing&&this.autoDismiss&&27==h.keyCode&&this.hide()},blur:function(s,h){h.dispatchTarget.isDescendantOf(this)&&(this.lastFocus=h.originator)},focus:function(s,h){var l=h.dispatchTarget;if(this.modal&&!l.isDescendantOf(this)){l.hasNode()&&l.node.blur();var c=this.lastFocus&&this.lastFocus.hasNode()||this.hasNode();c&&c.focus()}},requestShow:function(){return this.show(),!0},requestHide:function(){return this.hide(),!0},showAtEvent:function(s,h){var l={left:s.centerX||s.clientX||s.pageX,top:s.centerY||s.clientY||s.pageY};h&&(l.left+=h.left||0,l.top+=h.top||0),this.showAtPosition(l)},showAtPosition:function(s){this.targetPosition=s,this.show()}}),enyo.kind({name:"enyo.Selection",kind:"enyo.Component",published:{multi:!1},events:{onSelect:"",onDeselect:"",onChange:""},create:enyo.inherit((function(s){return function(){this.clear(),s.apply(this,arguments)}})),multiChanged:function(){this.multi||this.clear(),this.doChange()},highlander:function(){this.multi||this.deselect(this.lastSelected)},clear:function(){this.selected={}},isSelected:function(s){return this.selected[s]},setByKey:function(s,h,l){if(h)this.selected[s]=l||!0,this.lastSelected=s,this.doSelect({key:s,data:this.selected[s]});else{var c=this.isSelected(s);delete this.selected[s],this.doDeselect({key:s,data:c})}this.doChange()},deselect:function(s){this.isSelected(s)&&this.setByKey(s,!1)},select:function(s,h){this.multi?this.setByKey(s,!this.isSelected(s),h):this.isSelected(s)||(this.highlander(),this.setByKey(s,!0,h))},toggle:function(s,h){this.multi||this.lastSelected==s||this.deselect(this.lastSelected),this.setByKey(s,!this.isSelected(s),h)},getSelected:function(){return this.selected},remove:function(s){var h={};for(var l in this.selected)s>l?h[l]=this.selected[l]:l>s&&(h[l-1]=this.selected[l]);this.selected=h}}),enyo.kind({name:"enyo.Drawer",published:{open:!0,orient:"v",animated:!0,resizeContainer:!0},events:{onDrawerAnimationStep:"",onDrawerAnimationEnd:""},style:"overflow: hidden; position: relative;",tools:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorEnd"},{name:"client",style:"position: relative;",classes:"enyo-border-box"}],create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.animatedChanged(),this.openChanged()}})),initComponents:enyo.inherit((function(s){return function(){this.createChrome(this.tools),s.apply(this,arguments)}})),animatedChanged:function(){!this.animated&&this.hasNode()&&this.$.animator.isAnimating()&&(this.$.animator.stop(),this.animatorEnd())},openChanged:function(){if(this.$.client.show(),this.hasNode())if(this.$.animator.isAnimating())this.$.animator.reverse();else{var s="v"==this.orient,h=s?"height":"width",l=s?"top":"left";this.applyStyle(h,null);var c=this.hasNode()[s?"scrollHeight":"scrollWidth"];this.animated?this.$.animator.play({startValue:this.open?0:c,endValue:this.open?c:0,dimension:h,position:l}):this.animatorEnd()}else this.$.client.setShowing(this.open)},animatorStep:function(s){if(this.hasNode()){var h=s.dimension;this.node.style[h]=this.domStyles[h]=s.value+"px"}var l=this.$.client.hasNode();if(l){var c=s.position,d=this.open?s.endValue:s.startValue;l.style[c]=this.$.client.domStyles[c]=s.value-d+"px"}return this.container&&this.resizeContainer&&this.container.resized(),this.doDrawerAnimationStep(),!0},animatorEnd:function(){if(this.open){this.$.client.domCssText=enyo.Control.domStylesToCssText(this.$.client.domStyles);var s="v"==this.orient,h=s?"height":"width",l=s?"top":"left",c=this.$.client.hasNode();c&&(c.style[l]=this.$.client.domStyles[l]=null),this.node&&(this.node.style[h]=this.domStyles[h]=null)}else this.$.client.hide();return this.container&&this.resizeContainer&&this.container.resized(),this.doDrawerAnimationEnd(),!0}}),enyo.kind({name:"enyo.Table",tag:"table",attributes:{cellpadding:"0",cellspacing:"0"},defaultKind:"enyo.TableRow"}),enyo.kind({name:"enyo.TableRow",tag:"tr",defaultKind:"enyo.TableCell"}),enyo.kind({name:"enyo.TableCell",tag:"td"}),enyo.fullscreen={fullscreenControl:null,fullscreenElement:null,requestor:null,elementAccessor:"fullscreenElement"in document?"fullscreenElement":"mozFullScreenElement"in document?"mozFullScreenElement":"webkitFullscreenElement"in document?"webkitFullscreenElement":null,requestAccessor:"requestFullscreen"in document.documentElement?"requestFullscreen":"mozRequestFullScreen"in document.documentElement?"mozRequestFullScreen":"webkitRequestFullscreen"in document.documentElement?"webkitRequestFullscreen":null,cancelAccessor:"cancelFullScreen"in document?"cancelFullScreen":"mozCancelFullScreen"in document?"mozCancelFullScreen":"webkitCancelFullScreen"in document?"webkitCancelFullScreen":null,nativeSupport:function(){return null!==this.elementAccessor&&null!==this.requestAccessor&&null!==this.cancelAccessor},getFullscreenElement:function(){return this.nativeSupport()?document[this.elementAccessor]:this.fullscreenElement},getFullscreenControl:function(){return this.fullscreenControl},requestFullscreen:function(s){return!(this.getFullscreenControl()||!s.hasNode())&&(this.requestor=s,this.nativeSupport()?s.hasNode()[this.requestAccessor]():this.fallbackRequestFullscreen(),!0)},cancelFullscreen:function(){this.nativeSupport()?document[this.cancelAccessor]():this.fallbackCancelFullscreen()},setFullscreenElement:function(s){this.fullscreenElement=s},setFullscreenControl:function(s){this.fullscreenControl=s},fallbackRequestFullscreen:function(){var s=this.requestor;s&&(s.prevAddBefore=s.parent.controlAtIndex(s.indexInContainer()+1),enyo.floatingLayer.hasNode()||enyo.floatingLayer.render(),s.addClass("enyo-fullscreen"),s.appendNodeToParent(enyo.floatingLayer.hasNode()),s.resized(),this.setFullscreenControl(s),this.setFullscreenElement(s.hasNode()))},fallbackCancelFullscreen:function(){var s,h,l=this.fullscreenControl;l&&(s=l.prevAddBefore?l.prevAddBefore.hasNode():null,h=l.parent.hasNode(),l.prevAddBefore=null,l.removeClass("enyo-fullscreen"),s?l.insertNodeInParent(h,s):l.appendNodeToParent(h),l.resized(),this.setFullscreenControl(null),this.setFullscreenElement(null))},detectFullscreenChangeEvent:function(){this.setFullscreenControl(this.requestor),this.requestor=null,enyo.Signals.send("onFullscreenChange")}},enyo.ready((function(){document.addEventListener&&(document.addEventListener("webkitfullscreenchange",enyo.bind(enyo.fullscreen,"detectFullscreenChangeEvent"),!1),document.addEventListener("mozfullscreenchange",enyo.bind(enyo.fullscreen,"detectFullscreenChangeEvent"),!1),document.addEventListener("fullscreenchange",enyo.bind(enyo.fullscreen,"detectFullscreenChangeEvent"),!1))})),enyo.fullscreen.nativeSupport()||enyo.dispatcher.features.push((function(s){"keydown"===s.type&&27===s.keyCode&&enyo.fullscreen.cancelFullscreen()})),enyo.kind({name:"enyo.Media",published:{src:"",autoplay:!1,defaultPlaybackRate:1,jumpSec:30,playbackRate:1,playbackRateHash:{fastForward:["2","4","8","16"],rewind:["-2","-4","-8","-16"],slowForward:["1/4","1/2","1"],slowRewind:["-1/2","-1"]},preload:"none",loop:!1,muted:!1,showControls:!1,volume:1},events:{onAbort:"",onCanPlay:"",onCanPlayThrough:"",onDurationChange:"",onEmptied:"",onEnded:"",onError:"",onLoadedData:"",onLoadedMetaData:"",onLoadStart:"",onPause:"",onPlay:"",onPlaying:"",onProgress:"",onRateChange:"",onSeeked:"",onSeeking:"",onStalled:"",onTimeUpdate:"",onWaiting:"",onFastforward:"",onSlowforward:"",onRewind:"",onSlowrewind:"",onJumpForward:"",onJumpBackward:"",onStart:""},handlers:{onabort:"_abort",oncanplay:"_canPlay",oncanplaythrough:"_canPlayThrough",ondurationchange:"_durationChange",onemptied:"_emptied",onended:"_ended",onerror:"_error",onloadeddata:"_loadedData",onloadedmetadata:"_loadedMetaData",onloadstart:"_loadStart",onpause:"_pause",onplay:"_play",onplaying:"_playing",onprogress:"_progress",onratechange:"_rateChange",onseeked:"_seeked",onseeking:"_seeking",onstalled:"_stalled",ontimeupdate:"_timeUpdate",onvolumechange:"_volumeChange",onwaiting:"_waiting"},_playbackRateArray:null,_speedIndex:0,create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.autoplayChanged(),this.loopChanged(),this.preloadChanged(),this.showControlsChanged(),this.srcChanged()}})),rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),enyo.makeBubble(this,"abort"),enyo.makeBubble(this,"canplay"),enyo.makeBubble(this,"canplaythrough"),enyo.makeBubble(this,"durationchange"),enyo.makeBubble(this,"emptied"),enyo.makeBubble(this,"ended"),enyo.makeBubble(this,"error"),enyo.makeBubble(this,"loadeddata"),enyo.makeBubble(this,"loadedmetadata"),enyo.makeBubble(this,"loadstart"),enyo.makeBubble(this,"pause"),enyo.makeBubble(this,"play"),enyo.makeBubble(this,"playing"),enyo.makeBubble(this,"progress"),enyo.makeBubble(this,"ratechange"),enyo.makeBubble(this,"seeked"),enyo.makeBubble(this,"seeking"),enyo.makeBubble(this,"stalled"),enyo.makeBubble(this,"timeupdate"),enyo.makeBubble(this,"volumechange"),enyo.makeBubble(this,"waiting"),this.defaultPlaybackRateChanged(),this.mutedChanged(),this.playbackRateChanged(),this.volumeChanged()}})),srcChanged:function(){var s=enyo.path.rewrite(this.src);this.setAttribute("src",s),this.hasNode()&&this.node.load()},autoplayChanged:function(){this.setAttribute("autoplay",this.autoplay?"autoplay":null)},loopChanged:function(){this.setAttribute("loop",this.loop?"loop":null)},mutedChanged:function(){this.setAttribute("muted",this.muted?"muted":null)},preloadChanged:function(){this.setAttribute("preload",this.preload)},defaultPlaybackRateChanged:function(){this.hasNode()&&(this.node.defaultPlaybackRate=this.defaultPlaybackRate)},selectPlaybackRateArray:function(s){this._playbackRateArray=this.playbackRateHash[s]},selectPlaybackRate:function(s){return this._playbackRateArray[s]},clampPlaybackRate:function(s){return this._playbackRateArray?s%this._playbackRateArray.length:void 0},playbackRateChanged:function(){this.hasNode()&&(this.node.playbackRate=this.playbackRate)},showControlsChanged:function(){this.setAttribute("controls",this.showControls?"controls":null)},volumeChanged:function(){this.hasNode()&&(this.node.volume=this.volume)},_abort:function(){this.doEnded()},_canPlay:function(){this.doCanPlay()},_canPlayThrough:function(){this.doCanPlayThrough()},_durationChange:function(){this.doDurationChange()},_emptied:function(){this.doEmptied()},_ended:function(){this.doEnded()},_error:function(){this.doError()},_loadedData:function(){this.doLoadedData()},_loadedMetaData:function(){this.doLoadedMetaData()},_loadStart:function(){this.doLoadStart()},_pause:function(){this.doPause()},_play:function(){this.doPlay()},_playing:function(){this.doPlaying()},_progress:function(){this.doProgress()},createEventData:function(){var s=this.hasNode();return s?(0===s.currentTime&&this.doStart(),{srcElement:s,duration:s.duration,currentTime:s.currentTime,playbackRate:this.getPlaybackRate()}):{}},calcNumberValueOfPlaybackRate:function(s){var h=(s+"").split("/");return h.length>1?parseInt(h[0],10)/parseInt(h[1],10):parseInt(s,10)},_rateChange:function(s,h){var l;this.hasNode()&&(h=enyo.mixin(h,this.createEventData()),(l=this.calcNumberValueOfPlaybackRate(h.playbackRate))>0&&1>l?this.doSlowforward(h):l>1?this.doFastforward(h):0>l&&l>=-1?this.doSlowrewind(h):-1>l?this.doRewind(h):1==l&&this.doPlay(h))},_stalled:function(){this.doStalled()},_seeked:function(){this.doSeeked()},_seeking:function(){this.doSeeking()},_timeUpdate:function(s,h){this.hasNode()&&(h=enyo.mixin(h,this.createEventData()))},_volumeChange:function(){this.doVolumeChange()},_waiting:function(){this.doWaiting()},play:function(){this.hasNode()&&(this.setPlaybackRate(1),this._prevCommand="play",this.node.play())},pause:function(){this.hasNode()&&(this.setPlaybackRate(1),this._prevCommand="pause",this.node.pause())},seekTo:function(s){this.hasNode()&&(this.node.currentTime=s)},getBuffered:function(){return this.hasNode()?this.node.buffered:0},getCurrentTime:function(){return this.hasNode()?this.node.currentTime:0},getDuration:function(){return this.hasNode()?this.node.duration:0},getPaused:function(){return this.hasNode()?this.node.paused:void 0},getPlayed:function(){return this.hasNode()?this.node.played:void 0},getReadyState:function(){return this.hasNode()?this.node.readyState:void 0},getSeekable:function(){return this.hasNode()?this.node.seekable:void 0},setCurrentTime:function(s){"number"==typeof s&&this.hasNode()&&(this.node.currentTime=s)},beginRewind:function(){this.node.pause(),this.startRewindJob()},_rewind:function(){var s=enyo.perfNow()-this.rewindBeginTime,h=this.calcNumberValueOfPlaybackRate(this.playbackRate),l=Math.abs(s*h)/1e3,c=this.getCurrentTime()-l;this.setCurrentTime(c),this.startRewindJob()},startRewindJob:function(){this.rewindBeginTime=enyo.perfNow(),enyo.job(this.id+"rewind",this.bindSafely("_rewind"),100)},stopRewindJob:function(){enyo.job.stop(this.id+"rewind")},getSeeking:function(){return this.hasNode()?this.node.seeking:void 0},isPaused:function(){return!this.hasNode()||this.hasNode().paused},fastForward:function(){var s=this.hasNode();if(s){switch(this._prevCommand){case"slowForward":this._speedIndex==this._playbackRateArray.length-1?(this.selectPlaybackRateArray("fastForward"),this._speedIndex=0,this._prevCommand="fastForward"):(this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="slowForward");break;case"pause":this.selectPlaybackRateArray("slowForward"),this._speedIndex=0,this.isPaused()&&s.play(),this._prevCommand="slowForward";break;case"rewind":0>this.calcNumberValueOfPlaybackRate(this.playbackRate)?(this.selectPlaybackRateArray("slowForward"),this._prevCommand="slowForward"):(this.selectPlaybackRateArray("fastForward"),this._prevCommand="fastForward"),this._speedIndex=0;break;case"fastForward":this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="fastForward";break;default:this.selectPlaybackRateArray("fastForward"),this._speedIndex=0,this._prevCommand="fastForward"}this.setPlaybackRate(this.selectPlaybackRate(this._speedIndex))}},rewind:function(){var s=this.hasNode();if(s){switch(this._prevCommand){case"slowRewind":this._speedIndex==this._playbackRateArray.length-1?(this.selectPlaybackRateArray("rewind"),this._speedIndex=0,this._prevCommand="rewind"):(this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="slowRewind");break;case"pause":this.selectPlaybackRateArray("slowRewind"),this._speedIndex=0,this.isPaused()&&this.node.duration>this.node.currentTime&&s.play(),this._prevCommand="slowRewind";break;case"rewind":this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="rewind";break;default:this.selectPlaybackRateArray("rewind"),this._speedIndex=0,this._prevCommand="rewind"}this.setPlaybackRate(this.selectPlaybackRate(this._speedIndex))}},setPlaybackRate:function(s){var h,l=this.hasNode();l&&(this.stopRewindJob(),this.playbackRate=s+="",h=this.calcNumberValueOfPlaybackRate(s),l.playbackRate=h,enyo.platform.webos||window.PalmSystem||0>h&&this.beginRewind())},jumpBackward:function(){var s=this.hasNode();s&&(this.setPlaybackRate(1),s.currentTime-=this.jumpSec,this._prevCommand="jumpBackward",this.doJumpBackward(enyo.mixin(this.createEventData(),{jumpSize:this.jumpSec})))},jumpForward:function(){var s=this.hasNode();s&&(this.setPlaybackRate(1),s.currentTime+=this.jumpSec,this._prevCommand="jumpForward",this.doJumpForward(enyo.mixin(this.createEventData(),{jumpSize:this.jumpSec})))},jumpToStart:function(){var s=this.hasNode();s&&(this.setPlaybackRate(1),s.pause(),s.currentTime=0,this._prevCommand="jumpToStart")},jumpToEnd:function(){var s=this.hasNode();s&&(this.setPlaybackRate(1),s.pause(),s.currentTime=this.node.duration,this._prevCommand="jumpToEnd")}}),enyo.kind({name:"enyo.Audio",kind:"enyo.Media",tag:"audio",published:{preload:"auto"}}),enyo.kind({name:"enyo.Video",kind:enyo.Control,published:{src:"",sourceComponents:null,poster:"",showControls:!1,preload:"metadata",autoplay:!1,loop:!1,fitToWindow:!1,aspectRatio:null,jumpSec:30,playbackRate:1,playbackRateHash:{fastForward:["2","4","8","16"],rewind:["-2","-4","-8","-16"],slowForward:["1/4","1/2","1"],slowRewind:["-1/2","-1"]}},events:{onFastforward:"",onSlowforward:"",onRewind:"",onSlowrewind:"",onJumpForward:"",onJumpBackward:"",onPlay:"",onStart:""},handlers:{onloadedmetadata:"metadataLoaded",ontimeupdate:"timeupdate",onratechange:"ratechange",onplay:"_play"},tag:"video",_playbackRateArray:null,_speedIndex:0,create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.posterChanged(),this.showControlsChanged(),this.preloadChanged(),this.autoplayChanged(),this.loopChanged()}})),rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.hookupVideoEvents()}})),posterChanged:function(){if(this.poster){var s=enyo.path.rewrite(this.poster);this.setAttribute("poster",s)}else this.setAttribute("poster",null)},showControlsChanged:function(){this.setAttribute("controls",this.showControls?"controls":null)},preloadChanged:function(){this.setAttribute("preload",this.preload?this.preload:null)},autoplayChanged:function(){this.setAttribute("autoplay",this.autoplay?"autoplay":null),this._prevCommand=this.autoplay?"play":"pause"},loopChanged:function(){this.setAttribute("loop",this.loop?"loop":null)},fitToWindowChanged:function(){this.hasNode()},srcChanged:function(){this.setAttribute("src",enyo.path.rewrite(this.src))},load:function(){this.hasNode()&&this.hasNode().load()},unload:function(){this.set("src",""),this.load()},play:function(){this.hasNode()&&(this._speedIndex=0,this.setPlaybackRate(1),this.node.play(),this._prevCommand="play")},pause:function(){this.hasNode()&&(this._speedIndex=0,this.setPlaybackRate(1),this.node.pause(),this._prevCommand="pause")},fastForward:function(){var s=this.hasNode();if(s){switch(this._prevCommand){case"slowForward":this._speedIndex==this._playbackRateArray.length-1?(this.selectPlaybackRateArray("fastForward"),this._speedIndex=0,this._prevCommand="fastForward"):(this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="slowForward");break;case"pause":this.selectPlaybackRateArray("slowForward"),this._speedIndex=0,this.isPaused()&&s.play(),this._prevCommand="slowForward";break;case"rewind":0>this.calcNumberValueOfPlaybackRate(this.playbackRate)?(this.selectPlaybackRateArray("slowForward"),this._prevCommand="slowForward"):(this.selectPlaybackRateArray("fastForward"),this._prevCommand="fastForward"),this._speedIndex=0;break;case"fastForward":this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="fastForward";break;default:this.selectPlaybackRateArray("fastForward"),this._speedIndex=0,this._prevCommand="fastForward"}this.setPlaybackRate(this.selectPlaybackRate(this._speedIndex))}},rewind:function(){var s=this.hasNode();if(s){switch(this._prevCommand){case"slowRewind":this._speedIndex==this._playbackRateArray.length-1?(this.selectPlaybackRateArray("rewind"),this._speedIndex=0,this._prevCommand="rewind"):(this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="slowRewind");break;case"pause":this.selectPlaybackRateArray("slowRewind"),this._speedIndex=0,this.isPaused()&&this.node.duration>this.node.currentTime&&s.play(),this._prevCommand="slowRewind";break;case"rewind":this._speedIndex=this.clampPlaybackRate(this._speedIndex+1),this._prevCommand="rewind";break;default:this.selectPlaybackRateArray("rewind"),this._speedIndex=0,this._prevCommand="rewind"}this.setPlaybackRate(this.selectPlaybackRate(this._speedIndex))}},jumpBackward:function(){var s=this.hasNode();s&&(this.setPlaybackRate(1),s.currentTime-=this.jumpSec,this._prevCommand="jumpBackward",this.doJumpBackward(enyo.mixin(this.createEventData(),{jumpSize:this.jumpSec})))},jumpForward:function(){var s=this.hasNode();s&&(this.setPlaybackRate(1),s.currentTime+=parseInt(this.jumpSec,10),this._prevCommand="jumpForward",this.doJumpForward(enyo.mixin(this.createEventData(),{jumpSize:this.jumpSec})))},jumpToStart:function(){var s=this.hasNode();s&&(this.setPlaybackRate(1),s.pause(),s.currentTime=0,this._prevCommand="jumpToStart")},jumpToEnd:function(){var s=this.hasNode();s&&(this.setPlaybackRate(1),s.pause(),s.currentTime=this.node.duration,this._prevCommand="jumpToEnd")},selectPlaybackRateArray:function(s){this._playbackRateArray=this.playbackRateHash[s]},clampPlaybackRate:function(s){return this._playbackRateArray?s%this._playbackRateArray.length:void 0},selectPlaybackRate:function(s){return this._playbackRateArray[s]},setPlaybackRate:function(s){var h,l=this.hasNode();l&&(this.stopRewindJob(),this.playbackRate=s+="",h=this.calcNumberValueOfPlaybackRate(s),l.playbackRate=h,enyo.platform.webos||window.PalmSystem||0>h&&this.beginRewind())},isPaused:function(){return!this.hasNode()||this.hasNode().paused},getCurrentTime:function(){return this.hasNode()?this.hasNode().currentTime:0},getBufferedTimeRange:function(){return this.hasNode()?this.hasNode().buffered:0},setCurrentTime:function(s){"number"==typeof s&&this.hasNode()&&(this.node.currentTime=s)},getDuration:function(){return this.hasNode()?this.hasNode().duration:0},getReadyState:function(){return this.hasNode()?this.hasNode().readyState:-1},getSeeking:function(){return this.hasNode()?this.hasNode().seeking:-1},beginRewind:function(){this.node.pause(),this.startRewindJob()},_rewind:function(){var s=enyo.perfNow()-this.rewindBeginTime,h=this.calcNumberValueOfPlaybackRate(this.playbackRate),l=Math.abs(s*h)/1e3,c=this.getCurrentTime()-l;this.setCurrentTime(c),this.startRewindJob()},startRewindJob:function(){this.rewindBeginTime=enyo.perfNow(),enyo.job(this.id+"rewind",this.bindSafely("_rewind"),100)},stopRewindJob:function(){enyo.job.stop(this.id+"rewind")},calcNumberValueOfPlaybackRate:function(s){var h=(s+"").split("/");return h.length>1?parseInt(h[0],10)/parseInt(h[1],10):parseInt(s,10)},metadataLoaded:function(s,h){var l=this.hasNode();this.setAspectRatio("none"),l&&l.videoWidth&&l.videoHeight&&(this.setAspectRatio(l.videoWidth/l.videoHeight+":1"),h=enyo.mixin(h,this.createEventData()))},timeupdate:function(s,h){this.hasNode()&&(h=enyo.mixin(h,this.createEventData()))},ratechange:function(s,h){var l;this.hasNode()&&(h=enyo.mixin(h,this.createEventData()),(l=this.calcNumberValueOfPlaybackRate(h.playbackRate))>0&&1>l?this.doSlowforward(h):l>1?this.doFastforward(h):0>l&&l>=-1?this.doSlowrewind(h):-1>l?this.doRewind(h):1==l&&this.doPlay(h))},createEventData:function(){var s=this.hasNode();return s?(0===s.currentTime&&this.doStart(),{srcElement:s,duration:s.duration,currentTime:s.currentTime,playbackRate:this.getPlaybackRate()}):{}},_play:function(s,h){this.hasNode()&&(h=enyo.mixin(h,this.createEventData()),this.doPlay(h))},hookupVideoEvents:function(){enyo.makeBubble(this,"loadstart","emptied","canplaythrough","ended","ratechange","progress","stalled","playing","durationchange","volumechange","suspend","loadedmetadata","waiting","timeupdate","abort","loadeddata","seeking","play","error","canplay","seeked","pause")}}),function(s){s.RepeaterChildSupport={name:"RepeaterChildSupport",selected:!1,selectedChanged:s.inherit((function(s){return function(){if(this.repeater.selection){this.addRemoveClass(this.selectedClass||"selected",this.selected);var h=this.repeater.collection.indexOf(this.model);this.selected&&!this.repeater.isSelected(this.model)?this.repeater.select(h):!this.selected&&this.repeater.isSelected(this.model)&&this.repeater.deselect(h)}s.apply(this,arguments)}})),decorateEvent:s.inherit((function(s){return function(h,l){l.model=this.model,l.child=this,l.index=this.repeater.collection.indexOf(this.model),s.apply(this,arguments)}})),_selectionHandler:function(){this.repeater.selection&&!this.get("disabled")&&this.set("selected",!this.selected)},createClientComponents:s.inherit((function(){return function(s){this.createComponents(s,{owner:this})}})),dispatchEvent:s.inherit((function(h){return function(l,c){return c._fromRepeaterChild||~s.indexOf(l,this.repeater.selectionEvents)&&(this._selectionHandler(),c._fromRepeaterChild=!0),h.apply(this,arguments)}})),constructed:s.inherit((function(h){return function(){h.apply(this,arguments);var l=this.repeater.selectionProperty;if(l){var c=this.binding({from:".model."+l,to:".selected",oneWay:!1,kind:s.BooleanBinding});this._selectionBindingId=c.id}}})),destroy:s.inherit((function(h){return function(){if(this._selectionBindingId){var l=s.Binding.find(this._selectionBindingId);l&&l.destroy()}h.apply(this,arguments)}})),_selectionBindingId:null}}(enyo),enyo.kind({name:"enyo.DataRepeater",selection:!0,multipleSelection:!1,selectionClass:"selection-enabled",multipleSelectionClass:"multiple-selection-enabled",selectionProperty:"",selectionEvents:"ontap",childBindingDefaults:null,initComponents:function(){this.initContainer();var s=this.kindComponents||this.components||[],h=this.getInstanceOwner(),l=this.defaultProps?enyo.clone(this.defaultProps):this.defaultProps={};l.bindingTransformOwner=this,l.bindingDefaults=this.childBindingDefaults,s&&(s.length>1?l.components=s:enyo.mixin(l,s[0]),l.repeater=this,l.owner=h,l.mixins=l.mixins?l.mixins.concat(this.childMixins):this.childMixins)},constructor:enyo.inherit((function(s){return function(){this._selection=[];var h=this.selectionEvents;this.selectionEvents="string"==typeof h?h.split(" "):h;var l=this._handlers=enyo.clone(this._handlers);for(var c in l)l[c]=this.bindSafely(l[c]);s.apply(this,arguments)}})),create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.collectionChanged(),this.selectionChanged()}})),observers:{selectionChanged:["multipleSelection"]},selectionChanged:function(){this.addRemoveClass(this.selectionClass,this.selection),this.addRemoveClass(this.multipleSelectionClass,this.multipleSelection&&this.selection)},reset:function(){var s=this.get("data");this.destroyClientControls();for(var h,l=0;h=s.at(l);++l)this.add(h,l);this.hasReset=!0},refresh:function(){return this.hasReset?void this.startJob("refreshing",(function(){for(var s,h,l=this.get("data"),c=this.getClientControls(),d=0;h=l.at(d);++d)(s=c[d])?s.set("model",h):this.add(h,d);this.prune()}),16):this.reset()},rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.collection&&this.collection.length&&this.reset(),this.hasRendered=!0}})),add:function(s,h){var l=this.createComponent({model:s,index:h});this.generated&&!this.batching&&l.render()},remove:function(s){var h=this.getClientControls(),l=h[s||Math.abs(h.length-1)];l&&l.destroy()},prune:function(){var s,h=this.getClientControls(),l=this.collection?this.collection.length:0;if(h.length>l){s=h.slice(l);for(var c,d=0;c=s[d];++d)c.destroy()}},initContainer:function(){var s=this.get("containerOptions"),h=s.name||(s.name=this.containerName);this.createChrome([s]),this.discoverControlParent(),h!=this.containerName&&(this.$[this.containerName]=this.$[h])},handlers:{onSelected:"childSelected",onDeselected:"childDeselected"},_handlers:{add:"modelsAdded",remove:"modelsRemoved",reset:"refresh"},collectionChanged:function(s){var h=this.collection;"string"==typeof h&&(h=this.collection=enyo.getPath(h)),h&&this.initCollection(h,s)},initCollection:function(s,h){var l;if(s&&s.addListener)for(l in this._handlers)s.addListener(l,this._handlers[l]);if(h&&h.removeListener)for(l in this._handlers)h.removeListener(l,this._handlers[l])},modelsAdded:function(s,h,l){if(s==this.collection){this.set("batching",!0);for(var c,d=0;!isNaN(c=l.records[d]);++d)this.add(s.at(c),c);this.set("batching",!1)}},modelsRemoved:function(s,h,l){if(s==this.collection)for(var c,d=enyo.keys(l.records),f=d.length-1;c=d[f];--f)this.remove(c),this._select(c,l.records[c],!1)},batchingChanged:function(s,h){this.generated&&!1===h&&this.$[this.containerName].render()},getChildForIndex:function(s){return this.childForIndex(s)},childForIndex:function(s){return this.$.container.children[s]},data:function(){return this.collection},_select:function(s,h,l){if(this.selection){var c=this.getChildForIndex(s),d=this._selection,f=enyo.indexOf(h,d);if(l){if(-1==f){if(!this.multipleSelection)for(;d.length;)f=this.collection.indexOf(d.pop()),this.deselect(f);d.push(h)}}else f>=0&&d.splice(f,1);c&&c.set("selected",l),this.selectionProperty&&h&&(d=this.selectionProperty)&&h.set(d,l),this.notifyObservers("selected")}},select:function(s){this._select(s,this.collection.at(s),!0)},deselect:function(s){this._select(s,this.collection.at(s),!1)},isSelected:function(s){return!!~enyo.indexOf(s,this._selection)},selectAll:function(){if(this.multipleSelection){this.stopNotifications();var s=this._selection,h=this.collection?this.collection.length:0;s.length=0;for(var l=0;h>l;++l)this.select(l);this.startNotifications()}},deselectAll:function(){if(this.selection){this.stopNotifications();for(var s,h,l=this._selection;l.length;)s=l.pop(),h=this.collection.indexOf(s),this.deselect(h);this.startNotifications()}},selected:function(){return(this.multipleSelection?this._selection:this._selection[0])||null},dataChanged:function(){this.collection&&this.hasRendered&&this.reset()},computed:{selected:[],data:["controller","collection"]},noDefer:!0,childMixins:[enyo.RepeaterChildSupport],controlParentName:"container",containerName:"container",containerOptions:{name:"container",classes:"enyo-fill enyo-data-repeater-container"},batching:!1,_selection:null}),enyo.DataRepeater.concat=function(s,h){var l=s.prototype||s;h.childMixins&&(l.childMixins=l.childMixins?enyo.merge(l.childMixins,h.childMixins):h.childMixins.slice(),delete h.childMixins)},enyo.kind({name:"enyo.DataList",kind:enyo.DataRepeater,scrollerOptions:null,orientation:"vertical",pageSizeMultiplier:null,fixedChildSize:null,allowTransitions:!0,renderDelay:250,reset:function(){this.get("absoluteShowing")?this.generated&&this.$.scroller.generated&&this.delegate.reset(this):this._addToShowingQueue("reset",this.reset)},refresh:function(){this.get("absoluteShowing")?this.hasRendered&&this.delegate.refresh(this):this._addToShowingQueue("refresh",this.refresh)},scrollToIndex:function(s){var h=this.collection?this.collection.length:0;s>=0&&h>s&&(this.get("absoluteShowing")?this.delegate.scrollToIndex(this,s):this._addToShowingQueue("scrollToIndex",(function(){this.delegate.scrollToIndex(this,s)})))},constructor:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.metrics={},this.metrics.pages={},null===this.pageSizeMultiplier||isNaN(this.pageSizeMultiplier)||(this.pageSizeMultiplier=Math.max(1.2,this.pageSizeMultiplier))}})),create:enyo.inherit((function(s){return function(){this.allowTransitionsChanged(),this.delegate=this.ctor.delegates[this.orientation]||this.base.delegates.vertical,this.delegate.initList&&this.delegate.initList(this),s.apply(this,arguments),this.pages=[this.$.page1,this.$.page2]}})),render:enyo.inherit((function(s){return function(){this.$.scroller.canGenerate=!1,this.$.scroller.teardownRender(),s.apply(this,arguments)}})),rendered:function(){if(this.get("absoluteShowing")){var t=function(){this.$.scroller.canGenerate=!0,this.$.scroller.render(),this.delegate.rendered(this),this.hasRendered=!0,this.addClass("rendered"),this.didRender&&this.didRender()};null===this.renderDelay?t.call(this):this.startJob("rendering",t,this.renderDelay)}else this._addToShowingQueue("rendered",this.rendered)},_absoluteShowingChanged:function(){if(this.get("absoluteShowing")&&this._showingQueue&&this._showingQueue.length){var s=this._showingQueue,h=this._showingQueueMethods;this._showingQueue=null,this._showingQueueMethods=null;do{h[s.shift()].call(this)}while(s.length)}},_addToShowingQueue:function(s,h){var l=this._showingQueue||(this._showingQueue=[]),c=this._showingQueueMethods||(this._showingQueueMethods={}),d=enyo.indexOf(s,l);d>=0&&l.splice(d,1),l.push(s),c[s]=h},remove:function(){},modelsAdded:function(s,h,l){s===this.collection&&this.$.scroller.canGenerate&&(this.get("absoluteShowing")?this.delegate.modelsAdded(this,l):this._addToShowingQueue("refresh",(function(){this.refresh()})))},modelsRemoved:enyo.inherit((function(s){return function(h,l,c){h===this.collection&&this.$.scroller.canGenerate&&(this.get("absoluteShowing")?this.delegate.modelsRemoved(this,c):this._addToShowingQueue("refresh",(function(){this.refresh()}))),s.apply(this,arguments)}})),destroy:enyo.inherit((function(s){return function(){this.delegate&&this.delegate.destroyList&&this.delegate.destroyList(this),this._showingQueue=null,this._showingQueueMethods=null,s.apply(this,arguments)}})),initContainer:enyo.inherit((function(s){return function(){var h=enyo.clone(this.get("containerOptions")),l=this.get("scrollerOptions");l&&enyo.mixin(h,l,{exists:!0}),this.set("containerOptions",h),s.apply(this,arguments)}})),didScroll:function(s,h){return this.hasRendered&&this.collection&&((this.heightNeedsUpdate||this.widthNeedsUpdate)&&(this.heightNeedsUpdate=this.widthNeedsUpdate=!1,this.refresh()),this.delegate.didScroll(this,h)),!0},didResize:function(s,h){this.get("absoluteShowing")?this.hasRendered&&this.collection&&((this.heightNeedsUpdate||this.widthNeedsUpdate)&&(this.heightNeedsUpdate=this.widthNeedsUpdate=!1,this.refresh()),this.delegate.didResize(this,h)):this._addToShowingQueue("didResize",this.didResize)},showingChangedHandler:enyo.inherit((function(s){return function(){return this.set("absoluteShowing",this.getAbsoluteShowing(!0)),s.apply(this,arguments)}})),childForIndex:function(s){return this.delegate.childForIndex(this,s)},allowTransitionsChanged:function(){this.addRemoveClass("transitions",this.allowTransitions)},containerOptions:{name:"scroller",kind:"enyo.Scroller",components:[{name:"active",classes:"active",components:[{name:"page1",classes:"page page1"},{name:"page2",classes:"page page2"},{name:"buffer",classes:"buffer"}]}],canGenerate:!1,classes:"enyo-fit enyo-data-list-scroller"},noDefer:!0,absoluteShowing:!0,classes:"enyo-data-list",controlParentName:"",containerName:"scroller",handlers:{onScroll:"didScroll",onresize:"didResize"},observers:{_absoluteShowingChanged:["absoluteShowing"]},mixins:[enyo.RegisteredEventSupport],statics:{delegates:{}},pages:null}),enyo.DataList.subclass=function(s){s.delegates=enyo.clone(s.prototype.base.delegates||this.delegates)},enyo.DataList.delegates.vertical={pageSizeMultiplier:2,initList:function(s){s.posProp="top",s.upperProp="top",s.lowerProp="bottom",s.psizeProp="height",s.ssizeProp="width";var h=s.scrollerOptions=s.scrollerOptions?enyo.clone(s.scrollerOptions):{};h.vertical="scroll"==h.vertical?"scroll":"auto",h.horizontal=h.horizontal||"hidden"},reset:function(s){for(var h,l=0;h=s.pages[l];++l)this.generatePage(s,h,l);this.adjustPagePositions(s),this.adjustBuffer(s),s.hasReset=!0,s.$.scroller.scrollTo(0,0)},pagesByPosition:function(s){var h=s.metrics.pages,l=s.pagePositions||(s.pagePositions={}),c=s.upperProp,d=s.$.page1.index,f=s.$.page2.index;return l.firstPage=h[d][c]<h[f][c]?s.$.page1:s.$.page2,l.lastPage=l.firstPage===s.$.page1?s.$.page2:s.$.page1,l},refresh:function(s){if(!s.hasReset)return this.reset(s);var h=Math.max(this.pageCount(s)-1,0),l=s.$.page1.index,c=s.$.page2.index;l>h&&(l=h),c>h&&(c=l+1>h&&l-1>=0?l-1:l+1),s.$.page1.index=l,s.$.page2.index=c;for(var d,f=0;d=s.pages[f];++f)this.generatePage(s,d,d.index);this.adjustPagePositions(s),this.adjustBuffer(s)},rendered:function(s){s.$.scroller.addScrollListener&&(s.usingScrollListener=!0,s.$.scroller.addScrollListener(enyo.bindSafely(this,"scrollHandler",s))),this.updateBounds(s),s.collection&&s.collection.length&&this.reset(s)},generatePage:function(s,h,l){h.index=l;var c,d=s.collection,f=s.metrics,p=this.controlsPerPage(s);h.start=p*l,h.end=Math.min(d.length-1,h.start+p-1),s.controlParent=h;for(var g=h.start;h.end>=g&&d.length>g;++g)(c=h.children[g-h.start]||s.createComponent({})).teardownRender(),c.stopNotifications(),c.set("model",d.at(g)),c.set("index",g),c.set("selected",s.isSelected(c.model)),c.startNotifications(),c.canGenerate=!0;for(g-=h.start;h.children.length>g;++g)(c=h.children[g]).teardownRender(),c.canGenerate=!1;h.render(),(f=f.pages[l]||(f.pages[l]={})).height=this.pageHeight(s,h),f.width=this.pageWidth(s,h),this.childSize(s)},childSize:function(s){if(!s.fixedChildSize){var h,l,c=s.$.page1.index,d=s.psizeProp,f=s.$.page1.node||s.$.page1.hasNode();c>=0&&f&&(h=(l=s.metrics.pages[c])?l[d]:0,s.childSize=Math.floor(h/(f.children.length||1)))}return s.fixedChildSize||s.childSize||(s.childSize=100)},controlsPerPage:function(s){var h=s._updatedControlsPerPage,l=s._updatedBounds,c=s.childSize,d=s.controlsPerPage,f=s.psizeProp,p=s.pageSizeMultiplier||this.pageSizeMultiplier,g=this[f];return(!h||l>h)&&(c=this.childSize(s),d=s.controlsPerPage=Math.ceil(g(s)*p/c+1),s._updatedControlsPerPage=enyo.perfNow()),s.controlsPerPage=d},pageForIndex:function(s,h){var l=s.controlsPerPage||this.controlsPerPage(s);return Math.floor(h/(l||1))},scrollToIndex:function(s,h){var l=this.childForIndex(s,h),c=this.pageForIndex(s,h);0>c||c>this.pageCount(s)||(l?s.$.scroller.scrollIntoView(l,this.pagePosition(s,c)):(this.resetToPosition(s,this.pagePosition(s,c)),enyo.asyncMethod((function(){s.scrollToIndex(h)}))))},pageHeight:function(s,h){var l=h.node.offsetHeight,c=s.metrics.pages[h.index],d=s.collection?s.collection.length:0;return 0===l&&d&&h.node.children.length&&(s.heightNeedsUpdate=!0,l=c?c.height:0),l},pageWidth:function(s,h){var l=h.node.offsetWidth,c=s.metrics.pages[h.index],d=s.collection?s.collection.length:0;return 0===l&&d&&h.node.children.length&&(s.widthNeedsUpdate=!0,l=c?c.width:0),l},modelsAdded:function(s,h){if(!s.hasReset)return this.reset(s);for(var l,c,d,f,p=s.$.page1.index||(s.$.page1.index=0),g=s.$.page2.index||(s.$.page2.index=1),y=0;(f=h.records[y])>=0;++y)if((d=this.pageForIndex(s,f))==p)l=!0;else if(d==g)c=!0;else if(d>g)break;l&&this.generatePage(s,s.$.page1,p),c&&this.generatePage(s,s.$.page2,g),(l||c)&&this.adjustPagePositions(s),this.adjustBuffer(s)},childForIndex:function(s,h){var l=this.pageForIndex(s,h),c=s.$.page1,d=s.$.page2;if(l=l==c.index&&c||l==d.index&&d)for(var f,p=0;f=l.children[p];++p)if(f.index==h)return f},modelsRemoved:function(s,h){for(var l,c,d=enyo.keys(h.records),f=s.$.page1.index,p=s.$.page2.index,g=d.length-1;(c=d[g])>=0;--g)if((l=this.pageForIndex(s,c))==f||l==p){this.refresh(s);var y=this.pagesByPosition(s);this.scrollToIndex(s,y.firstPage.start);break}},adjustBuffer:function(s){var h,l=this.pageCount(s),c=this.defaultPageSize(s),d=0,f=s.psizeProp,p=s.ssizeProp,g=s.$.buffer.node||s.$.buffer.hasNode();if(g){if(0!==l)for(var y=0;l>y;++y)d+=(h=s.metrics.pages[y])&&h[f]||c;s.bufferSize=d,g.style[f]=d+"px",g.style[p]=this[p](s)+"px"}},adjustPagePositions:function(s){for(var h,l=0;h=s.pages[l];++l){var c=h.index,d=this.pagePosition(s,h.index),f=s.metrics.pages[c]||(s.metrics.pages[c]={}),p=s.posProp,g=s.upperProp,y=s.lowerProp,m=s.psizeProp;h.node.style[p]=d+"px",h[g]=f[g]=d,h[y]=f[y]=f[m]+d}this.setScrollThreshold(s)},pagePosition:function(s,h){for(var l,c=s.metrics.pages,d=this.defaultPageSize(s),f=0,p=s.psizeProp;h>0;)f+=(l=c[--h])&&l[p]?l[p]:d;return f},defaultPageSize:function(s){return(s.controlsPerPage||this.controlsPerPage(s))*(s.fixedChildSize||s.childSize||100)},pageCount:function(s){var h=s.controlsPerPage||this.controlsPerPage(s),l=s.collection?s.collection.length:0;return Math.ceil(l/(h||1))},getScrollPosition:function(s){return s.$.scroller.getScrollTop()},scrollHandler:function(s,h){var l=this.pageCount(s)-1,c=this.pagesByPosition(s);1!==h.xDir&&1!==h.yDir||c.lastPage.index===l?-1!==h.xDir&&-1!==h.yDir||0===c.firstPage.index||(this.generatePage(s,c.lastPage,c.firstPage.index-1),this.adjustPagePositions(s),s.triggerEvent("paging",{start:c.firstPage.start,end:c.lastPage.end,action:"scroll"})):(this.generatePage(s,c.firstPage,c.lastPage.index+1),this.adjustPagePositions(s),this.adjustBuffer(s),s.triggerEvent("paging",{start:c.firstPage.start,end:c.lastPage.end,action:"scroll"}))},setScrollThreshold:function(s){var h=s.scrollThreshold||(s.scrollThreshold={}),l=s.metrics.pages,c=this.pagesByPosition(s),d=c.firstPage.index,f=c.lastPage.index,p=this.pageCount(s)-1,g=s.lowerProp,y=s.upperProp,m="top"==y?this.height:this.width;h[y]=0===d?void 0:l[d][y]+this.childSize(s),h[g]=f>=p?void 0:l[f][g]-m(s)-this.childSize(s),s.usingScrollListener&&s.$.scroller.setScrollThreshold(h)},resetToPosition:function(s,h){if(h>=0&&s.bufferSize>=h){var l=Math.ceil(h/this.defaultPageSize(s)),c=this.pageCount(s)-1,d=this.pagesByPosition(s);(d.firstPage[s.upperProp]>=h||h>=d.lastPage[s.lowerProp])&&(s.$.page1.index=l=Math.min(l,c),s.$.page2.index=l===c?l-1:l+1,this.refresh(s),s.triggerEvent("paging",{start:s.$.page1.start,end:s.$.page2.end,action:"reset"}))}},didScroll:function(s,h){if(!s.usingScrollListener){var l=s.scrollThreshold,c=h.scrollBounds,d=s.lowerProp,f=s.upperProp;c[f]=this.getScrollPosition(s),1===c.xDir||1===c.yDir?!isNaN(l[d])&&c[f]>=l[d]&&this.scrollHandler(s,c):(-1===c.yDir||-1===c.xDir)&&!isNaN(l[f])&&c[f]<=l[f]&&this.scrollHandler(s,c)}},didResize:function(s){s._updateBounds=!0,this.updateBounds(s),this.refresh(s)},height:function(s){return s._updateBounds&&this.updateBounds(s),s.boundsCache.height},width:function(s){return s._updateBounds&&this.updateBounds(s),s.boundsCache.width},updateBounds:function(s){s.boundsCache=s.getBounds(),s._updatedBounds=enyo.perfNow(),s._updateBounds=!1}},function(s){var h=s.clone(s.DataList.delegates.vertical);s.kind.extendMethods(h,{initList:s.inherit((function(h){return function(l){h.apply(this,arguments),l.addClass("horizontal"),l.posProp=l.rtl?"right":"left",l.upperProp="left",l.lowerProp="right",l.psizeProp="width",l.ssizeProp="height";var c=l.scrollerOptions=l.scrollerOptions?s.clone(l.scrollerOptions):{};c.vertical="hidden",c.horizontal="scroll"==c.horizontal?"scroll":"auto"}})),destroyList:function(s){s&&s.removeClass("horizontal")},getScrollPosition:function(s){return s.$.scroller.getScrollLeft()},adjustBuffer:s.inherit((function(s){return function(h){s.apply(this,arguments);var l=h.$.active.node||h.$.active.hasNode(),c=h.bufferSize;l&&(l.style.width=c+"px")}}))},!0),s.DataList.delegates.horizontal=h}(enyo),enyo.kind({name:"enyo.DataGridList",kind:enyo.DataList,spacing:10,minWidth:100,minHeight:100,constructor:enyo.inherit((function(s){return function(){var h=this.orientation;this.orientation="vertical"==h?"verticalGrid":"horizontal"==h?"horizontalGrid":h;var l=this.spacing;return this.spacing=0==l%2?l:Math.max(l-1,0),s.apply(this,arguments)}})),initComponents:enyo.inherit((function(s){return function(){s.apply(this,arguments);var h=this.defaultProps;h.classes=(h.classes||"")+" item"}})),showingChanged:enyo.inherit((function(s){return function(){s.apply(this,arguments);var h=this.collection?this.collection.length:0;this.$.scroller.generated&&h&&this.showing&&this.didResize()}})),noDefer:!0,classes:"enyo-data-grid-list"}),enyo.kind({name:"enyo.DataTable",kind:"enyo.DataRepeater",defaultKind:"enyo.TableRow",style:"display: table;",containerOptions:{kind:"enyo.Table",name:"container",style:"width: 100%;"}}),function(s){var h=s.clone(s.DataGridList.delegates.vertical);s.kind.extendMethods(h,{rendered:function(s){this.updateMetrics(s),s.collection&&s.collection.length&&this.reset(s)},reset:s.inherit((function(s){return function(h){s.apply(this,arguments),h.hasReset&&!h.hasClass("reset")&&(h.canAddResetClass=!0)}})),pageHeight:function(s,h){var l,c=h.node||h.hasNode(),d=c.children.length,f=s.metrics.pages[h.index];return l=(Math.floor(d/s.columns)+(d%s.columns?1:0))*(s.tileHeight+s.spacing),c.style.height=l+"px",f.height=l,l},generatePage:s.inherit((function(s){return function(h,l){s.apply(this,arguments),this.layout(h,l)}})),pageWidth:function(s,h){var l=s.boundsCache.width,c=h.node||h.hasNode(),d=s.metrics.pages[h.index];return c.style.width=l+"px",d.width=l,l},defaultPageSize:function(s){return Math.ceil(this.controlsPerPage(s)/s.columns)*(s.tileHeight+s.spacing)},updateMetrics:function(s){this.updateBounds(s);var h=s.boundsCache.width,l=s.spacing,c=s.minWidth,d=s.minHeight;s.columns=Math.max(Math.floor((h-l)/(c+l)),1),s.tileWidth=(h-l*(s.columns+1))/s.columns,s.tileHeight=d*(s.tileWidth/c),this.controlsPerPage(s)},controlsPerPage:s.inherit((function(s){return function(h){var l=h._updatedControlsPerPage,c=s.apply(this,arguments);return l!=h._updatedControlsPerPage&&(c=h.controlsPerPage=c*h.columns),c}})),childSize:function(s){return s.childSize=s.tileHeight+s.spacing},layout:function(s,h){s.canAddResetClass&&(s.addClass("reset"),delete s.canAddResetClass);var l,c=s.columns,d=s.spacing,f=s.tileWidth,p=s.tileHeight,g=0,y=h.children;if(y.length)for(var m,v=0;m=y[v];++v)l=v%c,m.addStyles("top: "+Math.round(d+g*(p+d))+"px; "+(s.rtl?"right: ":"left: ")+Math.round(d+l*(f+d))+"px; width: "+Math.round(f)+"px; height: "+Math.round(p)+"px"),0==(v+1)%c&&++g},adjustBuffer:function(s){var h,l=this.pageCount(s),c=this.defaultPageSize(s),d=0,f=s.psizeProp,p=s.ssizeProp,g=s.$.buffer.node||s.$.buffer.hasNode();if(g){for(var y=0;l>y;++y)d+=(h=s.metrics.pages[y])&&h[f]||c;d+=s.spacing,s.bufferSize=d,g.style[f]=d+"px",g.style[p]=this[p](s)+"px"}},didResize:function(s){var h=s.boundsCache;s._updateBounds=!0,this.updateMetrics(s),(h.left!==s.boundsCache.left||h.top!==s.boundsCache.top||h.width!==s.boundsCache.width||h.height!==s.boundsCache.height)&&this.refresh(s)}},!0),s.DataGridList.delegates.verticalGrid=h}(enyo),enyo&&enyo.version&&(enyo.version.layout="2.4.0"),enyo.kind({name:"enyo.ContextualLayout",kind:"Layout",adjustPosition:function(){if(this.container.showing&&this.container.hasNode()){this.resetPositioning();var s=this.getViewWidth(),h=this.getViewHeight(),l=this.container.vertFlushMargin,c=h-this.container.vertFlushMargin,d=this.container.horizFlushMargin,f=s-this.container.horizFlushMargin;if(l>this.offset.top+this.offset.height||this.offset.top>c){if(this.applyVerticalFlushPositioning(d,f))return;if(this.applyHorizontalFlushPositioning(d,f))return;if(this.applyVerticalPositioning())return}else if((d>this.offset.left+this.offset.width||this.offset.left>f)&&this.applyHorizontalPositioning())return;var p=this.getBoundingRect(this.container.node);if(p.width>this.container.widePopup){if(this.applyVerticalPositioning())return}else if(p.height>this.container.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.container.addClass("vertical");var s=this.getBoundingRect(this.container.node),h=this.getViewHeight();return this.container.floating?h/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height,bottom:"auto"}),this.container.addClass("below")):(this.applyPosition({top:this.offset.top-s.height,bottom:"auto"}),this.container.addClass("above")):s.top+s.height>h&&h-s.bottom<s.top-s.height?this.container.addClass("above"):this.container.addClass("below"),!((s=this.getBoundingRect(this.container.node)).top+s.height>h||0>s.top)},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var s=this.getBoundingRect(this.container.node),h=this.getViewWidth();if(this.container.floating){var l=this.offset.left+this.offset.width/2-s.width/2;l+s.width>h?(this.applyPosition({left:this.offset.left+this.offset.width-s.width}),this.container.addClass("left")):0>l?(this.applyPosition({left:this.offset.left}),this.container.addClass("right")):this.applyPosition({left:l})}else{var c=this.offset.left+this.offset.width/2-s.left-s.width/2;s.right+c>h?(this.applyPosition({left:this.offset.left+this.offset.width-s.right}),this.container.addRemoveClass("left",!0)):0>s.left+c?this.container.addRemoveClass("right",!0):this.applyPosition({left:c})}return!0},applyVerticalFlushPositioning:function(s,h){if(!this.initVerticalPositioning())return!1;var l=this.getBoundingRect(this.container.node),c=this.getViewWidth();return s>this.offset.left+this.offset.width/2?(this.offset.left+this.offset.width/2<this.container.horizBuffer?this.applyPosition({left:this.container.horizBuffer+(this.container.floating?0:-l.left)}):this.applyPosition({left:this.offset.width/2+(this.container.floating?this.offset.left:0)}),this.container.addClass("right"),this.container.addClass("corner"),!0):this.offset.left+this.offset.width/2>h&&(this.offset.left+this.offset.width/2>c-this.container.horizBuffer?this.applyPosition({left:c-this.container.horizBuffer-l.right}):this.applyPosition({left:this.offset.left+this.offset.width/2-l.right}),this.container.addClass("left"),this.container.addClass("corner"),!0)},initHorizontalPositioning:function(){this.resetPositioning();var s=this.getBoundingRect(this.container.node),h=this.getViewWidth();return this.container.floating?h/2>this.offset.left+this.offset.width?(this.applyPosition({left:this.offset.left+this.offset.width}),this.container.addRemoveClass("left",!0)):(this.applyPosition({left:this.offset.left-s.width}),this.container.addRemoveClass("right",!0)):this.offset.left-s.width>0?(this.applyPosition({left:this.offset.left-s.left-s.width}),this.container.addRemoveClass("right",!0)):(this.applyPosition({left:this.offset.width}),this.container.addRemoveClass("left",!0)),this.container.addRemoveClass("horizontal",!0),!(0>(s=this.getBoundingRect(this.container.node)).left||s.left+s.width>h)},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var s=this.getBoundingRect(this.container.node),h=this.getViewHeight(),l=this.offset.top+this.offset.height/2;return this.container.floating?l>=h/2-.05*h&&h/2+.05*h>=l?this.applyPosition({top:this.offset.top+this.offset.height/2-s.height/2,bottom:"auto"}):h/2>this.offset.top+this.offset.height?(this.applyPosition({top:this.offset.top,bottom:"auto"}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top-s.height+2*this.offset.height,bottom:"auto"}),this.container.addRemoveClass("low",!0)):l>=h/2-.05*h&&h/2+.05*h>=l?this.applyPosition({top:(this.offset.height-s.height)/2}):h/2>this.offset.top+this.offset.height?(this.applyPosition({top:-this.offset.height}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:s.top-s.height-this.offset.top+this.offset.height}),this.container.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(s,h){if(!this.initHorizontalPositioning())return!1;var l=this.getBoundingRect(this.container.node),c=this.getViewHeight();return this.container.floating?c/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height/2}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top+this.offset.height/2-l.height}),this.container.addRemoveClass("low",!0)):l.top+l.height>c&&c-l.bottom<l.top-l.height?(this.applyPosition({top:l.top-l.height-this.offset.top-this.offset.height/2}),this.container.addRemoveClass("low",!0)):(this.applyPosition({top:this.offset.height/2}),this.container.addRemoveClass("high",!0)),s>this.offset.left+this.offset.width?(this.container.addClass("left"),this.container.addClass("corner"),!0):this.offset.left>h&&(this.container.addClass("right"),this.container.addClass("corner"),!0)},getBoundingRect:function(s){var h=s.getBoundingClientRect();return h.width&&h.height?h:{left:h.left,right:h.right,top:h.top,bottom:h.bottom,width:h.right-h.left,height:h.bottom-h.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},applyPosition:function(s){var h="";for(var l in s)h+=l+":"+s[l]+(isNaN(s[l])?"; ":"px; ");this.container.addStyles(h)},resetPositioning:function(){this.container.removeClass("right"),this.container.removeClass("left"),this.container.removeClass("high"),this.container.removeClass("low"),this.container.removeClass("corner"),this.container.removeClass("below"),this.container.removeClass("above"),this.container.removeClass("vertical"),this.container.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},reflow:function(){this.offset=this.container.activatorOffset,this.adjustPosition()}}),enyo.kind({name:"enyo.FittableLayout",kind:"Layout",constructor:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.container.addRemoveClass("force-left-to-right",enyo.Control.prototype.rtl&&!this.container.get("rtl"))}})),calcFitIndex:function(){var s,h,l=this.container.children;for(h=0;l.length>h;h++)if((s=l[h]).fit&&s.showing)return h},getFitControl:function(){var s=this.container.children,h=s[this.fitIndex];return h&&h.fit&&h.showing||(this.fitIndex=this.calcFitIndex(),h=s[this.fitIndex]),h},shouldReverse:function(){return this.container.rtl&&"h"===this.orient},getFirstChild:function(){var s=this.getShowingChildren();return this.shouldReverse()?s[s.length-1]:s[0]},getLastChild:function(){var s=this.getShowingChildren();return this.shouldReverse()?s[0]:s[s.length-1]},getShowingChildren:function(){for(var s=[],h=0,l=this.container.children,c=l.length;c>h;h++)l[h].showing&&s.push(l[h]);return s},_reflow:function(s,h,l,c){this.container.addRemoveClass("enyo-stretch",!this.container.noStretch);var d,f,p,g,y,m=this.getFitControl(),v=this.container.hasNode(),b=0,w=0,C=0;if(m&&v){if(d=enyo.dom.calcPaddingExtents(v),f=m.getBounds(),b=v[h]-(d[l]+d[c]),this.shouldReverse()){g=this.getFirstChild(),C=b-(f[l]+f[s]);var S=enyo.dom.getComputedBoxValue(g.hasNode(),"margin",l)||0;if(g==m)w=S;else{var x=g.getBounds()[l];w=f[l]+S-x}}else{p=this.getLastChild(),w=f[l]-(d[l]||0);var P=enyo.dom.getComputedBoxValue(p.hasNode(),"margin",c)||0;if(p==m)C=P;else{var k=p.getBounds(),T=f[l]+f[s];C=k[l]+k[s]+P-T}}y=b-(w+C),m.applyStyle(s,y+"px")}},reflow:function(){"h"==this.orient?this._reflow("width","clientWidth","left","right"):this._reflow("height","clientHeight","top","bottom")}}),enyo.kind({name:"enyo.FittableColumnsLayout",kind:"FittableLayout",orient:"h",layoutClass:"enyo-fittable-columns-layout"}),enyo.kind({name:"enyo.FittableRowsLayout",kind:"FittableLayout",layoutClass:"enyo-fittable-rows-layout",orient:"v"}),enyo.kind({name:"enyo.FittableRows",layoutKind:"FittableRowsLayout",noStretch:!1}),enyo.kind({name:"enyo.FittableColumns",layoutKind:"FittableColumnsLayout",noStretch:!1}),enyo.kind({name:"enyo.FittableHeaderLayout",kind:"FittableColumnsLayout",applyFitSize:enyo.inherit((function(s){return function(h,l,c,d){var f=c-d,p=this.getFitControl();0>f?(p.applyStyle("padding-left",Math.abs(f)+"px"),p.applyStyle("padding-right",null)):f>0?(p.applyStyle("padding-left",null),p.applyStyle("padding-right",Math.abs(f)+"px")):(p.applyStyle("padding-left",null),p.applyStyle("padding-right",null)),s.apply(this,arguments)}}))}),enyo.kind({name:"enyo.FlyweightRepeater",published:{count:0,noSelect:!1,multiSelect:!1,toggleSelected:!1,clientClasses:"",clientStyle:"",rowOffset:0,orient:"v"},events:{onSetupItem:"",onRenderRow:""},bottomUp:!1,components:[{kind:"Selection",onSelect:"selectDeselect",onDeselect:"selectDeselect"},{name:"client"}],create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.noSelectChanged(),this.multiSelectChanged(),this.clientClassesChanged(),this.clientStyleChanged()}})),noSelectChanged:function(){this.noSelect&&this.$.selection.clear()},multiSelectChanged:function(){this.$.selection.setMulti(this.multiSelect)},clientClassesChanged:function(){this.$.client.setClasses(this.clientClasses)},clientStyleChanged:function(){this.$.client.setStyle(this.clientStyle)},setupItem:function(s){this.doSetupItem({index:s,selected:this.isSelected(s)})},generateChildHtml:enyo.inherit((function(s){return function(){var h="";this.index=null;for(var l=0,c=0;this.count>l;l++)c=this.rowOffset+(this.bottomUp?this.count-l-1:l),this.setupItem(c),this.$.client.setAttribute("data-enyo-index",c),"h"==this.orient&&this.$.client.setStyle("display:inline-block;"),h+=s.apply(this,arguments),this.$.client.teardownRender();return h}})),previewDomEvent:function(s){var h=this.index=this.rowForEvent(s);s.rowIndex=s.index=h,s.flyweight=this},decorateEvent:enyo.inherit((function(s){return function(h,l){var c=l&&null!=l.index?l.index:this.index;l&&null!=c&&(l.index=c,l.flyweight=this),s.apply(this,arguments)}})),tap:function(s,h){this.noSelect||-1===h.index||(this.toggleSelected?this.$.selection.toggle(h.index):this.$.selection.select(h.index))},selectDeselect:function(s,h){this.renderRow(h.key)},getSelection:function(){return this.$.selection},isSelected:function(s){return this.getSelection().isSelected(s)},renderRow:function(s){if(!(this.rowOffset>s||s>=this.count+this.rowOffset)){this.setupItem(s);var h=this.fetchRowNode(s);h&&(enyo.dom.setInnerHtml(h,this.$.client.generateChildHtml()),this.$.client.teardownChildren(),this.doRenderRow({rowIndex:s}))}},fetchRowNode:function(s){return this.hasNode()?this.node.querySelector('[data-enyo-index="'+s+'"]'):void 0},rowForEvent:function(s){if(!this.hasNode())return-1;for(var h=s.target;h&&h!==this.node;){var l=h.getAttribute&&h.getAttribute("data-enyo-index");if(null!==l)return Number(l);h=h.parentNode}return-1},prepareRow:function(s){if(!(this.rowOffset>s||s>=this.count+this.rowOffset)){this.setupItem(s);var h=this.fetchRowNode(s);enyo.FlyweightRepeater.claimNode(this.$.client,h)}},lockRow:function(){this.$.client.teardownChildren()},performOnRow:function(s,h,l){this.rowOffset>s||s>=this.count+this.rowOffset||h&&(this.prepareRow(s),enyo.call(l||null,h),this.lockRow())},statics:{claimNode:function(s,h){var l;h&&(l=h.id!==s.id?h.querySelector("#"+s.id):h),s.generated=Boolean(l||!s.tag),s.node=l,s.node&&s.rendered();for(var c,d=0,f=s.children;c=f[d];d++)this.claimNode(c,h)}}}),enyo.kind({name:"enyo.List",kind:"Scroller",classes:"enyo-list",published:{count:0,rowsPerPage:50,orient:"v",bottomUp:!1,noSelect:!1,multiSelect:!1,toggleSelected:!1,fixedSize:!1,reorderable:!1,centerReorderContainer:!0,reorderComponents:[],pinnedReorderComponents:[],swipeableComponents:[],enableSwipe:!1,persistSwipeableItem:!1},events:{onSetupItem:"",onSetupReorderComponents:"",onSetupPinnedReorderComponents:"",onReorder:"",onSetupSwipeItem:"",onSwipeDrag:"",onSwipe:"",onSwipeComplete:""},handlers:{onAnimateFinish:"animateFinish",onRenderRow:"rowRendered",ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onup:"up",onholdpulse:"holdpulse",onflick:"flick"},rowSize:0,listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"placeholder",classes:"enyo-list-placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0;"}]}],reorderHoldTimeMS:600,draggingRowIndex:-1,initHoldCounter:3,holdCounter:3,holding:!1,draggingRowNode:null,placeholderRowIndex:-1,dragToScrollThreshold:.1,prevScrollTop:0,autoScrollTimeoutMS:20,autoScrollTimeout:null,autoscrollPageY:0,pinnedReorderMode:!1,initialPinPosition:-1,itemMoved:!1,currentPageNumber:-1,completeReorderTimeout:null,swipeIndex:null,swipeDirection:null,persistentItemVisible:!1,persistentItemOrigin:null,swipeComplete:!1,completeSwipeTimeout:null,completeSwipeDelayMS:500,normalSwipeSpeedMS:200,fastSwipeSpeedMS:100,percentageDraggedThreshold:.2,importProps:enyo.inherit((function(s){return function(h){h&&h.reorderable&&(this.touch=!0),s.apply(this,arguments)}})),create:enyo.inherit((function(s){return function(){this.pageSizes=[],this.orientV="v"==this.orient,this.vertical=this.orientV?"default":"hidden",s.apply(this,arguments),this.$.generator.orient=this.orient,this.getStrategy().translateOptimized=!0,this.$.port.addRemoveClass("horizontal",!this.orientV),this.$.port.addRemoveClass("vertical",this.orientV),this.$.page0.addRemoveClass("vertical",this.orientV),this.$.page1.addRemoveClass("vertical",this.orientV),this.bottomUpChanged(),this.noSelectChanged(),this.multiSelectChanged(),this.toggleSelectedChanged(),this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count)}})),initComponents:enyo.inherit((function(s){return function(){this.createReorderTools(),s.apply(this,arguments),this.createSwipeableComponents()}})),createReorderTools:function(){this.createComponent({name:"reorderContainer",classes:"enyo-list-reorder-container",ondown:"sendToStrategy",ondrag:"sendToStrategy",ondragstart:"sendToStrategy",ondragfinish:"sendToStrategy",onflick:"sendToStrategy"})},createStrategy:enyo.inherit((function(s){return function(){this.controlParentName="strategy",s.apply(this,arguments),this.createChrome(this.listTools),this.controlParentName="client",this.discoverControlParent()}})),createSwipeableComponents:function(){for(var s=0;this.swipeableComponents.length>s;s++)this.$.swipeableComponents.createComponent(this.swipeableComponents[s],{owner:this.owner})},rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.$.generator.node=this.$.port.hasNode(),this.$.generator.generated=!0,this.reset()}})),resizeHandler:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.refresh()}})),bottomUpChanged:function(){this.$.generator.bottomUp=this.bottomUp,this.$.page0.applyStyle(this.pageBound,null),this.$.page1.applyStyle(this.pageBound,null),this.pageBound=this.orientV?this.bottomUp?"bottom":"top":this.rtl?this.bottomUp?"left":"right":this.bottomUp?"right":"left",!this.orientV&&this.bottomUp&&(this.$.page0.applyStyle("left","auto"),this.$.page1.applyStyle("left","auto")),this.hasNode()&&this.reset()},noSelectChanged:function(){this.$.generator.setNoSelect(this.noSelect)},multiSelectChanged:function(){this.$.generator.setMultiSelect(this.multiSelect)},toggleSelectedChanged:function(){this.$.generator.setToggleSelected(this.toggleSelected)},countChanged:function(){this.hasNode()&&this.updateMetrics()},sendToStrategy:function(s,h){this.$.strategy.dispatchEvent("on"+h.type,h,s)},updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.portSize=0;for(var s=0;this.pageCount>s;s++)this.portSize+=this.getPageSize(s);this.adjustPortSize()},holdpulse:function(s,h){return this.getReorderable()&&!this.isReordering()&&h.holdTime>=this.reorderHoldTimeMS&&this.shouldStartReordering(s,h)?(this.startReordering(h),!1):void 0},dragstart:function(s,h){return!!this.isReordering()||(this.isSwipeable()?this.swipeDragStart(s,h):void 0)},drag:function(s,h){return this.shouldDoReorderDrag(h)?(h.preventDefault(),this.reorderDrag(h),!0):this.isSwipeable()?(h.preventDefault(),this.swipeDrag(s,h),!0):void 0},dragfinish:function(s,h){this.isReordering()?this.finishReordering(s,h):this.isSwipeable()&&this.swipeDragFinish(s,h)},up:function(s,h){this.isReordering()&&this.finishReordering(s,h)},generatePage:function(s,h){this.page=s;var l=this.rowsPerPage*this.page;this.$.generator.setRowOffset(l);var c=Math.min(this.count-l,this.rowsPerPage);this.$.generator.setCount(c);var d=this.$.generator.generateChildHtml();h.setContent(d),this.getReorderable()&&this.draggingRowIndex>-1&&this.hideReorderingRow();var f=h.getBounds(),p=this.orientV?f.height:f.width;if(!this.rowSize&&p>0&&(this.rowSize=Math.floor(p/c),this.updateMetrics()),!this.fixedSize){var g=this.getPageSize(s);g!=p&&p>0&&(this.pageSizes[s]=p,this.portSize+=p-g)}},pageForRow:function(s){return Math.floor(s/this.rowsPerPage)},preserveDraggingRowNode:function(s){this.draggingRowNode&&this.pageForRow(this.draggingRowIndex)===s&&(this.$.holdingarea.hasNode().appendChild(this.draggingRowNode),this.draggingRowNode=null,this.removedInitialPage=!0)},update:function(s){var h=!1,l=this.positionToPageInfo(s),c=l.pos+this.scrollerSize/2,d=Math.floor(c/Math.max(l.size,this.scrollerSize)+.5)+l.no,f=0==d%2?d:d-1;this.p0!=f&&this.isPageInRange(f)&&(this.preserveDraggingRowNode(this.p0),this.generatePage(f,this.$.page0),this.positionPage(f,this.$.page0),this.p0=f,h=!0,this.p0RowBounds=this.getPageRowSizes(this.$.page0)),f=0==d%2?Math.max(1,d-1):d,this.p1!=f&&this.isPageInRange(f)&&(this.preserveDraggingRowNode(this.p1),this.generatePage(f,this.$.page1),this.positionPage(f,this.$.page1),this.p1=f,h=!0,this.p1RowBounds=this.getPageRowSizes(this.$.page1)),h&&(this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count),this.fixedSize||(this.adjustBottomPage(),this.adjustPortSize()))},getPageRowSizes:function(s){for(var h,l,c={},d=s.hasNode().querySelectorAll("div[data-enyo-index]"),f=0;d.length>f;f++)null!==(h=d[f].getAttribute("data-enyo-index"))&&(l=enyo.dom.getBounds(d[f]),c[parseInt(h,10)]={height:l.height,width:l.width});return c},updateRowBounds:function(s){this.p0RowBounds[s]?this.updateRowBoundsAtIndex(s,this.p0RowBounds,this.$.page0):this.p1RowBounds[s]&&this.updateRowBoundsAtIndex(s,this.p1RowBounds,this.$.page1)},updateRowBoundsAtIndex:function(s,h,l){var c=l.hasNode().querySelector('div[data-enyo-index="'+s+'"]'),d=enyo.dom.getBounds(c);h[s].height=d.height,h[s].width=d.width},updateForPosition:function(s){this.update(this.calcPos(s))},calcPos:function(s){return this.bottomUp?this.portSize-this.scrollerSize-s:s},adjustBottomPage:function(){var s=this.p0>=this.p1?this.$.page0:this.$.page1;this.positionPage(s.pageNo,s)},adjustPortSize:function(){this.scrollerSize=this.orientV?this.getBounds().height:this.getBounds().width;var s=Math.max(this.scrollerSize,this.portSize);this.$.port.applyStyle(this.orientV?"height":"width",s+"px"),this.orientV||this.$.port.applyStyle("height",this.getBounds().height+"px")},positionPage:function(s,h){h.pageNo=s;var l=this.pageToPosition(s);h.applyStyle(this.pageBound,l+"px")},pageToPosition:function(s){for(var h=0,l=s;l>0;)l--,h+=this.getPageSize(l);return h},positionToPageInfo:function(s){for(var h=-1,l=this.calcPos(s),c=this.defaultPageSize;l>=0;)h++,l-=c=this.getPageSize(h);return{no:h=Math.max(h,0),size:c,pos:l+c,startRow:h*this.rowsPerPage,endRow:Math.min((h+1)*this.rowsPerPage-1,this.count-1)}},isPageInRange:function(s){return s==Math.max(0,Math.min(this.pageCount-1,s))},getPageSize:function(s){var h=this.pageSizes[s];if(!h){var l=this.rowsPerPage*s,c=Math.min(this.count-l,this.rowsPerPage);h=this.defaultPageSize*(c/this.rowsPerPage)}return Math.max(1,h)},invalidatePages:function(){this.p0=this.p1=null,this.p0RowBounds={},this.p1RowBounds={},this.$.page0.setContent(""),this.$.page1.setContent("")},invalidateMetrics:function(){this.pageSizes=[],this.rowSize=0,this.updateMetrics()},scroll:enyo.inherit((function(s){return function(h,l){var c=s.apply(this,arguments),d=this.orientV?this.getScrollTop():this.getScrollLeft();return this.lastPos===d||(this.lastPos=d,this.update(d),this.pinnedReorderMode&&this.reorderScroll(h,l)),c}})),setScrollTop:enyo.inherit((function(s){return function(h){this.update(h),s.apply(this,arguments),this.twiddle()}})),getScrollPosition:function(){return this.calcPos(this[this.orientV?"getScrollTop":"getScrollLeft"]())},setScrollPosition:function(s){this[this.orientV?"setScrollTop":"setScrollLeft"](this.calcPos(s))},scrollToBottom:enyo.inherit((function(s){return function(){this.update(this.getScrollBounds().maxTop),s.apply(this,arguments)}})),scrollToRow:function(s){var h=this.pageForRow(s),l=this.pageToPosition(h);if(this.updateForPosition(l),l=this.pageToPosition(h),this.setScrollPosition(l),h==this.p0||h==this.p1){var c=this.$.generator.fetchRowNode(s);if(c){var d=this.orientV?c.offsetTop:c.offsetLeft;this.bottomUp&&(d=this.getPageSize(h)-(this.orientV?c.offsetHeight:c.offsetWidth)-d);var f=this.getScrollPosition()+d;this.setScrollPosition(f)}}},scrollToStart:function(){this[this.bottomUp?this.orientV?"scrollToBottom":"scrollToRight":"scrollToTop"]()},scrollToEnd:function(){this[this.bottomUp?this.orientV?"scrollToTop":"scrollToLeft":this.orientV?"scrollToBottom":"scrollToRight"]()},refresh:function(){this.invalidatePages(),this.update(this[this.orientV?"getScrollTop":"getScrollLeft"]()),this.stabilize(),4===enyo.platform.android&&this.twiddle()},reset:function(){this.getSelection().clear(),this.invalidateMetrics(),this.invalidatePages(),this.stabilize(),this.scrollToStart()},getSelection:function(){return this.$.generator.getSelection()},select:function(s,h){return this.getSelection().select(s,h)},deselect:function(s){return this.getSelection().deselect(s)},isSelected:function(s){return this.$.generator.isSelected(s)},renderRow:function(s){this.$.generator.renderRow(s)},rowRendered:function(s,h){this.updateRowBounds(h.rowIndex)},prepareRow:function(s){this.$.generator.prepareRow(s)},lockRow:function(){this.$.generator.lockRow()},performOnRow:function(s,h,l){this.$.generator.performOnRow(s,h,l)},animateFinish:function(){return this.twiddle(),!0},twiddle:function(){var s=this.getStrategy();enyo.call(s,"twiddle")},pageForPageNumber:function(s,h){return 0==s%2?h&&s!==this.p0?null:this.$.page0:h&&s!==this.p1?null:this.$.page1},shouldStartReordering:function(s,h){return!(!this.getReorderable()||null==h.rowIndex||0>h.rowIndex||this.pinnedReorderMode||s!==this.$.strategy||null==h.index||0>h.index)},startReordering:function(s){this.$.strategy.listReordering=!0,this.buildReorderContainer(),this.doSetupReorderComponents(s),this.styleReorderContainer(s),this.draggingRowIndex=this.placeholderRowIndex=s.rowIndex,this.draggingRowNode=s.target,this.removedInitialPage=!1,this.itemMoved=!1,this.initialPageNumber=this.currentPageNumber=this.pageForRow(s.rowIndex),this.prevScrollTop=this.getScrollTop(),this.replaceNodeWithPlaceholder(s.rowIndex)},buildReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var s=0;this.reorderComponents.length>s;s++)this.$.reorderContainer.createComponent(this.reorderComponents[s],{owner:this.owner});this.$.reorderContainer.render()},styleReorderContainer:function(s){this.setItemPosition(this.$.reorderContainer,s.rowIndex),this.setItemBounds(this.$.reorderContainer,s.rowIndex),this.$.reorderContainer.setShowing(!0),this.centerReorderContainer&&this.centerReorderContainerOnPointer(s)},appendNodeToReorderContainer:function(s){this.$.reorderContainer.createComponent({allowHtml:!0,content:s.innerHTML}).render()},centerReorderContainerOnPointer:function(s){var h=enyo.dom.calcNodePosition(this.hasNode()),l=s.pageX-h.left-parseInt(this.$.reorderContainer.domStyles.width,10)/2,c=s.pageY-h.top+this.getScrollTop()-parseInt(this.$.reorderContainer.domStyles.height,10)/2;"ScrollStrategy"!=this.getStrategyKind()&&(l-=this.getScrollLeft(),c-=this.getScrollTop()),this.positionReorderContainer(l,c)},positionReorderContainer:function(s,h){this.$.reorderContainer.addClass("enyo-animatedTopAndLeft"),this.$.reorderContainer.addStyles("left:"+s+"px;top:"+h+"px;"),this.setPositionReorderContainerTimeout()},setPositionReorderContainerTimeout:function(){this.clearPositionReorderContainerTimeout(),this.positionReorderContainerTimeout=setTimeout(this.bindSafely((function(){this.$.reorderContainer.removeClass("enyo-animatedTopAndLeft"),this.clearPositionReorderContainerTimeout()})),100)},clearPositionReorderContainerTimeout:function(){this.positionReorderContainerTimeout&&(clearTimeout(this.positionReorderContainerTimeout),this.positionReorderContainerTimeout=null)},shouldDoReorderDrag:function(){return!(!this.getReorderable()||0>this.draggingRowIndex||this.pinnedReorderMode)},reorderDrag:function(s){this.positionReorderNode(s),this.checkForAutoScroll(s),this.updatePlaceholderPosition(s.pageY)},updatePlaceholderPosition:function(s){var h=this.getRowIndexFromCoordinate(s);-1!==h&&(h>=this.placeholderRowIndex?this.movePlaceholderToIndex(Math.min(this.count,h+1)):this.movePlaceholderToIndex(h))},positionReorderNode:function(s){var h=this.$.reorderContainer.getBounds(),l=h.left+s.ddx,c=h.top+s.ddy;c="ScrollStrategy"==this.getStrategyKind()?c+(this.getScrollTop()-this.prevScrollTop):c,this.$.reorderContainer.addStyles("top: "+c+"px ; left: "+l+"px"),this.prevScrollTop=this.getScrollTop()},checkForAutoScroll:function(s){var h,l=enyo.dom.calcNodePosition(this.hasNode()),c=this.getBounds();this.autoscrollPageY=s.pageY,s.pageY-l.top<c.height*this.dragToScrollThreshold?(h=100*(1-(s.pageY-l.top)/(c.height*this.dragToScrollThreshold)),this.scrollDistance=-1*h):s.pageY-l.top>c.height*(1-this.dragToScrollThreshold)?(h=(s.pageY-l.top-c.height*(1-this.dragToScrollThreshold))/(c.height-c.height*(1-this.dragToScrollThreshold))*100,this.scrollDistance=1*h):this.scrollDistance=0,0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling()},stopAutoScrolling:function(){this.autoScrollTimeout&&(clearTimeout(this.autoScrollTimeout),this.autoScrollTimeout=null)},startAutoScrolling:function(){this.autoScrollTimeout=setInterval(this.bindSafely(this.autoScroll),this.autoScrollTimeoutMS)},autoScroll:function(){0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling(),this.setScrollPosition(this.getScrollPosition()+this.scrollDistance),this.positionReorderNode({ddx:0,ddy:0}),this.updatePlaceholderPosition(this.autoscrollPageY)},movePlaceholderToIndex:function(s){var h,l;if(!(0>s)){s>=this.count?(h=null,l=this.pageForPageNumber(this.pageForRow(this.count-1)).hasNode()):l=(h=this.$.generator.fetchRowNode(s)).parentNode;var c=this.pageForRow(s);c>=this.pageCount&&(c=this.currentPageNumber),l.insertBefore(this.placeholderNode,h),this.currentPageNumber!==c&&(this.updatePageSize(this.currentPageNumber),this.updatePageSize(c),this.updatePagePositions(c)),this.placeholderRowIndex=s,this.currentPageNumber=c,this.itemMoved=!0}},finishReordering:function(s,h){return!this.isReordering()||this.pinnedReorderMode||this.completeReorderTimeout?void 0:(this.stopAutoScrolling(),this.$.strategy.listReordering=!1,this.moveReorderedContainerToDroppedPosition(h),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,h),100),h.preventDefault(),!0)},moveReorderedContainerToDroppedPosition:function(){var s=this.getRelativeOffset(this.placeholderNode,this.hasNode()),h="ScrollStrategy"==this.getStrategyKind()?s.top:s.top-this.getScrollTop(),l=s.left-this.getScrollLeft();this.positionReorderContainer(l,h)},completeFinishReordering:function(s){return this.completeReorderTimeout=null,this.placeholderRowIndex>this.draggingRowIndex&&(this.placeholderRowIndex=Math.max(0,this.placeholderRowIndex-1)),this.draggingRowIndex!=this.placeholderRowIndex||!this.pinnedReorderComponents.length||this.pinnedReorderMode||this.itemMoved?(this.removeDraggingRowNode(),this.removePlaceholderNode(),this.emptyAndHideReorderContainer(),this.pinnedReorderMode=!1,this.reorderRows(s),this.draggingRowIndex=this.placeholderRowIndex=-1,void this.refresh()):void this.beginPinnedReorder(s)},beginPinnedReorder:function(s){this.buildPinnedReorderContainer(),this.doSetupPinnedReorderComponents(enyo.mixin(s,{index:this.draggingRowIndex})),this.pinnedReorderMode=!0,this.initialPinPosition=s.pageY},emptyAndHideReorderContainer:function(){this.$.reorderContainer.destroyComponents(),this.$.reorderContainer.setShowing(!1)},buildPinnedReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var s=0;this.pinnedReorderComponents.length>s;s++)this.$.reorderContainer.createComponent(this.pinnedReorderComponents[s],{owner:this.owner});this.$.reorderContainer.render()},reorderRows:function(s){this.doReorder(this.makeReorderEvent(s)),this.positionReorderedNode(),this.updateListIndices()},makeReorderEvent:function(s){return s.reorderFrom=this.draggingRowIndex,s.reorderTo=this.placeholderRowIndex,s},positionReorderedNode:function(){if(!this.removedInitialPage){var s=this.$.generator.fetchRowNode(this.placeholderRowIndex);if(s&&(s.parentNode.insertBefore(this.hiddenNode,s),this.showNode(this.hiddenNode)),this.hiddenNode=null,this.currentPageNumber!=this.initialPageNumber){var h,l,c=this.pageForPageNumber(this.currentPageNumber),d=this.pageForPageNumber(this.currentPageNumber+1);this.initialPageNumber<this.currentPageNumber?(h=c.hasNode().firstChild,d.hasNode().appendChild(h)):(h=c.hasNode().lastChild,l=d.hasNode().firstChild,d.hasNode().insertBefore(h,l)),this.correctPageSizes(),this.updatePagePositions(this.initialPageNumber)}}},updateListIndices:function(){if(this.shouldDoRefresh())return this.refresh(),void this.correctPageSizes();var s,h,l,c=Math.min(this.draggingRowIndex,this.placeholderRowIndex),d=Math.max(this.draggingRowIndex,this.placeholderRowIndex);if(1===(this.draggingRowIndex-this.placeholderRowIndex>0?1:-1)){for((s=this.$.generator.fetchRowNode(this.draggingRowIndex))&&s.setAttribute("data-enyo-index","reordered"),h=d-1,l=d;h>=c;h--)(s=this.$.generator.fetchRowNode(h))&&(l=parseInt(s.getAttribute("data-enyo-index"),10)+1,s.setAttribute("data-enyo-index",l));(s=this.hasNode().querySelector('[data-enyo-index="reordered"]')).setAttribute("data-enyo-index",this.placeholderRowIndex)}else for((s=this.$.generator.fetchRowNode(this.draggingRowIndex))&&s.setAttribute("data-enyo-index",this.placeholderRowIndex),h=c+1,l=c;d>=h;h++)(s=this.$.generator.fetchRowNode(h))&&(l=parseInt(s.getAttribute("data-enyo-index"),10)-1,s.setAttribute("data-enyo-index",l))},shouldDoRefresh:function(){return Math.abs(this.initialPageNumber-this.currentPageNumber)>1},getNodeStyle:function(s){var h=this.$.generator.fetchRowNode(s);if(h){var l=this.getRelativeOffset(h,this.hasNode()),c=enyo.dom.getBounds(h);return{h:c.height,w:c.width,left:l.left,top:l.top}}},getRelativeOffset:function(s,h){var l={top:0,left:0};if(s!==h&&s.parentNode)do{l.top+=s.offsetTop||0,l.left+=s.offsetLeft||0,s=s.offsetParent}while(s&&s!==h);return l},replaceNodeWithPlaceholder:function(s){var h=this.$.generator.fetchRowNode(s);h?(this.placeholderNode=this.createPlaceholderNode(h),this.hiddenNode=this.hideNode(h),this.pageForPageNumber(this.currentPageNumber).hasNode().insertBefore(this.placeholderNode,this.hiddenNode)):enyo.log("No node - "+s)},createPlaceholderNode:function(s){var h=this.$.placeholder.hasNode().cloneNode(!0),l=enyo.dom.getBounds(s);return h.style.height=l.height+"px",h.style.width=l.width+"px",h},removePlaceholderNode:function(){this.removeNode(this.placeholderNode),this.placeholderNode=null},removeDraggingRowNode:function(){this.draggingRowNode=null,this.$.holdingarea.hasNode().innerHTML=""},removeNode:function(s){s&&s.parentNode&&s.parentNode.removeChild(s)},updatePageSize:function(s){if(!(0>s)){var h=this.pageForPageNumber(s,!0);if(h){var l=this.pageSizes[s],c=Math.max(1,h.getBounds().height);this.pageSizes[s]=c,this.portSize+=c-l}}},updatePagePositions:function(s){this.positionPage(this.currentPageNumber,this.pageForPageNumber(this.currentPageNumber)),this.positionPage(s,this.pageForPageNumber(s))},correctPageSizes:function(){var s=this.initialPageNumber%2;this.updatePageSize(this.currentPageNumber,this.$["page"+this.currentPage]),s!=this.currentPageNumber&&this.updatePageSize(this.initialPageNumber,this.$["page"+s])},hideNode:function(s){return s.style.display="none",s},showNode:function(s){return s.style.display="block",s},dropPinnedRow:function(s){this.moveReorderedContainerToDroppedPosition(s),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,s),100)},cancelPinnedMode:function(s){this.placeholderRowIndex=this.draggingRowIndex,this.dropPinnedRow(s)},getRowIndexFromCoordinate:function(s){var h=this.getScrollTop()+s-enyo.dom.calcNodePosition(this.hasNode()).top;if(0>h)return-1;var l=this.positionToPageInfo(h),c=l.no==this.p0?this.p0RowBounds:this.p1RowBounds;if(!c)return this.count;for(var d=l.pos,f=this.placeholderNode?enyo.dom.getBounds(this.placeholderNode).height:0,p=0,g=l.startRow;l.endRow>=g;++g){if(g===this.placeholderRowIndex&&(p+=f)>=d)return-1;if(g!==this.draggingRowIndex&&(p+=c[g].height)>=d)return g}return g},getIndexPosition:function(s){return enyo.dom.calcNodePosition(this.$.generator.fetchRowNode(s))},setItemPosition:function(s,h){var l=this.getNodeStyle(h),c="top:"+("ScrollStrategy"==this.getStrategyKind()?l.top:l.top-this.getScrollTop())+"px; left:"+l.left+"px;";s.addStyles(c)},setItemBounds:function(s,h){var l=this.getNodeStyle(h),c="width:"+l.w+"px; height:"+l.h+"px;";s.addStyles(c)},reorderScroll:function(){"ScrollStrategy"==this.getStrategyKind()&&this.$.reorderContainer.addStyles("top:"+(this.initialPinPosition+this.getScrollTop()-this.rowSize)+"px;"),this.updatePlaceholderPosition(this.initialPinPosition)},hideReorderingRow:function(){var s=this.hasNode().querySelector('[data-enyo-index="'+this.draggingRowIndex+'"]');s&&(this.hiddenNode=this.hideNode(s))},isReordering:function(){return this.draggingRowIndex>-1},isSwiping:function(){return null!=this.swipeIndex&&!this.swipeComplete&&null!=this.swipeDirection},swipeDragStart:function(s,h){return null==h.index||h.vertical||(this.completeSwipeTimeout&&this.completeSwipe(h),this.swipeComplete=!1,this.swipeIndex!=h.index&&(this.clearSwipeables(),this.swipeIndex=h.index),this.swipeDirection=h.xDirection,this.persistentItemVisible||this.startSwipe(h),this.draggedXDistance=0,this.draggedYDistance=0),!0},swipeDrag:function(s,h){return this.persistentItemVisible?(this.dragPersistentItem(h),this.preventDragPropagation):!!this.isSwiping()&&(this.dragSwipeableComponents(this.calcNewDragPosition(h.ddx)),this.draggedXDistance=h.dx,this.draggedYDistance=h.dy,!0)},swipeDragFinish:function(s,h){if(this.persistentItemVisible)this.dragFinishPersistentItem(h);else{if(!this.isSwiping())return!1;this.calcPercentageDragged(this.draggedXDistance)>this.percentageDraggedThreshold&&h.xDirection===this.swipeDirection?this.swipe(this.fastSwipeSpeedMS):this.backOutSwipe(h)}return this.preventDragPropagation},isSwipeable:function(){return this.enableSwipe&&0!==this.$.swipeableComponents.controls.length&&!this.isReordering()&&!this.pinnedReorderMode},positionSwipeableContainer:function(s,h){var l=this.$.generator.fetchRowNode(s);if(l){var c=this.getRelativeOffset(l,this.hasNode()),d=enyo.dom.getBounds(l),f=1==h?-1*d.width:d.width;this.$.swipeableComponents.addStyles("top: "+c.top+"px; left: "+f+"px; height: "+d.height+"px; width: "+d.width+"px;")}},calcNewDragPosition:function(s){var h=this.$.swipeableComponents.getBounds().left,l=this.$.swipeableComponents.getBounds(),c=1==this.swipeDirection?0:-1*l.width;return 1==this.swipeDirection?h+s>c?c:h+s:c>h+s?c:h+s},dragSwipeableComponents:function(s){this.$.swipeableComponents.applyStyle("left",s+"px")},startSwipe:function(s){s.index=this.swipeIndex,this.positionSwipeableContainer(this.swipeIndex,s.xDirection),this.$.swipeableComponents.setShowing(!0),this.setPersistentItemOrigin(s.xDirection),this.doSetupSwipeItem(s)},dragPersistentItem:function(s){var h="right"==this.persistentItemOrigin?Math.max(0,0+s.dx):Math.min(0,0+s.dx);this.$.swipeableComponents.applyStyle("left",h+"px")},dragFinishPersistentItem:function(s){var h=this.calcPercentageDragged(s.dx)>.2,l=s.dx>0?"right":0>s.dx?"left":null;this.persistentItemOrigin==l&&h?this.slideAwayItem():this.bounceItem(s)},setPersistentItemOrigin:function(s){this.persistentItemOrigin=1==s?"left":"right"},calcPercentageDragged:function(s){return Math.abs(s/this.$.swipeableComponents.getBounds().width)},swipe:function(s){this.swipeComplete=!0,this.animateSwipe(0,s)},backOutSwipe:function(){var s=this.$.swipeableComponents.getBounds(),h=1==this.swipeDirection?-1*s.width:s.width;this.animateSwipe(h,this.fastSwipeSpeedMS),this.swipeDirection=null},bounceItem:function(){var s=this.$.swipeableComponents.getBounds();s.left!=s.width&&this.animateSwipe(0,this.normalSwipeSpeedMS)},slideAwayItem:function(){var s=this.$.swipeableComponents.getBounds().width,h="left"==this.persistentItemOrigin?-1*s:s;this.animateSwipe(h,this.normalSwipeSpeedMS),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},clearSwipeables:function(){this.$.swipeableComponents.setShowing(!1),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},completeSwipe:function(){this.completeSwipeTimeout&&(clearTimeout(this.completeSwipeTimeout),this.completeSwipeTimeout=null),this.getPersistSwipeableItem()?this.swipeComplete&&(this.persistentItemVisible=!0):(this.$.swipeableComponents.setShowing(!1),this.swipeComplete&&this.doSwipeComplete({index:this.swipeIndex,xDirection:this.swipeDirection})),this.swipeIndex=null,this.swipeDirection=null},animateSwipe:function(s,h){var l=enyo.now(),c=this.$.swipeableComponents,d=parseInt(c.domStyles.left,10),f=s-d;this.stopAnimateSwipe();var p=this.bindSafely((function(){var s=enyo.now()-l,g=s/h,y=d+f*Math.min(g,1);c.applyStyle("left",y+"px"),this.job=enyo.requestAnimationFrame(p),s/h>=1&&(this.stopAnimateSwipe(),this.completeSwipeTimeout=setTimeout(this.bindSafely((function(){this.completeSwipe()})),this.completeSwipeDelayMS))}));this.job=enyo.requestAnimationFrame(p)},stopAnimateSwipe:function(){this.job&&(this.job=enyo.cancelRequestAnimationFrame(this.job))}}),enyo.kind({name:"enyo.PulldownList",kind:"List",touch:!0,pully:null,pulldownTools:[{name:"pulldown",classes:"enyo-list-pulldown",components:[{name:"puller",kind:"Puller"}]}],events:{onPullStart:"",onPullCancel:"",onPull:"",onPullRelease:"",onPullComplete:""},handlers:{onScrollStart:"scrollStartHandler",onScrollStop:"scrollStopHandler",ondragfinish:"dragfinish"},pullingMessage:"Pull down to refresh...",pulledMessage:"Release to refresh...",loadingMessage:"Loading...",pullingIconClass:"enyo-puller-arrow enyo-puller-arrow-down",pulledIconClass:"enyo-puller-arrow enyo-puller-arrow-up",loadingIconClass:"",create:enyo.inherit((function(s){return function(){var h={kind:"Puller",showing:!1,text:this.loadingMessage,iconClass:this.loadingIconClass,onCreate:"setPully"};this.listTools.splice(0,0,h),s.apply(this,arguments),this.setPulling()}})),initComponents:enyo.inherit((function(s){return function(){this.createChrome(this.pulldownTools),this.accel=enyo.dom.canAccelerate(),this.translation=this.accel?"translate3d":"translate",this.strategyKind=this.resetStrategyKind(),s.apply(this,arguments)}})),resetStrategyKind:function(){return enyo.platform.android>=3?"TranslateScrollStrategy":"TouchScrollStrategy"},setPully:function(s,h){this.pully=h.originator},scrollStartHandler:function(){this.firedPullStart=!1,this.firedPull=!1,this.firedPullCancel=!1},scroll:enyo.inherit((function(s){return function(){var h=s.apply(this,arguments);this.completingPull&&this.pully.setShowing(!1);var l=this.getStrategy().$.scrollMath||this.getStrategy(),c=-1*this.getScrollTop();return l.isInOverScroll()&&c>0&&(enyo.dom.transformValue(this.$.pulldown,this.translation,"0,"+c+"px"+(this.accel?",0":"")),this.firedPullStart||(this.firedPullStart=!0,this.pullStart(),this.pullHeight=this.$.pulldown.getBounds().height),c>this.pullHeight&&!this.firedPull&&(this.firedPull=!0,this.firedPullCancel=!1,this.pull()),this.firedPull&&!this.firedPullCancel&&this.pullHeight>c&&(this.firedPullCancel=!0,this.firedPull=!1,this.pullCancel())),h}})),scrollStopHandler:function(){this.completingPull&&(this.completingPull=!1,this.doPullComplete())},dragfinish:function(){this.firedPull&&((this.getStrategy().$.scrollMath||this.getStrategy()).setScrollY(-1*this.getScrollTop()-this.pullHeight),this.pullRelease())},completePull:function(){this.completingPull=!0;var s=this.getStrategy().$.scrollMath||this.getStrategy();s.setScrollY(this.pullHeight),s.start()},pullStart:function(){this.setPulling(),this.pully.setShowing(!1),this.$.puller.setShowing(!0),this.doPullStart()},pull:function(){this.setPulled(),this.doPull()},pullCancel:function(){this.setPulling(),this.doPullCancel()},pullRelease:function(){this.$.puller.setShowing(!1),this.pully.setShowing(!0),this.doPullRelease()},setPulling:function(){this.$.puller.setText(this.pullingMessage),this.$.puller.setIconClass(this.pullingIconClass)},setPulled:function(){this.$.puller.setText(this.pulledMessage),this.$.puller.setIconClass(this.pulledIconClass)}}),enyo.kind({name:"enyo.Puller",classes:"enyo-puller",published:{text:"",iconClass:""},events:{onCreate:""},components:[{name:"icon"},{name:"text",tag:"span",classes:"enyo-puller-text"}],create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.doCreate(),this.textChanged(),this.iconClassChanged()}})),textChanged:function(){this.$.text.setContent(this.text)},iconClassChanged:function(){this.$.icon.setClasses(this.iconClass)}}),enyo.kind({name:"enyo.AroundList",kind:"enyo.List",listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"aboveClient"},{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"belowClient"},{name:"placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0px;"}]}],aboveComponents:null,initComponents:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.aboveComponents&&this.$.aboveClient.createComponents(this.aboveComponents,{owner:this.owner}),this.belowComponents&&this.$.belowClient.createComponents(this.belowComponents,{owner:this.owner})}})),updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.aboveHeight=this.$.aboveClient.getBounds().height,this.belowHeight=this.$.belowClient.getBounds().height,this.portSize=this.aboveHeight+this.belowHeight;for(var s=0;this.pageCount>s;s++)this.portSize+=this.getPageSize(s);this.adjustPortSize()},positionPage:function(s,h){h.pageNo=s;var l=this.pageToPosition(s);l+=this.bottomUp?this.belowHeight:this.aboveHeight,h.applyStyle(this.pageBound,l+"px")},scrollToContentStart:function(){var s=this.bottomUp?this.belowHeight:this.aboveHeight;this.setScrollPosition(s)}}),enyo.kind({name:"enyo.GridListImageItem",classes:"enyo-gridlist-imageitem",components:[{name:"image",kind:"enyo.Image",classes:"image"},{name:"caption",classes:"caption"},{name:"subCaption",classes:"sub-caption"}],published:{source:"",caption:"",subCaption:"",selected:!1,centered:!0,imageSizing:"",useCaption:!0,useSubCaption:!0},bindings:[{from:".source",to:".$.image.src"},{from:".caption",to:".$.caption.content"},{from:".caption",to:".$.caption.showing",kind:"enyo.EmptyBinding"},{from:".subCaption",to:".$.subCaption.content"},{from:".subCaption",to:".$.subCaption.showing",kind:"enyo.EmptyBinding"}],create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.selectedChanged(),this.imageSizingChanged(),this.centeredChanged()}})),selectedChanged:function(){this.addRemoveClass("selected",this.selected)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},imageSizingChanged:function(){this.$.image.setSizing(this.imageSizing),this.addRemoveClass("sized-image",!!this.imageSizing),this.imageSizing&&(this.useCaptionChanged(),this.useSubCaptionChanged())},useCaptionChanged:function(){this.addRemoveClass("use-caption",this.useCaption)},useSubCaptionChanged:function(){this.addRemoveClass("use-subcaption",this.useSubCaption)},centeredChanged:function(){this.addRemoveClass("centered",this.centered)}}),enyo.kind({name:"enyo.Slideable",kind:"Control",published:{axis:"h",value:0,unit:"px",min:0,max:0,accelerated:"auto",overMoving:!0,draggable:!0},events:{onAnimateFinish:"",onChange:""},preventDragPropagation:!1,tools:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"}],handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},kDragScalar:1,dragEventProp:"dx",unitModifier:!1,canTransform:!1,create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.acceleratedChanged(),this.transformChanged(),this.axisChanged(),this.valueChanged(),this.addClass("enyo-slideable")}})),initComponents:enyo.inherit((function(s){return function(){this.createComponents(this.tools),s.apply(this,arguments)}})),rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.canModifyUnit(),this.updateDragScalar()}})),resizeHandler:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.updateDragScalar()}})),canModifyUnit:function(){this.canTransform||this.getInitialStyleValue(this.hasNode(),this.boundary).match(/px/i)&&"%"===this.unit&&(this.unitModifier=this.getBounds()[this.dimension])},getInitialStyleValue:function(s,h){var l=enyo.dom.getComputedStyle(s);return l?l.getPropertyValue(h):s&&s.currentStyle?s.currentStyle[h]:"0"},updateBounds:function(s,h){var l={};l[this.boundary]=s,this.setBounds(l,this.unit),this.setInlineStyles(s,h)},updateDragScalar:function(){if("%"==this.unit){var s=this.getBounds()[this.dimension];this.kDragScalar=s?100/s:1,this.canTransform||this.updateBounds(this.value,100)}},transformChanged:function(){this.canTransform=enyo.dom.canTransform()},acceleratedChanged:function(){(!enyo.platform.android||2>=enyo.platform.android)&&enyo.dom.accelerate(this,this.accelerated)},axisChanged:function(){var s="h"==this.axis;this.dragMoveProp=s?"dx":"dy",this.shouldDragProp=s?"horizontal":"vertical",this.transform=s?"translateX":"translateY",this.dimension=s?"width":"height",this.boundary=s?"left":"top"},setInlineStyles:function(s,h){var l={};this.unitModifier?(l[this.boundary]=this.percentToPixels(s,this.unitModifier),l[this.dimension]=this.unitModifier,this.setBounds(l)):(h?l[this.dimension]=h:l[this.boundary]=s,this.setBounds(l,this.unit))},valueChanged:function(s){var h=this.value;this.isOob(h)&&!this.isAnimating()&&(this.value=this.overMoving?this.dampValue(h):this.clampValue(h)),enyo.platform.android>2&&(this.value?(0===s||void 0===s)&&enyo.dom.accelerate(this,this.accelerated):enyo.dom.accelerate(this,!1)),this.canTransform?enyo.dom.transformValue(this,this.transform,this.value+this.unit):this.setInlineStyles(this.value,!1),this.doChange()},getAnimator:function(){return this.$.animator},isAtMin:function(){return this.value<=this.calcMin()},isAtMax:function(){return this.value>=this.calcMax()},calcMin:function(){return this.min},calcMax:function(){return this.max},clampValue:function(s){var h=this.calcMin(),l=this.calcMax();return Math.max(h,Math.min(s,l))},dampValue:function(s){return this.dampBound(this.dampBound(s,this.min,1),this.max,-1)},dampBound:function(s,h,l){var c=s;return h*l>c*l&&(c=h+(c-h)/4),c},percentToPixels:function(s,h){return Math.floor(h/100*s)},pixelsToPercent:function(s){return s/(this.unitModifier?this.getBounds()[this.dimension]:this.container.getBounds()[this.dimension])*100},shouldDrag:function(s){return this.draggable&&s[this.shouldDragProp]},isOob:function(s){return s>this.calcMax()||this.calcMin()>s},dragstart:function(s,h){return this.shouldDrag(h)?(h.preventDefault(),this.$.animator.stop(),h.dragInfo={},this.dragging=!0,this.drag0=this.value,this.dragd0=0,this.preventDragPropagation):void 0},drag:function(s,h){if(this.dragging){h.preventDefault();var l=this.canTransform?h[this.dragMoveProp]*this.kDragScalar:this.pixelsToPercent(h[this.dragMoveProp]),c=this.drag0+l,d=l-this.dragd0;return this.dragd0=l,d&&(h.dragInfo.minimizing=0>d),this.setValue(c),this.preventDragPropagation}},dragfinish:function(s,h){return this.dragging?(this.dragging=!1,this.completeDrag(h),h.preventTap(),this.preventDragPropagation):void 0},completeDrag:function(s){this.value!==this.calcMax()&&this.value!=this.calcMin()&&this.animateToMinMax(s.dragInfo.minimizing)},isAnimating:function(){return this.$.animator.isAnimating()},play:function(s,h){this.$.animator.play({startValue:s,endValue:h,node:this.hasNode()})},animateTo:function(s){this.play(this.value,s)},animateToMin:function(){this.animateTo(this.calcMin())},animateToMax:function(){this.animateTo(this.calcMax())},animateToMinMax:function(s){s?this.animateToMin():this.animateToMax()},animatorStep:function(s){return this.setValue(s.value),!0},animatorComplete:function(s){return this.doAnimateFinish(s),!0},toggleMinMax:function(){this.animateToMinMax(!this.isAtMin())}}),enyo.kind({name:"enyo.Arranger",kind:"Layout",layoutClass:"enyo-arranger",accelerated:"auto",dragProp:"ddx",dragDirectionProp:"xDirection",canDragProp:"horizontal",incrementalPoints:!1,destroy:enyo.inherit((function(s){return function(){for(var h,l=this.container.getPanels(),c=0;h=l[c];c++)h._arranger=null;s.apply(this,arguments)}})),arrange:function(){},size:function(){},start:function(){var s=this.container.fromIndex,h=this.container.toIndex,l=this.container.transitionPoints=[s];if(this.incrementalPoints)for(var c=Math.abs(h-s)-2,d=s;c>=0;)d+=s>h?-1:1,l.push(d),c--;l.push(this.container.toIndex)},finish:function(){},calcArrangementDifference:function(){},canDragEvent:function(s){return s[this.canDragProp]},calcDragDirection:function(s){return s[this.dragDirectionProp]},calcDrag:function(s){return s[this.dragProp]},drag:function(s,h,l,c,d){return this.measureArrangementDelta(-s,h,l,c,d)},measureArrangementDelta:function(s,h,l,c,d){var f=this.calcArrangementDifference(h,l,c,d);return(f?s/Math.abs(f):0)*(this.container.fromIndex>this.container.toIndex?-1:1)},_arrange:function(s){this.containerBounds||this.reflow();var h=this.getOrderedControls(s);this.arrange(h,s)},arrangeControl:function(s,h){s._arranger=enyo.mixin(s._arranger||{},h)},flow:function(){this.c$=[].concat(this.container.getPanels()),this.controlsIndex=0;for(var s,h=0,l=this.container.getPanels();s=l[h];h++)if(enyo.dom.accelerate(s,!s.preventAccelerate&&this.accelerated),enyo.platform.safari)for(var c,d=s.children,f=0;c=d[f];f++)enyo.dom.accelerate(c,this.accelerated)},reflow:function(){var s=this.container.hasNode();this.containerBounds=s?{width:s.clientWidth,height:s.clientHeight}:{},this.size()},flowArrangement:function(){var s=this.container.arrangement;if(s)for(var h,l=0,c=this.container.getPanels();(h=c[l])&&s[l];l++)this.flowControl(h,s[l])},flowControl:function(s,h){enyo.Arranger.positionControl(s,h);var l=h.opacity;null!=l&&enyo.Arranger.opacifyControl(s,l)},getOrderedControls:function(s){for(var h=Math.floor(s),l=h-this.controlsIndex,c=l>0,d=this.c$||[],f=0;Math.abs(l)>f;f++)c?d.push(d.shift()):d.unshift(d.pop());return this.controlsIndex=h,d},statics:{positionControl:function(s,h,l){var c=l||"px";if(!this.updating)if(!enyo.dom.canTransform()||s.preventTransform||enyo.platform.android||10===enyo.platform.ie)enyo.dom.canTransform()&&s.preventTransform&&enyo.dom.transform(s,{translateX:null,translateY:null}),s.setBounds(h,l);else{var d=h.left,f=h.top;d=enyo.isString(d)?d:d&&d+c,f=enyo.isString(f)?f:f&&f+c,enyo.dom.transform(s,{translateX:d||null,translateY:f||null})}},opacifyControl:function(s,h){var l=h;l=l>.99?1:.01>l?0:l,9>enyo.platform.ie?s.applyStyle("filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*l+")"):s.applyStyle("opacity",l)}}}),enyo.kind({name:"enyo.CardArranger",kind:"Arranger",layoutClass:"enyo-arranger enyo-arranger-fit",calcArrangementDifference:function(){return this.containerBounds.width},arrange:function(s){for(var h,l,c=0;h=s[c];c++)l=0===c?1:0,this.arrangeControl(h,{opacity:l})},start:enyo.inherit((function(s){return function(){s.apply(this,arguments);for(var h,l=this.container.getPanels(),c=0;h=l[c];c++){var d=h.showing;h.setShowing(c==this.container.fromIndex||c==this.container.toIndex),h.showing&&!d&&h.resized()}}})),finish:enyo.inherit((function(s){return function(){s.apply(this,arguments);for(var h,l=this.container.getPanels(),c=0;h=l[c];c++)h.setShowing(c==this.container.toIndex)}})),destroy:enyo.inherit((function(s){return function(){for(var h,l=this.container.getPanels(),c=0;h=l[c];c++)enyo.Arranger.opacifyControl(h,1),h.showing||h.setShowing(!0);s.apply(this,arguments)}}))}),enyo.kind({name:"enyo.CardSlideInArranger",kind:"CardArranger",start:function(){for(var s,h=this.container.getPanels(),l=0;s=h[l];l++){var c=s.showing;s.setShowing(l==this.container.fromIndex||l==this.container.toIndex),s.showing&&!c&&s.resized()}var d=this.container.fromIndex;l=this.container.toIndex,this.container.transitionPoints=[l+"."+d+".s",l+"."+d+".f"]},finish:enyo.inherit((function(s){return function(){s.apply(this,arguments);for(var h,l=this.container.getPanels(),c=0;h=l[c];c++)h.setShowing(c==this.container.toIndex)}})),arrange:function(s,h){for(var l,c,d=h.split("."),f=d[0],p=d[1],g="s"==d[2],y=this.containerBounds.width,m=0,v=this.container.getPanels();l=v[m];m++)c=y,p==m&&(c=g?0:-y),f==m&&(c=g?y:0),p==m&&p==f&&(c=0),this.arrangeControl(l,{left:c})},destroy:enyo.inherit((function(s){return function(){for(var h,l=this.container.getPanels(),c=0;h=l[c];c++)enyo.Arranger.positionControl(h,{left:null});s.apply(this,arguments)}}))}),enyo.kind({name:"enyo.CarouselArranger",kind:"Arranger",size:function(){var s,h,l,c,d,f=this.container.getPanels(),p=this.containerPadding=this.container.hasNode()?enyo.dom.calcPaddingExtents(this.container.node):{},g=this.containerBounds;for(g.height-=p.top+p.bottom,g.width-=p.left+p.right,s=0,h=0;c=f[s];s++)l=enyo.dom.calcMarginExtents(c.hasNode()),c.width=c.getBounds().width,c.marginWidth=l.right+l.left,h+=(c.fit?0:c.width)+c.marginWidth,c.fit&&(d=c);if(d){var y=g.width-h;d.width=y>=0?y:d.width}for(s=0,p.left;c=f[s];s++)c.setBounds({top:p.top,bottom:p.bottom,width:c.fit?c.width:null})},arrange:function(s,h){this.container.wrap?this.arrangeWrap(s,h):this.arrangeNoWrap(s,h)},arrangeNoWrap:function(s,h){var l,c,d,f,p=this.container.getPanels(),g=this.container.clamp(h),y=this.containerBounds.width;for(l=g,d=0;(f=p[l])&&!((d+=f.width+f.marginWidth)>y);l++);var m,v,b=y-d,w=0;if(b>0)for(l=g-1,c=0;f=p[l];l--)if(0>=b-(c+=f.width+f.marginWidth)){w=b-c,g=l;break}for(l=0,v=this.containerPadding.left+w;f=p[l];l++)m=f.width+f.marginWidth,g>l?this.arrangeControl(f,{left:-m}):(this.arrangeControl(f,{left:Math.floor(v)}),v+=m)},arrangeWrap:function(s){for(var h,l=0,c=this.containerPadding.left;h=s[l];l++)this.arrangeControl(h,{left:c}),c+=h.width+h.marginWidth},calcArrangementDifference:function(s,h,l,c){var d=Math.abs(s%this.c$.length);return h[d].left-c[d].left},destroy:enyo.inherit((function(s){return function(){for(var h,l=this.container.getPanels(),c=0;h=l[c];c++)enyo.Arranger.positionControl(h,{left:null,top:null}),h.applyStyle("top",null),h.applyStyle("bottom",null),h.applyStyle("left",null),h.applyStyle("width",null);s.apply(this,arguments)}}))}),enyo.kind({name:"enyo.CollapsingArranger",kind:"CarouselArranger",peekWidth:0,size:enyo.inherit((function(s){return function(){this.clearLastSize(),s.apply(this,arguments)}})),clearLastSize:function(){for(var s,h=0,l=this.container.getPanels();s=l[h];h++)s._fit&&h!=l.length-1&&(s.applyStyle("width",null),s._fit=null)},constructor:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.peekWidth=null!=this.container.peekWidth?this.container.peekWidth:this.peekWidth}})),arrange:function(s,h){for(var l,c=this.container.getPanels(),d=0,f=this.containerPadding.left,p=0;l=c[d];d++)l.getShowing()?(this.arrangeControl(l,{left:f+p*this.peekWidth}),d>=h&&(f+=l.width+l.marginWidth-this.peekWidth),p++):(this.arrangeControl(l,{left:f}),d>=h&&(f+=l.width+l.marginWidth)),d==c.length-1&&0>h&&this.arrangeControl(l,{left:f-h})},calcArrangementDifference:function(s,h,l,c){var d=this.container.getPanels().length-1;return Math.abs(c[d].left-h[d].left)},flowControl:enyo.inherit((function(s){return function(h,l){if(s.apply(this,arguments),this.container.realtimeFit){var c=this.container.getPanels();h==c[c.length-1]&&this.fitControl(h,l.left)}}})),finish:enyo.inherit((function(s){return function(){if(s.apply(this,arguments),!this.container.realtimeFit&&this.containerBounds){var h=this.container.getPanels(),l=this.container.arrangement,c=h.length-1,d=h[c];this.fitControl(d,l[c].left)}}})),fitControl:function(s,h){s._fit=!0,s.applyStyle("width",this.containerBounds.width-h+"px"),s.resized()}}),enyo.kind({name:"enyo.DockRightArranger",kind:"Arranger",basePanel:!1,overlap:0,layoutWidth:0,constructor:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.overlap=null!=this.container.overlap?this.container.overlap:this.overlap,this.layoutWidth=null!=this.container.layoutWidth?this.container.layoutWidth:this.layoutWidth}})),size:function(){var s,h,l,c=this.container.getPanels(),d=this.containerPadding=this.container.hasNode()?enyo.dom.calcPaddingExtents(this.container.node):{},f=this.containerBounds;f.width-=d.left+d.right;var p,g=f.width,y=c.length;for(this.container.transitionPositions={},s=0;l=c[s];s++)l.width=0===s&&this.container.basePanel?g:l.getBounds().width;for(s=0;l=c[s];s++){0===s&&this.container.basePanel&&l.setBounds({width:g}),l.setBounds({top:d.top,bottom:d.bottom});for(var m=0;l=c[m];m++){var v;if(0===s&&this.container.basePanel)v=0;else if(s>m)v=g;else{if(s!==m)break;p=g>this.layoutWidth?this.overlap:0,v=g-c[s].width+p}this.container.transitionPositions[s+"."+m]=v}if(y>m)for(var b=!1,w=s+1;y>w;w++){if(p=0,b)p=0;else if(c[s].width+c[w].width-this.overlap>g)p=0,b=!0;else{for(p=c[s].width-this.overlap,h=s;w>h;h++){var C=p+c[h+1].width-this.overlap;if(!(g>C)){p=g;break}p=C}p=g-p}this.container.transitionPositions[s+"."+w]=p}}},arrange:function(s,h){var l,c,d=this.container.getPanels(),f=this.container.clamp(h);for(l=0;c=d[l];l++){var p=this.container.transitionPositions[l+"."+f];this.arrangeControl(c,{left:p})}},calcArrangementDifference:function(s,h,l){var c=this.container.getPanels();return l>s?c[l].width:c[s].width},destroy:enyo.inherit((function(s){return function(){for(var h,l=this.container.getPanels(),c=0;h=l[c];c++)enyo.Arranger.positionControl(h,{left:null,top:null}),h.applyStyle("top",null),h.applyStyle("bottom",null),h.applyStyle("left",null),h.applyStyle("width",null);s.apply(this,arguments)}}))}),enyo.kind({name:"enyo.LeftRightArranger",kind:"Arranger",margin:40,axisSize:"width",offAxisSize:"height",axisPosition:"left",constructor:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.margin=null!=this.container.margin?this.container.margin:this.margin}})),size:function(){for(var s,h,l=this.container.getPanels(),c=this.containerBounds[this.axisSize]-this.margin-this.margin,d=0;h=l[d];d++)(s={})[this.axisSize]=c,s[this.offAxisSize]="100%",h.setBounds(s)},start:enyo.inherit((function(s){return function(){s.apply(this,arguments);for(var h,l=this.container.fromIndex,c=this.container.toIndex,d=this.getOrderedControls(c),f=Math.floor(d.length/2),p=0;h=d[p];p++)l>c?p==d.length-f?h.applyStyle("z-index",0):h.applyStyle("z-index",1):p==d.length-1-f?h.applyStyle("z-index",0):h.applyStyle("z-index",1)}})),arrange:function(s,h){var l,c,d;if(1==this.container.getPanels().length)return(d={})[this.axisPosition]=this.margin,void this.arrangeControl(this.container.getPanels()[0],d);var f=Math.floor(this.container.getPanels().length/2),p=this.getOrderedControls(Math.floor(h)-f),g=this.containerBounds[this.axisSize]-this.margin-this.margin,y=this.margin-g*f;for(l=0;c=p[l];l++)(d={})[this.axisPosition]=y,this.arrangeControl(c,d),y+=g},calcArrangementDifference:function(s,h,l,c){if(1==this.container.getPanels().length)return 0;var d=Math.abs(s%this.c$.length);return h[d][this.axisPosition]-c[d][this.axisPosition]},destroy:enyo.inherit((function(s){return function(){for(var h,l=this.container.getPanels(),c=0;h=l[c];c++)enyo.Arranger.positionControl(h,{left:null,top:null}),enyo.Arranger.opacifyControl(h,1),h.applyStyle("left",null),h.applyStyle("top",null),h.applyStyle("height",null),h.applyStyle("width",null);s.apply(this,arguments)}}))}),enyo.kind({name:"enyo.TopBottomArranger",kind:"LeftRightArranger",dragProp:"ddy",dragDirectionProp:"yDirection",canDragProp:"vertical",axisSize:"height",offAxisSize:"width",axisPosition:"top"}),enyo.kind({name:"enyo.SpiralArranger",kind:"Arranger",incrementalPoints:!0,inc:20,size:function(){for(var s,h=this.container.getPanels(),l=this.containerBounds,c=this.controlWidth=l.width/3,d=this.controlHeight=l.height/3,f=0;s=h[f];f++)s.setBounds({width:c,height:d})},arrange:function(s){for(var h,l=this.inc,c=0,d=s.length;h=s[c];c++){var f=Math.cos(c/d*2*Math.PI)*c*l+this.controlWidth,p=Math.sin(c/d*2*Math.PI)*c*l+this.controlHeight;this.arrangeControl(h,{left:f,top:p})}},start:enyo.inherit((function(s){return function(){s.apply(this,arguments);for(var h,l=this.getOrderedControls(this.container.toIndex),c=0;h=l[c];c++)h.applyStyle("z-index",l.length-c)}})),calcArrangementDifference:function(){return this.controlWidth},destroy:enyo.inherit((function(s){return function(){for(var h,l=this.container.getPanels(),c=0;h=l[c];c++)h.applyStyle("z-index",null),enyo.Arranger.positionControl(h,{left:null,top:null}),h.applyStyle("left",null),h.applyStyle("top",null),h.applyStyle("height",null),h.applyStyle("width",null);s.apply(this,arguments)}}))}),enyo.kind({name:"enyo.GridArranger",kind:"Arranger",incrementalPoints:!0,colWidth:100,colHeight:100,size:function(){for(var s,h=this.container.getPanels(),l=this.colWidth,c=this.colHeight,d=0;s=h[d];d++)s.setBounds({width:l,height:c})},arrange:function(s){for(var h,l=this.colWidth,c=this.colHeight,d=Math.max(1,Math.floor(this.containerBounds.width/l)),f=0,p=0;s.length>p;f++)for(var g=0;d>g&&(h=s[p]);g++,p++)this.arrangeControl(h,{left:l*g,top:c*f})},flowControl:enyo.inherit((function(s){return function(h,l){s.apply(this,arguments),enyo.Arranger.opacifyControl(h,0!=l.top%this.colHeight?.25:1)}})),calcArrangementDifference:function(){return this.colWidth},destroy:enyo.inherit((function(s){return function(){for(var h,l=this.container.getPanels(),c=0;h=l[c];c++)enyo.Arranger.positionControl(h,{left:null,top:null}),h.applyStyle("left",null),h.applyStyle("top",null),h.applyStyle("height",null),h.applyStyle("width",null);s.apply(this,arguments)}}))}),enyo.kind({name:"enyo.Panels",classes:"enyo-panels",published:{index:0,draggable:!0,animate:!0,wrap:!1,arrangerKind:"CardArranger",narrowFit:!0},events:{onTransitionStart:"",onTransitionFinish:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onscroll:"domScroll"},tools:[{kind:"Animator",onStep:"step",onEnd:"completed"}],fraction:0,create:enyo.inherit((function(s){return function(){this.transitionPoints=[],s.apply(this,arguments),this.arrangerKindChanged(),this.narrowFitChanged(),this.indexChanged()}})),rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),enyo.makeBubble(this,"scroll")}})),domScroll:function(){this.hasNode()&&this.node.scrollLeft>0&&(this.node.scrollLeft=0)},initComponents:enyo.inherit((function(s){return function(){this.createChrome(this.tools),s.apply(this,arguments)}})),arrangerKindChanged:function(){this.setLayoutKind(this.arrangerKind)},narrowFitChanged:function(){this.addRemoveClass("enyo-panels-fit-narrow",this.narrowFit&&enyo.Panels.isScreenNarrow())},destroy:enyo.inherit((function(s){return function(){this.destroying=!0,s.apply(this,arguments)}})),removeControl:enyo.inherit((function(s){return function(h){if(this.destroying)return s.apply(this,arguments);var l=-1,c=enyo.indexOf(h,this.controls);c===this.index&&(l=Math.max(c-1,0)),s.apply(this,arguments),-1!==l&&this.controls.length>0&&(this.setIndex(l),this.flow(),this.reflow())}})),isPanel:function(){return!0},flow:enyo.inherit((function(s){return function(){this.arrangements=[],s.apply(this,arguments)}})),reflow:enyo.inherit((function(s){return function(){this.arrangements=[],s.apply(this,arguments),this.refresh()}})),getPanels:function(){return(this.controlParent||this).children},getActive:function(){var s=this.getPanels(),h=this.index%s.length;return 0>h&&(h+=s.length),s[h]},getAnimator:function(){return this.$.animator},setIndex:function(s){var h=this.get("index"),l=this.clamp(s);this.index=l,this.notifyObservers("index",h,l)},setIndexDirect:function(s){this.setIndex(s),this.completed()},selectPanelByName:function(s){if(s)for(var h=0,l=this.getPanels(),c=l.length;c>h;++h)if(s===l[h].name)return this.setIndex(h),h},previous:function(){var s=this.index-1;this.wrap&&0>s&&(s=this.getPanels().length-1),this.setIndex(s)},next:function(){var s=this.index+1;this.wrap&&s>=this.getPanels().length&&(s=0),this.setIndex(s)},clamp:function(s){var h=this.getPanels().length;return this.wrap?0>(s%=h)?s+h:s:Math.max(0,Math.min(s,h-1))},indexChanged:function(s){this.lastIndex=s,!this.dragging&&this.$.animator&&(this.$.animator.isAnimating()&&(this.finishTransitionInfo&&(this.finishTransitionInfo.animating=!0),this.completed()),this.$.animator.stop(),this.hasNode()&&(this.animate?(this.startTransition(!0),this.$.animator.play({startValue:this.fraction})):this.refresh()))},step:function(s){return this.fraction=s.value,this.stepTransition(),!0},completed:function(){return this.$.animator.isAnimating()&&this.$.animator.stop(),this.fraction=1,this.stepTransition(),this.finishTransition(!0),!0},dragstart:function(s,h){return this.draggable&&this.layout&&this.layout.canDragEvent(h)?(h.preventDefault(),this.dragstartTransition(h),this.dragging=!0,this.$.animator.stop(),!0):void 0},drag:function(s,h){this.dragging&&(h.preventDefault(),this.dragTransition(h))},dragfinish:function(s,h){this.dragging&&(this.dragging=!1,h.preventTap(),this.dragfinishTransition(h))},dragstartTransition:function(s){if(this.$.animator.isAnimating())this.verifyDragTransition(s);else{var h=this.fromIndex=this.index;this.toIndex=h-(this.layout?this.layout.calcDragDirection(s):0)}this.fromIndex=this.clamp(this.fromIndex),this.toIndex=this.clamp(this.toIndex),this.fireTransitionStart(),this.layout&&this.layout.start()},dragTransition:function(s){var h=this.layout?this.layout.calcDrag(s):0,l=this.transitionPoints,c=l[0],d=l[l.length-1],f=this.fetchArrangement(c),p=this.fetchArrangement(d),g=this.layout?this.layout.drag(h,c,f,d,p):0,y=h&&!g;this.fraction+=g;var m=this.fraction;(m>1||0>m||y)&&((m>0||y)&&this.dragfinishTransition(s),this.dragstartTransition(s),this.fraction=0),this.stepTransition()},dragfinishTransition:function(s){this.verifyDragTransition(s),this.setIndex(this.toIndex),this.dragging&&this.fireTransitionFinish()},verifyDragTransition:function(s){var h=this.layout?this.layout.calcDragDirection(s):0,l=Math.min(this.fromIndex,this.toIndex),c=Math.max(this.fromIndex,this.toIndex);if(h>0){var d=l;l=c,c=d}l!=this.fromIndex&&(this.fraction=1-this.fraction),this.fromIndex=l,this.toIndex=c},refresh:function(){this.$.animator&&this.$.animator.isAnimating()&&this.$.animator.stop(),this.startTransition(!1),this.fraction=1,this.stepTransition(),this.finishTransition(!1)},startTransition:function(s){this.fromIndex=null!=this.fromIndex?this.fromIndex:this.lastIndex||0,this.toIndex=null!=this.toIndex?this.toIndex:this.index,this.layout&&this.layout.start(),s&&this.fireTransitionStart()},finishTransition:function(s){this.layout&&this.layout.finish(),this.transitionPoints=[],this.fraction=0,this.fromIndex=this.toIndex=null,s&&this.fireTransitionFinish()},fireTransitionStart:function(){var s=this.startTransitionInfo;!this.hasNode()||s&&s.fromIndex==this.fromIndex&&s.toIndex==this.toIndex||(this.startTransitionInfo={fromIndex:this.fromIndex,toIndex:this.toIndex},this.doTransitionStart(enyo.clone(this.startTransitionInfo)))},fireTransitionFinish:function(){var s=this.finishTransitionInfo;!this.hasNode()||s&&s.fromIndex==this.lastIndex&&s.toIndex==this.index||(this.finishTransitionInfo=s&&s.animating?{fromIndex:s.toIndex,toIndex:this.lastIndex}:{fromIndex:this.lastIndex,toIndex:this.index},this.doTransitionFinish(enyo.clone(this.finishTransitionInfo)))},stepTransition:function(){if(this.hasNode()){var s=this.transitionPoints,h=(this.fraction||0)*(s.length-1),l=Math.floor(h);h-=l;var c=s[l],d=s[l+1],f=this.fetchArrangement(c),p=this.fetchArrangement(d);this.arrangement=f&&p?enyo.Panels.lerp(f,p,h):f||p,this.arrangement&&this.layout&&this.layout.flowArrangement()}},fetchArrangement:function(s){return null!=s&&!this.arrangements[s]&&this.layout&&(this.layout._arrange(s),this.arrangements[s]=this.readArrangement(this.getPanels())),this.arrangements[s]},readArrangement:function(s){for(var h,l=[],c=0,d=s;h=d[c];c++)l.push(enyo.clone(h._arranger));return l},statics:{isScreenNarrow:function(){var s=navigator.userAgent,h=enyo.dom.getWindowWidth();switch(enyo.platform.platformName){case"ios":return/iP(?:hone|od;(?: U;)? CPU) OS (\d+)/.test(s);case"android":return/Mobile/.test(s)&&(enyo.platform.android>2||800>=h);case"androidChrome":return/Mobile/.test(s)}return 800>=h},lerp:function(s,h,l){for(var c,d=[],f=0,p=enyo.keys(s);c=p[f];f++)d.push(this.lerpObject(s[c],h[c],l));return d},lerpObject:function(s,h,l){var c,d,f=enyo.clone(s);if(h)for(var p in s)(c=s[p])!=(d=h[p])&&(f[p]=c-(c-d)*l);return f}}}),enyo.kind({name:"enyo.Node",published:{expandable:!1,expanded:!1,icon:"",onlyIconExpands:!1,selected:!1},style:"padding: 0 0 0 16px;",content:"Node",defaultKind:"Node",classes:"enyo-node",components:[{name:"icon",kind:"Image",showing:!1},{kind:"Control",name:"caption",Xtag:"span",style:"display: inline-block; padding: 4px;",allowHtml:!0},{kind:"Control",name:"extra",tag:"span",allowHtml:!0}],childClient:[{kind:"Control",name:"box",classes:"enyo-node-box",Xstyle:"border: 1px solid orange;",components:[{kind:"Control",name:"client",classes:"enyo-node-client",Xstyle:"border: 1px solid lightblue;"}]}],handlers:{ondblclick:"dblclick"},events:{onNodeTap:"nodeTap",onNodeDblClick:"nodeDblClick",onExpand:"nodeExpand",onDestroyed:"nodeDestroyed"},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.selectedChanged(),this.iconChanged()}})),destroy:enyo.inherit((function(s){return function(){this.doDestroyed(),s.apply(this,arguments)}})),initComponents:enyo.inherit((function(s){return function(){this.expandable&&(this.kindComponents=this.kindComponents.concat(this.childClient)),s.apply(this,arguments)}})),contentChanged:function(){this.$.caption.setContent(this.content)},iconChanged:function(){this.$.icon.setSrc(this.icon),this.$.icon.setShowing(Boolean(this.icon))},selectedChanged:function(){this.addRemoveClass("enyo-selected",this.selected)},rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.expandable&&!this.expanded&&this.quickCollapse()}})),addNodes:function(s){this.destroyClientControls();for(var h,l=0;h=s[l];l++)this.createComponent(h);this.$.client.render()},addTextNodes:function(s){this.destroyClientControls();for(var h,l=0;h=s[l];l++)this.createComponent({content:h});this.$.client.render()},tap:function(s,h){return this.onlyIconExpands?h.target==this.$.icon.hasNode()?this.toggleExpanded():this.doNodeTap():(this.toggleExpanded(),this.doNodeTap()),!0},dblclick:function(){return this.doNodeDblClick(),!0},toggleExpanded:function(){this.setExpanded(!this.expanded)},quickCollapse:function(){this.removeClass("enyo-animate"),this.$.box.applyStyle("height","0");var s=this.$.client.getBounds().height;this.$.client.setBounds({top:-s})},_expand:function(){this.addClass("enyo-animate");var s=this.$.client.getBounds().height;this.$.box.setBounds({height:s}),this.$.client.setBounds({top:0}),setTimeout(this.bindSafely((function(){this.expanded&&(this.removeClass("enyo-animate"),this.$.box.applyStyle("height","auto"))})),225)},_collapse:function(){this.removeClass("enyo-animate");var s=this.$.client.getBounds().height;this.$.box.setBounds({height:s}),setTimeout(this.bindSafely((function(){this.addClass("enyo-animate"),this.$.box.applyStyle("height","0"),this.$.client.setBounds({top:-s})})),25)},expandedChanged:function(){if(this.expandable){var s={expanded:this.expanded};this.doExpand(s),s.wait||this.effectExpanded()}else this.expanded=!1},effectExpanded:function(){this.$.client&&(this.expanded?this._expand():this._collapse())}}),enyo.kind({name:"enyo.PanZoomView",kind:enyo.Scroller,touchOverscroll:!1,thumb:!1,animate:!0,verticalDragPropagation:!0,horizontalDragPropagation:!0,published:{scale:"auto",disableZoom:!1},events:{onZoom:""},touch:!0,preventDragPropagation:!1,handlers:{ondragstart:"dragPropagation",onSetDimensions:"setDimensions"},components:[{name:"animator",kind:"Animator",onStep:"zoomAnimationStep",onEnd:"zoomAnimationEnd"},{name:"viewport",style:"overflow:hidden;min-height:100%;min-width:100%;",classes:"enyo-fit",ongesturechange:"gestureTransform",ongestureend:"saveState",ontap:"singleTap",ondblclick:"doubleClick",onmousewheel:"mousewheel",components:[{name:"content"}]}],create:enyo.inherit((function(s){return function(){this.scaleKeyword=this.scale;var h=this.components;if(this.components=[],s.apply(this,arguments),this.$.content.applyStyle("width",this.contentWidth+"px"),this.$.content.applyStyle("height",this.contentHeight+"px"),this.unscaledComponents){var l=this.hasOwnProperty("unscaledComponents")?this.getInstanceOwner():this;this.createComponents(this.unscaledComponents,{owner:l})}this.controlParentName="content",this.discoverControlParent(),this.createComponents(h),this.canTransform=enyo.dom.canTransform(),this.canTransform||this.$.content.applyStyle("position","relative"),this.canAccelerate=enyo.dom.canAccelerate(),this.getStrategy().setDragDuringGesture(!1)}})),rendered:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.getOriginalScale()}})),dragPropagation:function(s,h){var l=this.getStrategy().getScrollBounds(),c=0===l.top&&h.dy>0||l.top>=l.maxTop-2&&0>h.dy,d=0===l.left&&h.dx>0||l.left>=l.maxLeft-2&&0>h.dx;return!(c&&this.verticalDragPropagation||d&&this.horizontalDragPropagation)},mousewheel:function(s,h){h.pageX|=h.clientX+h.target.scrollLeft,h.pageY|=h.clientY+h.target.scrollTop;var l=(this.maxScale-this.minScale)/10,c=this.scale;return h.wheelDelta>0||0>h.detail?this.scale=this.limitScale(this.scale+l):(0>h.wheelDelta||h.detail>0)&&(this.scale=this.limitScale(this.scale-l)),this.eventPt=this.calcEventLocation(h),this.transform(this.scale),c!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null,h.preventDefault(),!0},resizeHandler:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.scaleChanged()}})),setDimensions:function(s,h){return this.$.content.applyStyle("width",h.width+"px"),this.$.content.applyStyle("height",h.height+"px"),this.originalWidth=h.width,this.originalHeight=h.height,this.scale=this.scaleKeyword,this.scaleChanged(),!0},getOriginalScale:function(){this.$.content.hasNode()&&(this.originalWidth=this.$.content.node.clientWidth,this.originalHeight=this.$.content.node.clientHeight,this.scale=this.scaleKeyword,this.scaleChanged())},scaleChanged:function(){var s=this.hasNode();if(s){this.containerWidth=s.clientWidth,this.containerHeight=s.clientHeight;var h=this.containerWidth/this.originalWidth,l=this.containerHeight/this.originalHeight;this.minScale=Math.min(h,l),this.maxScale=1>3*this.minScale?1:3*this.minScale,"auto"==this.scale?this.scale=this.minScale:"width"==this.scale?this.scale=h:"height"==this.scale?this.scale=l:"fit"==this.scale?(this.fitAlignment="center",this.scale=Math.max(h,l)):(this.maxScale=Math.max(this.maxScale,this.scale),this.scale=this.limitScale(this.scale))}this.eventPt=this.calcEventLocation(),this.transform(this.scale),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start(),this.align()},align:function(){if(this.fitAlignment&&"center"===this.fitAlignment){var s=this.getScrollBounds();this.setScrollLeft(s.maxLeft/2),this.setScrollTop(s.maxTop/2)}},gestureTransform:function(s,h){this.eventPt=this.calcEventLocation(h),this.transform(this.limitScale(this.scale*h.scale))},calcEventLocation:function(s){var h={x:0,y:0};if(s&&this.hasNode()){var l=this.node.getBoundingClientRect();h.x=Math.round(s.pageX-l.left-this.bounds.x),h.x=Math.max(0,Math.min(this.bounds.width,h.x)),h.y=Math.round(s.pageY-l.top-this.bounds.y),h.y=Math.max(0,Math.min(this.bounds.height,h.y))}return h},transform:function(s){this.tapped=!1;var h,l,c=this.bounds||this.innerBounds(s);if(this.bounds=this.innerBounds(s),this.scale>this.minScale?this.$.viewport.applyStyle("cursor","move"):this.$.viewport.applyStyle("cursor",null),this.$.viewport.setBounds({width:this.bounds.width+"px",height:this.bounds.height+"px"}),this.ratioX=this.ratioX||(this.eventPt.x+this.getScrollLeft())/c.width,this.ratioY=this.ratioY||(this.eventPt.y+this.getScrollTop())/c.height,this.$.animator.ratioLock?(h=this.$.animator.ratioLock.x*this.bounds.width-this.containerWidth/2,l=this.$.animator.ratioLock.y*this.bounds.height-this.containerHeight/2):(h=this.ratioX*this.bounds.width-this.eventPt.x,l=this.ratioY*this.bounds.height-this.eventPt.y),h=Math.max(0,Math.min(this.bounds.width-this.containerWidth,h)),l=Math.max(0,Math.min(this.bounds.height-this.containerHeight,l)),this.canTransform){var d={scale:s};d=this.canAccelerate?enyo.mixin({translate3d:Math.round(this.bounds.left)+"px, "+Math.round(this.bounds.top)+"px, 0px"},d):enyo.mixin({translate:this.bounds.left+"px, "+this.bounds.top+"px"},d),enyo.dom.transform(this.$.content,d)}else if(enyo.platform.ie){var f='"progid:DXImageTransform.Microsoft.Matrix(M11='+s+", M12=0, M21=0, M22="+s+", SizingMethod='auto expand')\"";this.$.content.applyStyle("-ms-filter",f),this.$.content.setBounds({width:this.bounds.width*s+"px",height:this.bounds.height*s+"px",left:this.bounds.left+"px",top:this.bounds.top+"px"}),this.$.content.applyStyle("width",s*this.bounds.width),this.$.content.applyStyle("height",s*this.bounds.height)}this.setScrollLeft(h),this.setScrollTop(l),this.positionClientControls(s)},limitScale:function(s){return this.disableZoom?s=this.scale:s>this.maxScale?s=this.maxScale:this.minScale>s&&(s=this.minScale),s},innerBounds:function(s){var h=this.originalWidth*s,l=this.originalHeight*s,c={x:0,y:0,transX:0,transY:0};return this.containerWidth>h&&(c.x+=(this.containerWidth-h)/2),this.containerHeight>l&&(c.y+=(this.containerHeight-l)/2),this.canTransform&&(c.transX-=(this.originalWidth-h)/2,c.transY-=(this.originalHeight-l)/2),{left:c.x+c.transX,top:c.y+c.transY,width:h,height:l,x:c.x,y:c.y}},saveState:function(s,h){var l=this.scale;this.scale*=h.scale,this.scale=this.limitScale(this.scale),l!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null},doubleClick:function(s,h){8==enyo.platform.ie&&(this.tapped=!0,h.pageX=h.clientX+h.target.scrollLeft,h.pageY=h.clientY+h.target.scrollTop,this.singleTap(s,h),h.preventDefault())},singleTap:function(s,h){setTimeout(this.bindSafely((function(){this.tapped=!1})),300),this.tapped?(this.tapped=!1,this.smartZoom(s,h)):this.tapped=!0},smartZoom:function(s,h){var l=this.hasNode(),c=this.$.content.hasNode();if(l&&c&&this.hasNode()&&!this.disableZoom){var d=this.scale;if(this.scale=this.scale!=this.minScale?this.minScale:this.maxScale,this.eventPt=this.calcEventLocation(h),this.animate){var f={x:(this.eventPt.x+this.getScrollLeft())/this.bounds.width,y:(this.eventPt.y+this.getScrollTop())/this.bounds.height};this.$.animator.play({duration:350,ratioLock:f,baseScale:d,deltaScale:this.scale-d})}else this.transform(this.scale),this.doZoom({scale:this.scale})}},zoomAnimationStep:function(){var s=this.$.animator.baseScale+this.$.animator.deltaScale*this.$.animator.value;return this.transform(s),!0},zoomAnimationEnd:function(){return this.stabilize(),this.doZoom({scale:this.scale}),this.$.animator.ratioLock=void 0,!0},positionClientControls:function(s){this.waterfallDown("onPositionPin",{scale:s,bounds:this.bounds})}}),enyo.kind({name:"enyo.ImageViewPin",kind:"enyo.Control",published:{highlightAnchorPoint:!1,anchor:{top:0,left:0},position:{top:0,left:0}},style:"position:absolute;z-index:1000;width:0px;height:0px;",handlers:{onPositionPin:"reAnchor"},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.styleClientControls(),this.positionClientControls(),this.highlightAnchorPointChanged(),this.anchorChanged()}})),styleClientControls:function(){for(var s=this.getClientControls(),h=0;s.length>h;h++)s[h].applyStyle("position","absolute")},positionClientControls:function(){for(var s=this.getClientControls(),h=0;s.length>h;h++)for(var l in this.position)s[h].applyStyle(l,this.position[l]+"px")},highlightAnchorPointChanged:function(){this.addRemoveClass("pinDebug",this.highlightAnchorPoint)},anchorChanged:function(){var s=null,h=null;for(h in this.anchor)(s=(""+this.anchor[h]).match(/^(\d+(?:\.\d+)?)(.*)$/))&&(this.anchor[h+"Coords"]={value:s[1],units:s[2]||"px"})},reAnchor:function(s,h){var l=h.scale,c=h.bounds,d=this.anchor.right?"px"==this.anchor.rightCoords.units?c.width+c.x-this.anchor.rightCoords.value*l:c.width*(100-this.anchor.rightCoords.value)/100+c.x:"px"==this.anchor.leftCoords.units?this.anchor.leftCoords.value*l+c.x:c.width*this.anchor.leftCoords.value/100+c.x,f=this.anchor.bottom?"px"==this.anchor.bottomCoords.units?c.height+c.y-this.anchor.bottomCoords.value*l:c.height*(100-this.anchor.bottomCoords.value)/100+c.y:"px"==this.anchor.topCoords.units?this.anchor.topCoords.value*l+c.y:c.height*this.anchor.topCoords.value/100+c.y;this.applyStyle("left",d+"px"),this.applyStyle("top",f+"px")}}),enyo.kind({name:"enyo.ImageView",kind:"enyo.PanZoomView",subKindComponents:[{kind:"Image",ondown:"down",style:"vertical-align: text-top;"}],create:enyo.inherit((function(s){return function(){this.unscaledComponents=this.components,this.components=[],this.kindComponents[1].components[0].components=this.subKindComponents,s.apply(this,arguments),this.$.content.applyStyle("display","inline-block"),this.bufferImage=new Image,this.bufferImage.onload=enyo.bind(this,"imageLoaded"),this.bufferImage.onerror=enyo.bind(this,"imageError"),this.srcChanged(),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start()}})),destroy:enyo.inherit((function(s){return function(){this.bufferImage&&(this.bufferImage.onerror=void 0,this.bufferImage.onerror=void 0,delete this.bufferImage),s.apply(this,arguments)}})),down:function(s,h){h.preventDefault()},srcChanged:function(){this.src&&this.src.length>0&&this.bufferImage&&this.src!=this.bufferImage.src&&(this.bufferImage.src=this.src)},imageLoaded:function(){if(this.scale=this.scaleKeyword,this.originalWidth=this.contentWidth=this.bufferImage.width,this.originalHeight=this.contentHeight=this.bufferImage.height,this.scaleChanged(),this.$.image.setSrc(this.bufferImage.src),enyo.platform.safari){var s=this.$.image.hasNode(),h=this.bufferImage.src;s&&setTimeout((function(){s.src=h}),100)}enyo.dom.transformValue(this.getStrategy().$.client,"translate3d","0px, 0px, 0"),this.positionClientControls(this.scale),this.align()},imageError:function(s){enyo.error("Error loading image: "+this.src),this.bubble("onerror",s)}}),enyo.kind({name:"enyo.ImageCarousel",kind:enyo.Panels,arrangerKind:"enyo.CarouselArranger",defaultScale:"auto",disableZoom:!1,lowMemory:!1,published:{images:[]},handlers:{onTransitionStart:"transitionStart",onTransitionFinish:"transitionFinish"},create:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.imageCount=this.images.length,this.images.length>0&&(this.initContainers(),this.loadNearby())}})),initContainers:function(){for(var s=0;this.images.length>s;s++)this.$["container"+s]||(this.createComponent({name:"container"+s,style:"height:100%; width:100%;"}),this.$["container"+s].render());for(s=this.images.length;this.imageCount>s;s++)this.$["image"+s]&&this.$["image"+s].destroy(),this.$["container"+s].destroy();this.imageCount=this.images.length},loadNearby:function(){var s=this.getBufferRange();for(var h in s)this.loadImageView(s[h])},getBufferRange:function(){var s=[];if(this.layout.containerBounds){var h,l,c,d,f=this.layout.containerBounds;for(l=this.index-1,c=0,d=1*f.width;l>=0&&d>=c;)c+=(h=this.$["container"+l]).width+h.marginWidth,s.unshift(l),l--;for(l=this.index,c=0,d=2*f.width;this.images.length>l&&d>=c;)c+=(h=this.$["container"+l]).width+h.marginWidth,s.push(l),l++}return s},reflow:enyo.inherit((function(s){return function(){s.apply(this,arguments),this.loadNearby()}})),loadImageView:function(s){return this.wrap&&(s=(s%this.images.length+this.images.length)%this.images.length),s>=0&&this.images.length-1>=s&&(this.$["image"+s]?this.$["image"+s].src!=this.images[s]&&(this.$["image"+s].setSrc(this.images[s]),this.$["image"+s].setScale(this.defaultScale),this.$["image"+s].setDisableZoom(this.disableZoom)):(this.$["container"+s].createComponent({name:"image"+s,kind:"ImageView",scale:this.defaultScale,disableZoom:this.disableZoom,src:this.images[s],verticalDragPropagation:!1,style:"height:100%; width:100%;"},{owner:this}),this.$["image"+s].render())),this.$["image"+s]},setImages:function(s){this.set("images",s)},imagesChanged:function(){this.initContainers(),this.loadNearby()},indexChanged:enyo.inherit((function(s){return function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory(),s.apply(this,arguments)}})),transitionStart:function(s,h){return h.fromIndex==h.toIndex||void 0},transitionFinish:function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory()},getActiveImage:function(){return this.getImageByIndex(this.index)},getImageByIndex:function(s){return this.$["image"+s]||this.loadImageView(s)},cleanupMemory:function(){for(var s=this.getBufferRange(),h=0;this.images.length>h;h++)-1===enyo.indexOf(h,s)&&this.$["image"+h]&&this.$["image"+h].destroy()}}),enyo&&enyo.version&&(enyo.version.onyx="2.4.0"),enyo.kind({name:"onyx.Icon",published:{src:"",disabled:!1},classes:"onyx-icon",create:function(){this.inherited(arguments),this.src&&this.srcChanged(),this.disabledChanged()},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},srcChanged:function(){this.applyStyle("background-image","url("+enyo.path.rewrite(this.src)+")")}}),enyo.kind({name:"onyx.Button",kind:"enyo.Button",classes:"onyx-button enyo-unselectable",handlers:{ondown:"down",onenter:"enter",ondragfinish:"dragfinish",onleave:"leave",onup:"up"},down:function(){return!!this.disabled||(this.addClass("pressed"),void(this._isPressed=!0))},enter:function(){return!!this.disabled||void(this._isPressed&&this.addClass("pressed"))},dragfinish:function(){return!!this.disabled||(this.removeClass("pressed"),void(this._isPressed=!1))},leave:function(){return!!this.disabled||void this.removeClass("pressed")},up:function(){return!!this.disabled||(this.removeClass("pressed"),void(this._isPressed=!1))}}),enyo.kind({name:"onyx.IconButton",kind:"onyx.Icon",published:{active:!1},classes:"onyx-icon-button",handlers:{ondown:"down",onenter:"enter",ondragfinish:"dragfinish",onleave:"leave",onup:"up"},rendered:function(){this.inherited(arguments),this.activeChanged()},tap:function(){return!!this.disabled||void this.setActive(!0)},down:function(){return!!this.disabled||(this.addClass("pressed"),void(this._isPressed=!0))},enter:function(){return!!this.disabled||void(this._isPressed&&this.addClass("pressed"))},dragfinish:function(){return!!this.disabled||(this.removeClass("pressed"),void(this._isPressed=!1))},leave:function(){return!!this.disabled||void this.removeClass("pressed")},up:function(){return!!this.disabled||(this.removeClass("pressed"),void(this._isPressed=!1))},activeChanged:function(){this.bubble("onActivate")}}),enyo.kind({name:"onyx.Checkbox",classes:"onyx-checkbox",kind:enyo.Checkbox,tag:"div",handlers:{onclick:""},tap:function(){return this.disabled||(this.setChecked(!this.getChecked()),this.bubble("onchange")),!this.disabled},dragstart:function(){}}),enyo.kind({name:"onyx.Drawer",kind:"enyo.Drawer"}),enyo.kind({name:"onyx.Grabber",classes:"onyx-grabber"}),enyo.kind({name:"onyx.Groupbox",classes:"onyx-groupbox"}),enyo.kind({name:"onyx.GroupboxHeader",classes:"onyx-groupbox-header"}),enyo.kind({name:"onyx.Input",kind:"enyo.Input",classes:"onyx-input"}),enyo.kind({name:"onyx.Popup",kind:"enyo.Popup",classes:"onyx-popup",published:{scrimWhenModal:!0,scrim:!1,scrimClassName:"",defaultZ:120},protectedStatics:{count:0,highestZ:120},showingChanged:function(){this.showing?(onyx.Popup.count++,this.applyZIndex()):onyx.Popup.count>0&&onyx.Popup.count--,this.showHideScrim(this.showing),this.inherited(arguments)},showHideScrim:function(s){if(this.floating&&(this.scrim||this.modal&&this.scrimWhenModal)){var h=this.getScrim();if(s){var l=this.getScrimZIndex();this._scrimZ=l,h.showAtZIndex(l)}else h.hideAtZIndex(this._scrimZ);enyo.call(h,"addRemoveClass",[this.scrimClassName,h.showing])}},getScrimZIndex:function(){return onyx.Popup.highestZ>=this._zIndex?this._zIndex-1:onyx.Popup.highestZ},getScrim:function(){return this.modal&&this.scrimWhenModal&&!this.scrim?onyx.scrimTransparent.make():onyx.scrim.make()},applyZIndex:function(){this._zIndex=2*onyx.Popup.count+this.findZIndex()+1,this._zIndex<=onyx.Popup.highestZ&&(this._zIndex=onyx.Popup.highestZ+1),this._zIndex>onyx.Popup.highestZ&&(onyx.Popup.highestZ=this._zIndex),this.applyStyle("z-index",this._zIndex)},findZIndex:function(){var s=this.defaultZ;return this._zIndex?s=this._zIndex:this.hasNode()&&(s=Number(enyo.dom.getComputedStyleValue(this.node,"z-index"))||s),this.defaultZ>s&&(s=this.defaultZ),this._zIndex=s,this._zIndex}}),enyo.kind({name:"onyx.TextArea",kind:"enyo.TextArea",classes:"onyx-textarea"}),enyo.kind({name:"onyx.RichText",kind:"enyo.RichText",classes:"onyx-richtext"}),enyo.kind({name:"onyx.InputDecorator",kind:"enyo.ToolDecorator",tag:"label",classes:"onyx-input-decorator",published:{alwaysLooksFocused:!1},handlers:{onDisabledChange:"disabledChange",onfocus:"receiveFocus",onblur:"receiveBlur"},create:function(){this.inherited(arguments),this.updateFocus(!1)},alwaysLooksFocusedChanged:function(){this.updateFocus(this.focus)},updateFocus:function(s){this.focused=s,this.addRemoveClass("onyx-focused",this.alwaysLooksFocused||this.focused)},receiveFocus:function(){this.updateFocus(!0)},receiveBlur:function(){this.updateFocus(!1)},disabledChange:function(s,h){this.addRemoveClass("onyx-disabled",h.originator.disabled)}}),enyo.kind({name:"onyx.Tooltip",kind:"onyx.Popup",classes:"onyx-tooltip below left-arrow",autoDismiss:!1,showDelay:500,defaultLeft:-6,handlers:{onRequestShowTooltip:"requestShow",onRequestHideTooltip:"requestHide"},requestShow:function(){return this.showJob=setTimeout(this.bindSafely("show"),this.showDelay),!0},cancelShow:function(){clearTimeout(this.showJob)},requestHide:function(){return this.cancelShow(),this.inherited(arguments)},showingChanged:function(){this.cancelShow(),this.adjustPosition(!0),this.inherited(arguments)},applyPosition:function(s){var h="";for(var l in s)h+=l+":"+s[l]+(isNaN(s[l])?"; ":"px; ");this.addStyles(h)},adjustPosition:function(){if(this.showing&&this.hasNode()){var s=this.node.getBoundingClientRect();s.top+s.height>window.innerHeight?(this.addRemoveClass("below",!1),this.addRemoveClass("above",!0)):(this.addRemoveClass("above",!1),this.addRemoveClass("below",!0)),s.left+s.width>window.innerWidth&&(this.applyPosition({"margin-left":-s.width,bottom:"auto"}),this.addRemoveClass("left-arrow",!1),this.addRemoveClass("right-arrow",!0))}},resizeHandler:function(){this.applyPosition({"margin-left":this.defaultLeft,bottom:"auto"}),this.addRemoveClass("left-arrow",!0),this.addRemoveClass("right-arrow",!1),this.adjustPosition(!0),this.inherited(arguments)}}),enyo.kind({name:"onyx.TooltipDecorator",defaultKind:"onyx.Button",classes:"onyx-popup-decorator",handlers:{onenter:"enter",onleave:"leave"},enter:function(){this.requestShowTooltip()},leave:function(){this.requestHideTooltip()},tap:function(){this.requestHideTooltip()},requestShowTooltip:function(){this.waterfallDown("onRequestShowTooltip")},requestHideTooltip:function(){this.waterfallDown("onRequestHideTooltip")}}),enyo.kind({name:"onyx.MenuDecorator",kind:"onyx.TooltipDecorator",defaultKind:"onyx.Button",classes:"onyx-popup-decorator enyo-unselectable",handlers:{onActivate:"activated",onHide:"menuHidden"},activated:function(s,h){this.requestHideTooltip(),h.originator.active&&(this.menuActive=!0,this.activator=h.originator,this.activator.addClass("active"),this.requestShowMenu())},requestShowMenu:function(){this.waterfallDown("onRequestShowMenu",{activator:this.activator})},requestHideMenu:function(){this.waterfallDown("onRequestHideMenu")},menuHidden:function(){this.menuActive=!1,this.activator&&(this.activator.setActive(!1),this.activator.removeClass("active"))},enter:function(){this.menuActive||this.inherited(arguments)},leave:function(){this.menuActive||this.inherited(arguments)}}),enyo.kind({name:"onyx.Menu",kind:"onyx.Popup",modal:!0,defaultKind:"onyx.MenuItem",classes:"onyx-menu",published:{maxHeight:200,scrolling:!0,scrollStrategyKind:"TouchScrollStrategy"},handlers:{onActivate:"itemActivated",onRequestShowMenu:"requestMenuShow",onRequestHideMenu:"requestHide"},childComponents:[{name:"client",kind:"enyo.Scroller"}],showOnTop:!1,scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged()},initComponents:function(){this.scrolling&&this.createComponents(this.childComponents,{isChrome:!0,strategyKind:this.scrollStrategyKind}),this.inherited(arguments)},getScroller:function(){return this.$[this.scrollerName]},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},itemActivated:function(s,h){return h.originator.setActive(!1),!0},showingChanged:function(){this.inherited(arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition(!0)},requestMenuShow:function(s,h){if(this.floating){var l=h.activator.hasNode();if(l){var c=this.activatorOffset=this.getPageOffset(l);this.applyPosition({top:c.top+(this.showOnTop?0:c.height),left:c.left,width:c.width})}}return this.show(),!0},applyPosition:function(s){var h="";for(var l in s)h+=l+":"+s[l]+(isNaN(s[l])?"; ":"px; ");this.addStyles(h)},getPageOffset:function(s){var h=s.getBoundingClientRect(),l=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,c=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,d=void 0===h.height?h.bottom-h.top:h.height,f=void 0===h.width?h.right-h.left:h.width;return{top:h.top+l,left:h.left+c,height:d,width:f}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.scrolling&&!this.showOnTop&&this.getScroller().setMaxHeight(this.maxHeight+"px"),this.removeClass("onyx-menu-up"),this.floating||this.applyPosition({left:"auto"});var s,h=this.node.getBoundingClientRect(),l=void 0===h.height?h.bottom-h.top:h.height,c=void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight,d=void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth;if(this.menuUp=h.top+l>c&&c-h.bottom<h.top-l,this.addRemoveClass("onyx-menu-up",this.menuUp),this.floating){var f=this.activatorOffset;this.menuUp?this.applyPosition({top:f.top-l+(this.showOnTop?f.height:0),bottom:"auto"}):h.top<f.top&&c>f.top+(this.showOnTop?0:f.height)+l&&this.applyPosition({top:f.top+(this.showOnTop?0:f.height),bottom:"auto"})}if(h.right>d&&(this.floating?this.applyPosition({left:d-h.width}):this.applyPosition({left:-(h.right-d)})),0>h.left&&(this.floating?this.applyPosition({left:0,right:"auto"}):"auto"==this.getComputedStyleValue("right")?this.applyPosition({left:-h.left}):this.applyPosition({right:h.left})),this.scrolling&&!this.showOnTop)h=this.node.getBoundingClientRect(),s=this.menuUp?this.maxHeight<h.bottom?this.maxHeight:h.bottom:c>h.top+this.maxHeight?this.maxHeight:c-h.top,this.getScroller().setMaxHeight(s+"px")}},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()},requestHide:function(){this.setShowing(!1)}}),enyo.kind({name:"onyx.MenuItem",kind:"enyo.Button",events:{onSelect:"",onItemContentChange:""},classes:"onyx-menu-item",tag:"div",create:function(){this.silence(),this.inherited(arguments),this.unsilence(),this.active&&this.bubble("onActivate")},tap:function(){this.inherited(arguments),this.bubble("onRequestHideMenu"),this.doSelect({selected:this,content:this.content})},contentChanged:function(){this.inherited(arguments),this.doItemContentChange({content:this.content})}}),enyo.kind({name:"onyx.Submenu",defaultKind:"onyx.MenuItem",initComponents:function(){this.createChrome([{name:"label",kind:"enyo.Control",classes:"onyx-menu-item",content:this.content||this.name,isChrome:!0,ontap:"toggleOpen"},{kind:"onyx.Drawer",name:"client",classes:"client onyx-submenu",isChrome:!0,open:!1}]),this.inherited(arguments)},toggleOpen:function(){this.setOpen(!this.getOpen())},setOpen:function(s){this.$.client.setOpen(s)},getOpen:function(){return this.$.client.getOpen()}}),enyo.kind({name:"onyx.PickerDecorator",kind:"onyx.MenuDecorator",classes:"onyx-picker-decorator",defaultKind:"onyx.PickerButton",handlers:{onChange:"change"},change:function(s,h){this.waterfallDown("onChange",h)}}),enyo.kind({name:"onyx.PickerButton",kind:"onyx.Button",handlers:{onChange:"change"},change:function(s,h){void 0!==h.content&&this.setContent(h.content)}}),enyo.kind({name:"onyx.Picker",kind:"onyx.Menu",classes:"onyx-picker enyo-unselectable",published:{selected:null},events:{onChange:""},handlers:{onItemContentChange:"itemContentChange"},floating:!0,showOnTop:!0,initComponents:function(){this.setScrolling(!0),this.inherited(arguments)},showingChanged:function(){this.getScroller().setShowing(this.showing),this.inherited(arguments),this.showing&&this.selected&&this.scrollToSelected()},scrollToSelected:function(){this.getScroller().scrollToControl(this.selected,!this.menuUp)},itemActivated:function(s,h){return this.processActivatedItem(h.originator),this.inherited(arguments)},processActivatedItem:function(s){s.active&&this.setSelected(s)},selectedChanged:function(s){s&&s.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content}))},itemContentChange:function(s,h){h.originator==this.selected&&this.doChange({selected:this.selected,content:this.selected.content})},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()}}),enyo.kind({name:"onyx.FlyweightPicker",kind:"onyx.Picker",classes:"onyx-flyweight-picker",published:{count:0},events:{onSetupItem:"",onSelect:""},handlers:{onSelect:"itemSelect"},components:[{name:"scroller",kind:"enyo.Scroller",strategyKind:"TouchScrollStrategy",components:[{name:"flyweight",kind:"FlyweightRepeater",noSelect:!0,ontap:"itemTap"}]}],scrollerName:"scroller",initComponents:function(){this.controlParentName="flyweight",this.inherited(arguments),this.$.flyweight.$.client.children[0].setActive(!0)},create:function(){this.inherited(arguments),this.countChanged()},rendered:function(){this.inherited(arguments),this.selectedChanged()},scrollToSelected:function(){var s=this.$.flyweight.fetchRowNode(this.selected);this.getScroller().scrollToNode(s,!this.menuUp)},countChanged:function(){this.$.flyweight.count=this.count},processActivatedItem:function(s){this.item=s},selectedChanged:function(s){var h;this.item&&(null!=s&&(this.item.removeClass("selected"),this.$.flyweight.renderRow(s)),null!=this.selected&&(this.item.addClass("selected"),this.$.flyweight.renderRow(this.selected),this.item.removeClass("selected"),h=this.$.flyweight.fetchRowNode(this.selected)),this.doChange({selected:this.selected,content:h&&h.textContent||this.item.content}))},itemTap:function(s,h){this.setSelected(h.rowIndex),this.doSelect({selected:this.item,content:this.item.content})},itemSelect:function(s,h){return h.originator!=this||void 0}}),enyo.kind({name:"onyx.DatePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en-US",dayHidden:!1,monthHidden:!1,yearHidden:!1,minYear:1900,maxYear:2099,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),ilib&&(this.locale=ilib.getLocale()),this.initDefaults()},initDefaults:function(){var s;ilib?(s=[],this._tf=new ilib.DateFmt({locale:this.locale,timezone:"local"}),s=this._tf.getMonthsOfYear({length:"long"})):(s=[void 0,"JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.localeInfo.getMonthsOfYear=function(){return s}),this.setupPickers(this._tf?this._tf.getTemplate():"mdy"),this.dayHiddenChanged(),this.monthHiddenChanged(),this.yearHiddenChanged();for(var h,l=this.value=this.value||new Date,c=0;h=s[c+1];c++)this.$.monthPicker.createComponent({content:h,value:c,active:c==l.getMonth()});var d=l.getFullYear();for(this.$.yearPicker.setSelected(d-this.minYear),c=1;this.monthLength(l.getYear(),l.getMonth())>=c;c++)this.$.dayPicker.createComponent({content:c,value:c,active:c==l.getDate()})},monthLength:function(s,h){return 32-new Date(s,h,32).getDate()},setupYear:function(s,h){return this.$.year.setContent(this.minYear+h.index),!0},setupPickers:function(s){var h,l,c,d=s.split(""),f=!1,p=!1,g=!1;for(l=0,c=d.length;c>l;l++)switch(h=d[l],h.toLowerCase()){case"d":g||(this.createDay(),g=!0);break;case"m":p||(this.createMonth(),p=!0);break;case"y":f||(this.createYear(),f=!0)}},createYear:function(){var s=this.maxYear-this.minYear;this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateYear",components:[{classes:"onyx-datepicker-year",name:"yearPickerButton",disabled:this.disabled},{name:"yearPicker",kind:"onyx.FlyweightPicker",count:++s,onSetupItem:"setupYear",components:[{name:"year"}]}]})},createMonth:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMonth",components:[{classes:"onyx-datepicker-month",name:"monthPickerButton",disabled:this.disabled},{name:"monthPicker",kind:"onyx.Picker"}]})},createDay:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateDay",components:[{classes:"onyx-datepicker-day",name:"dayPickerButton",disabled:this.disabled},{name:"dayPicker",kind:"onyx.Picker"}]})},localeChanged:function(){this.refresh()},dayHiddenChanged:function(){this.$.dayPicker.getParent().setShowing(!this.dayHidden)},monthHiddenChanged:function(){this.$.monthPicker.getParent().setShowing(!this.monthHidden)},yearHiddenChanged:function(){this.$.yearPicker.getParent().setShowing(!this.yearHidden)},minYearChanged:function(){this.refresh()},maxYearChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},disabledChanged:function(){this.$.yearPickerButton.setDisabled(this.disabled),this.$.monthPickerButton.setDisabled(this.disabled),this.$.dayPickerButton.setDisabled(this.disabled)},updateDay:function(s,h){var l=this.calcDate(this.value.getFullYear(),this.value.getMonth(),h.selected.value);return this.doSelect({name:this.name,value:l}),this.setValue(l),!0},updateMonth:function(s,h){var l=this.calcDate(this.value.getFullYear(),h.selected.value,this.value.getDate());return this.doSelect({name:this.name,value:l}),this.setValue(l),!0},updateYear:function(s,h){if(-1!=h.originator.selected){var l=this.calcDate(this.minYear+h.originator.selected,this.value.getMonth(),this.value.getDate());this.doSelect({name:this.name,value:l}),this.setValue(l)}return!0},calcDate:function(s,h,l){return new Date(s,h,l,this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds())},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}}),enyo.kind({name:"onyx.TimePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en-US",is24HrMode:null,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),ilib&&(this.locale=ilib.getLocale()),this.initDefaults()},initDefaults:function(){if(this._strAm="AM",this._strPm="PM",ilib){this._tf=new ilib.DateFmt({locale:this.locale});var s=new ilib.DateFmt({locale:this.locale,type:"time",template:"a"}),h=ilib.Date.newInstance({locale:this.locale,hour:1});this._strAm=s.format(h),h.hour=13,this._strPm=s.format(h),null==this.is24HrMode&&(this.is24HrMode="24"==this._tf.getClock())}else null==this.is24HrMode&&(this.is24HrMode=!1);this.setupPickers(this._tf?this._tf.getTimeComponents():"hma");var l,c=this.value=this.value||new Date;if(this.is24HrMode)for(l=0;24>l;l++)this.$.hourPicker.createComponent({content:l,value:l,active:l==c.getHours()});else{var d=c.getHours();for(d=0===d?12:d,l=1;12>=l;l++)this.$.hourPicker.createComponent({content:l,value:l,active:l==(d>12?d%12:d)})}for(l=0;59>=l;l++)this.$.minutePicker.createComponent({content:10>l?"0"+l:l,value:l,active:l==c.getMinutes()});c.getHours()>=12?this.$.ampmPicker.createComponents([{content:this._strAm},{content:this._strPm,active:!0}]):this.$.ampmPicker.createComponents([{content:this._strAm,active:!0},{content:this._strPm}]),this.$.ampmPicker.getParent().setShowing(!this.is24HrMode)},setupPickers:function(s){-1!==s.indexOf("h")&&this.createHour(),-1!==s.indexOf("m")&&this.createMinute(),-1!==s.indexOf("a")&&this.createAmPm()},createHour:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateHour",components:[{classes:"onyx-timepicker-hour",name:"hourPickerButton",disabled:this.disabled},{name:"hourPicker",kind:"onyx.Picker"}]})},createMinute:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMinute",components:[{classes:"onyx-timepicker-minute",name:"minutePickerButton",disabled:this.disabled},{name:"minutePicker",kind:"onyx.Picker"}]})},createAmPm:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateAmPm",components:[{classes:"onyx-timepicker-ampm",name:"ampmPickerButton",disabled:this.disabled},{name:"ampmPicker",kind:"onyx.Picker"}]})},disabledChanged:function(){this.$.hourPickerButton.setDisabled(this.disabled),this.$.minutePickerButton.setDisabled(this.disabled),this.$.ampmPickerButton.setDisabled(this.disabled)},localeChanged:function(){this.is24HrMode=null,this.refresh()},is24HrModeChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},updateHour:function(s,h){var l=h.selected.value;if(!this.is24HrMode){var c=this.$.ampmPicker.getParent().controlAtIndex(0).content;l=l+(12==l?-12:0)+(this.isAm(c)?0:12)}return this.setValue(this.calcTime(l,this.value.getMinutes())),this.doSelect({name:this.name,value:this.value}),!0},updateMinute:function(s,h){return this.setValue(this.calcTime(this.value.getHours(),h.selected.value)),this.doSelect({name:this.name,value:this.value}),!0},updateAmPm:function(s,h){var l=this.value.getHours();return this.is24HrMode||(l+=l>11?this.isAm(h.content)?-12:0:this.isAm(h.content)?0:12),this.setValue(this.calcTime(l,this.value.getMinutes())),this.doSelect({name:this.name,value:this.value}),!0},calcTime:function(s,h){return new Date(this.value.getFullYear(),this.value.getMonth(),this.value.getDate(),s,h,this.value.getSeconds(),this.value.getMilliseconds())},isAm:function(s){return s==this._strAm},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}}),enyo.kind({name:"onyx.RadioButton",kind:"enyo.Button",classes:"onyx-radiobutton"}),enyo.kind({name:"onyx.RadioGroup",kind:"enyo.Group",defaultKind:"onyx.RadioButton",highlander:!0}),enyo.kind({name:"onyx.ToggleButton",classes:"onyx-toggle-button",published:{active:!1,value:!1,onContent:"On",offContent:"Off",disabled:!1},events:{onChange:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},components:[{name:"contentOn",classes:"onyx-toggle-content on"},{name:"contentOff",classes:"onyx-toggle-content off"},{classes:"onyx-toggle-button-knob"}],create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active),this.onContentChanged(),this.offContentChanged(),this.disabledChanged()},rendered:function(){this.inherited(arguments),this.updateVisualState()},updateVisualState:function(){this.addRemoveClass("off",!this.value),this.$.contentOn.setShowing(this.value),this.$.contentOff.setShowing(!this.value),this.setActive(this.value)},valueChanged:function(){this.updateVisualState(),this.doChange({value:this.value})},activeChanged:function(){this.setValue(this.active),this.bubble("onActivate")},onContentChanged:function(){this.$.contentOn.setContent(this.onContent||""),this.$.contentOn.addRemoveClass("empty",!this.onContent)},offContentChanged:function(){this.$.contentOff.setContent(this.offContent||""),this.$.contentOff.addRemoveClass("empty",!this.onContent)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},updateValue:function(s){this.disabled||this.setValue(s)},tap:function(){this.updateValue(!this.value)},dragstart:function(s,h){return h.horizontal?(h.preventDefault(),this.dragging=!0,this.dragged=!1,!0):void 0},drag:function(s,h){if(this.dragging){var l=h.dx;return Math.abs(l)>10&&(this.updateValue(l>0),this.dragged=!0),!0}},dragfinish:function(s,h){this.dragging=!1,this.dragged&&h.preventTap()}}),enyo.kind({name:"onyx.ToggleIconButton",kind:"onyx.Icon",published:{active:!1,value:!1},events:{onChange:""},classes:"onyx-icon-button onyx-icon-toggle",activeChanged:function(){this.addRemoveClass("active",this.value),this.bubble("onActivate")},updateValue:function(s){this.disabled||(this.setValue(s),this.doChange({value:this.value}))},tap:function(){this.updateValue(!this.value)},valueChanged:function(){this.setActive(this.value)},create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active)},rendered:function(){this.inherited(arguments),this.valueChanged(),this.removeClass("onyx-icon")}}),enyo.kind({name:"onyx.Toolbar",classes:"onyx onyx-toolbar onyx-toolbar-inline",create:function(){this.inherited(arguments),this.hasClass("onyx-menu-toolbar")&&enyo.platform.android>=4&&this.applyStyle("position","static")}}),enyo.kind({name:"onyx.ProgressBar",classes:"onyx-progress-bar",published:{progress:0,min:0,max:100,barClasses:"",showStripes:!0,animateStripes:!0,increment:0},events:{onAnimateProgressFinish:""},components:[{name:"progressAnimator",kind:"enyo.Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar"}],create:function(){this.inherited(arguments),this.progressChanged(),this.barClassesChanged(),this.showStripesChanged(),this.animateStripesChanged()},barClassesChanged:function(s){this.$.bar.removeClass(s),this.$.bar.addClass(this.barClasses)},showStripesChanged:function(){this.$.bar.addRemoveClass("striped",this.showStripes)},animateStripesChanged:function(){this.$.bar.addRemoveClass("animated",this.animateStripes)},progressChanged:function(){this.progress=this.clampValue(this.min,this.max,this.progress);var s=this.calcPercent(this.progress);this.updateBarPosition(s)},calcIncrement:function(s){return Math.round(s/this.increment)*this.increment},clampValue:function(s,h,l){return Math.max(s,Math.min(l,h))},calcRatio:function(s){return(s-this.min)/(this.max-this.min)},calcPercent:function(s){return 100*this.calcRatio(s)},updateBarPosition:function(s){this.$.bar.applyStyle("width",s+"%")},animateProgressTo:function(s){this.$.progressAnimator.play({startValue:this.progress,endValue:s,node:this.hasNode()})},progressAnimatorStep:function(s){return this.setProgress(s.value),!0},progressAnimatorComplete:function(s){return this.doAnimateProgressFinish(s),!0}}),enyo.kind({name:"onyx.ProgressButton",kind:"onyx.ProgressBar",classes:"onyx-progress-button",events:{onCancel:""},components:[{name:"progressAnimator",kind:"enyo.Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar onyx-progress-button-bar"},{name:"client",classes:"onyx-progress-button-client"},{kind:"onyx.Icon",src:"$lib/onyx/images/progress-button-cancel.png",classes:"onyx-progress-button-icon",ontap:"cancelTap"}],cancelTap:function(){this.doCancel()}}),enyo.kind({name:"onyx.Scrim",showing:!1,classes:"onyx-scrim enyo-fit",floating:!1,create:function(){this.inherited(arguments),this.zStack=[],this.floating&&this.setParent(enyo.floatingLayer)},showingChanged:function(){this.floating&&this.showing&&!this.hasNode()&&this.render(),this.inherited(arguments)},addZIndex:function(s){0>enyo.indexOf(s,this.zStack)&&this.zStack.push(s)},removeZIndex:function(s){enyo.remove(s,this.zStack)},showAtZIndex:function(s){this.addZIndex(s),void 0!==s&&this.setZIndex(s),this.show()},hideAtZIndex:function(s){if(this.removeZIndex(s),this.zStack.length){var h=this.zStack[this.zStack.length-1];this.setZIndex(h)}else this.hide()},setZIndex:function(s){this.zIndex=s,this.applyStyle("z-index",s)},make:function(){return this}}),enyo.kind({name:"onyx.scrimSingleton",kind:null,constructor:function(s,h){this.instanceName=s,enyo.setPath(this.instanceName,this),this.props=h||{}},make:function(){var s=new onyx.Scrim(this.props);return enyo.setPath(this.instanceName,s),s},showAtZIndex:function(s){this.make().showAtZIndex(s)},hideAtZIndex:enyo.nop,show:function(){this.make().show()}}),new onyx.scrimSingleton("onyx.scrim",{floating:!0,classes:"onyx-scrim-translucent"}),new onyx.scrimSingleton("onyx.scrimTransparent",{floating:!0,classes:"onyx-scrim-transparent"}),enyo.kind({name:"onyx.Slider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{value:0,lockBar:!0,tappable:!0},events:{onChange:"",onChanging:"",onAnimateFinish:""},showStripes:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},moreComponents:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"},{classes:"onyx-slider-taparea"},{name:"knob",classes:"onyx-slider-knob"}],create:function(){this.inherited(arguments),this.moreComponents[2].ondown="knobDown",this.moreComponents[2].onup="knobUp",this.createComponents(this.moreComponents),this.valueChanged()},valueChanged:function(){this.value=this.clampValue(this.min,this.max,this.value);var s=this.calcPercent(this.value);this.updateKnobPosition(s),this.lockBar&&this.setProgress(this.value)},updateKnobPosition:function(s){this.$.knob.applyStyle("left",s+"%")},calcKnobPosition:function(s){return(s.clientX-this.hasNode().getBoundingClientRect().left)/this.getBounds().width*(this.max-this.min)+this.min},dragstart:function(s,h){return h.horizontal?(h.preventDefault(),this.dragging=!0,s.addClass("pressed"),!0):void 0},drag:function(s,h){if(this.dragging){var l=this.calcKnobPosition(h);return l=this.increment?this.calcIncrement(l):l,this.setValue(l),this.doChanging({value:this.value}),!0}},dragfinish:function(s,h){return this.dragging=!1,h.preventTap(),this.doChange({value:this.value}),s.removeClass("pressed"),!0},tap:function(s,h){if(this.tappable){var l=this.calcKnobPosition(h);return l=this.increment?this.calcIncrement(l):l,this.tapped=!0,this.animateTo(l),!0}},knobDown:function(){this.$.knob.addClass("pressed")},knobUp:function(){this.$.knob.removeClass("pressed")},animateTo:function(s){this.$.animator.play({startValue:this.value,endValue:s,node:this.hasNode()})},animatorStep:function(s){return this.setValue(s.value),!0},animatorComplete:function(s){return this.tapped&&(this.tapped=!1,this.doChange({value:this.value})),this.doAnimateFinish(s),!0}}),enyo.kind({name:"onyx.RangeSlider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{rangeMin:0,rangeMax:100,rangeStart:0,rangeEnd:100,beginValue:0,endValue:0},events:{onChange:"",onChanging:""},showStripes:!1,showLabels:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",ondown:"down"},moreComponents:[{name:"startKnob",classes:"onyx-slider-knob"},{name:"endKnob",classes:"onyx-slider-knob onyx-range-slider-knob"}],create:function(){this.inherited(arguments),this.createComponents(this.moreComponents),this.initControls()},rendered:function(){this.inherited(arguments);var s=this.calcPercent(this.beginValue);this.updateBarPosition(s)},initControls:function(){this.$.bar.applyStyle("position","relative"),this.refreshRangeSlider(),this.showLabels&&(this.$.startKnob.createComponent({name:"startLabel",kind:"onyx.RangeSliderKnobLabel"}),this.$.endKnob.createComponent({name:"endLabel",kind:"onyx.RangeSliderKnobLabel"})),this.$.startKnob.ondown="knobDown",this.$.startKnob.onup="knobUp",this.$.endKnob.ondown="knobDown",this.$.endKnob.onup="knobUp"},refreshRangeSlider:function(){this.beginValue=this.calcKnobPercent(this.rangeStart),this.endValue=this.calcKnobPercent(this.rangeEnd),this.beginValueChanged(),this.endValueChanged()},calcKnobRatio:function(s){return(s-this.rangeMin)/(this.rangeMax-this.rangeMin)},calcKnobPercent:function(s){return 100*this.calcKnobRatio(s)},beginValueChanged:function(s){if(void 0===s){var h=this.calcPercent(this.beginValue);this.updateKnobPosition(h,this.$.startKnob)}},endValueChanged:function(s){if(void 0===s){var h=this.calcPercent(this.endValue);this.updateKnobPosition(h,this.$.endKnob)}},calcKnobPosition:function(s){return(s.clientX-this.hasNode().getBoundingClientRect().left)/this.getBounds().width*(this.max-this.min)+this.min},updateKnobPosition:function(s,h){h.applyStyle("left",s+"%"),this.updateBarPosition()},updateBarPosition:function(){if(void 0!==this.$.startKnob&&void 0!==this.$.endKnob){var s=this.calcKnobPercent(this.rangeStart),h=this.calcKnobPercent(this.rangeEnd)-s;this.$.bar.applyStyle("left",s+"%"),this.$.bar.applyStyle("width",h+"%")}},calcRangeRatio:function(s){return s/100*(this.rangeMax-this.rangeMin)+this.rangeMin-this.increment/2},swapZIndex:function(s){"startKnob"===s?(this.$.startKnob.applyStyle("z-index",1),this.$.endKnob.applyStyle("z-index",0)):"endKnob"===s&&(this.$.startKnob.applyStyle("z-index",0),this.$.endKnob.applyStyle("z-index",1))},down:function(s){this.swapZIndex(s.name)},dragstart:function(s,h){return h.horizontal?(h.preventDefault(),this.dragging=!0,s.addClass("pressed"),!0):void 0},drag:function(s,h){if(this.dragging){var l,c,d,f=this.calcKnobPosition(h);if("startKnob"===s.name&&f>=0){if(!(this.endValue>=f&&-1===h.xDirection||this.endValue>=f))return this.drag(this.$.endKnob,h);this.setBeginValue(f),l=this.calcRangeRatio(this.beginValue),c=this.increment?this.calcIncrement(l+.5*this.increment):l,d=this.calcKnobPercent(c),this.updateKnobPosition(d,this.$.startKnob),this.setRangeStart(c),this.doChanging({value:c})}else if("endKnob"===s.name&&100>=f){if(!(f>=this.beginValue&&1===h.xDirection||f>=this.beginValue))return this.drag(this.$.startKnob,h);this.setEndValue(f),l=this.calcRangeRatio(this.endValue),c=this.increment?this.calcIncrement(l+.5*this.increment):l,d=this.calcKnobPercent(c),this.updateKnobPosition(d,this.$.endKnob),this.setRangeEnd(c),this.doChanging({value:c})}return!0}},dragfinish:function(s,h){var l;return this.dragging=!1,h.preventTap(),"startKnob"===s.name?(l=this.calcRangeRatio(this.beginValue),this.doChange({value:l,startChanged:!0})):"endKnob"===s.name&&(l=this.calcRangeRatio(this.endValue),this.doChange({value:l,startChanged:!1})),s.removeClass("pressed"),!0},knobDown:function(s){s.addClass("pressed")},knobUp:function(s){s.removeClass("pressed")},rangeMinChanged:function(){this.refreshRangeSlider()},rangeMaxChanged:function(){this.refreshRangeSlider()},rangeStartChanged:function(){this.refreshRangeSlider()},rangeEndChanged:function(){this.refreshRangeSlider()},setStartLabel:function(s){this.$.startKnob.waterfallDown("onSetLabel",s)},setEndLabel:function(s){this.$.endKnob.waterfallDown("onSetLabel",s)}}),enyo.kind({name:"onyx.RangeSliderKnobLabel",classes:"onyx-range-slider-label",handlers:{onSetLabel:"setLabel"},setLabel:function(s,h){this.setContent(h)}}),enyo.kind({name:"onyx.Item",classes:"onyx-item",tapHighlight:!0,handlers:{onhold:"hold",onrelease:"release"},hold:function(s,h){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!0,h)},release:function(s,h){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!1,h)},statics:{addRemoveFlyweightClass:function(s,h,l,c,d){var f=c.flyweight;if(f){var p=void 0!==d?d:c.index;f.performOnRow(p,(function(){s.addRemoveClass(h,l)}))}}}}),enyo.kind({name:"onyx.Spinner",classes:"onyx-spinner",stop:function(){this.setShowing(!1)},start:function(){this.setShowing(!0)},toggle:function(){this.setShowing(!this.getShowing())}}),enyo.kind({name:"onyx.MoreToolbar",classes:"onyx-toolbar onyx-more-toolbar",menuClass:"",movedClass:"",layoutKind:"FittableColumnsLayout",noStretch:!0,handlers:{onHide:"reflow"},published:{clientLayoutKind:"FittableColumnsLayout"},tools:[{name:"client",noStretch:!0,fit:!0,classes:"onyx-toolbar-inline"},{name:"nard",kind:"onyx.MenuDecorator",showing:!1,onActivate:"activated",components:[{kind:"onyx.IconButton",classes:"onyx-more-button"},{name:"menu",kind:"onyx.Menu",scrolling:!1,classes:"onyx-more-menu"}]}],initComponents:function(){this.menuClass&&this.menuClass.length>0&&!this.$.menu.hasClass(this.menuClass)&&this.$.menu.addClass(this.menuClass),this.createChrome(this.tools),this.inherited(arguments),this.$.client.setLayoutKind(this.clientLayoutKind)},clientLayoutKindChanged:function(){this.$.client.setLayoutKind(this.clientLayoutKind)},reflow:function(){this.inherited(arguments),this.isContentOverflowing()?(this.$.nard.show(),this.popItem()&&this.reflow()):this.tryPushItem()?this.reflow():this.$.menu.children.length||(this.$.nard.hide(),this.$.menu.hide())},activated:function(s,h){this.addRemoveClass("active",h.originator.active)},popItem:function(){var s=this.findCollapsibleItem();if(s){this.movedClass&&this.movedClass.length>0&&!s.hasClass(this.movedClass)&&s.addClass(this.movedClass),this.$.menu.addChild(s,null);var h=this.$.menu.hasNode();return h&&s.hasNode()&&s.insertNodeInParent(h),!0}},pushItem:function(){var s=this.$.menu.children[0];if(s){this.movedClass&&this.movedClass.length>0&&s.hasClass(this.movedClass)&&s.removeClass(this.movedClass),this.$.client.addChild(s);var h=this.$.client.hasNode();if(h&&s.hasNode()){for(var l,c,d=0;this.$.client.children.length>d;d++){var f=this.$.client.children[d];if(void 0!==f.toolbarIndex&&f.toolbarIndex!=d){l=f,c=d;break}}if(l&&l.hasNode()){s.insertNodeInParent(h,l.node);var p=this.$.client.children.pop();this.$.client.children.splice(c,0,p)}else s.appendNodeToParent(h)}return!0}},tryPushItem:function(){if(this.pushItem()){if(!this.isContentOverflowing())return!0;this.popItem()}},isContentOverflowing:function(){if(this.$.client.hasNode()){var s=this.$.client.children,h=s.length&&s[s.length-1].hasNode();if(h)return this.$.client.reflow(),h.offsetLeft+h.offsetWidth>this.$.client.node.clientWidth}},findCollapsibleItem:function(){for(var s,h=this.$.client.children,l=h.length-1;s=h[l];l--){if(!s.unmoveable)return s;void 0===s.toolbarIndex&&(s.toolbarIndex=l)}}}),enyo.kind({name:"onyx.IntegerPicker",kind:"onyx.Picker",published:{value:0,min:0,max:9},create:function(){this.inherited(arguments),this.rangeChanged()},minChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},maxChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},rangeChanged:function(){for(var s=this.min;this.max>=s;s++)this.createComponent({content:s,active:s===this.value})},valueChanged:function(){var s=this.getClientControls(),h=s.length;this.value=Math.min(this.max,Math.max(this.value,this.min));for(var l=0;h>l;l++)if(this.value===parseInt(s[l].content,10)){this.setSelected(s[l]);break}},selectedChanged:function(s){s&&s.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content})),this.setValue(parseInt(this.selected.content,10))}}),enyo.kind({name:"onyx.ContextualPopup",kind:"enyo.Popup",modal:!0,autoDismiss:!0,floating:!1,classes:"onyx-contextual-popup enyo-unselectable",published:{maxHeight:100,scrolling:!0,title:void 0,actionButtons:[]},statics:{subclass:function(s,h){var l=s.prototype;h.actionButtons&&(l.kindActionButtons=h.actionButtons,delete l.actionButtons)}},vertFlushMargin:60,horizFlushMargin:50,widePopup:200,longPopup:200,horizBuffer:16,events:{onTap:""},handlers:{onActivate:"childControlActivated",onRequestShowMenu:"requestShow",onRequestHideMenu:"requestHide"},components:[{name:"title",classes:"onyx-contextual-popup-title"},{classes:"onyx-contextual-popup-scroller",components:[{name:"client",kind:"enyo.Scroller",vertical:"auto",classes:"enyo-unselectable",thumb:!1,strategyKind:"TouchScrollStrategy"}]},{name:"actionButtons",classes:"onyx-contextual-popup-action-buttons"}],scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged(),this.titleChanged(),this.actionButtonsChanged()},getScroller:function(){return this.$[this.scrollerName]},titleChanged:function(){this.$.title.setContent(this.title)},actionButtonsChanged:function(){this.actionButtons?enyo.forEach(this.actionButtons,(function(s){s.kind="onyx.Button",s.classes=s.classes+" onyx-contextual-popup-action-button",s.popup=this,s.actionButton=!0,this.$.actionButtons.createComponent(s,{owner:this.getInstanceOwner()})}),this):this.kindActionButtons&&enyo.forEach(this.kindActionButtons,(function(s){s.kind="onyx.Button",s.classes=s.classes+" onyx-contextual-popup-action-button",s.popup=this,s.actionButton=!0,this.$.actionButtons.createComponent(s,{owner:this})}),this),this.hasNode()&&this.$.actionButtons.render()},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},showingChanged:function(){this.inherited(arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition()},childControlActivated:function(){return!0},requestShow:function(s,h){var l=h.activator.hasNode();return l&&(this.activatorOffset=this.getPageOffset(l)),this.show(),!0},applyPosition:function(s){var h="";for(var l in s)h+=l+":"+s[l]+(isNaN(s[l])?"; ":"px; ");this.addStyles(h)},getPageOffset:function(s){var h=this.getBoundingRect(s),l=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,c=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,d=void 0===h.height?h.bottom-h.top:h.height,f=void 0===h.width?h.right-h.left:h.width;return{top:h.top+l,left:h.left+c,height:d,width:f}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.resetPositioning();var s=this.getViewWidth(),h=this.getViewHeight(),l=this.vertFlushMargin,c=h-this.vertFlushMargin,d=this.horizFlushMargin,f=s-this.horizFlushMargin;if(l>this.activatorOffset.top+this.activatorOffset.height||this.activatorOffset.top>c){if(this.applyVerticalFlushPositioning(d,f))return;if(this.applyHorizontalFlushPositioning(d,f))return;if(this.applyVerticalPositioning())return}else if((d>this.activatorOffset.left+this.activatorOffset.width||this.activatorOffset.left>f)&&this.applyHorizontalPositioning())return;var p=this.getBoundingRect(this.node);if(p.width>this.widePopup){if(this.applyVerticalPositioning())return}else if(p.height>this.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.addClass("vertical");var s=this.getBoundingRect(this.node),h=this.getViewHeight();return this.floating?h/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height,bottom:"auto"}),this.addClass("below")):(this.applyPosition({top:this.activatorOffset.top-s.height,bottom:"auto"}),this.addClass("above")):s.top+s.height>h&&h-s.bottom<s.top-s.height?this.addClass("above"):this.addClass("below"),!((s=this.getBoundingRect(this.node)).top+s.height>h||0>s.top)},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var s=this.getBoundingRect(this.node),h=this.getViewWidth();if(this.floating){var l=this.activatorOffset.left+this.activatorOffset.width/2-s.width/2;l+s.width>h?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-s.width}),this.addClass("left")):0>l?(this.applyPosition({left:this.activatorOffset.left}),this.addClass("right")):this.applyPosition({left:l})}else{var c=this.activatorOffset.left+this.activatorOffset.width/2-s.left-s.width/2;s.right+c>h?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-s.right}),this.addRemoveClass("left",!0)):0>s.left+c?this.addRemoveClass("right",!0):this.applyPosition({left:c})}return!0},applyVerticalFlushPositioning:function(s,h){if(!this.initVerticalPositioning())return!1;var l=this.getBoundingRect(this.node),c=this.getViewWidth();return s>this.activatorOffset.left+this.activatorOffset.width/2?(this.activatorOffset.left+this.activatorOffset.width/2<this.horizBuffer?this.applyPosition({left:this.horizBuffer+(this.floating?0:-l.left)}):this.applyPosition({left:this.activatorOffset.width/2+(this.floating?this.activatorOffset.left:0)}),this.addClass("right"),this.addClass("corner"),!0):this.activatorOffset.left+this.activatorOffset.width/2>h&&(this.activatorOffset.left+this.activatorOffset.width/2>c-this.horizBuffer?this.applyPosition({left:c-this.horizBuffer-l.right}):this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width/2-l.right}),this.addClass("left"),this.addClass("corner"),!0)},initHorizontalPositioning:function(){this.resetPositioning();var s=this.getBoundingRect(this.node),h=this.getViewWidth();return this.floating?h/2>this.activatorOffset.left+this.activatorOffset.width?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width}),this.addRemoveClass("left",!0)):(this.applyPosition({left:this.activatorOffset.left-s.width}),this.addRemoveClass("right",!0)):this.activatorOffset.left-s.width>0?(this.applyPosition({left:this.activatorOffset.left-s.left-s.width}),this.addRemoveClass("right",!0)):(this.applyPosition({left:this.activatorOffset.width}),this.addRemoveClass("left",!0)),this.addRemoveClass("horizontal",!0),!(0>(s=this.getBoundingRect(this.node)).left||s.left+s.width>h)},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var s=this.getBoundingRect(this.node),h=this.getViewHeight(),l=this.activatorOffset.top+this.activatorOffset.height/2;return this.floating?l>=h/2-.05*h&&h/2+.05*h>=l?this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-s.height/2,bottom:"auto"}):h/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:this.activatorOffset.top-this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top-s.height+2*this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("low",!0)):l>=h/2-.05*h&&h/2+.05*h>=l?this.applyPosition({top:(this.activatorOffset.height-s.height)/2}):h/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:-this.activatorOffset.height}),this.addRemoveClass("high",!0)):(this.applyPosition({top:s.top-s.height-this.activatorOffset.top+this.activatorOffset.height}),this.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(s,h){if(!this.initHorizontalPositioning())return!1;var l=this.getBoundingRect(this.node),c=this.getViewHeight();return this.floating?c/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-l.height}),this.addRemoveClass("low",!0)):l.top+l.height>c&&c-l.bottom<l.top-l.height?(this.applyPosition({top:l.top-l.height-this.activatorOffset.top-this.activatorOffset.height/2}),this.addRemoveClass("low",!0)):(this.applyPosition({top:this.activatorOffset.height/2}),this.addRemoveClass("high",!0)),s>this.activatorOffset.left+this.activatorOffset.width?(this.addClass("left"),this.addClass("corner"),!0):this.activatorOffset.left>h&&(this.addClass("right"),this.addClass("corner"),!0)},getBoundingRect:function(s){var h=s.getBoundingClientRect();return h.width&&h.height?h:{left:h.left,right:h.right,top:h.top,bottom:h.bottom,width:h.right-h.left,height:h.bottom-h.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},resetPositioning:function(){this.removeClass("right"),this.removeClass("left"),this.removeClass("high"),this.removeClass("low"),this.removeClass("corner"),this.removeClass("below"),this.removeClass("above"),this.removeClass("vertical"),this.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()},requestHide:function(){this.setShowing(!1)}});