define(["sugar-web/graphics/palette"],(function(t){"use strict";var e={TemplatePalette:function(e,n){t.Palette.call(this,e,n),this.getPalette().id="templatepalette",this.sharedEvent=document.createEvent("CustomEvent"),this.sharedEvent.initCustomEvent("template",!0,!0,{}),this.buttons=[];let a=document.createElement("div");for(let t=0;t<templates.length;t++){var i=templates[t],l=document.createElement("div");l.value=i,l.onmouseover=function(){this.style.background="#ccc"},l.onmouseout=function(){this.style.background="#000"},l.style.borderRadius="0",l.style.width="100%",0!=t&&(l.style.marginTop="3px"),l.innerHTML="<img style='vertical-align: middle; margin:3px 10px 3px 3px; width: 80px' src='images/"+i.image+"'>"+i.name+"&nbsp;&nbsp;&nbsp;",a.appendChild(l),this.buttons.push(l)}this.setContent([a]);let s=this;function popDownOnButtonClick(t){console.log(t),s.popDown()}s.getPalette().firstChild.style.backgroundColor="transparent",s.getPalette().firstChild.style.backgroundImage="";for(let t=0;t<this.buttons.length;t++){let e=this.buttons[t];!function(t,e){t.addEventListener("click",(function(){s.sharedEvent.detail.value=e,s.getPalette().dispatchEvent(s.sharedEvent),s.popDown()}))}(e,templates[t]),e.addEventListener("template",popDownOnButtonClick)}}};return e.TemplatePalette.prototype=Object.create(t.Palette.prototype,{addEventListener:{value:function(t,e,n){return this.getPalette().addEventListener(t,e,n)},enumerable:!0,configurable:!0,writable:!0}}),e}));