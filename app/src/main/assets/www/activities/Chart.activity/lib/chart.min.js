/*!
 * Chart.js v3.0.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */
!function(t,y){"object"==typeof exports&&"undefined"!=typeof module?module.exports=y():"function"==typeof define&&define.amd?define(y):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=y()}(this,(function(){"use strict";const t="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function e(y,A,O){const T=O||(t=>Array.prototype.slice.call(t));let j=!1,ut=[];return function(...O){ut=T(O),j||(j=!0,t.call(window,(()=>{j=!1,y.apply(A,ut)})))}}function i(t,y){let A;return function(){return y?(clearTimeout(A),A=setTimeout(t,y)):t(),y}}const n=t=>"start"===t?"left":"end"===t?"right":"center",o=(t,y,A)=>"start"===t?y:"end"===t?A:(y+A)/2,s=(t,y,A)=>"right"===t?A:"center"===t?(y+A)/2:y;var y=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,y,A,O){const T=y.listeners[O],j=y.duration;T.forEach((O=>O({chart:t,numSteps:j,currentStep:Math.min(A-y.start,j)})))}_refresh(){const y=this;y._request||(y._running=!0,y._request=t.call(window,(()=>{y._update(),y._request=null,y._running&&y._refresh()})))}_update(t=Date.now()){const y=this;let A=0;y._charts.forEach(((O,T)=>{if(!O.running||!O.items.length)return;const j=O.items;let ut,ft=j.length-1,mt=!1;for(;ft>=0;--ft)ut=j[ft],ut._active?(ut._total>O.duration&&(O.duration=ut._total),ut.tick(t),mt=!0):(j[ft]=j[j.length-1],j.pop());mt&&(T.draw(),y._notify(T,O,t,"progress")),j.length||(O.running=!1,y._notify(T,O,t,"complete")),A+=j.length})),y._lastDate=t,0===A&&(y._running=!1)}_getAnims(t){const y=this._charts;let A=y.get(t);return A||(A={running:!1,items:[],listeners:{complete:[],progress:[]}},y.set(t,A)),A}listen(t,y,A){this._getAnims(t).listeners[y].push(A)}add(t,y){y&&y.length&&this._getAnims(t).items.push(...y)}has(t){return this._getAnims(t).items.length>0}start(t){const y=this._charts.get(t);y&&(y.running=!0,y.start=Date.now(),y.duration=y.items.reduce(((t,y)=>Math.max(t,y._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const y=this._charts.get(t);return!!(y&&y.running&&y.items.length)}stop(t){const y=this._charts.get(t);if(!y||!y.items.length)return;const A=y.items;let O=A.length-1;for(;O>=0;--O)A[O].cancel();y.items=[],this._notify(t,y,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const A={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},O="0123456789ABCDEF",c=t=>O[15&t],h=t=>O[(240&t)>>4]+O[15&t],d=t=>(240&t)>>4==(15&t);function f(t){return t+.5|0}const g=(t,y,A)=>Math.max(Math.min(t,A),y);function p(t){return g(f(2.55*t),0,255)}function m(t){return g(f(255*t),0,255)}function x(t){return g(f(t/2.55)/100,0,1)}function b(t){return g(f(100*t),0,100)}const T=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,j=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v(t,y,A){const O=y*Math.min(A,1-A),o=(y,T=(y+t/30)%12)=>A-O*Math.max(Math.min(T-3,9-T,1),-1);return[o(0),o(8),o(4)]}function M(t,y,A){const n=(O,T=(O+t/60)%6)=>A-A*y*Math.max(Math.min(T,4-T,1),0);return[n(5),n(3),n(1)]}function w(t,y,A){const O=v(t,1,.5);let T;for(y+A>1&&(T=1/(y+A),y*=T,A*=T),T=0;T<3;T++)O[T]*=1-y-A,O[T]+=y;return O}function k(t){const y=t.r/255,A=t.g/255,O=t.b/255,T=Math.max(y,A,O),j=Math.min(y,A,O),ut=(T+j)/2;let ft,mt,xt;return T!==j&&(xt=T-j,mt=ut>.5?xt/(2-T-j):xt/(T+j),ft=T===y?(A-O)/xt+(A<O?6:0):T===A?(O-y)/xt+2:(y-A)/xt+4,ft=60*ft+.5),[0|ft,mt||0,ut]}function S(t,y,A,O){return(Array.isArray(y)?t(y[0],y[1],y[2]):t(y,A,O)).map(m)}function P(t,y,A){return S(v,t,y,A)}function D(t){return(t%360+360)%360}const ut={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ft={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let mt;function R(t,y,A){if(t){let O=k(t);O[y]=Math.max(0,Math.min(O[y]+O[y]*A,0===y?360:1)),O=P(O),t.r=O[0],t.g=O[1],t.b=O[2]}}function E(t,y){return t?Object.assign(y||{},t):t}function I(t){var y={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(y={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(y.a=m(t[3]))):(y=E(t,{r:0,g:0,b:0,a:1})).a=m(y.a),y}function F(t){return"r"===t.charAt(0)?function(t){const y=T.exec(t);let A,O,j,ut=255;if(y){if(y[7]!==A){const t=+y[7];ut=255&(y[8]?p(t):255*t)}return A=+y[1],O=+y[3],j=+y[5],A=255&(y[2]?p(A):A),O=255&(y[4]?p(O):O),j=255&(y[6]?p(j):j),{r:A,g:O,b:j,a:ut}}}(t):function C(t){const y=j.exec(t);let A,O=255;if(!y)return;y[5]!==A&&(O=y[6]?p(+y[5]):m(+y[5]));const T=D(+y[2]),ut=+y[3]/100,ft=+y[4]/100;return A="hwb"===y[1]?function(t,y,A){return S(w,t,y,A)}(T,ut,ft):"hsv"===y[1]?function(t,y,A){return S(M,t,y,A)}(T,ut,ft):P(T,ut,ft),{r:A[0],g:A[1],b:A[2],a:O}}(t)}class z{constructor(t){if(t instanceof z)return t;const y=typeof t;let O;var T,j,xt;"object"===y?O=I(t):"string"===y&&(xt=(T=t).length,"#"===T[0]&&(4===xt||5===xt?j={r:255&17*A[T[1]],g:255&17*A[T[2]],b:255&17*A[T[3]],a:5===xt?17*A[T[4]]:255}:7!==xt&&9!==xt||(j={r:A[T[1]]<<4|A[T[2]],g:A[T[3]]<<4|A[T[4]],b:A[T[5]]<<4|A[T[6]],a:9===xt?A[T[7]]<<4|A[T[8]]:255})),O=j||function L(t){mt||(mt=function(){const t={},y=Object.keys(ft),A=Object.keys(ut);let O,T,j,mt,xt;for(O=0;O<y.length;O++){for(mt=xt=y[O],T=0;T<A.length;T++)j=A[T],xt=xt.replace(j,ut[j]);j=parseInt(ft[mt],16),t[xt]=[j>>16&255,j>>8&255,255&j]}return t}(),mt.transparent=[0,0,0,0]);const y=mt[t.toLowerCase()];return y&&{r:y[0],g:y[1],b:y[2],a:4===y.length?y[3]:255}}(t)||F(t)),this._rgb=O,this._valid=!!O}get valid(){return this._valid}get rgb(){var t=E(this._rgb);return t&&(t.a=x(t.a)),t}set rgb(t){this._rgb=I(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${x(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):this._rgb;var t}hexString(){return this._valid?function u(t){var y=function(t){return d(t.r)&&d(t.g)&&d(t.b)&&d(t.a)}(t)?c:h;return t?"#"+y(t.r)+y(t.g)+y(t.b)+(t.a<255?y(t.a):""):t}(this._rgb):this._rgb}hslString(){return this._valid?function(t){if(!t)return;const y=k(t),A=y[0],O=b(y[1]),T=b(y[2]);return t.a<255?`hsla(${A}, ${O}%, ${T}%, ${x(t.a)})`:`hsl(${A}, ${O}%, ${T}%)`}(this._rgb):this._rgb}mix(t,y){const A=this;if(t){const O=A.rgb,T=t.rgb;let j;const ut=y===j?.5:y,ft=2*ut-1,mt=O.a-T.a,xt=((ft*mt==-1?ft:(ft+mt)/(1+ft*mt))+1)/2;j=1-xt,O.r=255&xt*O.r+j*T.r+.5,O.g=255&xt*O.g+j*T.g+.5,O.b=255&xt*O.b+j*T.b+.5,O.a=ut*O.a+(1-ut)*T.a,A.rgb=O}return A}clone(){return new z(this.rgb)}alpha(t){return this._rgb.a=m(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,y=f(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=y,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return R(this._rgb,2,t),this}darken(t){return R(this._rgb,2,-t),this}saturate(t){return R(this._rgb,1,t),this}desaturate(t){return R(this._rgb,1,-t),this}rotate(t){return function(t,y){var A=k(t);A[0]=D(A[0]+y),A=P(A),t.r=A[0],t.g=A[1],t.b=A[2]}(this._rgb,t),this}}function V(t){return new z(t)}const B=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function W(t){return B(t)?t:V(t)}function H(t){return B(t)?t:V(t).saturate(.5).darken(.1).hexString()}function N(){}const xt=function(){let t=0;return function(){return t++}}();function $(t){return null==t}function Y(t){if(Array.isArray&&Array.isArray(t))return!0;const y=Object.prototype.toString.call(t);return"[object"===y.substr(0,7)&&"Array]"===y.substr(-6)}function U(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const X=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function q(t,y){return X(t)?t:y}function K(t,y){return void 0===t?y:t}const G=(t,y)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:t/y,Z=(t,y)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*y:+t;function Q(t,y,A){if(t&&"function"==typeof t.call)return t.apply(A,y)}function J(t,y,A,O){let T,j,ut;if(Y(t))if(j=t.length,O)for(T=j-1;T>=0;T--)y.call(A,t[T],T);else for(T=0;T<j;T++)y.call(A,t[T],T);else if(U(t))for(ut=Object.keys(t),j=ut.length,T=0;T<j;T++)y.call(A,t[ut[T]],ut[T])}function tt(t,y){let A,O,T,j;if(!t||!y||t.length!==y.length)return!1;for(A=0,O=t.length;A<O;++A)if(T=t[A],j=y[A],T.datasetIndex!==j.datasetIndex||T.index!==j.index)return!1;return!0}function et(t){if(Y(t))return t.map(et);if(U(t)){const y=Object.create(null),A=Object.keys(t),O=A.length;let T=0;for(;T<O;++T)y[A[T]]=et(t[A[T]]);return y}return t}function it(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function nt(t,y,A,O){if(!it(t))return;const T=y[t],j=A[t];U(T)&&U(j)?ot(T,j,O):y[t]=et(j)}function ot(t,y,A){const O=Y(y)?y:[y],T=O.length;if(!U(t))return t;const j=(A=A||{}).merger||nt;for(let ut=0;ut<T;++ut){if(!U(y=O[ut]))continue;const T=Object.keys(y);for(let O=0,ut=T.length;O<ut;++O)j(T[O],t,y,A)}return t}function st(t,y){return ot(t,y,{merger:at})}function at(t,y,A){if(!it(t))return;const O=y[t],T=A[t];U(O)&&U(T)?st(O,T):Object.prototype.hasOwnProperty.call(y,t)||(y[t]=et(T))}function rt(t,y){const A=t.indexOf(".",y);return-1===A?t.length:A}function lt(t,y){if(""===y)return t;let A=0,O=rt(y,A);for(;t&&O>A;)t=t[y.substr(A,O-A)],A=O+1,O=rt(y,A);return t}function ct(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ht=t=>void 0!==t,dt=t=>"function"==typeof t,bt=Object.create(null),_t=Object.create(null);function gt(t,y){if(!y)return t;const A=y.split(".");for(let y=0,O=A.length;y<O;++y){const O=A[y];t=t[O]||(t[O]=Object.create(null))}return t}function pt(t,y,A){return"string"==typeof y?ot(gt(t,y),A):ot(gt(t,""),y)}var yt=new class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,y)=>H(y.backgroundColor),this.hoverBorderColor=(t,y)=>H(y.borderColor),this.hoverColor=(t,y)=>H(y.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(t)}set(t,y){return pt(this,t,y)}get(t){return gt(this,t)}describe(t,y){return pt(_t,t,y)}override(t,y){return pt(bt,t,y)}route(t,y,A,O){const T=gt(this,t),j=gt(this,A),ut="_"+y;Object.defineProperties(T,{[ut]:{value:T[y],writable:!0},[y]:{enumerable:!0,get(){const t=this[ut],y=j[O];return U(t)?Object.assign({},y,t):K(t,y)},set(t){this[ut]=t}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});const vt=Math.PI,Mt=2*vt,wt=Mt+vt,kt=Number.POSITIVE_INFINITY,St=vt/180,Pt=vt/2,se=vt/4,fe=2*vt/3,_e=Math.log10,De=Math.sign;function Dt(t){const y=Math.pow(10,Math.floor(_e(t))),A=t/y;return(A<=1?1:A<=2?2:A<=5?5:10)*y}function Ct(t){const y=[],A=Math.sqrt(t);let O;for(O=1;O<A;O++)t%O==0&&(y.push(O),y.push(t/O));return A===(0|A)&&y.push(A),y.sort(((t,y)=>t-y)).pop(),y}function At(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Ot(t,y,A){return Math.abs(t-y)<A}function Tt(t,y){const A=Math.round(t);return A-y<=t&&A+y>=t}function Lt(t,y,A){let O,T,j;for(O=0,T=t.length;O<T;O++)j=t[O][A],isNaN(j)||(y.min=Math.min(y.min,j),y.max=Math.max(y.max,j))}function Rt(t){return t*(vt/180)}function Et(t){return t*(180/vt)}function It(t){if(!X(t))return;let y=1,A=0;for(;Math.round(t*y)/y!==t;)y*=10,A++;return A}function Ft(t,y){const A=y.x-t.x,O=y.y-t.y,T=Math.sqrt(A*A+O*O);let j=Math.atan2(O,A);return j<-.5*vt&&(j+=Mt),{angle:j,distance:T}}function zt(t,y){return Math.sqrt(Math.pow(y.x-t.x,2)+Math.pow(y.y-t.y,2))}function Vt(t,y){return(t-y+wt)%Mt-vt}function Bt(t){return(t%Mt+Mt)%Mt}function Wt(t,y,A){const O=Bt(t),T=Bt(y),j=Bt(A),ut=Bt(T-O),ft=Bt(j-O),mt=Bt(O-T),xt=Bt(O-j);return O===T||O===j||ut>ft&&mt<xt}function Ht(t,y,A){return Math.max(y,Math.min(A,t))}function Nt(t){return Ht(t,-32768,32767)}function jt(t){return!t||$(t.size)||$(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function $t(t,y,A,O,T){let j=y[T];return j||(j=y[T]=t.measureText(T).width,A.push(T)),j>O&&(O=j),O}function Yt(t,y,A,O){let T=(O=O||{}).data=O.data||{},j=O.garbageCollect=O.garbageCollect||[];O.font!==y&&(T=O.data={},j=O.garbageCollect=[],O.font=y),t.save(),t.font=y;let ut=0;const ft=A.length;let mt,xt,bt,_t,yt;for(mt=0;mt<ft;mt++)if(_t=A[mt],null!=_t&&!0!==Y(_t))ut=$t(t,T,j,ut,_t);else if(Y(_t))for(xt=0,bt=_t.length;xt<bt;xt++)yt=_t[xt],null==yt||Y(yt)||(ut=$t(t,T,j,ut,yt));t.restore();const vt=j.length/2;if(vt>A.length){for(mt=0;mt<vt;mt++)delete T[j[mt]];j.splice(0,vt)}return ut}function Ut(t,y,A){const O=t.currentDevicePixelRatio,T=0!==A?Math.max(A/2,.5):0;return Math.round((y-T)*O)/O+T}function Xt(t,y){(y=y||t.getContext("2d")).save(),y.resetTransform(),y.clearRect(0,0,t.width,t.height),y.restore()}function qt(t,y,A,O){let T,j,ut,ft,mt;const xt=y.pointStyle,bt=y.rotation,_t=y.radius;let yt=(bt||0)*St;if(xt&&"object"==typeof xt&&(T=xt.toString(),"[object HTMLImageElement]"===T||"[object HTMLCanvasElement]"===T))return t.save(),t.translate(A,O),t.rotate(yt),t.drawImage(xt,-xt.width/2,-xt.height/2,xt.width,xt.height),void t.restore();if(!(isNaN(_t)||_t<=0)){switch(t.beginPath(),xt){default:t.arc(A,O,_t,0,Mt),t.closePath();break;case"triangle":t.moveTo(A+Math.sin(yt)*_t,O-Math.cos(yt)*_t),yt+=fe,t.lineTo(A+Math.sin(yt)*_t,O-Math.cos(yt)*_t),yt+=fe,t.lineTo(A+Math.sin(yt)*_t,O-Math.cos(yt)*_t),t.closePath();break;case"rectRounded":mt=.516*_t,ft=_t-mt,j=Math.cos(yt+se)*ft,ut=Math.sin(yt+se)*ft,t.arc(A-j,O-ut,mt,yt-vt,yt-Pt),t.arc(A+ut,O-j,mt,yt-Pt,yt),t.arc(A+j,O+ut,mt,yt,yt+Pt),t.arc(A-ut,O+j,mt,yt+Pt,yt+vt),t.closePath();break;case"rect":if(!bt){ft=Math.SQRT1_2*_t,t.rect(A-ft,O-ft,2*ft,2*ft);break}yt+=se;case"rectRot":j=Math.cos(yt)*_t,ut=Math.sin(yt)*_t,t.moveTo(A-j,O-ut),t.lineTo(A+ut,O-j),t.lineTo(A+j,O+ut),t.lineTo(A-ut,O+j),t.closePath();break;case"crossRot":yt+=se;case"cross":j=Math.cos(yt)*_t,ut=Math.sin(yt)*_t,t.moveTo(A-j,O-ut),t.lineTo(A+j,O+ut),t.moveTo(A+ut,O-j),t.lineTo(A-ut,O+j);break;case"star":j=Math.cos(yt)*_t,ut=Math.sin(yt)*_t,t.moveTo(A-j,O-ut),t.lineTo(A+j,O+ut),t.moveTo(A+ut,O-j),t.lineTo(A-ut,O+j),yt+=se,j=Math.cos(yt)*_t,ut=Math.sin(yt)*_t,t.moveTo(A-j,O-ut),t.lineTo(A+j,O+ut),t.moveTo(A+ut,O-j),t.lineTo(A-ut,O+j);break;case"line":j=Math.cos(yt)*_t,ut=Math.sin(yt)*_t,t.moveTo(A-j,O-ut),t.lineTo(A+j,O+ut);break;case"dash":t.moveTo(A,O),t.lineTo(A+Math.cos(yt)*_t,O+Math.sin(yt)*_t)}t.fill(),y.borderWidth>0&&t.stroke()}}function Kt(t,y,A){return A=A||.5,t&&t.x>y.left-A&&t.x<y.right+A&&t.y>y.top-A&&t.y<y.bottom+A}function Gt(t,y){t.save(),t.beginPath(),t.rect(y.left,y.top,y.right-y.left,y.bottom-y.top),t.clip()}function Zt(t){t.restore()}function Qt(t,y,A,O,T){if(!y)return t.lineTo(A.x,A.y);if("middle"===T){const O=(y.x+A.x)/2;t.lineTo(O,y.y),t.lineTo(O,A.y)}else"after"===T!=!!O?t.lineTo(y.x,A.y):t.lineTo(A.x,y.y);t.lineTo(A.x,A.y)}function Jt(t,y,A,O){if(!y)return t.lineTo(A.x,A.y);t.bezierCurveTo(O?y.cp1x:y.cp2x,O?y.cp1y:y.cp2y,O?A.cp2x:A.cp1x,O?A.cp2y:A.cp1y,A.x,A.y)}function te(t,y,A,O,T,j={}){const ut=Y(y)?y:[y],ft=j.strokeWidth>0&&""!==j.strokeColor;let mt,xt;for(t.save(),j.translation&&t.translate(j.translation[0],j.translation[1]),$(j.rotation)||t.rotate(j.rotation),t.font=T.string,j.color&&(t.fillStyle=j.color),j.textAlign&&(t.textAlign=j.textAlign),j.textBaseline&&(t.textBaseline=j.textBaseline),mt=0;mt<ut.length;++mt){if(xt=ut[mt],ft&&(j.strokeColor&&(t.strokeStyle=j.strokeColor),$(j.strokeWidth)||(t.lineWidth=j.strokeWidth),t.strokeText(xt,A,O,j.maxWidth)),t.fillText(xt,A,O,j.maxWidth),j.strikethrough||j.underline){const y=t.measureText(xt),T=A-y.actualBoundingBoxLeft,ut=A+y.actualBoundingBoxRight,ft=O-y.actualBoundingBoxAscent,mt=O+y.actualBoundingBoxDescent,bt=j.strikethrough?(ft+mt)/2:mt;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=j.decorationWidth||2,t.moveTo(T,bt),t.lineTo(ut,bt),t.stroke()}O+=T.lineHeight}t.restore()}function ee(t,y,A){A=A||(A=>t[A]<y);let O,T=t.length-1,j=0;for(;T-j>1;)O=j+T>>1,A(O)?j=O:T=O;return{lo:j,hi:T}}const ie=(t,y,A)=>ee(t,A,(O=>t[O][y]<A)),ne=(t,y,A)=>ee(t,A,(O=>t[O][y]>=A));function oe(t,y,A){let O=0,T=t.length;for(;O<T&&t[O]<y;)O++;for(;T>O&&t[T-1]>A;)T--;return O>0||T<t.length?t.slice(O,T):t}const Ce=["push","pop","shift","splice","unshift"];function ae(t,y){t._chartjs?t._chartjs.listeners.push(y):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[y]}}),Ce.forEach((y=>{const A="_onData"+ct(y),O=t[y];Object.defineProperty(t,y,{configurable:!0,enumerable:!1,value(...y){const T=O.apply(this,y);return t._chartjs.listeners.forEach((t=>{"function"==typeof t[A]&&t[A](...y)})),T}})})))}function re(t,y){const A=t._chartjs;if(!A)return;const O=A.listeners,T=O.indexOf(y);-1!==T&&O.splice(T,1),O.length>0||(Ce.forEach((y=>{delete t[y]})),delete t._chartjs)}function le(t){const y=new Set;let A,O;for(A=0,O=t.length;A<O;++A)y.add(t[A]);if(y.size===O)return t;const T=[];return y.forEach((t=>{T.push(t)})),T}function ce(t){let y=t.parentNode;return y&&"[object ShadowRoot]"===y.toString()&&(y=y.host),y}function he(t,y,A){let O;return"string"==typeof t?(O=parseInt(t,10),-1!==t.indexOf("%")&&(O=O/100*y.parentNode[A])):O=t,O}const de=t=>window.getComputedStyle(t,null);function ue(t,y){return de(t).getPropertyValue(y)}const ze=["top","right","bottom","left"];function ge(t,y,A){const O={};A=A?"-"+A:"";for(let T=0;T<4;T++){const j=ze[T];O[j]=parseFloat(t[y+"-"+j+A])||0}return O.width=O.left+O.right,O.height=O.top+O.bottom,O}function pe(t,y){const{canvas:A,currentDevicePixelRatio:O}=y,T=de(A),j="border-box"===T.boxSizing,ut=ge(T,"padding"),ft=ge(T,"border","width"),{x:mt,y:xt,box:bt}=function(t,y){const A=t.native||t,O=A.touches,T=O&&O.length?O[0]:A,{offsetX:j,offsetY:ut}=T;let ft,mt,xt=!1;if(((t,y,A)=>(t>0||y>0)&&(!A||!A.shadowRoot))(j,ut,A.target))ft=j,mt=ut;else{const t=y.getBoundingClientRect();ft=T.clientX-t.left,mt=T.clientY-t.top,xt=!0}return{x:ft,y:mt,box:xt}}(t,A),_t=ut.left+(bt&&ft.left),yt=ut.top+(bt&&ft.top);let{width:vt,height:Mt}=y;return j&&(vt-=ut.width+ft.width,Mt-=ut.height+ft.height),{x:Math.round((mt-_t)/vt*A.width/O),y:Math.round((xt-yt)/Mt*A.height/O)}}const me=t=>Math.round(10*t)/10;function xe(t,y,A,O){const T=de(t),j=ge(T,"margin"),ut=he(T.maxWidth,t,"clientWidth")||kt,ft=he(T.maxHeight,t,"clientHeight")||kt,mt=function(t,y,A){let O,T;if(void 0===y||void 0===A){const j=ce(t);if(j){const t=j.getBoundingClientRect(),ut=de(j),ft=ge(ut,"border","width"),mt=ge(ut,"padding");y=t.width-mt.width-ft.width,A=t.height-mt.height-ft.height,O=he(ut.maxWidth,j,"clientWidth"),T=he(ut.maxHeight,j,"clientHeight")}else y=t.clientWidth,A=t.clientHeight}return{width:y,height:A,maxWidth:O||kt,maxHeight:T||kt}}(t,y,A);let{width:xt,height:bt}=mt;if("content-box"===T.boxSizing){const t=ge(T,"border","width"),y=ge(T,"padding");xt-=y.width+t.width,bt-=y.height+t.height}return xt=Math.max(0,xt-j.width),bt=Math.max(0,O?Math.floor(xt/O):bt-j.height),xt=me(Math.min(xt,ut,mt.maxWidth)),bt=me(Math.min(bt,ft,mt.maxHeight)),xt&&!bt&&(bt=me(xt/2)),{width:xt,height:bt}}function be(t,y,A){const O=t.currentDevicePixelRatio=y||1,{canvas:T,width:j,height:ut}=t;T.height=ut*O,T.width=j*O,t.ctx.setTransform(O,0,0,O,0,0),T.style&&(A||!T.style.height&&!T.style.width)&&(T.style.height=ut+"px",T.style.width=j+"px")}const Xe=function(){let t=!1;try{const y={get passive(){return t=!0,!1}};window.addEventListener("test",null,y),window.removeEventListener("test",null,y)}catch(t){}return t}();function ye(t,y){const A=ue(t,y),O=A&&A.match(/^(\d+)(\.\d+)?px$/);return O?+O[1]:void 0}function ve(t,y){return"native"in t?{x:t.x,y:t.y}:pe(t,y)}function Me(t,y,A,O){const{controller:T,data:j,_sorted:ut}=t,ft=T._cachedMeta.iScale;if(ft&&y===ft.axis&&ut&&j.length){const t=ft._reversePixels?ne:ie;if(!O)return t(j,y,A);if(T._sharedOptions){const O=j[0],T="function"==typeof O.getRange&&O.getRange(y);if(T){const O=t(j,y,A-T),ut=t(j,y,A+T);return{lo:O.lo,hi:ut.hi}}}}return{lo:0,hi:j.length-1}}function we(t,y,A,O,T){const j=t.getSortedVisibleDatasetMetas(),ut=A[y];for(let t=0,A=j.length;t<A;++t){const{index:A,data:ft}=j[t],{lo:mt,hi:xt}=Me(j[t],y,ut,T);for(let t=mt;t<=xt;++t){const y=ft[t];y.skip||O(y,A,t)}}}function ke(t,y,A,O){const T=[];return Kt(y,t.chartArea,t._minPadding)?(we(t,A,y,(function(t,A,j){t.inRange(y.x,y.y,O)&&T.push({element:t,datasetIndex:A,index:j})}),!0),T):T}function Se(t,y,A,O,T){const j=function(t){const y=-1!==t.indexOf("x"),A=-1!==t.indexOf("y");return function(t,O){const T=y?Math.abs(t.x-O.x):0,j=A?Math.abs(t.y-O.y):0;return Math.sqrt(Math.pow(T,2)+Math.pow(j,2))}}(A);let ut=Number.POSITIVE_INFINITY,ft=[];return Kt(y,t.chartArea,t._minPadding)?(we(t,A,y,(function(t,A,mt){if(O&&!t.inRange(y.x,y.y,T))return;const xt=t.getCenterPoint(T),bt=j(y,xt);bt<ut?(ft=[{element:t,datasetIndex:A,index:mt}],ut=bt):bt===ut&&ft.push({element:t,datasetIndex:A,index:mt})})),ft):ft}function Pe(t,y,A,O){const T=ve(y,t),j=[],ut=A.axis,ft="x"===ut?"inXRange":"inYRange";let mt=!1;return function(t,y){const A=t.getSortedVisibleDatasetMetas();let O,T,j;for(let t=0,ut=A.length;t<ut;++t){({index:O,data:T}=A[t]);for(let t=0,A=T.length;t<A;++t)j=T[t],j.skip||y(j,O,t)}}(t,((t,y,A)=>{t[ft](T[ut],O)&&j.push({element:t,datasetIndex:y,index:A}),t.inRange(T.x,T.y,O)&&(mt=!0)})),A.intersect&&!mt?[]:j}var Qe={modes:{index(t,y,A,O){const T=ve(y,t),j=A.axis||"x",ut=A.intersect?ke(t,T,j,O):Se(t,T,j,!1,O),ft=[];return ut.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const y=ut[0].index,A=t.data[y];A&&!A.skip&&ft.push({element:A,datasetIndex:t.index,index:y})})),ft):[]},dataset(t,y,A,O){const T=ve(y,t),j=A.axis||"xy";let ut=A.intersect?ke(t,T,j,O):Se(t,T,j,!1,O);if(ut.length>0){const y=ut[0].datasetIndex,A=t.getDatasetMeta(y).data;ut=[];for(let t=0;t<A.length;++t)ut.push({element:A[t],datasetIndex:y,index:t})}return ut},point:(t,y,A,O)=>ke(t,ve(y,t),A.axis||"xy",O),nearest:(t,y,A,O)=>Se(t,ve(y,t),A.axis||"xy",A.intersect,O),x:(t,y,A,O)=>(A.axis="x",Pe(t,y,A,O)),y:(t,y,A,O)=>(A.axis="y",Pe(t,y,A,O))}};const Ge=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);function Ae(t,y){const A=(""+t).match(Ge);if(!A||"normal"===A[1])return 1.2*y;switch(t=+A[2],A[3]){case"px":return t;case"%":t/=100}return y*t}function Oe(t,y){const A={},O=U(y),T=O?Object.keys(y):y,j=U(t)?O?A=>K(t[A],t[y[A]]):y=>t[y]:()=>t;for(const t of T)A[t]=+j(t)||0;return A}function Te(t){return Oe(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Le(t){return Oe(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Re(t){const y=Te(t);return y.width=y.left+y.right,y.height=y.top+y.bottom,y}function Ee(t,y){t=t||{},y=y||yt.font;let A=K(t.size,y.size);"string"==typeof A&&(A=parseInt(A,10));const O={family:K(t.family,y.family),lineHeight:Ae(K(t.lineHeight,y.lineHeight),A),size:A,style:K(t.style,y.style),weight:K(t.weight,y.weight),string:""};return O.string=jt(O),O}function Ie(t,y,A,O){let T,j,ut,ft=!0;for(T=0,j=t.length;T<j;++T)if(ut=t[T],void 0!==ut&&(void 0!==y&&"function"==typeof ut&&(ut=ut(y),ft=!1),void 0!==A&&Y(ut)&&(ut=ut[A%ut.length],ft=!1),void 0!==ut))return O&&!ft&&(O.cacheable=!1),ut}function Fe(t,y){const{min:A,max:O}=t;return{min:A-Math.abs(Z(y,A)),max:O+Z(y,O)}}const ii=["left","top","right","bottom"];function Ve(t,y){return t.filter((t=>t.pos===y))}function Be(t,y){return t.filter((t=>-1===ii.indexOf(t.pos)&&t.box.axis===y))}function We(t,y){return t.sort(((t,A)=>{const O=y?A:t,T=y?t:A;return O.weight===T.weight?O.index-T.index:O.weight-T.weight}))}function He(t,y,A,O){return Math.max(t[A],y[A])+Math.max(t[O],y[O])}function Ne(t,y){t.top=Math.max(t.top,y.top),t.left=Math.max(t.left,y.left),t.bottom=Math.max(t.bottom,y.bottom),t.right=Math.max(t.right,y.right)}function je(t,y,A){const O=A.box,T=t.maxPadding;if(U(A.pos))return{same:!1,other:!1};A.size&&(t[A.pos]-=A.size),A.size=A.horizontal?O.height:O.width,t[A.pos]+=A.size,O.getPadding&&Ne(T,O.getPadding());const j=Math.max(0,y.outerWidth-He(T,t,"left","right")),ut=Math.max(0,y.outerHeight-He(T,t,"top","bottom")),ft=j!==t.w,mt=ut!==t.h;return t.w=j,t.h=ut,A.horizontal?{same:ft,other:mt}:{same:mt,other:ft}}function $e(t,y){const A=y.maxPadding;return function n(t){const O={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{O[t]=Math.max(y[t],A[t])})),O}(t?["left","right"]:["top","bottom"])}function Ye(t,y,A){const O=[];let T,j,ut,ft,mt,xt;for(T=0,j=t.length,mt=0;T<j;++T){ut=t[T],ft=ut.box,ft.update(ut.width||y.w,ut.height||y.h,$e(ut.horizontal,y));const{same:j,other:bt}=je(y,A,ut);mt|=j&&O.length,xt=xt||bt,ft.fullSize||O.push(ut)}return mt&&Ye(O,y,A)||xt}function Ue(t,y,A){const O=A.padding;let T,j,ut,ft,mt=y.x,xt=y.y;for(T=0,j=t.length;T<j;++T)ut=t[T],ft=ut.box,ut.horizontal?(ft.left=ft.fullSize?O.left:y.left,ft.right=ft.fullSize?A.outerWidth-O.right:y.left+y.w,ft.top=xt,ft.bottom=xt+ft.height,ft.width=ft.right-ft.left,xt=ft.bottom):(ft.left=mt,ft.right=mt+ft.width,ft.top=ft.fullSize?O.top:y.top,ft.bottom=ft.fullSize?A.outerHeight-O.right:y.top+y.h,ft.height=ft.bottom-ft.top,mt=ft.right);y.x=mt,y.y=xt}yt.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var ni={addBox(t,y){t.boxes||(t.boxes=[]),y.fullSize=y.fullSize||!1,y.position=y.position||"top",y.weight=y.weight||0,y._layers=y._layers||function(){return[{z:0,draw(t){y.draw(t)}}]},t.boxes.push(y)},removeBox(t,y){const A=t.boxes?t.boxes.indexOf(y):-1;-1!==A&&t.boxes.splice(A,1)},configure(t,y,A){y.fullSize=A.fullSize,y.position=A.position,y.weight=A.weight},update(t,y,A,O){if(!t)return;const T=Re(t.options.layout.padding),j=y-T.width,ut=A-T.height,ft=function(t){const y=function(t){const y=[];let A,O,T;for(A=0,O=(t||[]).length;A<O;++A)T=t[A],y.push({index:A,box:T,pos:T.position,horizontal:T.isHorizontal(),weight:T.weight});return y}(t),A=We(y.filter((t=>t.box.fullSize)),!0),O=We(Ve(y,"left"),!0),T=We(Ve(y,"right")),j=We(Ve(y,"top"),!0),ut=We(Ve(y,"bottom")),ft=Be(y,"x"),mt=Be(y,"y");return{fullSize:A,leftAndTop:O.concat(j),rightAndBottom:T.concat(mt).concat(ut).concat(ft),chartArea:Ve(y,"chartArea"),vertical:O.concat(T).concat(mt),horizontal:j.concat(ut).concat(ft)}}(t.boxes),mt=ft.vertical,xt=ft.horizontal;J(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const bt=mt.reduce(((t,y)=>y.box.options&&!1===y.box.options.display?t:t+1),0)||1,_t=Object.freeze({outerWidth:y,outerHeight:A,padding:T,availableWidth:j,availableHeight:ut,vBoxMaxWidth:j/2/bt,hBoxMaxHeight:ut/2}),yt=Object.assign({},T);Ne(yt,Re(O));const vt=Object.assign({maxPadding:yt,w:j,h:ut,x:T.left,y:T.top},T);!function(t,y){let A,O,T;for(A=0,O=t.length;A<O;++A)T=t[A],T.horizontal?(T.width=T.box.fullSize&&y.availableWidth,T.height=y.hBoxMaxHeight):(T.width=y.vBoxMaxWidth,T.height=T.box.fullSize&&y.availableHeight)}(mt.concat(xt),_t),Ye(ft.fullSize,vt,_t),Ye(mt,vt,_t),Ye(xt,vt,_t)&&Ye(mt,vt,_t),function(t){const y=t.maxPadding;function i(A){const O=Math.max(y[A]-t[A],0);return t[A]+=O,O}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(vt),Ue(ft.leftAndTop,vt,_t),vt.x+=vt.w,vt.y+=vt.h,Ue(ft.rightAndBottom,vt,_t),t.chartArea={left:vt.left,top:vt.top,right:vt.left+vt.w,bottom:vt.top+vt.h,height:vt.h,width:vt.w},J(ft.chartArea,(y=>{const A=y.box;Object.assign(A,t.chartArea),A.update(vt.w,vt.h)}))}};class qe{acquireContext(t,y){}releaseContext(t){return!1}addEventListener(t,y,A){}removeEventListener(t,y,A){}getDevicePixelRatio(){return 1}getMaximumSize(t,y,A,O){return y=Math.max(0,y||t.width),A=A||t.height,{width:y,height:Math.max(0,O?Math.floor(y/O):A)}}isAttached(t){return!0}}class Ke extends qe{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}}const ci={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ze=t=>null===t||""===t,gi=!!Xe&&{passive:!0};function Je(t,y,A){t.canvas.removeEventListener(y,A,gi)}function ti(t,y,A){const O=t.canvas,T=O&&ce(O)||O,j=new MutationObserver((t=>{const y=ce(T);t.forEach((t=>{for(let O=0;O<t.addedNodes.length;O++){const j=t.addedNodes[O];j!==T&&j!==y||A(t.target)}}))}));return j.observe(document,{childList:!0,subtree:!0}),j}function ei(t,y,A){const O=t.canvas,T=O&&ce(O);if(!T)return;const j=new MutationObserver((t=>{t.forEach((t=>{for(let y=0;y<t.removedNodes.length;y++)if(t.removedNodes[y]===O){A();break}}))}));return j.observe(T,{childList:!0}),j}const fi=new Map;let pi=0;function oi(){const t=window.devicePixelRatio;t!==pi&&(pi=t,fi.forEach(((y,A)=>{A.currentDevicePixelRatio!==t&&y()})))}function si(t,y,A){const O=t.canvas,T=O&&ce(O);if(!T)return;const j=e(((t,y)=>{const O=T.clientWidth;A(t,y),O<T.clientWidth&&A()}),window),ut=new ResizeObserver((t=>{const y=t[0],A=y.contentRect.width,O=y.contentRect.height;0===A&&0===O||j(A,O)}));return ut.observe(T),function(t,y){fi.size||window.addEventListener("resize",oi),fi.set(t,y)}(t,j),ut}function ai(t,y,A){A&&A.disconnect(),"resize"===y&&function(t){fi.delete(t),fi.size||window.removeEventListener("resize",oi)}(t)}function ri(t,y,A){const O=t.canvas,T=e((y=>{null!==t.ctx&&A(function(t,y){const A=ci[t.type]||t.type,{x:O,y:T}=pe(t,y);return{type:A,chart:y,native:t,x:void 0!==O?O:null,y:void 0!==T?T:null}}(y,t))}),t,(t=>{const y=t[0];return[y,y.offsetX,y.offsetY]}));return function(t,y,A){t.addEventListener(y,A,gi)}(O,y,T),T}class li extends qe{acquireContext(t,y){const A=t&&t.getContext&&t.getContext("2d");return A&&A.canvas===t?(function(t,y){const A=t.style,O=t.getAttribute("height"),T=t.getAttribute("width");if(t.$chartjs={initial:{height:O,width:T,style:{display:A.display,height:A.height,width:A.width}}},A.display=A.display||"block",A.boxSizing=A.boxSizing||"border-box",Ze(T)){const y=ye(t,"width");void 0!==y&&(t.width=y)}if(Ze(O))if(""===t.style.height)t.height=t.width/(y||2);else{const y=ye(t,"height");void 0!==y&&(t.height=y)}}(t,y),A):null}releaseContext(t){const y=t.canvas;if(!y.$chartjs)return!1;const A=y.$chartjs.initial;["height","width"].forEach((t=>{const O=A[t];$(O)?y.removeAttribute(t):y.setAttribute(t,O)}));const O=A.style||{};return Object.keys(O).forEach((t=>{y.style[t]=O[t]})),y.width=y.width,delete y.$chartjs,!0}addEventListener(t,y,A){this.removeEventListener(t,y);const O=t.$proxies||(t.$proxies={}),T={attach:ti,detach:ei,resize:si}[y]||ri;O[y]=T(t,y,A)}removeEventListener(t,y){const A=t.$proxies||(t.$proxies={}),O=A[y];O&&(({attach:ai,detach:ai,resize:ai}[y]||Je)(t,y,O),A[y]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,y,A,O){return xe(t,y,A,O)}isAttached(t){const y=ce(t);return!(!y||!ce(y))}}var xi=Object.freeze({__proto__:null,BasePlatform:qe,BasicPlatform:Ke,DomPlatform:li});const hi=t=>0===t||1===t,di=(t,y,A)=>-Math.pow(2,10*(t-=1))*Math.sin((t-y)*Mt/A),ui=(t,y,A)=>Math.pow(2,-10*t)*Math.sin((t-y)*Mt/A)+1,Ti={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Pt),easeOutSine:t=>Math.sin(t*Pt),easeInOutSine:t=>-.5*(Math.cos(vt*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>hi(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>hi(t)?t:di(t,.075,.3),easeOutElastic:t=>hi(t)?t:ui(t,.075,.3),easeInOutElastic(t){const y=.1125;return hi(t)?t:t<.5?.5*di(2*t,y,.45):.5+.5*ui(2*t-1,y,.45)},easeInBack(t){const y=1.70158;return t*t*((y+1)*t-y)},easeOutBack(t){const y=1.70158;return(t-=1)*t*((y+1)*t+y)+1},easeInOutBack(t){let y=1.70158;return(t/=.5)<1?t*t*((1+(y*=1.525))*t-y)*.5:.5*((t-=2)*t*((1+(y*=1.525))*t+y)+2)},easeInBounce:t=>1-Ti.easeOutBounce(1-t),easeOutBounce(t){const y=7.5625,A=2.75;return t<1/A?y*t*t:t<2/A?y*(t-=1.5/A)*t+.75:t<2.5/A?y*(t-=2.25/A)*t+.9375:y*(t-=2.625/A)*t+.984375},easeInOutBounce:t=>t<.5?.5*Ti.easeInBounce(2*t):.5*Ti.easeOutBounce(2*t-1)+.5},Ri="transparent",Ei={boolean:(t,y,A)=>A>.5?y:t,color(t,y,A){const O=W(t||Ri),T=O.valid&&W(y||Ri);return T&&T.valid?T.mix(O,A).hexString():y},number:(t,y,A)=>t+(y-t)*A};class mi{constructor(t,y,A,O){const T=y[A];O=Ie([t.to,O,T,t.from]);const j=Ie([t.from,T,O]);this._active=!0,this._fn=t.fn||Ei[t.type||typeof j],this._easing=Ti[t.easing]||Ti.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=y,this._prop=A,this._from=j,this._to=O,this._promises=void 0}active(){return this._active}update(t,y,A){const O=this;if(O._active){O._notify(!1);const T=O._target[O._prop],j=A-O._start,ut=O._duration-j;O._start=A,O._duration=Math.floor(Math.max(ut,t.duration)),O._total+=j,O._loop=!!t.loop,O._to=Ie([t.to,y,T,t.from]),O._from=Ie([t.from,T,y])}}cancel(){const t=this;t._active&&(t.tick(Date.now()),t._active=!1,t._notify(!1))}tick(t){const y=this,A=t-y._start,O=y._duration,T=y._prop,j=y._from,ut=y._loop,ft=y._to;let mt;if(y._active=j!==ft&&(ut||A<O),!y._active)return y._target[T]=ft,void y._notify(!0);A<0?y._target[T]=j:(mt=A/O%2,mt=ut&&mt>1?2-mt:mt,mt=y._easing(Math.min(1,Math.max(0,mt))),y._target[T]=y._fn(j,ft,mt))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((y,A)=>{t.push({res:y,rej:A})}))}_notify(t){const y=t?"res":"rej",A=this._promises||[];for(let t=0;t<A.length;t++)A[t][y]()}}yt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const on=Object.keys(yt.animation);yt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),yt.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),yt.describe("animations",{_fallback:"animation"}),yt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class bi{constructor(t,y){this._chart=t,this._properties=new Map,this.configure(y)}configure(t){if(!U(t))return;const y=this._properties;Object.getOwnPropertyNames(t).forEach((A=>{const O=t[A];if(!U(O))return;const T={};for(const t of on)T[t]=O[t];(Y(O.properties)&&O.properties||[A]).forEach((t=>{t!==A&&y.has(t)||y.set(t,T)}))}))}_animateOptions(t,y){const A=y.options,O=function(t,y){if(!y)return;let A=t.options;if(A)return A.$shared&&(t.options=A=Object.assign({},A,{$shared:!1,$animations:{}})),A;t.options=y}(t,A);if(!O)return[];const T=this._createAnimations(O,A);return A.$shared&&function(t,y){const A=[],O=Object.keys(y);for(let y=0;y<O.length;y++){const T=t[O[y]];T&&T.active()&&A.push(T.wait())}return Promise.all(A)}(t.options.$animations,A).then((()=>{t.options=A}),(()=>{})),T}_createAnimations(t,y){const A=this._properties,O=[],T=t.$animations||(t.$animations={}),j=Object.keys(y),ut=Date.now();let ft;for(ft=j.length-1;ft>=0;--ft){const mt=j[ft];if("$"===mt.charAt(0))continue;if("options"===mt){O.push(...this._animateOptions(t,y));continue}const xt=y[mt];let bt=T[mt];const _t=A.get(mt);if(bt){if(_t&&bt.active()){bt.update(_t,xt,ut);continue}bt.cancel()}_t&&_t.duration?(T[mt]=bt=new mi(_t,t,mt,xt),O.push(bt)):t[mt]=xt}return O}update(t,A){if(0===this._properties.size)return void Object.assign(t,A);const O=this._createAnimations(t,A);return O.length?(y.add(this._chart,O),!0):void 0}}function _i(t,y){const A=t&&t.options||{},O=A.reverse,T=void 0===A.min?y:0,j=void 0===A.max?y:0;return{start:O?j:T,end:O?T:j}}function yi(t,y){const A=[],O=t._getSortedDatasetMetas(y);let T,j;for(T=0,j=O.length;T<j;++T)A.push(O[T].index);return A}function vi(t,y,A,O){const T=t.keys,j="single"===O.mode;let ut,ft,mt,xt;if(null!==y){for(ut=0,ft=T.length;ut<ft;++ut){if(mt=+T[ut],mt===A){if(O.all)continue;break}xt=t.values[mt],X(xt)&&(j||0===y||De(y)===De(xt))&&(y+=xt)}return y}}function Mi(t,y){const A=t&&t.options.stacked;return A||void 0===A&&void 0!==y.stack}function wi(t,y,A){const O=t[y]||(t[y]={});return O[A]||(O[A]={})}function ki(t,y){const{chart:A,_cachedMeta:O}=t,T=A._stacks||(A._stacks={}),{iScale:j,vScale:ut,index:ft}=O,mt=j.axis,xt=ut.axis,bt=function(t,y,A){return t.id+"."+y.id+"."+A.stack+"."+A.type}(j,ut,O),_t=y.length;let yt;for(let t=0;t<_t;++t){const A=y[t],{[mt]:O,[xt]:j}=A;yt=(A._stacks||(A._stacks={}))[xt]=wi(T,bt,O),yt[ft]=j}}function Si(t,y){const A=t.scales;return Object.keys(A).filter((t=>A[t].axis===y)).shift()}function Pi(t,y){y=y||t._parsed;for(const A of y){const y=A._stacks;if(!y||void 0===y[t.vScale.id]||void 0===y[t.vScale.id][t.index])return;delete y[t.vScale.id][t.index]}}const Di=t=>"reset"===t||"none"===t,Ci=(t,y)=>y?t:Object.assign({},t);class Ai{constructor(t,y){this.chart=t,this._ctx=t.ctx,this.index=y,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this.initialize()}initialize(){const t=this,y=t._cachedMeta;t.configure(),t.linkScales(),y._stacked=Mi(y.vScale,y),t.addElements()}updateIndex(t){this.index=t}linkScales(){const t=this,y=t.chart,A=t._cachedMeta,O=t.getDataset(),o=(t,y,A,O)=>"x"===t?y:"r"===t?O:A,T=A.xAxisID=K(O.xAxisID,Si(y,"x")),j=A.yAxisID=K(O.yAxisID,Si(y,"y")),ut=A.rAxisID=K(O.rAxisID,Si(y,"r")),ft=A.indexAxis,mt=A.iAxisID=o(ft,T,j,ut),xt=A.vAxisID=o(ft,j,T,ut);A.xScale=t.getScaleForId(T),A.yScale=t.getScaleForId(j),A.rScale=t.getScaleForId(ut),A.iScale=t.getScaleForId(mt),A.vScale=t.getScaleForId(xt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const y=this._cachedMeta;return t===y.iScale?y.vScale:y.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&re(this._data,this),t._stacked&&Pi(t)}_dataCheck(){const t=this,y=t.getDataset(),A=y.data||(y.data=[]);U(A)?t._data=function(t){const y=Object.keys(t),A=new Array(y.length);let O,T,j;for(O=0,T=y.length;O<T;++O)j=y[O],A[O]={x:j,y:t[j]};return A}(A):t._data!==A&&(t._data&&(re(t._data,t),Pi(t._cachedMeta)),A&&Object.isExtensible(A)&&ae(A,t),t._data=A)}addElements(){const t=this,y=t._cachedMeta;t._dataCheck(),t.datasetElementType&&(y.dataset=new t.datasetElementType)}buildOrUpdateElements(t){const y=this,A=y._cachedMeta,O=y.getDataset();let T=!1;y._dataCheck(),A._stacked=Mi(A.vScale,A),A.stack!==O.stack&&(T=!0,Pi(A),A.stack=O.stack),y._resyncElements(t),T&&ki(y,A._parsed)}configure(){const t=this,y=t.chart.config,A=y.datasetScopeKeys(t._type),O=y.getOptionScopes(t.getDataset(),A,!0);t.options=y.createResolver(O,t.getContext()),t._parsing=t.options.parsing}parse(t,y){const A=this,{_cachedMeta:O,_data:T}=A,{iScale:j,_stacked:ut}=O,ft=j.axis;let mt,xt,bt,_t=0===t&&y===T.length||O._sorted,yt=t>0&&O._parsed[t-1];if(!1===A._parsing)O._parsed=T,O._sorted=!0;else{bt=Y(T[t])?A.parseArrayData(O,T,t,y):U(T[t])?A.parseObjectData(O,T,t,y):A.parsePrimitiveData(O,T,t,y);const s=()=>null===xt[ft]||yt&&xt[ft]<yt[ft];for(mt=0;mt<y;++mt)O._parsed[mt+t]=xt=bt[mt],_t&&(s()&&(_t=!1),yt=xt);O._sorted=_t}ut&&ki(A,bt)}parsePrimitiveData(t,y,A,O){const{iScale:T,vScale:j}=t,ut=T.axis,ft=j.axis,mt=T.getLabels(),xt=T===j,bt=new Array(O);let _t,yt,vt;for(_t=0,yt=O;_t<yt;++_t)vt=_t+A,bt[_t]={[ut]:xt||T.parse(mt[vt],vt),[ft]:j.parse(y[vt],vt)};return bt}parseArrayData(t,y,A,O){const{xScale:T,yScale:j}=t,ut=new Array(O);let ft,mt,xt,bt;for(ft=0,mt=O;ft<mt;++ft)xt=ft+A,bt=y[xt],ut[ft]={x:T.parse(bt[0],xt),y:j.parse(bt[1],xt)};return ut}parseObjectData(t,y,A,O){const{xScale:T,yScale:j}=t,{xAxisKey:ut="x",yAxisKey:ft="y"}=this._parsing,mt=new Array(O);let xt,bt,_t,yt;for(xt=0,bt=O;xt<bt;++xt)_t=xt+A,yt=y[_t],mt[xt]={x:T.parse(lt(yt,ut),_t),y:j.parse(lt(yt,ft),_t)};return mt}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,y,A){const O=this.chart,T=this._cachedMeta,j=y[t.axis];return vi({keys:yi(O,!0),values:y._stacks[t.axis]},j,T.index,{mode:A})}updateRangeFromParsed(t,y,A,O){const T=A[y.axis];let j=null===T?NaN:T;const ut=O&&A._stacks[y.axis];O&&ut&&(O.values=ut,t.min=Math.min(t.min,j),t.max=Math.max(t.max,j),j=vi(O,T,this._cachedMeta.index,{all:!0})),t.min=Math.min(t.min,j),t.max=Math.max(t.max,j)}getMinMax(t,y){const A=this,O=A._cachedMeta,T=O._parsed,j=O._sorted&&t===O.iScale,ut=T.length,ft=A._getOtherScale(t),mt=y&&O._stacked&&{keys:yi(A.chart,!0),values:null},xt={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:bt,max:_t}=function(t){const{min:y,max:A,minDefined:O,maxDefined:T}=t.getUserBounds();return{min:O?y:Number.NEGATIVE_INFINITY,max:T?A:Number.POSITIVE_INFINITY}}(ft);let yt,vt,Mt,wt;function m(){return Mt=T[yt],vt=Mt[t.axis],wt=Mt[ft.axis],!X(vt)||bt>wt||_t<wt}for(yt=0;yt<ut&&(m()||(A.updateRangeFromParsed(xt,t,Mt,mt),!j));++yt);if(j)for(yt=ut-1;yt>=0;--yt)if(!m()){A.updateRangeFromParsed(xt,t,Mt,mt);break}return xt}getAllParsedValues(t){const y=this._cachedMeta._parsed,A=[];let O,T,j;for(O=0,T=y.length;O<T;++O)j=y[O][t.axis],X(j)&&A.push(j);return A}getMaxOverflow(){return!1}getLabelAndValue(t){const y=this._cachedMeta,A=y.iScale,O=y.vScale,T=this.getParsed(t);return{label:A?""+A.getLabelForValue(T[A.axis]):"",value:O?""+O.getLabelForValue(T[O.axis]):""}}_update(t){const y=this,A=y._cachedMeta;y.configure(),y._cachedDataOpts={},y.update(t||"default"),A._clip=function(t){let y,A,O,T;return U(t)?(y=t.top,A=t.right,O=t.bottom,T=t.left):y=A=O=T=t,{top:y,right:A,bottom:O,left:T}}(K(y.options.clip,function(t,y,A){if(!1===A)return!1;const O=_i(t,A),T=_i(y,A);return{top:T.end,right:O.end,bottom:T.start,left:O.start}}(A.xScale,A.yScale,y.getMaxOverflow())))}update(t){}draw(){const t=this,y=t._ctx,A=t.chart,O=t._cachedMeta,T=O.data||[],j=A.chartArea,ut=[],ft=t._drawStart||0,mt=t._drawCount||T.length-ft;let xt;for(O.dataset&&O.dataset.draw(y,j,ft,mt),xt=ft;xt<ft+mt;++xt){const t=T[xt];t.active?ut.push(t):t.draw(y,j)}for(xt=0;xt<ut.length;++xt)ut[xt].draw(y,j)}getStyle(t,y){const A=y?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(A):this.resolveDataElementOptions(t||0,A)}getContext(t,y,A){const O=this,T=O.getDataset();let j;if(t>=0&&t<O._cachedMeta.data.length){const y=O._cachedMeta.data[t];j=y.$context||(y.$context=function(t,y,A){return Object.assign(Object.create(t),{active:!1,dataIndex:y,parsed:void 0,raw:void 0,element:A,index:y,mode:"default",type:"data"})}(O.getContext(),t,y)),j.parsed=O.getParsed(t),j.raw=T.data[t]}else j=O.$context||(O.$context=function(t,y){return Object.assign(Object.create(t),{active:!1,dataset:void 0,datasetIndex:y,index:y,mode:"default",type:"dataset"})}(O.chart.getContext(),O.index)),j.dataset=T;return j.active=!!y,j.mode=A,j}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,y){return this._resolveElementOptions(this.dataElementType.id,y,t)}_resolveElementOptions(t,y="default",A){const O=this,T="active"===y,j=O._cachedDataOpts,ut=t+"-"+y,ft=j[ut],mt=O.enableOptionSharing&&ht(A);if(ft)return Ci(ft,mt);const xt=O.chart.config,bt=xt.datasetElementScopeKeys(O._type,t),_t=T?[t+"Hover","hover",t,""]:[t,""],vt=xt.getOptionScopes(O.getDataset(),bt),Mt=Object.keys(yt.elements[t]),wt=xt.resolveNamedOptions(vt,Mt,(()=>O.getContext(A,T)),_t);return wt.$shared&&(wt.$shared=mt,j[ut]=Object.freeze(Ci(wt,mt))),wt}_resolveAnimations(t,y,A){const O=this,T=O.chart,j=O._cachedDataOpts,ut="animation-"+y,ft=j[ut];if(ft)return ft;let mt;if(!1!==T.options.animation){const T=O.chart.config,j=T.datasetAnimationScopeKeys(O._type,y),ut=T.getOptionScopes(O.getDataset(),j);mt=T.createResolver(ut,O.getContext(t,A,y))}const xt=new bi(T,mt&&mt.animations);return mt&&mt._cacheable&&(j[ut]=Object.freeze(xt)),xt}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,y){return!y||Di(t)||this.chart._animationsDisabled}updateElement(t,y,A,O){Di(O)?Object.assign(t,A):this._resolveAnimations(y,O).update(t,A)}updateSharedOptions(t,y,A){t&&!Di(y)&&this._resolveAnimations(void 0,y).update(t,A)}_setStyle(t,y,A,O){t.active=O;const T=this.getStyle(y,O);this._resolveAnimations(y,A,O).update(t,{options:!O&&this.getSharedOptions(T)||T})}removeHoverStyle(t,y,A){this._setStyle(t,A,"active",!1)}setHoverStyle(t,y,A){this._setStyle(t,A,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const y=this,A=y._cachedMeta.data.length,O=y._data.length;O>A?y._insertElements(A,O-A,t):O<A&&y._removeElements(O,A-O);const T=Math.min(O,A);T&&y.parse(0,T)}_insertElements(t,y,A=!0){const O=this,T=O._cachedMeta,j=T.data,ut=t+y;let ft;const l=t=>{for(t.length+=y,ft=t.length-1;ft>=ut;ft--)t[ft]=t[ft-y]};for(l(j),ft=t;ft<ut;++ft)j[ft]=new O.dataElementType;O._parsing&&l(T._parsed),O.parse(t,y),A&&O.updateElements(j,t,y,"reset")}updateElements(t,y,A,O){}_removeElements(t,y){const A=this._cachedMeta;if(this._parsing){const O=A._parsed.splice(t,y);A._stacked&&Pi(A,O)}A.data.splice(t,y)}_onDataPush(){const t=arguments.length;this._insertElements(this.getDataset().data.length-t,t)}_onDataPop(){this._removeElements(this._cachedMeta.data.length-1,1)}_onDataShift(){this._removeElements(0,1)}_onDataSplice(t,y){this._removeElements(t,y),this._insertElements(t,arguments.length-2)}_onDataUnshift(){this._insertElements(0,arguments.length)}}Ai.defaults={},Ai.prototype.datasetElementType=null,Ai.prototype.dataElementType=null;class Oi{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:y,y:A}=this.getProps(["x","y"],t);return{x:y,y:A}}hasValue(){return At(this.x)&&At(this.y)}getProps(t,y){const A=this,O=this.$animations;if(!y||!O)return A;const T={};return t.forEach((t=>{T[t]=O[t]&&O[t].active()?O[t]._to:A[t]})),T}}Oi.defaults={},Oi.defaultRoutes=void 0;const vn=new Map;function Li(t,y,A){return function(t,y){y=y||{};const A=t+JSON.stringify(y);let O=vn.get(A);return O||(O=new Intl.NumberFormat(t,y),vn.set(A,O)),O}(y,A).format(t)}const wn={values:t=>Y(t)?t:""+t,numeric(t,y,A){if(0===t)return"0";const O=this.chart.options.locale;let T,j=t;if(A.length>1){const y=Math.max(Math.abs(A[0].value),Math.abs(A[A.length-1].value));(y<1e-4||y>1e15)&&(T="scientific"),j=function(t,y){let A=y.length>3?y[2].value-y[1].value:y[1].value-y[0].value;return Math.abs(A)>1&&t!==Math.floor(t)&&(A=t-Math.floor(t)),A}(t,A)}const ut=_e(Math.abs(j)),ft=Math.max(Math.min(-1*Math.floor(ut),20),0),mt={notation:T,minimumFractionDigits:ft,maximumFractionDigits:ft};return Object.assign(mt,this.options.ticks.format),Li(t,O,mt)},logarithmic(t,y,A){if(0===t)return"0";const O=t/Math.pow(10,Math.floor(_e(t)));return 1===O||2===O||5===O?wn.numeric.call(this,t,y,A):""}};var On={formatters:wn};function Fi(t,y,A,O,T){const j=K(O,0),ut=Math.min(K(T,t.length),t.length);let ft,mt,xt,bt=0;for(A=Math.ceil(A),T&&(ft=T-O,A=ft/Math.floor(ft/A)),xt=j;xt<0;)bt++,xt=Math.round(j+bt*A);for(mt=Math.max(j,0);mt<ut;mt++)mt===xt&&(y.push(t[mt]),bt++,xt=Math.round(j+bt*A))}yt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,y)=>y.lineWidth,tickColor:(t,y)=>y.color,offset:!1,borderDash:[],borderDashOffset:0,borderColor:(t,y)=>y.color,borderWidth:(t,y)=>y.lineWidth},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:On.formatters.values,minor:{},major:{},align:"center",crossAlign:"near"}}),yt.route("scale.ticks","color","","color"),yt.route("scale.grid","color","","borderColor"),yt.route("scale.title","color","","color"),yt.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),yt.describe("scales",{_fallback:"scale"});const zi=(t,y,A)=>"top"===y||"left"===y?t[y]+A:t[y]-A;function Vi(t,y){const A=[],O=t.length/y,T=t.length;let j=0;for(;j<T;j+=O)A.push(t[Math.floor(j)]);return A}function Bi(t,y,A){const O=t.ticks.length,T=Math.min(y,O-1),j=t._startPixel,ut=t._endPixel,ft=1e-6;let mt,xt=t.getPixelForTick(T);if(!(A&&(mt=1===O?Math.max(xt-j,ut-xt):0===y?(t.getPixelForTick(1)-xt)/2:(xt-t.getPixelForTick(T-1))/2,xt+=T<y?mt:-mt,xt<j-ft||xt>ut+ft)))return xt}function Wi(t){return t.drawTicks?t.tickLength:0}function Hi(t,y){if(!t.display)return 0;const A=Ee(t.font,y),O=Re(t.padding);return(Y(t.text)?t.text.length:1)*A.lineHeight+O.height}function Ni(t,y,A){let O=n(t);return(A&&"right"!==y||!A&&"right"===y)&&(O=(t=>"left"===t?"right":"right"===t?"left":t)(O)),O}class ji extends Oi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){const y=this;y.options=t,y.axis=t.axis,y._userMin=y.parse(t.min),y._userMax=y.parse(t.max),y._suggestedMin=y.parse(t.suggestedMin),y._suggestedMax=y.parse(t.suggestedMax)}parse(t,y){return t}getUserBounds(){let{_userMin:t,_userMax:y,_suggestedMin:A,_suggestedMax:O}=this;return t=q(t,Number.POSITIVE_INFINITY),y=q(y,Number.NEGATIVE_INFINITY),A=q(A,Number.POSITIVE_INFINITY),O=q(O,Number.NEGATIVE_INFINITY),{min:q(t,A),max:q(y,O),minDefined:X(t),maxDefined:X(y)}}getMinMax(t){const y=this;let A,{min:O,max:T,minDefined:j,maxDefined:ut}=y.getUserBounds();if(j&&ut)return{min:O,max:T};const ft=y.getMatchingVisibleMetas();for(let mt=0,xt=ft.length;mt<xt;++mt)A=ft[mt].controller.getMinMax(y,t),j||(O=Math.min(O,A.min)),ut||(T=Math.max(T,A.max));return{min:q(O,q(T,O)),max:q(T,q(O,T))}}getPadding(){const t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Q(this.options.beforeUpdate,[this])}update(t,y,A){const O=this,T=O.options.ticks,j=T.sampleSize;O.beforeUpdate(),O.maxWidth=t,O.maxHeight=y,O._margins=A=Object.assign({left:0,right:0,top:0,bottom:0},A),O.ticks=null,O._labelSizes=null,O._gridLineItems=null,O._labelItems=null,O.beforeSetDimensions(),O.setDimensions(),O.afterSetDimensions(),O._maxLength=O.isHorizontal()?O.width+A.left+A.right:O.height+A.top+A.bottom,O._dataLimitsCached||(O.beforeDataLimits(),O.determineDataLimits(),O.afterDataLimits(),O._dataLimitsCached=!0),O.beforeBuildTicks(),O.ticks=O.buildTicks()||[],O.afterBuildTicks();const ut=j<O.ticks.length;O._convertTicksToLabels(ut?Vi(O.ticks,j):O.ticks),O.configure(),O.beforeCalculateLabelRotation(),O.calculateLabelRotation(),O.afterCalculateLabelRotation(),T.display&&(T.autoSkip||"auto"===T.source)&&(O.ticks=function Ii(t,y){const A=t.options.ticks,O=A.maxTicksLimit||function(t){const y=t.options.offset,A=t._tickSize(),O=t._length/A+(y?0:1),T=t._maxLength/A;return Math.floor(Math.min(O,T))}(t),T=A.major.enabled?function(t){const y=[];let A,O;for(A=0,O=t.length;A<O;A++)t[A].major&&y.push(A);return y}(y):[],j=T.length,ut=T[0],ft=T[j-1],mt=[];if(j>O)return function(t,y,A,O){let T,j=0,ut=A[0];for(O=Math.ceil(O),T=0;T<t.length;T++)T===ut&&(y.push(t[T]),j++,ut=A[j*O])}(y,mt,T,j/O),mt;const xt=function(t,y,A){const O=function(t){const y=t.length;let A,O;if(y<2)return!1;for(O=t[0],A=1;A<y;++A)if(t[A]-t[A-1]!==O)return!1;return O}(t),T=y.length/A;if(!O)return Math.max(T,1);const j=Ct(O);for(let t=0,y=j.length-1;t<y;t++){const y=j[t];if(y>T)return y}return Math.max(T,1)}(T,y,O);if(j>0){let t,A;const O=j>1?Math.round((ft-ut)/(j-1)):null;for(Fi(y,mt,xt,$(O)?0:ut-O,ut),t=0,A=j-1;t<A;t++)Fi(y,mt,xt,T[t],T[t+1]);return Fi(y,mt,xt,ft,$(O)?y.length:ft+O),mt}return Fi(y,mt,xt),mt}(O,O.ticks),O._labelSizes=null),ut&&O._convertTicksToLabels(O.ticks),O.beforeFit(),O.fit(),O.afterFit(),O.afterUpdate()}configure(){const t=this;let y,A,O=t.options.reverse;t.isHorizontal()?(y=t.left,A=t.right):(y=t.top,A=t.bottom,O=!O),t._startPixel=y,t._endPixel=A,t._reversePixels=O,t._length=A-y,t._alignToPixels=t.options.alignToPixels}afterUpdate(){Q(this.options.afterUpdate,[this])}beforeSetDimensions(){Q(this.options.beforeSetDimensions,[this])}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}afterSetDimensions(){Q(this.options.afterSetDimensions,[this])}_callHooks(t){const y=this;y.chart.notifyPlugins(t,y.getContext()),Q(y.options[t],[y])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Q(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const y=this,A=y.options.ticks;let O,T,j;for(O=0,T=t.length;O<T;O++)j=t[O],j.label=Q(A.callback,[j.value,O,t],y)}afterTickToLabelConversion(){Q(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Q(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this,y=t.options,A=y.ticks,O=t.ticks.length,T=A.minRotation||0,j=A.maxRotation;let ut,ft,mt,xt=T;if(!t._isVisible()||!A.display||T>=j||O<=1||!t.isHorizontal())return void(t.labelRotation=T);const bt=t._getLabelSizes(),_t=bt.widest.width,yt=bt.highest.height,vt=Ht(t.chart.width-_t,0,t.maxWidth);ut=y.offset?t.maxWidth/O:vt/(O-1),_t+6>ut&&(ut=vt/(O-(y.offset?.5:1)),ft=t.maxHeight-Wi(y.grid)-A.padding-Hi(y.title,t.chart.options.font),mt=Math.sqrt(_t*_t+yt*yt),xt=Et(Math.min(Math.asin(Math.min((bt.highest.height+6)/ut,1)),Math.asin(Math.min(ft/mt,1))-Math.asin(yt/mt))),xt=Math.max(T,Math.min(j,xt))),t.labelRotation=xt}afterCalculateLabelRotation(){Q(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Q(this.options.beforeFit,[this])}fit(){const t=this,y={width:0,height:0},{chart:A,options:{ticks:O,title:T,grid:j}}=t,ut=t._isVisible(),ft=t.isHorizontal();if(ut){const ut=Hi(T,A.options.font);if(ft?(y.width=t.maxWidth,y.height=Wi(j)+ut):(y.height=t.maxHeight,y.width=Wi(j)+ut),O.display&&t.ticks.length){const{first:A,last:T,widest:j,highest:ut}=t._getLabelSizes(),mt=2*O.padding,xt=Rt(t.labelRotation),bt=Math.cos(xt),_t=Math.sin(xt);if(ft){const A=_t*j.width+bt*ut.height;y.height=Math.min(t.maxHeight,y.height+A+mt)}else{const A=O.mirror?0:bt*j.width+_t*ut.height;y.width=Math.min(t.maxWidth,y.width+A+mt)}t._calculatePadding(A,T,_t,bt)}}t._handleMargins(),ft?(t.width=t._length=A.width-t._margins.left-t._margins.right,t.height=y.height):(t.width=y.width,t.height=t._length=A.height-t._margins.top-t._margins.bottom)}_calculatePadding(t,y,A,O){const T=this,{ticks:{align:j,padding:ut},position:ft}=T.options,mt=0!==T.labelRotation,xt="top"!==ft&&"x"===T.axis;if(T.isHorizontal()){const ft=T.getPixelForTick(0)-T.left,bt=T.right-T.getPixelForTick(T.ticks.length-1);let _t=0,yt=0;mt?xt?(_t=O*t.width,yt=A*y.height):(_t=A*t.height,yt=O*y.width):"start"===j?yt=y.width:"end"===j?_t=t.width:(_t=t.width/2,yt=y.width/2),T.paddingLeft=Math.max((_t-ft+ut)*T.width/(T.width-ft),0),T.paddingRight=Math.max((yt-bt+ut)*T.width/(T.width-bt),0)}else{let A=y.height/2,O=t.height/2;"start"===j?(A=0,O=t.height):"end"===j&&(A=y.height,O=0),T.paddingTop=A+ut,T.paddingBottom=O+ut}}_handleMargins(){const t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}afterFit(){Q(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:y}=this.options;return"top"===y||"bottom"===y||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){const y=this;y.beforeTickToLabelConversion(),y.generateTickLabels(t),y.afterTickToLabelConversion()}_getLabelSizes(){const t=this;let y=t._labelSizes;if(!y){const A=t.options.ticks.sampleSize;let O=t.ticks;A<O.length&&(O=Vi(O,A)),t._labelSizes=y=t._computeLabelSizes(O,O.length)}return y}_computeLabelSizes(t,y){const{ctx:A,_longestTextCache:O}=this,T=[],j=[];let ut,ft,mt,xt,bt,_t,yt,vt,Mt,wt,kt,St=0,Pt=0;for(ut=0;ut<y;++ut){if(xt=t[ut].label,bt=this._resolveTickFontOptions(ut),A.font=_t=bt.string,yt=O[_t]=O[_t]||{data:{},gc:[]},vt=bt.lineHeight,Mt=wt=0,$(xt)||Y(xt)){if(Y(xt))for(ft=0,mt=xt.length;ft<mt;++ft)kt=xt[ft],$(kt)||Y(kt)||(Mt=$t(A,yt.data,yt.gc,Mt,kt),wt+=vt)}else Mt=$t(A,yt.data,yt.gc,Mt,xt),wt=vt;T.push(Mt),j.push(wt),St=Math.max(Mt,St),Pt=Math.max(wt,Pt)}!function(t,y){J(t,(t=>{const A=t.gc,O=A.length/2;let T;if(O>y){for(T=0;T<O;++T)delete t.data[A[T]];A.splice(0,O)}}))}(O,y);const se=T.indexOf(St),fe=j.indexOf(Pt),v=t=>({width:T[t]||0,height:j[t]||0});return{first:v(0),last:v(y-1),widest:v(se),highest:v(fe)}}getLabelForValue(t){return t}getPixelForValue(t,y){return NaN}getValueForPixel(t){}getPixelForTick(t){const y=this.ticks;return t<0||t>y.length-1?null:this.getPixelForValue(y[t].value)}getPixelForDecimal(t){const y=this;y._reversePixels&&(t=1-t);const A=y._startPixel+t*y._length;return Nt(y._alignToPixels?Ut(y.chart,A,0):A)}getDecimalForPixel(t){const y=(t-this._startPixel)/this._length;return this._reversePixels?1-y:y}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:y}=this;return t<0&&y<0?y:t>0&&y>0?t:0}getContext(t){const y=this,A=y.ticks||[];if(t>=0&&t<A.length){const O=A[t];return O.$context||(O.$context=function(t,y,A){return Object.assign(Object.create(t),{tick:A,index:y,type:"tick"})}(y.getContext(),t,O))}return y.$context||(y.$context=(O=y.chart.getContext(),T=y,Object.assign(Object.create(O),{scale:T,type:"scale"})));var O,T}_tickSize(){const t=this,y=t.options.ticks,A=Rt(t.labelRotation),O=Math.abs(Math.cos(A)),T=Math.abs(Math.sin(A)),j=t._getLabelSizes(),ut=y.autoSkipPadding||0,ft=j?j.widest.width+ut:0,mt=j?j.highest.height+ut:0;return t.isHorizontal()?mt*O>ft*T?ft/O:mt/T:mt*T<ft*O?mt/O:ft/T}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const y=this,A=y.axis,O=y.chart,T=y.options,{grid:j,position:ut}=T,ft=j.offset,mt=y.isHorizontal(),xt=y.ticks.length+(ft?1:0),bt=Wi(j),_t=[],yt=j.setContext(y.getContext(0)),vt=yt.drawBorder?yt.borderWidth:0,Mt=vt/2,p=function(t){return Ut(O,t,vt)};let wt,kt,St,Pt,se,fe,_e,De,Ce,ze,Xe,Qe;if("top"===ut)wt=p(y.bottom),fe=y.bottom-bt,De=wt-Mt,ze=p(t.top)+Mt,Qe=t.bottom;else if("bottom"===ut)wt=p(y.top),ze=t.top,Qe=p(t.bottom)-Mt,fe=wt+Mt,De=y.top+bt;else if("left"===ut)wt=p(y.right),se=y.right-bt,_e=wt-Mt,Ce=p(t.left)+Mt,Xe=t.right;else if("right"===ut)wt=p(y.left),Ce=t.left,Xe=p(t.right)-Mt,se=wt+Mt,_e=y.left+bt;else if("x"===A){if("center"===ut)wt=p((t.top+t.bottom)/2+.5);else if(U(ut)){const t=Object.keys(ut)[0],A=ut[t];wt=p(y.chart.scales[t].getPixelForValue(A))}ze=t.top,Qe=t.bottom,fe=wt+Mt,De=fe+bt}else if("y"===A){if("center"===ut)wt=p((t.left+t.right)/2);else if(U(ut)){const t=Object.keys(ut)[0],A=ut[t];wt=p(y.chart.scales[t].getPixelForValue(A))}se=wt-Mt,_e=se-bt,Ce=t.left,Xe=t.right}for(kt=0;kt<xt;++kt){const t=j.setContext(y.getContext(kt)),A=t.lineWidth,T=t.color,ut=j.borderDash||[],xt=t.borderDashOffset,bt=t.tickWidth,yt=t.tickColor,vt=t.tickBorderDash||[],Mt=t.tickBorderDashOffset;St=Bi(y,kt,ft),void 0!==St&&(Pt=Ut(O,St,A),mt?se=_e=Ce=Xe=Pt:fe=De=ze=Qe=Pt,_t.push({tx1:se,ty1:fe,tx2:_e,ty2:De,x1:Ce,y1:ze,x2:Xe,y2:Qe,width:A,color:T,borderDash:ut,borderDashOffset:xt,tickWidth:bt,tickColor:yt,tickBorderDash:vt,tickBorderDashOffset:Mt}))}return y._ticksLength=xt,y._borderValue=wt,_t}_computeLabelItems(t){const y=this,A=y.axis,O=y.options,{position:T,ticks:j}=O,ut=y.isHorizontal(),ft=y.ticks,{align:mt,crossAlign:xt,padding:bt}=j,_t=Wi(O.grid),yt=_t+bt,vt=-Rt(y.labelRotation),Mt=[];let wt,kt,St,Pt,se,fe,_e,De,Ce,ze,Xe,Qe,Ge="middle";if("top"===T)fe=y.bottom-yt,_e=y._getXAxisLabelAlignment();else if("bottom"===T)fe=y.top+yt,_e=y._getXAxisLabelAlignment();else if("left"===T){const t=this._getYAxisLabelAlignment(_t);_e=t.textAlign,se=t.x}else if("right"===T){const t=this._getYAxisLabelAlignment(_t);_e=t.textAlign,se=t.x}else if("x"===A){if("center"===T)fe=(t.top+t.bottom)/2+yt;else if(U(T)){const t=Object.keys(T)[0],A=T[t];fe=y.chart.scales[t].getPixelForValue(A)+yt}_e=y._getXAxisLabelAlignment()}else if("y"===A){if("center"===T)se=(t.left+t.right)/2-yt;else if(U(T)){const t=Object.keys(T)[0],A=T[t];se=y.chart.scales[t].getPixelForValue(A)}_e=this._getYAxisLabelAlignment(_t).textAlign}"y"===A&&("start"===mt?Ge="top":"end"===mt&&(Ge="bottom"));const ii=y._getLabelSizes();for(wt=0,kt=ft.length;wt<kt;++wt){St=ft[wt],Pt=St.label;const t=j.setContext(y.getContext(wt));De=y.getPixelForTick(wt)+j.labelOffset,Ce=y._resolveTickFontOptions(wt),ze=Ce.lineHeight,Xe=Y(Pt)?Pt.length:1;const A=Xe/2,O=t.color,mt=t.textStrokeColor,bt=t.textStrokeWidth;ut?(se=De,Qe="top"===T?"near"===xt||0!==vt?-Xe*ze+ze/2:"center"===xt?-ii.highest.height/2-A*ze+ze:-ii.highest.height+ze/2:"near"===xt||0!==vt?ze/2:"center"===xt?ii.highest.height/2-A*ze:ii.highest.height-Xe*ze):(fe=De,Qe=(1-Xe)*ze/2),Mt.push({rotation:vt,label:Pt,font:Ce,color:O,strokeColor:mt,strokeWidth:bt,textOffset:Qe,textAlign:_e,textBaseline:Ge,translation:[se,fe]})}return Mt}_getXAxisLabelAlignment(){const{position:t,ticks:y}=this.options;if(-Rt(this.labelRotation))return"top"===t?"left":"right";let A="center";return"start"===y.align?A="left":"end"===y.align&&(A="right"),A}_getYAxisLabelAlignment(t){const y=this,{position:A,ticks:{crossAlign:O,mirror:T,padding:j}}=y.options,ut=t+j,ft=y._getLabelSizes().widest.width;let mt,xt;return"left"===A?T?(mt="left",xt=y.right-j):(xt=y.right-ut,"near"===O?mt="right":"center"===O?(mt="center",xt-=ft/2):(mt="left",xt=y.left)):"right"===A?T?(mt="right",xt=y.left+j):(xt=y.left+ut,"near"===O?mt="left":"center"===O?(mt="center",xt+=ft/2):(mt="right",xt=y.right)):mt="right",{textAlign:mt,x:xt}}_computeLabelArea(){const t=this;if(t.options.ticks.mirror)return;const y=t.chart,A=t.options.position;return"left"===A||"right"===A?{top:0,left:t.left,bottom:y.height,right:t.right}:"top"===A||"bottom"===A?{top:t.top,left:0,bottom:t.bottom,right:y.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:y},left:A,top:O,width:T,height:j}=this;y&&(t.save(),t.fillStyle=y,t.fillRect(A,O,T,j),t.restore())}getLineWidthForValue(t){const y=this,A=y.options.grid;if(!y._isVisible()||!A.display)return 0;const O=y.ticks.findIndex((y=>y.value===t));return O>=0?A.setContext(y.getContext(O)).lineWidth:0}drawGrid(t){const y=this,A=y.options.grid,O=y.ctx,T=y.chart,j=A.setContext(y.getContext(0)),ut=A.drawBorder?j.borderWidth:0,ft=y._gridLineItems||(y._gridLineItems=y._computeGridLineItems(t));let mt,xt;const h=(t,y,A)=>{A.width&&A.color&&(O.save(),O.lineWidth=A.width,O.strokeStyle=A.color,O.setLineDash(A.borderDash||[]),O.lineDashOffset=A.borderDashOffset,O.beginPath(),O.moveTo(t.x,t.y),O.lineTo(y.x,y.y),O.stroke(),O.restore())};if(A.display)for(mt=0,xt=ft.length;mt<xt;++mt){const t=ft[mt];A.drawOnChartArea&&h({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),A.drawTicks&&h({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}if(ut){const t=A.setContext(y.getContext(y._ticksLength-1)),O=t.lineWidth,j=y._borderValue;let ft,mt,xt,bt;y.isHorizontal()?(ft=Ut(T,y.left,ut)-ut/2,mt=Ut(T,y.right,O)+O/2,xt=bt=j):(xt=Ut(T,y.top,ut)-ut/2,bt=Ut(T,y.bottom,O)+O/2,ft=mt=j),h({x:ft,y:xt},{x:mt,y:bt},{width:ut,color:t.borderColor})}}drawLabels(t){const y=this;if(!y.options.ticks.display)return;const A=y.ctx,O=y._computeLabelArea();O&&Gt(A,O);const T=y._labelItems||(y._labelItems=y._computeLabelItems(t));let j,ut;for(j=0,ut=T.length;j<ut;++j){const t=T[j],y=t.font;te(A,t.label,0,t.textOffset,y,t)}O&&Zt(A)}drawTitle(){const{ctx:t,options:{position:y,title:A,reverse:O}}=this;if(!A.display)return;const T=Ee(A.font),j=Re(A.padding),ut=A.align;let ft=T.lineHeight/2;"bottom"===y?(ft+=j.bottom,Y(A.text)&&(ft+=T.lineHeight*(A.text.length-1))):ft+=j.top;const{titleX:mt,titleY:xt,maxWidth:bt,rotation:_t}=function(t,y,A,O){const{top:T,left:j,bottom:ut,right:ft}=t;let mt,xt,bt,_t=0;return t.isHorizontal()?(xt=o(O,j,ft),bt=zi(t,A,y),mt=ft-j):(xt=zi(t,A,y),bt=o(O,ut,T),_t="left"===A?-Pt:Pt),{titleX:xt,titleY:bt,maxWidth:mt,rotation:_t}}(this,ft,y,ut);te(t,A.text,0,0,T,{color:A.color,maxWidth:bt,rotation:_t,textAlign:Ni(ut,y,O),textBaseline:"middle",translation:[mt,xt]})}draw(t){const y=this;y._isVisible()&&(y.drawBackground(),y.drawGrid(t),y.drawTitle(),y.drawLabels(t))}_layers(){const t=this,y=t.options,A=y.ticks&&y.ticks.z||0,O=y.grid&&y.grid.z||0;return t._isVisible()&&A!==O&&t.draw===ji.prototype.draw?[{z:O,draw(y){t.drawBackground(),t.drawGrid(y),t.drawTitle()}},{z:A,draw(y){t.drawLabels(y)}}]:[{z:A,draw(y){t.draw(y)}}]}getMatchingVisibleMetas(t){const y=this,A=y.chart.getSortedVisibleDatasetMetas(),O=y.axis+"AxisID",T=[];let j,ut;for(j=0,ut=A.length;j<ut;++j){const ut=A[j];ut[O]!==y.id||t&&ut.type!==t||T.push(ut)}return T}_resolveTickFontOptions(t){return Ee(this.options.ticks.setContext(this.getContext(t)).font)}}function $i(t,y=[""],A=t,O){ht(O)||(O=en("_fallback",t));const T={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:A,_fallback:O,override:T=>$i([T,...t],y,A,O)};return new Proxy(T,{deleteProperty:(y,A)=>(delete y[A],delete y._keys,delete t[0][A],!0),get:(A,O)=>Ki(A,O,(()=>function(t,y,A,O){let T;for(const j of y)if(T=en(Xi(j,t),A),ht(T))return qi(t,T)?Ji(A,O,t,T):T}(O,y,t,A))),getOwnPropertyDescriptor:(t,y)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],y),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,y)=>nn(t).includes(y),ownKeys:t=>nn(t),set:(y,A,O)=>(t[0][A]=O,delete y[A],delete y._keys,!0)})}function Yi(t,y,A,O){const T={_cacheable:!1,_proxy:t,_context:y,_subProxy:A,_stack:new Set,_descriptors:Ui(t,O),setContext:y=>Yi(t,y,A,O),override:T=>Yi(t.override(T),y,A,O)};return new Proxy(T,{deleteProperty:(y,A)=>(delete y[A],delete t[A],!0),get:(t,y,A)=>Ki(t,y,(()=>function(t,y,A){const{_proxy:O,_context:T,_subProxy:j,_descriptors:ut}=t;let ft=O[y];return dt(ft)&&ut.isScriptable(y)&&(ft=function(t,y,A,O){const{_proxy:T,_context:j,_subProxy:ut,_stack:ft}=A;if(ft.has(t))throw new Error("Recursion detected: "+[...ft].join("->")+"->"+t);return ft.add(t),y=y(j,ut||O),ft.delete(t),U(y)&&(y=Ji(T._scopes,T,t,y)),y}(y,ft,t,A)),Y(ft)&&ft.length&&(ft=function(t,y,A,O){const{_proxy:T,_context:j,_subProxy:ut,_descriptors:ft}=A;if(ht(j.index)&&O(t))y=y[j.index%y.length];else if(U(y[0])){const A=y,O=T._scopes.filter((t=>t!==A));y=[];for(const mt of A){const A=Ji(O,T,t,mt);y.push(Yi(A,j,ut&&ut[t],ft))}}return y}(y,ft,t,ut.isIndexable)),qi(y,ft)&&(ft=Yi(ft,T,j&&j[y],ut)),ft}(t,y,A))),getOwnPropertyDescriptor:(y,A)=>y._descriptors.allKeys?Reflect.has(t,A)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,A),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(y,A)=>Reflect.has(t,A),ownKeys:()=>Reflect.ownKeys(t),set:(y,A,O)=>(t[A]=O,delete y[A],!0)})}function Ui(t,y={scriptable:!0,indexable:!0}){const{_scriptable:A=y.scriptable,_indexable:O=y.indexable,_allKeys:T=y.allKeys}=t;return{allKeys:T,scriptable:A,indexable:O,isScriptable:dt(A)?A:()=>A,isIndexable:dt(O)?O:()=>O}}const Xi=(t,y)=>t?t+ct(y):y,qi=(t,y)=>U(y)&&"adapters"!==t;function Ki(t,y,A){let O=t[y];return ht(O)||(O=A(),ht(O)&&(t[y]=O)),O}function Gi(t,y,A){return dt(t)?t(y,A):t}const Zi=(t,y)=>!0===t?y:"string"==typeof t?lt(y,t):void 0;function Qi(t,y,A,O){for(const T of y){const y=Zi(A,T);if(y){t.add(y);const T=Gi(y._fallback,A,y);if(ht(T)&&T!==A&&T!==O)return T}else if(!1===y&&ht(O)&&A!==O)return null}return!1}function Ji(t,y,A,O){const T=y._rootScopes,j=Gi(y._fallback,A,O),ut=[...t,...T],ft=new Set;A in t[0]||ft.add(t[0][A]={}),ft.add(O);let mt=tn(ft,ut,A,j||A);return null!==mt&&(!ht(j)||j===A||(mt=tn(ft,ut,j,mt),null!==mt))&&$i([...ft],[""],T,j)}function tn(t,y,A,O){for(;A;)A=Qi(t,y,A,O);return A}function en(t,y){for(const A of y){if(!A)continue;const y=A[t];if(ht(y))return y}}function nn(t){let y=t._keys;return y||(y=t._keys=function(t){const y=new Set;for(const A of t)for(const t of Object.keys(A).filter((t=>!t.startsWith("_"))))y.add(t);return[...y]}(t._scopes)),y}const Tn=Number.EPSILON||1e-14,sn=(t,y)=>y<t.length&&!t[y].skip&&t[y];function an(t,y,A,O){const T=t.skip?y:t,j=y,ut=A.skip?y:A,ft=zt(j,T),mt=zt(ut,j);let xt=ft/(ft+mt),bt=mt/(ft+mt);xt=isNaN(xt)?0:xt,bt=isNaN(bt)?0:bt;const _t=O*xt,yt=O*bt;return{previous:{x:j.x-_t*(ut.x-T.x),y:j.y-_t*(ut.y-T.y)},next:{x:j.x+yt*(ut.x-T.x),y:j.y+yt*(ut.y-T.y)}}}function rn(t){const y=t.length,A=Array(y).fill(0),O=Array(y);let T,j,ut,ft=sn(t,0);for(T=0;T<y;++T)if(j=ut,ut=ft,ft=sn(t,T+1),ut){if(ft){const t=ft.x-ut.x;A[T]=0!==t?(ft.y-ut.y)/t:0}O[T]=j?ft?De(A[T-1])!==De(A[T])?0:(A[T-1]+A[T])/2:A[T-1]:A[T]}!function(t,y,A){const O=t.length;let T,j,ut,ft,mt,xt=sn(t,0);for(let bt=0;bt<O-1;++bt)mt=xt,xt=sn(t,bt+1),mt&&xt&&(Ot(y[bt],0,Tn)?A[bt]=A[bt+1]=0:(T=A[bt]/y[bt],j=A[bt+1]/y[bt],ft=Math.pow(T,2)+Math.pow(j,2),ft<=9||(ut=3/Math.sqrt(ft),A[bt]=T*ut*y[bt],A[bt+1]=j*ut*y[bt])))}(t,A,O),function(t,y){const A=t.length;let O,T,j,ut=sn(t,0);for(let ft=0;ft<A;++ft){if(T=j,j=ut,ut=sn(t,ft+1),!j)continue;const{x:A,y:mt}=j;T&&(O=(A-T.x)/3,j.cp1x=A-O,j.cp1y=mt-O*y[ft]),ut&&(O=(ut.x-A)/3,j.cp2x=A+O,j.cp2y=mt+O*y[ft])}}(t,O)}function ln(t,y,A){return Math.max(Math.min(t,A),y)}function cn(t,y,A,O){let T,j,ut,ft;if(y.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===y.cubicInterpolationMode)rn(t);else{let A=O?t[t.length-1]:t[0];for(T=0,j=t.length;T<j;++T)ut=t[T],ft=an(A,ut,t[Math.min(T+1,j-(O?0:1))%j],y.tension),ut.cp1x=ft.previous.x,ut.cp1y=ft.previous.y,ut.cp2x=ft.next.x,ut.cp2y=ft.next.y,A=ut}y.capBezierPoints&&function(t,y){let A,O,T,j,ut,ft=Kt(t[0],y);for(A=0,O=t.length;A<O;++A)ut=j,j=ft,ft=A<O-1&&Kt(t[A+1],y),j&&(T=t[A],ut&&(T.cp1x=ln(T.cp1x,y.left,y.right),T.cp1y=ln(T.cp1y,y.top,y.bottom)),ft&&(T.cp2x=ln(T.cp2x,y.left,y.right),T.cp2y=ln(T.cp2y,y.top,y.bottom)))}(t,A)}function hn(t,y,A,O){return{x:t.x+A*(y.x-t.x),y:t.y+A*(y.y-t.y)}}function dn(t,y,A,O){return{x:t.x+A*(y.x-t.x),y:"middle"===O?A<.5?t.y:y.y:"after"===O?A<1?t.y:y.y:A>0?y.y:t.y}}function un(t,y,A,O){const T={x:t.cp2x,y:t.cp2y},j={x:y.cp1x,y:y.cp1y},ut=hn(t,T,A),ft=hn(T,j,A),mt=hn(j,y,A),xt=hn(ut,ft,A),bt=hn(ft,mt,A);return hn(xt,bt,A)}function fn(t,y,A){return t?function(t,y){return{x:A=>t+t+y-A,setWidth(t){y=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,y)=>t-y,leftForLtr:(t,y)=>t-y}}(y,A):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,y)=>t+y,leftForLtr:(t,y)=>t}}function gn(t,y){let A,O;"ltr"!==y&&"rtl"!==y||(A=t.canvas.style,O=[A.getPropertyValue("direction"),A.getPropertyPriority("direction")],A.setProperty("direction",y,"important"),t.prevTextDirection=O)}function pn(t,y){void 0!==y&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",y[0],y[1]))}function mn(t){return"angle"===t?{between:Wt,compare:Vt,normalize:Bt}:{between:(t,y,A)=>t>=y&&t<=A,compare:(t,y)=>t-y,normalize:t=>t}}function xn(t,y,A,O){return{start:t%O,end:y%O,loop:A&&(y-t+1)%O==0}}function bn(t,y,A){if(!A)return[t];const{property:O,start:T,end:j}=A,ut=y.length,{compare:ft,between:mt,normalize:xt}=mn(O),{start:bt,end:_t,loop:yt}=function(t,y,A){const{property:O,start:T,end:j}=A,{between:ut,normalize:ft}=mn(O),mt=y.length;let xt,bt,{start:_t,end:yt,loop:vt}=t;if(vt){for(_t+=mt,yt+=mt,xt=0,bt=mt;xt<bt&&ut(ft(y[_t%mt][O]),T,j);++xt)_t--,yt--;_t%=mt,yt%=mt}return yt<_t&&(yt+=mt),{start:_t,end:yt,loop:vt}}(t,y,A),vt=[];let Mt,wt,kt,St=!1,Pt=null;for(let t=bt,A=bt;t<=_t;++t)wt=y[t%ut],wt.skip||(Mt=xt(wt[O]),St=mt(Mt,T,j),null===Pt&&(St||mt(T,kt,Mt)&&0!==ft(T,kt))&&(Pt=0===ft(Mt,T)?t:A),null!==Pt&&(!St||0===ft(j,Mt)||mt(j,kt,Mt))&&(vt.push(xn(Pt,t,yt,ut)),Pt=null),A=t,kt=Mt);return null!==Pt&&vt.push(xn(Pt,_t,yt,ut)),vt}function _n(t,y){const A=[],O=t.segments;for(let T=0;T<O.length;T++){const j=bn(O[T],t.points,y);j.length&&A.push(...j)}return A}function yn(t){const y=t.points,A=t.options.spanGaps,O=y.length;if(!O)return[];const T=!!t._loop,{start:j,end:ut}=function(t,y,A,O){let T=0,j=y-1;if(A&&!O)for(;T<y&&!t[T].skip;)T++;for(;T<y&&t[T].skip;)T++;for(T%=y,A&&(j+=T);j>T&&t[j%y].skip;)j--;return j%=y,{start:T,end:j}}(y,O,T,A);return!0===A?[{start:j,end:ut,loop:T}]:function(t,y,A,O){const T=t.length,j=[];let ut,ft=y,mt=t[y];for(ut=y+1;ut<=A;++ut){const A=t[ut%T];A.skip||A.stop?mt.skip||(O=!1,j.push({start:y%T,end:(ut-1)%T,loop:O}),y=ft=A.stop?ut:null):(ft=ut,mt.skip&&(y=ut)),mt=A}return null!==ft&&j.push({start:y%T,end:ft%T,loop:O}),j}(y,j,ut<j?ut+O:ut,!!t._fullLoop&&0===j&&ut===O-1)}var Fn=Object.freeze({__proto__:null,easingEffects:Ti,color:W,getHoverColor:H,noop:N,uid:xt,isNullOrUndef:$,isArray:Y,isObject:U,isFinite:X,finiteOrDefault:q,valueOrDefault:K,toPercentage:G,toDimension:Z,callback:Q,each:J,_elementsEqual:tt,clone:et,_merger:nt,merge:ot,mergeIf:st,_mergerIf:at,_deprecated:function(t,y,A,O){void 0!==y&&console.warn(t+': "'+A+'" is deprecated. Please use "'+O+'" instead')},resolveObjectKey:lt,_capitalize:ct,defined:ht,isFunction:dt,toFontString:jt,_measureText:$t,_longestText:Yt,_alignPixel:Ut,clearCanvas:Xt,drawPoint:qt,_isPointInArea:Kt,clipArea:Gt,unclipArea:Zt,_steppedLineTo:Qt,_bezierCurveTo:Jt,renderText:te,_lookup:ee,_lookupByKey:ie,_rlookupByKey:ne,_filterBetween:oe,listenArrayEvents:ae,unlistenArrayEvents:re,_arrayUnique:le,_createResolver:$i,_attachContext:Yi,_descriptors:Ui,splineCurve:an,splineCurveMonotone:rn,_updateBezierControlPoints:cn,_getParentNode:ce,getStyle:ue,getRelativePosition:pe,getMaximumSize:xe,retinaScale:be,supportsEventListenerOptions:Xe,readUsedSize:ye,fontString:function(t,y,A){return y+" "+t+"px "+A},requestAnimFrame:t,throttled:e,debounce:i,_toLeftRightCenter:n,_alignStartEnd:o,_textX:s,_pointInLine:hn,_steppedInterpolation:dn,_bezierInterpolation:un,formatNumber:Li,toLineHeight:Ae,toTRBL:Te,toTRBLCorners:Le,toPadding:Re,toFont:Ee,resolve:Ie,_addGrace:Fe,PI:vt,TAU:Mt,PITAU:wt,INFINITY:kt,RAD_PER_DEG:St,HALF_PI:Pt,QUARTER_PI:se,TWO_THIRDS_PI:fe,log10:_e,sign:De,niceNum:Dt,_factorize:Ct,isNumber:At,almostEquals:Ot,almostWhole:Tt,_setMinAndMaxByKey:Lt,toRadians:Rt,toDegrees:Et,_decimalPlaces:It,getAngleFromPoint:Ft,distanceBetweenPoints:zt,_angleDiff:Vt,_normalizeAngle:Bt,_angleBetween:Wt,_limitValue:Ht,_int16Range:Nt,getRtlAdapter:fn,overrideTextDirection:gn,restoreTextDirection:pn,_boundSegment:bn,_boundSegments:_n,_computeSegments:yn});class Mn{constructor(t,y,A){this.type=t,this.scope=y,this.override=A,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const y=this,A=Object.getPrototypeOf(t);let O;(function(t){return"id"in t&&"defaults"in t})(A)&&(O=y.register(A));const T=y.items,j=t.id,ut=y.scope+"."+j;if(!j)throw new Error("class does not have id: "+t);return j in T||(T[j]=t,function(t,y,A){const O=ot(Object.create(null),[A?yt.get(A):{},yt.get(y),t.defaults]);yt.set(y,O),t.defaultRoutes&&function(t,y){Object.keys(y).forEach((A=>{const O=A.split("."),T=O.pop(),j=[t].concat(O).join("."),ut=y[A].split("."),ft=ut.pop(),mt=ut.join(".");yt.route(j,T,mt,ft)}))}(y,t.defaultRoutes),t.descriptors&&yt.describe(y,t.descriptors)}(t,ut,O),y.override&&yt.override(t.id,t.overrides)),ut}get(t){return this.items[t]}unregister(t){const y=this.items,A=t.id,O=this.scope;A in y&&delete y[A],O&&A in yt[O]&&(delete yt[O][A],this.override&&delete bt[A])}}var jn=new class{constructor(){this.controllers=new Mn(Ai,"datasets",!0),this.elements=new Mn(Oi,"elements"),this.plugins=new Mn(Object,"plugins"),this.scales=new Mn(ji,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,y,A){const O=this;[...y].forEach((y=>{const T=A||O._getRegistryForType(y);A||T.isForType(y)||T===O.plugins&&y.id?O._exec(t,T,y):J(y,(y=>{const T=A||O._getRegistryForType(y);O._exec(t,T,y)}))}))}_exec(t,y,A){const O=ct(t);Q(A["before"+O],[],A),y[t](A),Q(A["after"+O],[],A)}_getRegistryForType(t){for(let y=0;y<this._typedRegistries.length;y++){const A=this._typedRegistries[y];if(A.isForType(t))return A}return this.plugins}_get(t,y,A){const O=y.get(t);if(void 0===O)throw new Error('"'+t+'" is not a registered '+A+".");return O}};class kn{constructor(){this._init=[]}notify(t,y,A){const O=this;"beforeInit"===y&&(O._init=O._createDescriptors(t,!0),O._notify(O._init,t,"install"));const T=O._descriptors(t),j=O._notify(T,t,y,A);return"destroy"===y&&(O._notify(T,t,"stop"),O._notify(O._init,t,"uninstall")),j}_notify(t,y,A,O){O=O||{};for(const T of t){const t=T.plugin;if(!1===Q(t[A],[y,O,T.options],t)&&O.cancelable)return!1}return!0}invalidate(){$(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const y=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),y}_createDescriptors(t,y){const A=t&&t.config,O=K(A.options&&A.options.plugins,{}),T=function(t){const y=[],A=Object.keys(jn.plugins.items);for(let t=0;t<A.length;t++)y.push(jn.getPlugin(A[t]));const O=t.plugins||[];for(let t=0;t<O.length;t++){const A=O[t];-1===y.indexOf(A)&&y.push(A)}return y}(A);return!1!==O||y?function(t,y,A,O){const T=[],j=t.getContext();for(let ut=0;ut<y.length;ut++){const ft=y[ut],mt=Sn(A[ft.id],O);null!==mt&&T.push({plugin:ft,options:Pn(t.config,ft,mt,j)})}return T}(t,T,O,y):[]}_notifyStateChanges(t){const y=this._oldCache||[],A=this._cache,n=(t,y)=>t.filter((t=>!y.some((y=>t.plugin.id===y.plugin.id))));this._notify(n(y,A),t,"stop"),this._notify(n(A,y),t,"start")}}function Sn(t,y){return y||!1!==t?!0===t?{}:t:null}function Pn(t,y,A,O){const T=t.pluginScopeKeys(y),j=t.getOptionScopes(A,T);return t.createResolver(j,O,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dn(t,y){const A=yt.datasets[t]||{};return((y.datasets||{})[t]||{}).indexAxis||y.indexAxis||A.indexAxis||"x"}function Cn(t,y){return"x"===t||"y"===t?t:y.axis||("top"===(A=y.position)||"bottom"===A?"x":"left"===A||"right"===A?"y":void 0)||t.charAt(0).toLowerCase();var A}function An(t){const y=t.options||(t.options={});y.plugins=K(y.plugins,{}),y.scales=function(t,y){const A=bt[t.type]||{scales:{}},O=y.scales||{},T=Dn(t.type,y),j=Object.create(null),ut=Object.create(null);return Object.keys(O).forEach((t=>{const y=O[t],ft=Cn(t,y),mt=function(t,y){return t===y?"_index_":"_value_"}(ft,T),xt=A.scales||{};j[ft]=j[ft]||t,ut[t]=st(Object.create(null),[{axis:ft},y,xt[ft],xt[mt]])})),t.data.datasets.forEach((A=>{const T=A.type||t.type,ft=A.indexAxis||Dn(T,y),mt=(bt[T]||{}).scales||{};Object.keys(mt).forEach((t=>{const y=function(t,y){let A=t;return"_index_"===t?A=y:"_value_"===t&&(A="x"===y?"y":"x"),A}(t,ft),T=A[y+"AxisID"]||j[y]||y;ut[T]=ut[T]||Object.create(null),st(ut[T],[{axis:y},O[T],mt[t]])}))})),Object.keys(ut).forEach((t=>{const y=ut[t];st(y,[yt.scales[y.type],yt.scale])})),ut}(t,y)}const Xn=new Map,Gn=new Set;function Ln(t,y){let A=Xn.get(t);return A||(A=y(),Xn.set(t,A),Gn.add(A)),A}const Rn=(t,y,A)=>{const O=lt(y,A);void 0!==O&&t.add(O)};class En{constructor(t){this._config=function(t){const y=(t=t||{}).data=t.data||{datasets:[],labels:[]};return y.datasets=y.datasets||[],y.labels=y.labels||[],An(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=t}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),An(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ln(t,(()=>[["datasets."+t,""]]))}datasetAnimationScopeKeys(t,y){return Ln(`${t}.transition.${y}`,(()=>[[`datasets.${t}.transitions.${y}`,"transitions."+y],["datasets."+t,""]]))}datasetElementScopeKeys(t,y){return Ln(`${t}-${y}`,(()=>[[`datasets.${t}.elements.${y}`,"datasets."+t,"elements."+y,""]]))}pluginScopeKeys(t){const y=t.id;return Ln(`${this.type}-plugin-${y}`,(()=>[["plugins."+y,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,y){const A=this._scopeCache;let O=A.get(t);return O&&!y||(O=new Map,A.set(t,O)),O}getOptionScopes(t,y,A){const{options:O,type:T}=this,j=this._cachedScopes(t,A),ut=j.get(y);if(ut)return ut;const ft=new Set;y.forEach((y=>{t&&(ft.add(t),y.forEach((y=>Rn(ft,t,y)))),y.forEach((t=>Rn(ft,O,t))),y.forEach((t=>Rn(ft,bt[T]||{},t))),y.forEach((t=>Rn(ft,yt,t))),y.forEach((t=>Rn(ft,_t,t)))}));const mt=[...ft];return Gn.has(y)&&j.set(y,mt),mt}chartOptionScopes(){const{options:t,type:y}=this;return[t,bt[y]||{},yt.datasets[y]||{},{type:y},yt,_t]}resolveNamedOptions(t,y,A,O=[""]){const T={$shared:!0},{resolver:j,subPrefixes:ut}=In(this._resolverCache,t,O);let ft=j;(function(t,y){const{isScriptable:A,isIndexable:O}=Ui(t);for(const T of y)if(A(T)&&dt(t[T])||O(T)&&Y(t[T]))return!0;return!1})(j,y)&&(T.$shared=!1,ft=Yi(j,A=dt(A)?A():A,this.createResolver(t,A,ut)));for(const t of y)T[t]=ft[t];return T}createResolver(t,y,A=[""],O){const{resolver:T}=In(this._resolverCache,t,A);return U(y)?Yi(T,y,void 0,O):T}}function In(t,y,A){let O=t.get(y);O||(O=new Map,t.set(y,O));const T=A.join();let j=O.get(T);return j||(j={resolver:$i(y,A),subPrefixes:A.filter((t=>!t.toLowerCase().includes("hover")))},O.set(T,j)),j}const co=["top","bottom","left","right","chartArea"];function zn(t,y){return"top"===t||"bottom"===t||-1===co.indexOf(t)&&"x"===y}function Vn(t,y){return function(A,O){return A[t]===O[t]?A[y]-O[y]:A[t]-O[t]}}function Bn(t){const y=t.chart,A=y.options.animation;y.notifyPlugins("afterRender"),Q(A&&A.onComplete,[t],y)}function Wn(t){const y=t.chart,A=y.options.animation;Q(A&&A.onProgress,[t],y)}function Hn(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Nn(t){return Hn()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const yo={},$n=t=>{const y=Nn(t);return Object.values(yo).filter((t=>t.canvas===y)).pop()};class Yn{constructor(t,A){const O=this;this.config=A=new En(A);const T=Nn(t),j=$n(T);if(j)throw new Error("Canvas is already in use. Chart with ID '"+j.id+"' must be destroyed before the canvas can be reused.");const ut=A.createResolver(A.chartOptionScopes(),O.getContext());this.platform=O._initializePlatform(T,A);const ft=O.platform.acquireContext(T,ut.aspectRatio),mt=ft&&ft.canvas,bt=mt&&mt.height,_t=mt&&mt.width;this.id=xt(),this.ctx=ft,this.canvas=mt,this.width=_t,this.height=bt,this._options=ut,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._sortedMetasets=[],this.scales={},this.scale=void 0,this._plugins=new kn,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=i((()=>this.update("resize")),ut.resizeDelay||0),yo[O.id]=O,ft&&mt?(y.listen(O,"complete",Bn),y.listen(O,"progress",Wn),O._initialize(),O.attached&&O.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:y},width:A,height:O,_aspectRatio:T}=this;return $(t)?y&&T?T:O?A/O:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){const t=this;return t.notifyPlugins("beforeInit"),t.options.responsive?t.resize():be(t,t.options.devicePixelRatio),t.bindEvents(),t.notifyPlugins("afterInit"),t}_initializePlatform(t,y){return y.platform?new y.platform:!Hn()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?new Ke:new li}clear(){return Xt(this.canvas,this.ctx),this}stop(){return y.stop(this),this}resize(t,A){y.running(this)?this._resizeBeforeDraw={width:t,height:A}:this._resize(t,A)}_resize(t,y){const A=this,O=A.options,T=A.canvas,j=O.maintainAspectRatio&&A.aspectRatio,ut=A.platform.getMaximumSize(T,t,y,j),ft=A.currentDevicePixelRatio,mt=O.devicePixelRatio||A.platform.getDevicePixelRatio();A.width===ut.width&&A.height===ut.height&&ft===mt||(A.width=ut.width,A.height=ut.height,A._aspectRatio=A.aspectRatio,be(A,mt,!0),A.notifyPlugins("resize",{size:ut}),Q(O.onResize,[A,ut],A),A.attached&&A._doResize()&&A.render())}ensureScalesHaveIDs(){J(this.options.scales||{},((t,y)=>{t.id=y}))}buildOrUpdateScales(){const t=this,y=t.options,A=y.scales,O=t.scales,T=Object.keys(O).reduce(((t,y)=>(t[y]=!1,t)),{});let j=[];A&&(j=j.concat(Object.keys(A).map((t=>{const y=A[t],O=Cn(t,y),T="r"===O,j="x"===O;return{options:y,dposition:T?"chartArea":j?"bottom":"left",dtype:T?"radialLinear":j?"category":"linear"}})))),J(j,(A=>{const j=A.options,ut=j.id,ft=Cn(ut,j),mt=K(j.type,A.dtype);void 0!==j.position&&zn(j.position,ft)===zn(A.dposition)||(j.position=A.dposition),T[ut]=!0;let xt=null;ut in O&&O[ut].type===mt?xt=O[ut]:(xt=new(jn.getScale(mt))({id:ut,type:mt,ctx:t.ctx,chart:t}),O[xt.id]=xt),xt.init(j,y)})),J(T,((t,y)=>{t||delete O[y]})),J(O,(y=>{ni.configure(t,y,y.options),ni.addBox(t,y)}))}_updateMetasetIndex(t,y){const A=this._metasets,O=t.index;O!==y&&(A[O]=A[y],A[y]=t,t.index=y)}_updateMetasets(){const t=this,y=t._metasets,A=t.data.datasets.length,O=y.length;if(O>A){for(let y=A;y<O;++y)t._destroyDatasetMeta(y);y.splice(A,O-A)}t._sortedMetasets=y.slice(0).sort(Vn("order","index"))}_removeUnreferencedMetasets(){const t=this,{_metasets:y,data:{datasets:A}}=t;y.length>A.length&&delete t._stacks,y.forEach(((y,O)=>{0===A.filter((t=>t===y._dataset)).length&&t._destroyDatasetMeta(O)}))}buildOrUpdateControllers(){const t=this,y=[],A=t.data.datasets;let O,T;for(t._removeUnreferencedMetasets(),O=0,T=A.length;O<T;O++){const T=A[O];let j=t.getDatasetMeta(O);const ut=T.type||t.config.type;if(j.type&&j.type!==ut&&(t._destroyDatasetMeta(O),j=t.getDatasetMeta(O)),j.type=ut,j.indexAxis=T.indexAxis||Dn(ut,t.options),j.order=T.order||0,t._updateMetasetIndex(j,O),j.label=""+T.label,j.visible=t.isDatasetVisible(O),j.controller)j.controller.updateIndex(O),j.controller.linkScales();else{const A=jn.getController(ut),{datasetElementType:T,dataElementType:ft}=yt.datasets[ut];Object.assign(A.prototype,{dataElementType:jn.getElement(ft),datasetElementType:T&&jn.getElement(T)}),j.controller=new A(t,O),y.push(j.controller)}}return t._updateMetasets(),y}_resetElements(){const t=this;J(t.data.datasets,((y,A)=>{t.getDatasetMeta(A).controller.reset()}),t)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const y=this,A=y.config;A.update(),y._options=A.createResolver(A.chartOptionScopes(),y.getContext()),J(y.scales,(t=>{ni.removeBox(y,t)}));const O=y._animationsDisabled=!y.options.animation;if(y.ensureScalesHaveIDs(),y.buildOrUpdateScales(),y._plugins.invalidate(),!1===y.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const T=y.buildOrUpdateControllers();y.notifyPlugins("beforeElementsUpdate");let j=0;for(let t=0,A=y.data.datasets.length;t<A;t++){const{controller:A}=y.getDatasetMeta(t),ut=!O&&-1===T.indexOf(A);A.buildOrUpdateElements(ut),j=Math.max(+A.getMaxOverflow(),j)}y._minPadding=j,y._updateLayout(j),O||J(T,(t=>{t.reset()})),y._updateDatasets(t),y.notifyPlugins("afterUpdate",{mode:t}),y._layers.sort(Vn("z","_idx")),y._lastEvent&&y._eventHandler(y._lastEvent,!0),y.render()}_updateLayout(t){const y=this;if(!1===y.notifyPlugins("beforeLayout",{cancelable:!0}))return;ni.update(y,y.width,y.height,t);const A=y.chartArea,O=A.width<=0||A.height<=0;y._layers=[],J(y.boxes,(t=>{O&&"chartArea"===t.position||(t.configure&&t.configure(),y._layers.push(...t._layers()))}),y),y._layers.forEach(((t,y)=>{t._idx=y})),y.notifyPlugins("afterLayout")}_updateDatasets(t){const y=this,A="function"==typeof t;if(!1!==y.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let O=0,T=y.data.datasets.length;O<T;++O)y._updateDataset(O,A?t({datasetIndex:O}):t);y.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,y){const A=this,O=A.getDatasetMeta(t),T={meta:O,index:t,mode:y,cancelable:!0};!1!==A.notifyPlugins("beforeDatasetUpdate",T)&&(O.controller._update(y),T.cancelable=!1,A.notifyPlugins("afterDatasetUpdate",T))}render(){const t=this;!1!==t.notifyPlugins("beforeRender",{cancelable:!0})&&(y.has(t)?t.attached&&!y.running(t)&&y.start(t):(t.draw(),Bn({chart:t})))}draw(){const t=this;let y;if(t._resizeBeforeDraw){const{width:y,height:A}=t._resizeBeforeDraw;t._resize(y,A),t._resizeBeforeDraw=null}if(t.clear(),t.width<=0||t.height<=0)return;if(!1===t.notifyPlugins("beforeDraw",{cancelable:!0}))return;const A=t._layers;for(y=0;y<A.length&&A[y].z<=0;++y)A[y].draw(t.chartArea);for(t._drawDatasets();y<A.length;++y)A[y].draw(t.chartArea);t.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const y=this._sortedMetasets,A=[];let O,T;for(O=0,T=y.length;O<T;++O){const T=y[O];t&&!T.visible||A.push(T)}return A}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const t=this;if(!1===t.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const y=t.getSortedVisibleDatasetMetas();for(let A=y.length-1;A>=0;--A)t._drawDataset(y[A]);t.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const y=this,A=y.ctx,O=t._clip,T=y.chartArea,j={meta:t,index:t.index,cancelable:!0};!1!==y.notifyPlugins("beforeDatasetDraw",j)&&(Gt(A,{left:!1===O.left?0:T.left-O.left,right:!1===O.right?y.width:T.right+O.right,top:!1===O.top?0:T.top-O.top,bottom:!1===O.bottom?y.height:T.bottom+O.bottom}),t.controller.draw(),Zt(A),j.cancelable=!1,y.notifyPlugins("afterDatasetDraw",j))}getElementsAtEventForMode(t,y,A,O){const T=Qe.modes[y];return"function"==typeof T?T(this,t,A,O):[]}getDatasetMeta(t){const y=this.data.datasets[t],A=this._metasets;let O=A.filter((t=>t&&t._dataset===y)).pop();return O||(O=A[t]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:y&&y.order||0,index:t,_dataset:y,_parsed:[],_sorted:!1}),O}getContext(){return this.$context||(this.$context={chart:this,type:"chart"})}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const y=this.data.datasets[t];if(!y)return!1;const A=this.getDatasetMeta(t);return"boolean"==typeof A.hidden?!A.hidden:!y.hidden}setDatasetVisibility(t,y){this.getDatasetMeta(t).hidden=!y}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateDatasetVisibility(t,y){const A=this,O=y?"show":"hide",T=A.getDatasetMeta(t),j=T.controller._resolveAnimations(void 0,O);A.setDatasetVisibility(t,y),j.update(T,{visible:y}),A.update((y=>y.datasetIndex===t?O:void 0))}hide(t){this._updateDatasetVisibility(t,!1)}show(t){this._updateDatasetVisibility(t,!0)}_destroyDatasetMeta(t){const y=this,A=y._metasets&&y._metasets[t];A&&A.controller&&(A.controller._destroy(),delete y._metasets[t])}destroy(){const t=this,{canvas:A,ctx:O}=t;let T,j;for(t.stop(),y.remove(t),T=0,j=t.data.datasets.length;T<j;++T)t._destroyDatasetMeta(T);t.config.clearCache(),A&&(t.unbindEvents(),Xt(A,O),t.platform.releaseContext(O),t.canvas=null,t.ctx=null),t.notifyPlugins("destroy"),delete yo[t.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){const t=this,y=t._listeners,A=t.platform,n=(O,T)=>{A.addEventListener(t,O,T),y[O]=T},o=(O,T)=>{y[O]&&(A.removeEventListener(t,O,T),delete y[O])};let s=function(y,A,O){y.offsetX=A,y.offsetY=O,t._eventHandler(y)};if(J(t.options.events,(t=>n(t,s))),t.options.responsive){let y;s=(y,A)=>{t.canvas&&t.resize(y,A)};const a=()=>{o("attach",a),t.attached=!0,t.resize(),n("resize",s),n("detach",y)};y=()=>{t.attached=!1,o("resize",s),n("attach",a)},A.isAttached(t.canvas)?a():y()}else t.attached=!0}unbindEvents(){const t=this,y=t._listeners;y&&(delete t._listeners,J(y,((y,A)=>{t.platform.removeEventListener(t,A,y)})))}updateHoverStyle(t,y,A){const O=A?"set":"remove";let T,j,ut,ft;for("dataset"===y&&(T=this.getDatasetMeta(t[0].datasetIndex),T.controller["_"+O+"DatasetHoverStyle"]()),ut=0,ft=t.length;ut<ft;++ut){j=t[ut];const y=j&&this.getDatasetMeta(j.datasetIndex).controller;y&&y[O+"HoverStyle"](j.element,j.datasetIndex,j.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const y=this,A=y._active||[],O=t.map((({datasetIndex:t,index:A})=>{const O=y.getDatasetMeta(t);if(!O)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:O.data[A],index:A}}));!tt(O,A)&&(y._active=O,y._updateHoverStyles(O,A))}notifyPlugins(t,y){return this._plugins.notify(this,t,y)}_updateHoverStyles(t,y,A){const O=this,T=O.options.hover,s=(t,y)=>t.filter((t=>!y.some((y=>t.datasetIndex===y.datasetIndex&&t.index===y.index)))),j=s(y,t),ut=A?t:s(t,y);j.length&&O.updateHoverStyle(j,T.mode,!1),ut.length&&T.mode&&O.updateHoverStyle(ut,T.mode,!0)}_eventHandler(t,y){const A=this,O={event:t,replay:y,cancelable:!0};if(!1===A.notifyPlugins("beforeEvent",O))return;const T=A._handleEvent(t,y);return O.cancelable=!1,A.notifyPlugins("afterEvent",O),(T||O.changed)&&A.render(),A}_handleEvent(t,y){const A=this,{_active:O=[],options:T}=A,j=T.hover,ut=y;let ft=[],mt=!1,xt=null;return"mouseout"!==t.type&&(ft=A.getElementsAtEventForMode(t,j.mode,j,ut),xt="click"===t.type?A._lastEvent:t),A._lastEvent=null,Q(T.onHover,[t,ft,A],A),"mouseup"!==t.type&&"click"!==t.type&&"contextmenu"!==t.type||Kt(t,A.chartArea,A._minPadding)&&Q(T.onClick,[t,ft,A],A),mt=!tt(ft,O),(mt||y)&&(A._active=ft,A._updateHoverStyles(ft,O,y)),A._lastEvent=xt,mt}}const Un=()=>J(Yn.instances,(t=>t._plugins.invalidate())),Eo=!0;function qn(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}Object.defineProperties(Yn,{defaults:{enumerable:Eo,value:yt},instances:{enumerable:Eo,value:yo},overrides:{enumerable:Eo,value:bt},registry:{enumerable:Eo,value:jn},version:{enumerable:Eo,value:"3.0.0"},getChart:{enumerable:Eo,value:$n},register:{enumerable:Eo,value:(...t)=>{jn.add(...t),Un()}},unregister:{enumerable:Eo,value:(...t)=>{jn.remove(...t),Un()}}});class Kn{constructor(t){this.options=t||{}}formats(){return qn()}parse(t,y){return qn()}format(t,y){return qn()}add(t,y,A){return qn()}diff(t,y,A){return qn()}startOf(t,y,A){return qn()}endOf(t,y){return qn()}}Kn.override=function(t){Object.assign(Kn.prototype,t)};var Io={_date:Kn};function Zn(t){const y=function(t){if(!t._cache.$bar){const y=t.getMatchingVisibleMetas("bar");let A=[];for(let O=0,T=y.length;O<T;O++)A=A.concat(y[O].controller.getAllParsedValues(t));t._cache.$bar=le(A.sort(((t,y)=>t-y)))}return t._cache.$bar}(t);let A,O,T,j,ut=t._length;const r=()=>{ut=Math.min(ut,A&&Math.abs(T-j)||ut),j=T};for(A=0,O=y.length;A<O;++A)T=t.getPixelForValue(y[A]),r();for(A=0,O=t.ticks.length;A<O;++A)T=t.getPixelForTick(A),r();return ut}function Qn(t,y,A,O){return Y(t)?function(t,y,A,O){const T=A.parse(t[0],O),j=A.parse(t[1],O),ut=Math.min(T,j),ft=Math.max(T,j);let mt=ut,xt=ft;Math.abs(ut)>Math.abs(ft)&&(mt=ft,xt=ut),y[A.axis]=xt,y._custom={barStart:mt,barEnd:xt,start:T,end:j,min:ut,max:ft}}(t,y,A,O):y[A.axis]=A.parse(t,O),y}function Jn(t,y,A,O){const T=t.iScale,j=t.vScale,ut=T.getLabels(),ft=T===j,mt=[];let xt,bt,_t,yt;for(xt=A,bt=A+O;xt<bt;++xt)yt=y[xt],_t={},_t[T.axis]=ft||T.parse(ut[xt],xt),mt.push(Qn(yt,_t,j,xt));return mt}function to(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}class eo extends Ai{parsePrimitiveData(t,y,A,O){return Jn(t,y,A,O)}parseArrayData(t,y,A,O){return Jn(t,y,A,O)}parseObjectData(t,y,A,O){const{iScale:T,vScale:j}=t,{xAxisKey:ut="x",yAxisKey:ft="y"}=this._parsing,mt="x"===T.axis?ut:ft,xt="x"===j.axis?ut:ft,bt=[];let _t,yt,vt,Mt;for(_t=A,yt=A+O;_t<yt;++_t)Mt=y[_t],vt={},vt[T.axis]=T.parse(lt(Mt,mt),_t),bt.push(Qn(lt(Mt,xt),vt,j,_t));return bt}updateRangeFromParsed(t,y,A,O){super.updateRangeFromParsed(t,y,A,O);const T=A._custom;T&&y===this._cachedMeta.vScale&&(t.min=Math.min(t.min,T.min),t.max=Math.max(t.max,T.max))}getLabelAndValue(t){const y=this._cachedMeta,{iScale:A,vScale:O}=y,T=this.getParsed(t),j=T._custom,ut=to(j)?"["+j.start+", "+j.end+"]":""+O.getLabelForValue(T[O.axis]);return{label:""+A.getLabelForValue(T[A.axis]),value:ut}}initialize(){const t=this;t.enableOptionSharing=!0,super.initialize(),t._cachedMeta.stack=t.getDataset().stack}update(t){const y=this._cachedMeta;this.updateElements(y.data,0,y.data.length,t)}updateElements(t,y,A,O){const T=this,j="reset"===O,ut=T._cachedMeta.vScale,ft=ut.getBasePixel(),mt=ut.isHorizontal(),xt=T._getRuler(),bt=T.resolveDataElementOptions(y,O),_t=T.getSharedOptions(bt),yt=T.includeOptions(O,_t);T.updateSharedOptions(_t,O,bt);for(let ut=y;ut<y+A;ut++){const y=j?{base:ft,head:ft}:T._calculateBarValuePixels(ut),A=T._calculateBarIndexPixels(ut,xt),bt={horizontal:mt,base:y.base,x:mt?y.head:A.center,y:mt?A.center:y.head,height:mt?A.size:void 0,width:mt?void 0:A.size};yt&&(bt.options=_t||T.resolveDataElementOptions(ut,O)),T.updateElement(t[ut],ut,bt,O)}}_getStacks(t,y){const A=this._cachedMeta.iScale,O=A.getMatchingVisibleMetas(this._type),T=A.options.stacked,j=O.length,ut=[];let ft,mt;for(ft=0;ft<j;++ft){if(mt=O[ft],void 0!==y){const t=mt.controller.getParsed(y)[mt.controller._cachedMeta.vScale.axis];if($(t)||isNaN(t))continue}if((!1===T||-1===ut.indexOf(mt.stack)||void 0===T&&void 0===mt.stack)&&ut.push(mt.stack),mt.index===t)break}return ut.length||ut.push(void 0),ut}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,y){const A=this._getStacks(t),O=void 0!==y?A.indexOf(y):-1;return-1===O?A.length-1:O}_getRuler(){const t=this,y=t.options,A=t._cachedMeta,O=A.iScale,T=[];let j,ut;for(j=0,ut=A.data.length;j<ut;++j)T.push(O.getPixelForValue(t.getParsed(j)[O.axis],j));const ft=y.barThickness;return{min:ft||Zn(O),pixels:T,start:O._startPixel,end:O._endPixel,stackCount:t._getStackCount(),scale:O,grouped:y.grouped,ratio:ft?1:y.categoryPercentage*y.barPercentage}}_calculateBarValuePixels(t){const y=this,{vScale:A,_stacked:O}=y._cachedMeta,{base:T,minBarLength:j}=y.options,ut=y.getParsed(t),ft=ut._custom,mt=to(ft);let xt,bt,_t=ut[A.axis],yt=0,vt=O?y.applyStack(A,ut,O):_t;vt!==_t&&(yt=vt-_t,vt=_t),mt&&(_t=ft.barStart,vt=ft.barEnd-ft.barStart,0!==_t&&De(_t)!==De(ft.barEnd)&&(yt=0),yt+=_t);const Mt=$(T)||mt?yt:T;let wt=A.getPixelForValue(Mt);xt=this.chart.getDataVisibility(t)?A.getPixelForValue(yt+vt):wt,bt=xt-wt,void 0!==j&&Math.abs(bt)<j&&(bt=bt<0?-j:j,0===_t&&(wt-=bt/2),xt=wt+bt);const kt=T||0;if(wt===A.getPixelForValue(kt)){const t=A.getLineWidthForValue(kt)/2;bt>0?(wt+=t,bt-=t):bt<0&&(wt-=t,bt+=t)}return{size:bt,base:wt,head:xt,center:xt+bt/2}}_calculateBarIndexPixels(t,y){const A=this,O=y.scale,T=A.options,j=K(T.maxBarThickness,1/0);let ut,ft;if(y.grouped){const O=T.skipNull?A._getStackCount(t):y.stackCount,mt="flex"===T.barThickness?function(t,y,A,O){const T=y.pixels,j=T[t];let ut=t>0?T[t-1]:null,ft=t<T.length-1?T[t+1]:null;const mt=A.categoryPercentage;null===ut&&(ut=j-(null===ft?y.end-y.start:ft-j)),null===ft&&(ft=j+j-ut);const xt=j-(j-Math.min(ut,ft))/2*mt;return{chunk:Math.abs(ft-ut)/2*mt/O,ratio:A.barPercentage,start:xt}}(t,y,T,O):function(t,y,A,O){const T=A.barThickness;let j,ut;return $(T)?(j=y.min*A.categoryPercentage,ut=A.barPercentage):(j=T*O,ut=1),{chunk:j/O,ratio:ut,start:y.pixels[t]-j/2}}(t,y,T,O),xt=A._getStackIndex(A.index,A._cachedMeta.stack);ut=mt.start+mt.chunk*xt+mt.chunk/2,ft=Math.min(j,mt.chunk*mt.ratio)}else ut=O.getPixelForValue(A.getParsed(t)[O.axis],t),ft=Math.min(j,y.min*y.ratio);return{base:ut-ft/2,head:ut+ft/2,center:ut,size:ft}}draw(){const t=this,y=t.chart,A=t._cachedMeta,O=A.vScale,T=A.data,j=T.length;let ut=0;for(Gt(y.ctx,y.chartArea);ut<j;++ut)null!==t.getParsed(ut)[O.axis]&&T[ut].draw(t._ctx);Zt(y.ctx)}}eo.id="bar",eo.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},eo.overrides={interaction:{mode:"index"},scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class io extends Ai{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(t,y,A,O){const{xScale:T,yScale:j}=t,{xAxisKey:ut="x",yAxisKey:ft="y"}=this._parsing,mt=[];let xt,bt,_t;for(xt=A,bt=A+O;xt<bt;++xt)_t=y[xt],mt.push({x:T.parse(lt(_t,ut),xt),y:j.parse(lt(_t,ft),xt),_custom:_t&&_t.r&&+_t.r});return mt}getMaxOverflow(){const{data:t,_parsed:y}=this._cachedMeta;let A=0;for(let O=t.length-1;O>=0;--O)A=Math.max(A,t[O].size()/2,y[O]._custom);return A>0&&A}getLabelAndValue(t){const y=this._cachedMeta,{xScale:A,yScale:O}=y,T=this.getParsed(t),j=A.getLabelForValue(T.x),ut=O.getLabelForValue(T.y),ft=T._custom;return{label:y.label,value:"("+j+", "+ut+(ft?", "+ft:"")+")"}}update(t){const y=this._cachedMeta.data;this.updateElements(y,0,y.length,t)}updateElements(t,y,A,O){const T=this,j="reset"===O,{xScale:ut,yScale:ft}=T._cachedMeta,mt=T.resolveDataElementOptions(y,O),xt=T.getSharedOptions(mt),bt=T.includeOptions(O,xt);for(let mt=y;mt<y+A;mt++){const y=t[mt],A=!j&&T.getParsed(mt),xt=j?ut.getPixelForDecimal(.5):ut.getPixelForValue(A.x),_t=j?ft.getBasePixel():ft.getPixelForValue(A.y),yt={x:xt,y:_t,skip:isNaN(xt)||isNaN(_t)};bt&&(yt.options=T.resolveDataElementOptions(mt,O),j&&(yt.options.radius=0)),T.updateElement(y,mt,yt,O)}T.updateSharedOptions(xt,O,mt)}resolveDataElementOptions(t,y){const A=this.getParsed(t);let O=super.resolveDataElementOptions(t,y);O.$shared&&(O=Object.assign({},O,{$shared:!1}));const T=O.radius;return"active"!==y&&(O.radius=0),O.radius+=K(A&&A._custom,T),O}}io.id="bubble",io.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},io.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class no extends Ai{constructor(t,y){super(t,y),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,y){const A=this.getDataset().data,O=this._cachedMeta;let T,j;for(T=t,j=t+y;T<j;++T)O._parsed[T]=+A[T]}_getRotation(){return Rt(this.options.rotation-90)}_getCircumference(){return Rt(this.options.circumference)}_getRotationExtents(){let t=Mt,y=-Mt;const A=this;for(let O=0;O<A.chart.data.datasets.length;++O)if(A.chart.isDatasetVisible(O)){const T=A.chart.getDatasetMeta(O).controller,j=T._getRotation(),ut=T._getCircumference();t=Math.min(t,j),y=Math.max(y,j+ut)}return{rotation:t,circumference:y-t}}update(t){const y=this,A=y.chart,{chartArea:O}=A,T=y._cachedMeta,j=T.data,ut=y.getMaxBorderWidth()+y.getMaxOffset(j),ft=Math.max((Math.min(O.width,O.height)-ut)/2,0),mt=Math.min(G(y.options.cutout,ft),1),xt=y._getRingWeight(y.index),{circumference:bt,rotation:_t}=y._getRotationExtents(),{ratioX:yt,ratioY:wt,offsetX:kt,offsetY:St}=function(t,y,A){let O=1,T=1,j=0,ut=0;if(y<Mt){const ft=t,mt=ft+y,xt=Math.cos(ft),bt=Math.sin(ft),_t=Math.cos(mt),yt=Math.sin(mt),f=(t,y,O)=>Wt(t,ft,mt)?1:Math.max(y,y*A,O,O*A),g=(t,y,O)=>Wt(t,ft,mt)?-1:Math.min(y,y*A,O,O*A),Mt=f(0,xt,_t),wt=f(Pt,bt,yt),kt=g(vt,xt,_t),St=g(vt+Pt,bt,yt);O=(Mt-kt)/2,T=(wt-St)/2,j=-(Mt+kt)/2,ut=-(wt+St)/2}return{ratioX:O,ratioY:T,offsetX:j,offsetY:ut}}(_t,bt,mt),se=(O.width-ut)/yt,fe=(O.height-ut)/wt,_e=Math.max(Math.min(se,fe)/2,0),De=Z(y.options.radius,_e),Ce=(De-Math.max(De*mt,0))/y._getVisibleDatasetWeightTotal();y.offsetX=kt*De,y.offsetY=St*De,T.total=y.calculateTotal(),y.outerRadius=De-Ce*y._getRingWeightOffset(y.index),y.innerRadius=Math.max(y.outerRadius-Ce*xt,0),y.updateElements(j,0,j.length,t)}_circumference(t,y){const A=this,O=A.options,T=A._cachedMeta,j=A._getCircumference();return y&&O.animation.animateRotate||!this.chart.getDataVisibility(t)||null===T._parsed[t]?0:A.calculateCircumference(T._parsed[t]*j/Mt)}updateElements(t,y,A,O){const T=this,j="reset"===O,ut=T.chart,ft=ut.chartArea,mt=ut.options.animation,xt=(ft.left+ft.right)/2,bt=(ft.top+ft.bottom)/2,_t=j&&mt.animateScale,yt=_t?0:T.innerRadius,vt=_t?0:T.outerRadius,Mt=T.resolveDataElementOptions(y,O),wt=T.getSharedOptions(Mt),kt=T.includeOptions(O,wt);let St,Pt=T._getRotation();for(St=0;St<y;++St)Pt+=T._circumference(St,j);for(St=y;St<y+A;++St){const y=T._circumference(St,j),A=t[St],ut={x:xt+T.offsetX,y:bt+T.offsetY,startAngle:Pt,endAngle:Pt+y,circumference:y,outerRadius:vt,innerRadius:yt};kt&&(ut.options=wt||T.resolveDataElementOptions(St,O)),Pt+=y,T.updateElement(A,St,ut,O)}T.updateSharedOptions(wt,O,Mt)}calculateTotal(){const t=this._cachedMeta,y=t.data;let A,O=0;for(A=0;A<y.length;A++){const y=t._parsed[A];null!==y&&!isNaN(y)&&this.chart.getDataVisibility(A)&&(O+=Math.abs(y))}return O}calculateCircumference(t){const y=this._cachedMeta.total;return y>0&&!isNaN(t)?Mt*(Math.abs(t)/y):0}getLabelAndValue(t){const y=this._cachedMeta,A=this.chart,O=A.data.labels||[],T=Li(y._parsed[t],A.options.locale);return{label:O[t]||"",value:T}}getMaxBorderWidth(t){const y=this;let A=0;const O=y.chart;let T,j,ut,ft,mt;if(!t)for(T=0,j=O.data.datasets.length;T<j;++T)if(O.isDatasetVisible(T)){ut=O.getDatasetMeta(T),t=ut.data,ft=ut.controller,ft!==y&&ft.configure();break}if(!t)return 0;for(T=0,j=t.length;T<j;++T)mt=ft.resolveDataElementOptions(T),"inner"!==mt.borderAlign&&(A=Math.max(A,mt.borderWidth||0,mt.hoverBorderWidth||0));return A}getMaxOffset(t){let y=0;for(let A=0,O=t.length;A<O;++A){const t=this.resolveDataElementOptions(A);y=Math.max(y,t.offset||0,t.hoverOffset||0)}return y}_getRingWeightOffset(t){let y=0;for(let A=0;A<t;++A)this.chart.isDatasetVisible(A)&&(y+=this._getRingWeight(A));return y}_getRingWeight(t){return Math.max(K(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}no.id="doughnut",no.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",indexAxis:"r"},no.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const y=t.data;return y.labels.length&&y.datasets.length?y.labels.map(((y,A)=>{const O=t.getDatasetMeta(0).controller.getStyle(A);return{text:y,fillStyle:O.backgroundColor,strokeStyle:O.borderColor,lineWidth:O.borderWidth,hidden:!t.getDataVisibility(A),index:A}})):[]}},onClick(t,y,A){A.chart.toggleDataVisibility(y.index),A.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let y=t.label;const A=": "+t.formattedValue;return Y(y)?(y=y.slice(),y[0]+=A):y+=A,y}}}}};class oo extends Ai{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const y=this,A=y._cachedMeta,{dataset:O,data:T=[],_dataset:j}=A,ut=y.chart._animationsDisabled;let{start:ft,count:mt}=function(t,y,A){const O=y.length;let T=0,j=O;if(t._sorted){const{iScale:ut,_parsed:ft}=t,mt=ut.axis,{min:xt,max:bt,minDefined:_t,maxDefined:yt}=ut.getUserBounds();_t&&(T=Ht(Math.min(ie(ft,ut.axis,xt).lo,A?O:ie(y,mt,ut.getPixelForValue(xt)).lo),0,O-1)),j=yt?Ht(Math.max(ie(ft,ut.axis,bt).hi+1,A?0:ie(y,mt,ut.getPixelForValue(bt)).hi+1),T,O)-T:O-T}return{start:T,count:j}}(A,T,ut);if(y._drawStart=ft,y._drawCount=mt,function(t){const{xScale:y,yScale:A,_scaleRanges:O}=t,T={xmin:y.min,xmax:y.max,ymin:A.min,ymax:A.max};if(!O)return t._scaleRanges=T,!0;const j=O.xmin!==y.min||O.xmax!==y.max||O.ymin!==A.min||O.ymax!==A.max;return Object.assign(O,T),j}(A)&&(ft=0,mt=T.length),O._decimated=!!j._decimated,O.points=T,"resize"!==t){const A=y.resolveDatasetElementOptions(t);y.options.showLine||(A.borderWidth=0),y.updateElement(O,void 0,{animated:!ut,options:A},t)}y.updateElements(T,ft,mt,t)}updateElements(t,y,A,O){const T=this,j="reset"===O,{xScale:ut,yScale:ft,_stacked:mt}=T._cachedMeta,xt=T.resolveDataElementOptions(y,O),bt=T.getSharedOptions(xt),_t=T.includeOptions(O,bt),yt=T.options.spanGaps,vt=At(yt)?yt:Number.POSITIVE_INFINITY,Mt=T.chart._animationsDisabled||j||"none"===O;let wt=y>0&&T.getParsed(y-1);for(let xt=y;xt<y+A;++xt){const y=t[xt],A=T.getParsed(xt),yt=Mt?y:{},kt=yt.x=ut.getPixelForValue(A.x,xt),St=yt.y=j?ft.getBasePixel():ft.getPixelForValue(mt?T.applyStack(ft,A,mt):A.y,xt);yt.skip=isNaN(kt)||isNaN(St),yt.stop=xt>0&&A.x-wt.x>vt,_t&&(yt.options=bt||T.resolveDataElementOptions(xt,O)),Mt||T.updateElement(y,xt,yt,O),wt=A}T.updateSharedOptions(bt,O,xt)}getMaxOverflow(){const t=this,y=t._cachedMeta,A=y.dataset,O=A.options&&A.options.borderWidth||0,T=y.data||[];if(!T.length)return O;const j=T[0].size(t.resolveDataElementOptions(0)),ut=T[T.length-1].size(t.resolveDataElementOptions(T.length-1));return Math.max(O,j,ut)/2}draw(){this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea),super.draw()}}oo.id="line",oo.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},oo.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class so extends Ai{constructor(t,y){super(t,y),this.innerRadius=void 0,this.outerRadius=void 0}update(t){const y=this._cachedMeta.data;this._updateRadius(),this.updateElements(y,0,y.length,t)}_updateRadius(){const t=this,y=t.chart,A=y.chartArea,O=y.options,T=Math.min(A.right-A.left,A.bottom-A.top),j=Math.max(T/2,0),ut=(j-Math.max(O.cutoutPercentage?j/100*O.cutoutPercentage:1,0))/y.getVisibleDatasetCount();t.outerRadius=j-ut*t.index,t.innerRadius=t.outerRadius-ut}updateElements(t,y,A,O){const T=this,j="reset"===O,ut=T.chart,ft=T.getDataset(),mt=ut.options.animation,xt=T._cachedMeta.rScale,bt=xt.xCenter,_t=xt.yCenter,yt=xt.getIndexAngle(0)-.5*vt;let Mt,wt=yt;const kt=360/T.countVisibleElements();for(Mt=0;Mt<y;++Mt)wt+=T._computeAngle(Mt,O,kt);for(Mt=y;Mt<y+A;Mt++){const y=t[Mt];let A=wt,vt=wt+T._computeAngle(Mt,O,kt),St=ut.getDataVisibility(Mt)?xt.getDistanceFromCenterForValue(ft.data[Mt]):0;wt=vt,j&&(mt.animateScale&&(St=0),mt.animateRotate&&(A=vt=yt));const Pt={x:bt,y:_t,innerRadius:0,outerRadius:St,startAngle:A,endAngle:vt,options:T.resolveDataElementOptions(Mt,O)};T.updateElement(y,Mt,Pt,O)}}countVisibleElements(){const t=this.getDataset(),y=this._cachedMeta;let A=0;return y.data.forEach(((y,O)=>{!isNaN(t.data[O])&&this.chart.getDataVisibility(O)&&A++})),A}_computeAngle(t,y,A){return this.chart.getDataVisibility(t)?Rt(this.resolveDataElementOptions(t,y).angle||A):0}}so.id="polarArea",so.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},so.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const y=t.data;return y.labels.length&&y.datasets.length?y.labels.map(((y,A)=>{const O=t.getDatasetMeta(0).controller.getStyle(A);return{text:y,fillStyle:O.backgroundColor,strokeStyle:O.borderColor,lineWidth:O.borderWidth,hidden:!t.getDataVisibility(A),index:A}})):[]}},onClick(t,y,A){A.chart.toggleDataVisibility(y.index),A.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class ao extends no{}ao.id="pie",ao.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class ro extends Ai{getLabelAndValue(t){const y=this._cachedMeta.vScale,A=this.getParsed(t);return{label:y.getLabels()[t],value:""+y.getLabelForValue(A[y.axis])}}update(t){const y=this,A=y._cachedMeta,O=A.dataset,T=A.data||[],j=A.iScale.getLabels();if(O.points=T,"resize"!==t){const A=y.resolveDatasetElementOptions(t);y.options.showLine||(A.borderWidth=0);const ut={_loop:!0,_fullLoop:j.length===T.length,options:A};y.updateElement(O,void 0,ut,t)}y.updateElements(T,0,T.length,t)}updateElements(t,y,A,O){const T=this,j=T.getDataset(),ut=T._cachedMeta.rScale,ft="reset"===O;for(let mt=y;mt<y+A;mt++){const y=t[mt],A=T.resolveDataElementOptions(mt,O),xt=ut.getPointPositionForValue(mt,j.data[mt]),bt=ft?ut.xCenter:xt.x,_t=ft?ut.yCenter:xt.y,yt={x:bt,y:_t,angle:xt.angle,skip:isNaN(bt)||isNaN(_t),options:A};T.updateElement(y,mt,yt,O)}}}ro.id="radar",ro.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},ro.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class lo extends oo{}lo.id="scatter",lo.defaults={showLine:!1,fill:!1},lo.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Zo=Object.freeze({__proto__:null,BarController:eo,BubbleController:io,DoughnutController:no,LineController:oo,PolarAreaController:so,PieController:ao,RadarController:ro,ScatterController:lo});function ho(t,y){const{startAngle:A,endAngle:O,pixelMargin:T,x:j,y:ut,outerRadius:ft,innerRadius:mt}=y;let xt=T/ft;t.beginPath(),t.arc(j,ut,ft,A-xt,O+xt),mt>T?(xt=T/mt,t.arc(j,ut,mt,O+xt,A-xt,!0)):t.arc(j,ut,T,O+Pt,A-Pt),t.closePath(),t.clip()}function uo(t,y){const{x:A,y:O,startAngle:T,endAngle:j,pixelMargin:ut}=y,ft=Math.max(y.outerRadius-ut,0),mt=y.innerRadius+ut;t.beginPath(),t.arc(A,O,ft,T,j),t.arc(A,O,mt,j,T,!0),t.closePath()}class go extends Oi{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,y,A){const O=this.getProps(["x","y"],A),{angle:T,distance:j}=Ft(O,{x:t,y:y}),{startAngle:ut,endAngle:ft,innerRadius:mt,outerRadius:xt,circumference:bt}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],A);return(bt>=Mt||Wt(T,ut,ft))&&j>=mt&&j<=xt}getCenterPoint(t){const{x:y,y:A,startAngle:O,endAngle:T,innerRadius:j,outerRadius:ut}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),ft=(O+T)/2,mt=(j+ut)/2;return{x:y+Math.cos(ft)*mt,y:A+Math.sin(ft)*mt}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const y=this,A=y.options,O=A.offset||0;if(y.pixelMargin="inner"===A.borderAlign?.33:0,y.fullCircles=Math.floor(y.circumference/Mt),!(0===y.circumference||y.innerRadius<0||y.outerRadius<0)){if(t.save(),O&&y.circumference<Mt){const A=(y.startAngle+y.endAngle)/2;t.translate(Math.cos(A)*O,Math.sin(A)*O)}t.fillStyle=A.backgroundColor,t.strokeStyle=A.borderColor,function(t,y){if(y.fullCircles){y.endAngle=y.startAngle+Mt,uo(t,y);for(let A=0;A<y.fullCircles;++A)t.fill()}isNaN(y.circumference)||(y.endAngle=y.startAngle+y.circumference%Mt),uo(t,y),t.fill()}(t,y),function fo(t,y){const{x:A,y:O,startAngle:T,endAngle:j,pixelMargin:ut,options:ft}=y,mt=y.outerRadius,xt=y.innerRadius+ut,bt="inner"===ft.borderAlign;ft.borderWidth&&(bt?(t.lineWidth=2*ft.borderWidth,t.lineJoin="round"):(t.lineWidth=ft.borderWidth,t.lineJoin="bevel"),y.fullCircles&&function(t,y,A){const{x:O,y:T,startAngle:j,endAngle:ut,pixelMargin:ft}=y,mt=Math.max(y.outerRadius-ft,0),xt=y.innerRadius+ft;let bt;for(A&&(y.endAngle=y.startAngle+Mt,ho(t,y),y.endAngle=ut,y.endAngle===y.startAngle&&(y.endAngle+=Mt,y.fullCircles--)),t.beginPath(),t.arc(O,T,xt,j+Mt,j,!0),bt=0;bt<y.fullCircles;++bt)t.stroke();for(t.beginPath(),t.arc(O,T,mt,j,j+Mt),bt=0;bt<y.fullCircles;++bt)t.stroke()}(t,y,bt),bt&&ho(t,y),t.beginPath(),t.arc(A,O,mt,T,j),t.arc(A,O,xt,j,T,!0),t.closePath(),t.stroke())}(t,y),t.restore()}}}function po(t,y,A){t.lineTo(A.x,A.y)}function mo(t,y,A){A=A||{};const O=t.length,T=Math.max(A.start||0,y.start),j=Math.min(A.end||O-1,y.end);return{count:O,start:T,loop:y.loop,ilen:j<T?O+j-T:j-T}}function xo(t,y,A,O){const{points:T,options:j}=y,{count:ut,start:ft,loop:mt,ilen:xt}=mo(T,A,O),bt=function(t){return t.stepped?Qt:t.tension?Jt:po}(j);let _t,yt,vt,{move:Mt=!0,reverse:wt}=O||{};for(_t=0;_t<=xt;++_t)yt=T[(ft+(wt?xt-_t:_t))%ut],yt.skip||(Mt?(t.moveTo(yt.x,yt.y),Mt=!1):bt(t,vt,yt,wt,j.stepped),vt=yt);return mt&&(yt=T[(ft+(wt?xt:0))%ut],bt(t,vt,yt,wt,j.stepped)),!!mt}function bo(t,y,A,O){const T=y.points,{count:j,start:ut,ilen:ft}=mo(T,A,O),{move:mt=!0,reverse:xt}=O||{};let bt,_t,yt,vt,Mt,wt,kt=0,St=0;const b=t=>(ut+(xt?ft-t:t))%j,_=()=>{vt!==Mt&&(t.lineTo(kt,Mt),t.lineTo(kt,vt),t.lineTo(kt,wt))};for(mt&&(_t=T[b(0)],t.moveTo(_t.x,_t.y)),bt=0;bt<=ft;++bt){if(_t=T[b(bt)],_t.skip)continue;const y=_t.x,A=_t.y,O=0|y;O===yt?(A<vt?vt=A:A>Mt&&(Mt=A),kt=(St*kt+y)/++St):(_(),t.lineTo(y,A),yt=O,St=0,vt=Mt=A),wt=A}_()}function _o(t){const y=t.options,A=y.borderDash&&y.borderDash.length;return t._decimated||t._loop||y.tension||y.stepped||A?xo:bo}go.id="arc",go.defaults={borderAlign:"center",borderColor:"#fff",borderWidth:2,offset:0,angle:void 0},go.defaultRoutes={backgroundColor:"backgroundColor"};const ts="function"==typeof Path2D?function(t,y,A,O){let T=y._path;T||(T=y._path=new Path2D,y.path(T,A,O)&&T.closePath()),t.stroke(T)}:function(t,y,A,O){t.beginPath(),y.path(t,A,O)&&t.closePath(),t.stroke()};class vo extends Oi{constructor(t){super(),this.animated=!0,this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,t&&Object.assign(this,t)}updateControlPoints(t){const y=this,A=y.options;if(A.tension&&!A.stepped&&!y._pointsUpdated){const O=A.spanGaps?y._loop:y._fullLoop;cn(y._points,A,t,O),y._pointsUpdated=!0}}set points(t){const y=this;y._points=t,delete y._segments,delete y._path,y._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yn(this))}first(){const t=this.segments,y=this.points;return t.length&&y[t[0].start]}last(){const t=this.segments,y=this.points,A=t.length;return A&&y[t[A-1].end]}interpolate(t,y){const A=this,O=A.options,T=t[y],j=A.points,ut=_n(A,{property:y,start:T,end:T});if(!ut.length)return;const ft=[],mt=function(t){return t.stepped?dn:t.tension?un:hn}(O);let xt,bt;for(xt=0,bt=ut.length;xt<bt;++xt){const{start:A,end:bt}=ut[xt],_t=j[A],yt=j[bt];if(_t===yt){ft.push(_t);continue}const vt=mt(_t,yt,Math.abs((T-_t[y])/(yt[y]-_t[y])),O.stepped);vt[y]=t[y],ft.push(vt)}return 1===ft.length?ft[0]:ft}pathSegment(t,y,A){return _o(this)(t,this,y,A)}path(t,y,A){const O=this,T=O.segments,j=T.length,ut=_o(O);let ft=O._loop;y=y||0,A=A||O.points.length-y;for(let mt=0;mt<j;++mt)ft&=ut(t,O,T[mt],{start:y,end:y+A-1});return!!ft}draw(t,y,A,O){const T=this,j=T.options||{};(T.points||[]).length&&j.borderWidth&&(t.save(),function(t,y){t.lineCap=y.borderCapStyle,t.setLineDash(y.borderDash),t.lineDashOffset=y.borderDashOffset,t.lineJoin=y.borderJoinStyle,t.lineWidth=y.borderWidth,t.strokeStyle=y.borderColor}(t,j),ts(t,T,A,O),t.restore(),T.animated&&(T._pointsUpdated=!1,T._path=void 0))}}function Mo(t,y,A,O){const T=t.options,{[A]:j}=t.getProps([A],O);return Math.abs(y-j)<T.radius+T.hitRadius}vo.id="line",vo.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},vo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},vo.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class wo extends Oi{constructor(t){super(),this.options=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,y,A){const O=this.options,{x:T,y:j}=this.getProps(["x","y"],A);return Math.pow(t-T,2)+Math.pow(y-j,2)<Math.pow(O.hitRadius+O.radius,2)}inXRange(t,y){return Mo(this,t,"x",y)}inYRange(t,y){return Mo(this,t,"y",y)}getCenterPoint(t){const{x:y,y:A}=this.getProps(["x","y"],t);return{x:y,y:A}}size(t){let y=(t=t||this.options||{}).radius||0;return y=Math.max(y,y&&t.hoverRadius||0),2*(y+(y&&t.borderWidth||0))}draw(t){const y=this,A=y.options;y.skip||A.radius<.1||(t.strokeStyle=A.borderColor,t.lineWidth=A.borderWidth,t.fillStyle=A.backgroundColor,qt(t,A,y.x,y.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function ko(t,y){const{x:A,y:O,base:T,width:j,height:ut}=t.getProps(["x","y","base","width","height"],y);let ft,mt,xt,bt,_t;return t.horizontal?(_t=ut/2,ft=Math.min(A,T),mt=Math.max(A,T),xt=O-_t,bt=O+_t):(_t=j/2,ft=A-_t,mt=A+_t,xt=Math.min(O,T),bt=Math.max(O,T)),{left:ft,top:xt,right:mt,bottom:bt}}function So(t){let y=t.options.borderSkipped;const A={};return y?(y=t.horizontal?Po(y,"left","right",t.base>t.x):Po(y,"bottom","top",t.base<t.y),A[y]=!0,A):A}function Po(t,y,A,O){var T,j,ut;return O?(ut=A,t=Do(t=(T=t)===(j=y)?ut:T===ut?j:T,A,y)):t=Do(t,y,A),t}function Do(t,y,A){return"start"===t?y:"end"===t?A:t}function Co(t,y,A,O){return t?0:Math.max(Math.min(y,O),A)}function Oo(t,y,A,O){const T=null===y,j=null===A,ut=t&&!(T&&j)&&ko(t,O);return ut&&(T||y>=ut.left&&y<=ut.right)&&(j||A>=ut.top&&A<=ut.bottom)}function To(t,y){const{x:A,y:O,w:T,h:j,radius:ut}=y;t.arc(A+ut.topLeft,O+ut.topLeft,ut.topLeft,-Pt,vt,!0),t.lineTo(A,O+j-ut.bottomLeft),t.arc(A+ut.bottomLeft,O+j-ut.bottomLeft,ut.bottomLeft,vt,Pt,!0),t.lineTo(A+T-ut.bottomRight,O+j),t.arc(A+T-ut.bottomRight,O+j-ut.bottomRight,ut.bottomRight,Pt,0,!0),t.lineTo(A+T,O+ut.topRight),t.arc(A+T-ut.topRight,O+ut.topRight,ut.topRight,0,-Pt,!0),t.lineTo(A+ut.topLeft,O)}function Lo(t,y){t.rect(y.x,y.y,y.w,y.h)}wo.id="point",wo.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},wo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class Ro extends Oi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const y=this.options,{inner:A,outer:O}=function Ao(t){const y=ko(t),A=y.right-y.left,O=y.bottom-y.top,T=function(t,y,A){const O=t.options.borderWidth,T=So(t),j=Te(O);return{t:Co(T.top,j.top,0,A),r:Co(T.right,j.right,0,y),b:Co(T.bottom,j.bottom,0,A),l:Co(T.left,j.left,0,y)}}(t,A/2,O/2),j=function(t,y,A){const O=Le(t.options.borderRadius),T=Math.min(y,A),j=So(t);return{topLeft:Co(j.top||j.left,O.topLeft,0,T),topRight:Co(j.top||j.right,O.topRight,0,T),bottomLeft:Co(j.bottom||j.left,O.bottomLeft,0,T),bottomRight:Co(j.bottom||j.right,O.bottomRight,0,T)}}(t,A/2,O/2);return{outer:{x:y.left,y:y.top,w:A,h:O,radius:j},inner:{x:y.left+T.l,y:y.top+T.t,w:A-T.l-T.r,h:O-T.t-T.b,radius:{topLeft:Math.max(0,j.topLeft-Math.max(T.t,T.l)),topRight:Math.max(0,j.topRight-Math.max(T.t,T.r)),bottomLeft:Math.max(0,j.bottomLeft-Math.max(T.b,T.l)),bottomRight:Math.max(0,j.bottomRight-Math.max(T.b,T.r))}}}}(this),T=(j=O.radius).topLeft||j.topRight||j.bottomLeft||j.bottomRight?To:Lo;var j;t.save(),O.w===A.w&&O.h===A.h||(t.beginPath(),T(t,O),t.clip(),T(t,A),t.fillStyle=y.borderColor,t.fill("evenodd")),t.beginPath(),T(t,A),t.fillStyle=y.backgroundColor,t.fill(),t.restore()}inRange(t,y,A){return Oo(this,t,y,A)}inXRange(t,y){return Oo(this,t,null,y)}inYRange(t,y){return Oo(this,null,t,y)}getCenterPoint(t){const{x:y,y:A,base:O,horizontal:T}=this.getProps(["x","y","base","horizontal"],t);return{x:T?(y+O)/2:y,y:T?A:(A+O)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Ro.id="bar",Ro.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,pointStyle:void 0},Ro.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var is=Object.freeze({__proto__:null,ArcElement:go,LineElement:vo,PointElement:wo,BarElement:Ro}),ns={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,y,A)=>{if(!A.enabled)return;const O=t.width;t.data.datasets.forEach(((y,T)=>{const{_data:j,indexAxis:ut}=y,ft=t.getDatasetMeta(T),mt=j||y.data;if("y"===Ie([ut,t.options.indexAxis]))return;if("line"!==ft.type)return;const xt=t.scales[ft.xAxisID];if("linear"!==xt.type&&"time"!==xt.type)return;if(t.options.parsing)return;if(mt.length<=4*O)return;let bt;switch($(j)&&(y._data=mt,delete y.data,Object.defineProperty(y,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),A.algorithm){case"lttb":bt=function(t,y,A){const O=A.samples||y,T=[],j=(t.length-2)/(O-2);let ut,ft,mt,xt,bt,_t=0,yt=0;for(T[_t++]=t[yt],ut=0;ut<O-2;ut++){let y,A=0,O=0;const vt=Math.floor((ut+1)*j)+1,Mt=Math.min(Math.floor((ut+2)*j)+1,t.length),wt=Mt-vt;for(y=vt;y<Mt;y++)A=t[y].x,O=t[y].y;A/=wt,O/=wt;const kt=Math.floor(ut*j)+1,St=Math.floor((ut+1)*j)+1,{x:Pt,y:se}=t[yt];for(mt=xt=-1,y=kt;y<St;y++)xt=.5*Math.abs((Pt-A)*(t[y].y-se)-(Pt-t[y].x)*(O-se)),xt>mt&&(mt=xt,ft=t[y],bt=y);T[_t++]=ft,yt=bt}return T[_t++]=t[t.length-1],T}(mt,O,A);break;case"min-max":bt=function(t,y){let A,O,T,j,ut,ft,mt,xt,bt,_t,yt=0,vt=0;const Mt=[],wt=t[0].x,kt=t[t.length-1].x-wt;for(A=0;A<t.length;++A){O=t[A],T=(O.x-wt)/kt*y,j=O.y;const St=0|T;if(St===ut)j<bt?(bt=j,ft=A):j>_t&&(_t=j,mt=A),yt=(vt*yt+O.x)/++vt;else{const y=A-1;if(!$(ft)&&!$(mt)){const A=Math.min(ft,mt),O=Math.max(ft,mt);A!==xt&&A!==y&&Mt.push({...t[A],x:yt}),O!==xt&&O!==y&&Mt.push({...t[O],x:yt})}A>0&&y!==xt&&Mt.push(t[y]),Mt.push(O),ut=St,vt=0,bt=_t=j,ft=mt=xt=A}}return Mt}(mt,O);break;default:throw new Error(`Unsupported decimation algorithm '${A.algorithm}'`)}y._decimated=bt}))},destroy(t){t.data.datasets.forEach((t=>{if(t._decimated){const y=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:y})}}))}};function Fo(t,y,A){const O=function(t){const y=t.options,A=y.fill;let O=K(A&&A.target,A);return void 0===O&&(O=!!y.backgroundColor),!1!==O&&null!==O&&(!0===O?"origin":O)}(t);if(U(O))return!isNaN(O.value)&&O;let T=parseFloat(O);return X(T)&&Math.floor(T)===T?("-"!==O[0]&&"+"!==O[0]||(T=y+T),!(T===y||T<0||T>=A)&&T):["origin","start","end","stack"].indexOf(O)>=0&&O}class zo{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,y,A){const{x:O,y:T,radius:j}=this;return y=y||{start:0,end:Mt},t.arc(O,T,j,y.end,y.start,!0),!A.bounds}interpolate(t){const{x:y,y:A,radius:O}=this,T=t.angle;return{x:y+Math.cos(T)*O,y:A+Math.sin(T)*O,angle:T}}}const Wo=t=>"line"===t.type&&!t.hidden;function Ho(t,y,A){const O=[];for(let T=0;T<A.length;T++){const j=A[T],{first:ut,last:ft,point:mt}=No(j,y,"x");if(!(!mt||ut&&ft))if(ut)O.unshift(mt);else if(t.push(mt),!ft)break}t.push(...O)}function No(t,y,A){const O=t.interpolate(y,A);if(!O)return{};const T=O[A],j=t.segments,ut=t.points;let ft=!1,mt=!1;for(let t=0;t<j.length;t++){const y=j[t],O=ut[y.start][A],xt=ut[y.end][A];if(T>=O&&T<=xt){ft=T===O,mt=T===xt;break}}return{first:ft,last:mt,point:O}}function jo(t,y){let A=[],O=!1;return Y(t)?(O=!0,A=t):A=function(t,y){const{x:A=null,y:O=null}=t||{},T=y.points,j=[];return y.segments.forEach((t=>{const y=T[t.start],ut=T[t.end];null!==O?(j.push({x:y.x,y:O}),j.push({x:ut.x,y:O})):null!==A&&(j.push({x:A,y:y.y}),j.push({x:A,y:ut.y}))})),j}(t,y),A.length?new vo({points:A,options:{tension:0},_loop:O,_fullLoop:O}):null}function $o(t,y,A){let O=t[y].fill;const T=[y];let j;if(!A)return O;for(;!1!==O&&-1===T.indexOf(O);){if(!X(O))return O;if(j=t[O],!j)return!1;if(j.visible)return O;T.push(O),O=j.fill}return!1}function Yo(t,y,A){t.beginPath(),y.path(t),t.lineTo(y.last().x,A),t.lineTo(y.first().x,A),t.closePath(),t.clip()}function Uo(t,y,A,O){if(O)return;let T=y[t],j=A[t];return"angle"===t&&(T=Bt(T),j=Bt(j)),{property:t,start:T,end:j}}function Xo(t,y,A,O){return t&&y?O(t[A],y[A]):t?t[A]:y?y[A]:0}function qo(t,y,A){const{top:O,bottom:T}=y.chart.chartArea,{property:j,start:ut,end:ft}=A||{};"x"===j&&(t.beginPath(),t.rect(ut,O,ft-ut,T-O),t.clip())}function Ko(t,y,A,O){const T=y.interpolate(A,O);T&&t.lineTo(T.x,T.y)}function Go(t,y){const{line:A,target:O,property:T,color:j,scale:ut}=y,ft=function(t,y,A){const O=t.segments,T=t.points,j=y.points,ut=[];for(let t=0;t<O.length;t++){const ft=O[t],mt=Uo(A,T[ft.start],T[ft.end],ft.loop);if(!y.segments){ut.push({source:ft,target:mt,start:T[ft.start],end:T[ft.end]});continue}const xt=_n(y,mt);for(let t=0;t<xt.length;++t){const y=xt[t],O=Uo(A,j[y.start],j[y.end],y.loop),bt=bn(ft,T,O);for(let t=0;t<bt.length;t++)ut.push({source:bt[t],target:y,start:{[A]:Xo(mt,O,"start",Math.max)},end:{[A]:Xo(mt,O,"end",Math.min)}})}}return ut}(A,O,T);t.fillStyle=j;for(let y=0,j=ft.length;y<j;++y){const{source:j,target:mt,start:xt,end:bt}=ft[y];t.save(),qo(t,ut,Uo(T,xt,bt)),t.beginPath();const _t=!!A.pathSegment(t,j);_t?t.closePath():Ko(t,O,bt,T);const yt=!!O.pathSegment(t,mt,{move:_t,reverse:!0}),vt=_t&&yt;vt||Ko(t,O,xt,T),t.closePath(),t.fill(vt?"evenodd":"nonzero"),t.restore()}}var ps={id:"filler",afterDatasetsUpdate(t,y,A){const O=(t.data.datasets||[]).length,T=A.propagate,j=[];let ut,ft,mt,xt;for(ft=0;ft<O;++ft)ut=t.getDatasetMeta(ft),mt=ut.dataset,xt=null,mt&&mt.options&&mt instanceof vo&&(xt={visible:t.isDatasetVisible(ft),index:ft,fill:Fo(mt,ft,O),chart:t,scale:ut.vScale,line:mt}),ut.$filler=xt,j.push(xt);for(ft=0;ft<O;++ft)xt=j[ft],xt&&!1!==xt.fill&&(xt.fill=$o(j,ft,T))},beforeDatasetsDraw(t){const y=t.getSortedVisibleDatasetMetas(),A=t.chartArea;let O,T;for(O=y.length-1;O>=0;--O)T=y[O].$filler,T&&T.line.updateControlPoints(A)},beforeDatasetDraw(t,y){const A=t.chartArea,O=t.ctx,T=y.meta.$filler;if(!T||!1===T.fill)return;const j=function(t){const{chart:y,fill:A,line:O}=t;if(X(A))return function(t,y){const A=t.getDatasetMeta(y);return A&&t.isDatasetVisible(y)?A.dataset:null}(y,A);if("stack"===A)return function Bo(t){const{chart:y,scale:A,index:O,line:T}=t,j=[],ut=T.segments,ft=T.points,mt=function(t,y){const A=[],O=t.getSortedVisibleDatasetMetas();for(let t=0;t<O.length;t++){const T=O[t];if(T.index===y)break;Wo(T)&&A.unshift(T.dataset)}return A}(y,O);mt.push(jo({x:null,y:A.bottom},T));for(let t=0;t<ut.length;t++){const y=ut[t];for(let t=y.start;t<=y.end;t++)Ho(j,ft[t],mt)}return new vo({points:j,options:{}})}(t);const T=function Vo(t){return(t.scale||{}).getPointPositionForValue?function(t){const{scale:y,fill:A}=t,O=y.options,T=y.getLabels().length,j=[],ut=O.reverse?y.max:y.min,ft=O.reverse?y.min:y.max;let mt,xt,bt;if(bt="start"===A?ut:"end"===A?ft:U(A)?A.value:y.getBaseValue(),O.grid.circular)return xt=y.getPointPositionForValue(0,ut),new zo({x:xt.x,y:xt.y,radius:y.getDistanceFromCenterForValue(bt)});for(mt=0;mt<T;++mt)j.push(y.getPointPositionForValue(mt,bt));return j}(t):function(t){const{scale:y={},fill:A}=t;let O,T=null;return"start"===A?T=y.bottom:"end"===A?T=y.top:U(A)?T=y.getPixelForValue(A.value):y.getBasePixel&&(T=y.getBasePixel()),X(T)?(O=y.isHorizontal(),{x:O?T:null,y:O?null:T}):null}(t)}(t);return T instanceof zo?T:jo(T,O)}(T),{line:ut,scale:ft}=T,mt=ut.options,xt=mt.fill,bt=mt.backgroundColor,{above:_t=bt,below:yt=bt}=xt||{};j&&ut.points.length&&(Gt(O,A),function(t,y){const{line:A,target:O,above:T,below:j,area:ut,scale:ft}=y,mt=A._loop?"angle":"x";t.save(),"x"===mt&&j!==T&&(Yo(t,O,ut.top),Go(t,{line:A,target:O,color:T,scale:ft,property:mt}),t.restore(),t.save(),Yo(t,O,ut.bottom)),Go(t,{line:A,target:O,color:j,scale:ft,property:mt}),t.restore()}(O,{line:ut,target:j,above:_t,below:yt,area:A,scale:ft}),Zt(O))},defaults:{propagate:!0}};const Qo=(t,y)=>{let{boxHeight:A=y,boxWidth:O=y}=t;return t.usePointStyle&&(A=Math.min(A,y),O=Math.min(O,y)),{boxWidth:O,boxHeight:A,itemHeight:Math.max(y,A)}};class Jo extends Oi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,y,A){const O=this;O.maxWidth=t,O.maxHeight=y,O._margins=A,O.setDimensions(),O.buildLabels(),O.fit()}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height)}buildLabels(){const t=this,y=t.options.labels||{};let A=Q(y.generateLabels,[t.chart],t)||[];y.filter&&(A=A.filter((A=>y.filter(A,t.chart.data)))),y.sort&&(A=A.sort(((A,O)=>y.sort(A,O,t.chart.data)))),t.options.reverse&&A.reverse(),t.legendItems=A}fit(){const t=this,{options:y,ctx:A}=t;if(!y.display)return void(t.width=t.height=0);const O=y.labels,T=Ee(O.font),j=T.size,ut=t._computeTitleHeight(),{boxWidth:ft,itemHeight:mt}=Qo(O,j);let xt,bt;A.font=T.string,t.isHorizontal()?(xt=t.maxWidth,bt=t._fitRows(ut,j,ft,mt)+10):(bt=t.maxHeight,xt=t._fitCols(ut,j,ft,mt)+10),t.width=Math.min(xt,y.maxWidth||t.maxWidth),t.height=Math.min(bt,y.maxHeight||t.maxHeight)}_fitRows(t,y,A,O){const T=this,{ctx:j,maxWidth:ut,options:{labels:{padding:ft}}}=T,mt=T.legendHitBoxes=[],xt=T.lineWidths=[0],bt=O+ft;let _t=t;j.textAlign="left",j.textBaseline="middle";let yt=-1,vt=-bt;return T.legendItems.forEach(((t,T)=>{const Mt=A+y/2+j.measureText(t.text).width;(0===T||xt[xt.length-1]+Mt+2*ft>ut)&&(_t+=bt,xt[xt.length-(T>0?0:1)]=0,vt+=bt,yt++),mt[T]={left:0,top:vt,row:yt,width:Mt,height:O},xt[xt.length-1]+=Mt+ft})),_t}_fitCols(t,y,A,O){const T=this,{ctx:j,maxHeight:ut,options:{labels:{padding:ft}}}=T,mt=T.legendHitBoxes=[],xt=T.columnSizes=[],bt=ut-t;let _t=ft,yt=0,vt=0,Mt=0,wt=0,kt=0;return T.legendItems.forEach(((t,T)=>{const ut=A+y/2+j.measureText(t.text).width;T>0&&vt+y+2*ft>bt&&(_t+=yt+ft,xt.push({width:yt,height:vt}),Mt+=yt+ft,kt++,wt=0,yt=vt=0),yt=Math.max(yt,ut),vt+=y+ft,mt[T]={left:Mt,top:wt,col:kt,width:ut,height:O},wt+=O+ft})),_t+=yt,xt.push({width:yt,height:vt}),_t}adjustHitBoxes(){const t=this;if(!t.options.display)return;const y=t._computeTitleHeight(),{legendHitBoxes:A,options:{align:O,labels:{padding:T}}}=t;if(this.isHorizontal()){let j=0,ut=o(O,t.left+T,t.right-t.lineWidths[j]);for(const ft of A)j!==ft.row&&(j=ft.row,ut=o(O,t.left+T,t.right-t.lineWidths[j])),ft.top+=t.top+y+T,ft.left=ut,ut+=ft.width+T}else{let j=0,ut=o(O,t.top+y+T,t.bottom-t.columnSizes[j].height);for(const ft of A)ft.col!==j&&(j=ft.col,ut=o(O,t.top+y+T,t.bottom-t.columnSizes[j].height)),ft.top=ut,ft.left+=t.left+T,ut+=ft.height+T}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){const t=this;if(t.options.display){const y=t.ctx;Gt(y,t),t._draw(),Zt(y)}}_draw(){const t=this,{options:y,columnSizes:A,lineWidths:O,ctx:T}=t,{align:j,labels:ut}=y,ft=yt.color,mt=fn(y.rtl,t.left,t.width),xt=Ee(ut.font),{color:bt,padding:_t}=ut,vt=xt.size,Mt=vt/2;let wt;t.drawTitle(),T.textAlign=mt.textAlign("left"),T.textBaseline="middle",T.lineWidth=.5,T.strokeStyle=bt,T.fillStyle=bt,T.font=xt.string;const{boxWidth:kt,boxHeight:St,itemHeight:Pt}=Qo(ut,vt),se=t.isHorizontal(),fe=this._computeTitleHeight();wt=se?{x:o(j,t.left+_t,t.right-O[0]),y:t.top+_t+fe,line:0}:{x:t.left+_t,y:o(j,t.top+fe+_t,t.bottom-A[0].height),line:0},gn(t.ctx,y.textDirection);const _e=Pt+_t;t.legendItems.forEach(((y,bt)=>{const yt=T.measureText(y.text).width,De=mt.textAlign(y.textAlign||(y.textAlign=ut.textAlign)),Ce=kt+vt/2+yt;let ze=wt.x,Xe=wt.y;mt.setWidth(t.width),se?bt>0&&ze+Ce+_t>t.right&&(Xe=wt.y+=_e,wt.line++,ze=wt.x=o(j,t.left+_t,t.right-O[wt.line])):bt>0&&Xe+_e>t.bottom&&(ze=wt.x=ze+A[wt.line].width+_t,wt.line++,Xe=wt.y=o(j,t.top+fe+_t,t.bottom-A[wt.line].height)),function(t,y,A){if(isNaN(kt)||kt<=0||isNaN(St)||St<0)return;T.save();const O=K(A.lineWidth,1);if(T.fillStyle=K(A.fillStyle,ft),T.lineCap=K(A.lineCap,"butt"),T.lineDashOffset=K(A.lineDashOffset,0),T.lineJoin=K(A.lineJoin,"miter"),T.lineWidth=O,T.strokeStyle=K(A.strokeStyle,ft),T.setLineDash(K(A.lineDash,[])),ut.usePointStyle){const j={radius:kt*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:O},ut=mt.xPlus(t,kt/2);qt(T,j,ut,y+Mt)}else{const A=y+Math.max((vt-St)/2,0);T.fillRect(mt.leftForLtr(t,kt),A,kt,St),0!==O&&T.strokeRect(mt.leftForLtr(t,kt),A,kt,St)}T.restore()}(mt.x(ze),Xe,y),ze=s(De,ze+kt+Mt,t.right),function(t,y,A){te(T,A.text,t,y+Pt/2,xt,{strikethrough:A.hidden,textAlign:A.textAlign})}(mt.x(ze),Xe,y),se?wt.x+=Ce+_t:wt.y+=_e})),pn(t.ctx,y.textDirection)}drawTitle(){const t=this,y=t.options,A=y.title,O=Ee(A.font),T=Re(A.padding);if(!A.display)return;const j=fn(y.rtl,t.left,t.width),ut=t.ctx,ft=A.position,mt=O.size/2,xt=T.top+mt;let bt,_t=t.left,yt=t.width;if(this.isHorizontal())yt=Math.max(...t.lineWidths),bt=t.top+xt,_t=o(y.align,_t,t.right-yt);else{const A=t.columnSizes.reduce(((t,y)=>Math.max(t,y.height)),0);bt=xt+o(y.align,t.top,t.bottom-A-y.labels.padding-t._computeTitleHeight())}const vt=o(ft,_t,_t+yt);ut.textAlign=j.textAlign(n(ft)),ut.textBaseline="middle",ut.strokeStyle=A.color,ut.fillStyle=A.color,ut.font=O.string,te(ut,A.text,vt,bt,O)}_computeTitleHeight(){const t=this.options.title,y=Ee(t.font),A=Re(t.padding);return t.display?y.lineHeight+A.height:0}_getLegendItemAt(t,y){const A=this;let O,T,j;if(t>=A.left&&t<=A.right&&y>=A.top&&y<=A.bottom)for(j=A.legendHitBoxes,O=0;O<j.length;++O)if(T=j[O],t>=T.left&&t<=T.left+T.width&&y>=T.top&&y<=T.top+T.height)return A.legendItems[O];return null}handleEvent(t){const y=this,A=y.options;if(!function(t,y){return!("mousemove"!==t||!y.onHover&&!y.onLeave)||!(!y.onClick||"click"!==t&&"mouseup"!==t)}(t.type,A))return;const O=y._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){const ut=y._hoveredItem,ft=(j=O,null!==(T=ut)&&null!==j&&T.datasetIndex===j.datasetIndex&&T.index===j.index);ut&&!ft&&Q(A.onLeave,[t,ut,y],y),y._hoveredItem=O,O&&!ft&&Q(A.onHover,[t,O,y],y)}else O&&Q(A.onClick,[t,O,y],y);var T,j}}var ms={id:"legend",_element:Jo,start(t,y,A){const O=t.legend=new Jo({ctx:t.ctx,options:A,chart:t});ni.configure(t,O,A),ni.addBox(t,O)},stop(t){ni.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,y,A){const O=t.legend;ni.configure(t,O,A),O.options=A},afterUpdate(t){const y=t.legend;y.buildLabels(),y.adjustHitBoxes()},afterEvent(t,y){y.replay||t.legend.handleEvent(y.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,y,A){const O=y.datasetIndex,T=A.chart;T.isDatasetVisible(O)?(T.hide(O),y.hidden=!0):(T.show(O),y.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const y=t.data.datasets,{labels:{usePointStyle:A,pointStyle:O,textAlign:T}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const j=t.controller.getStyle(A?0:void 0),ut=Re(j.borderWidth);return{text:y[t.index].label,fillStyle:j.backgroundColor,hidden:!t.visible,lineCap:j.borderCapStyle,lineDash:j.borderDash,lineDashOffset:j.borderDashOffset,lineJoin:j.borderJoinStyle,lineWidth:(ut.width+ut.height)/4,strokeStyle:j.borderColor,pointStyle:O||j.pointStyle,rotation:j.rotation,textAlign:T||j.textAlign,datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class es extends Oi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,y){const A=this,O=A.options;if(A.left=0,A.top=0,!O.display)return void(A.width=A.height=A.right=A.bottom=0);A.width=A.right=t,A.height=A.bottom=y;const T=Y(O.text)?O.text.length:1;A._padding=Re(O.padding);const j=T*Ee(O.font).lineHeight+A._padding.height;A.isHorizontal()?A.height=j:A.width=j}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:y,left:A,bottom:O,right:T,options:j}=this,ut=j.align;let ft,mt,xt,bt=0;return this.isHorizontal()?(mt=o(ut,A,T),xt=y+t,ft=T-A):("left"===j.position?(mt=A+t,xt=o(ut,O,y),bt=-.5*vt):(mt=T-t,xt=o(ut,y,O),bt=.5*vt),ft=O-y),{titleX:mt,titleY:xt,maxWidth:ft,rotation:bt}}draw(){const t=this,y=t.ctx,A=t.options;if(!A.display)return;const O=Ee(A.font),T=O.lineHeight/2+t._padding.top,{titleX:j,titleY:ut,maxWidth:ft,rotation:mt}=t._drawArgs(T);te(y,A.text,0,0,O,{color:A.color,maxWidth:ft,rotation:mt,textAlign:n(A.align),textBaseline:"middle",translation:[j,ut]})}}var Os={id:"title",_element:es,start(t,y,A){!function(t,y){const A=new es({ctx:t.ctx,options:y,chart:t});ni.configure(t,A,y),ni.addBox(t,A),t.titleBlock=A}(t,A)},stop(t){const y=t.titleBlock;ni.removeBox(t,y),delete t.titleBlock},beforeUpdate(t,y,A){const O=t.titleBlock;ni.configure(t,O,A),O.options=A},defaults:{align:"center",display:!1,font:{style:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ts={average(t){if(!t.length)return!1;let y,A,O=0,T=0,j=0;for(y=0,A=t.length;y<A;++y){const A=t[y].element;if(A&&A.hasValue()){const t=A.tooltipPosition();O+=t.x,T+=t.y,++j}}return{x:O/j,y:T/j}},nearest(t,y){let A,O,T,j=y.x,ut=y.y,ft=Number.POSITIVE_INFINITY;for(A=0,O=t.length;A<O;++A){const O=t[A].element;if(O&&O.hasValue()){const t=zt(y,O.getCenterPoint());t<ft&&(ft=t,T=O)}}if(T){const t=T.tooltipPosition();j=t.x,ut=t.y}return{x:j,y:ut}}};function os(t,y){return y&&(Y(y)?Array.prototype.push.apply(t,y):t.push(y)),t}function ss(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function as(t,y){const{element:A,datasetIndex:O,index:T}=y,j=t.getDatasetMeta(O).controller,{label:ut,value:ft}=j.getLabelAndValue(T);return{chart:t,label:ut,parsed:j.getParsed(T),raw:t.data.datasets[O].data[T],formattedValue:ft,dataset:j.getDataset(),dataIndex:T,datasetIndex:O,element:A}}function rs(t,y){const A=t._chart.ctx,{body:O,footer:T,title:j}=t,{boxWidth:ut,boxHeight:ft}=y,mt=Ee(y.bodyFont),xt=Ee(y.titleFont),bt=Ee(y.footerFont),_t=j.length,yt=T.length,vt=O.length,Mt=Re(y.padding);let wt=Mt.height,kt=0,St=O.reduce(((t,y)=>t+y.before.length+y.lines.length+y.after.length),0);St+=t.beforeBody.length+t.afterBody.length,_t&&(wt+=_t*xt.lineHeight+(_t-1)*y.titleSpacing+y.titleMarginBottom),St&&(wt+=vt*(y.displayColors?Math.max(ft,mt.lineHeight):mt.lineHeight)+(St-vt)*mt.lineHeight+(St-1)*y.bodySpacing),yt&&(wt+=y.footerMarginTop+yt*bt.lineHeight+(yt-1)*y.footerSpacing);let Pt=0;const _=function(t){kt=Math.max(kt,A.measureText(t).width+Pt)};return A.save(),A.font=xt.string,J(t.title,_),A.font=mt.string,J(t.beforeBody.concat(t.afterBody),_),Pt=y.displayColors?ut+2:0,J(O,(t=>{J(t.before,_),J(t.lines,_),J(t.after,_)})),Pt=0,A.font=bt.string,J(t.footer,_),A.restore(),kt+=Mt.width,{width:kt,height:wt}}function ls(t,y,A,O){const{x:T,width:j}=A,{width:ut,chartArea:{left:ft,right:mt}}=t;let xt="center";return"center"===O?xt=T<=(ft+mt)/2?"left":"right":T<=j/2?xt="left":T>=ut-j/2&&(xt="right"),function(t,y,A,O){const{x:T,width:j}=O,ut=A.caretSize+A.caretPadding;return"left"===t&&T+j+ut>y.width||"right"===t&&T-j-ut<0||void 0}(xt,t,y,A)&&(xt="center"),xt}function cs(t,y,A){const O=y.yAlign||function(t,y){const{y:A,height:O}=y;return A<O/2?"top":A>t.height-O/2?"bottom":"center"}(t,A);return{xAlign:y.xAlign||ls(t,y,A,O),yAlign:O}}function hs(t,y,A,O){const{caretSize:T,caretPadding:j,cornerRadius:ut}=t,{xAlign:ft,yAlign:mt}=A,xt=T+j,bt=ut+j;let _t=function(t,y){let{x:A,width:O}=t;return"right"===y?A-=O:"center"===y&&(A-=O/2),A}(y,ft);const yt=function(t,y,A){let{y:O,height:T}=t;return"top"===y?O+=A:O-="bottom"===y?T+A:T/2,O}(y,mt,xt);return"center"===mt?"left"===ft?_t+=xt:"right"===ft&&(_t-=xt):"left"===ft?_t-=bt:"right"===ft&&(_t+=bt),{x:Ht(_t,0,O.width-y.width),y:Ht(yt,0,O.height-y.height)}}function ds(t,y,A){const O=Re(A.padding);return"center"===y?t.x+t.width/2:"right"===y?t.x+t.width-O.right:t.x+O.left}function us(t){return os([],ss(t))}function fs(t,y){const A=y&&y.dataset&&y.dataset.tooltip&&y.dataset.tooltip.callbacks;return A?t.override(A):t}class gs extends Oi{constructor(t){super(),this.opacity=0,this._active=[],this._chart=t._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this,y=t._cachedAnimations;if(y)return y;const A=t._chart,O=t.options.setContext(t.getContext()),T=O.enabled&&A.options.animation&&O.animations,j=new bi(t._chart,T);return T._cacheable&&(t._cachedAnimations=Object.freeze(j)),j}getContext(){const t=this;return t.$context||(t.$context=(y=t._chart.getContext(),A=t,O=t._tooltipItems,Object.assign(Object.create(y),{tooltip:A,tooltipItems:O,type:"tooltip"})));var y,A,O}getTitle(t,y){const A=this,{callbacks:O}=y,T=O.beforeTitle.apply(A,[t]),j=O.title.apply(A,[t]),ut=O.afterTitle.apply(A,[t]);let ft=[];return ft=os(ft,ss(T)),ft=os(ft,ss(j)),ft=os(ft,ss(ut)),ft}getBeforeBody(t,y){return us(y.callbacks.beforeBody.apply(this,[t]))}getBody(t,y){const A=this,{callbacks:O}=y,T=[];return J(t,(t=>{const y={before:[],lines:[],after:[]},j=fs(O,t);os(y.before,ss(j.beforeLabel.call(A,t))),os(y.lines,j.label.call(A,t)),os(y.after,ss(j.afterLabel.call(A,t))),T.push(y)})),T}getAfterBody(t,y){return us(y.callbacks.afterBody.apply(this,[t]))}getFooter(t,y){const A=this,{callbacks:O}=y,T=O.beforeFooter.apply(A,[t]),j=O.footer.apply(A,[t]),ut=O.afterFooter.apply(A,[t]);let ft=[];return ft=os(ft,ss(T)),ft=os(ft,ss(j)),ft=os(ft,ss(ut)),ft}_createItems(t){const y=this,A=y._active,O=y._chart.data,T=[],j=[],ut=[];let ft,mt,xt=[];for(ft=0,mt=A.length;ft<mt;++ft)xt.push(as(y._chart,A[ft]));return t.filter&&(xt=xt.filter(((y,A,T)=>t.filter(y,A,T,O)))),t.itemSort&&(xt=xt.sort(((y,A)=>t.itemSort(y,A,O)))),J(xt,(A=>{const O=fs(t.callbacks,A);T.push(O.labelColor.call(y,A)),j.push(O.labelPointStyle.call(y,A)),ut.push(O.labelTextColor.call(y,A))})),y.labelColors=T,y.labelPointStyles=j,y.labelTextColors=ut,y.dataPoints=xt,xt}update(t,y){const A=this,O=A.options.setContext(A.getContext()),T=A._active;let j,ut=[];if(T.length){const t=Ts[O.position].call(A,T,A._eventPosition);ut=A._createItems(O),A.title=A.getTitle(ut,O),A.beforeBody=A.getBeforeBody(ut,O),A.body=A.getBody(ut,O),A.afterBody=A.getAfterBody(ut,O),A.footer=A.getFooter(ut,O);const y=A._size=rs(A,O),ft=Object.assign({},t,y),mt=cs(A._chart,O,ft),xt=hs(O,ft,mt,A._chart);A.xAlign=mt.xAlign,A.yAlign=mt.yAlign,j={opacity:1,x:xt.x,y:xt.y,width:y.width,height:y.height,caretX:t.x,caretY:t.y}}else 0!==A.opacity&&(j={opacity:0});A._tooltipItems=ut,A.$context=void 0,j&&A._resolveAnimations().update(A,j),t&&O.external&&O.external.call(A,{chart:A._chart,tooltip:A,replay:y})}drawCaret(t,y,A,O){const T=this.getCaretPosition(t,A,O);y.lineTo(T.x1,T.y1),y.lineTo(T.x2,T.y2),y.lineTo(T.x3,T.y3)}getCaretPosition(t,y,A){const{xAlign:O,yAlign:T}=this,{cornerRadius:j,caretSize:ut}=A,{x:ft,y:mt}=t,{width:xt,height:bt}=y;let _t,yt,vt,Mt,wt,kt;return"center"===T?(wt=mt+bt/2,"left"===O?(_t=ft,yt=_t-ut,Mt=wt+ut,kt=wt-ut):(_t=ft+xt,yt=_t+ut,Mt=wt-ut,kt=wt+ut),vt=_t):(yt="left"===O?ft+j+ut:"right"===O?ft+xt-j-ut:this.caretX,"top"===T?(Mt=mt,wt=Mt-ut,_t=yt-ut,vt=yt+ut):(Mt=mt+bt,wt=Mt+ut,_t=yt+ut,vt=yt-ut),kt=Mt),{x1:_t,x2:yt,x3:vt,y1:Mt,y2:wt,y3:kt}}drawTitle(t,y,A){const O=this,T=O.title,j=T.length;let ut,ft,mt;if(j){const xt=fn(A.rtl,O.x,O.width);for(t.x=ds(O,A.titleAlign,A),y.textAlign=xt.textAlign(A.titleAlign),y.textBaseline="middle",ut=Ee(A.titleFont),ft=A.titleSpacing,y.fillStyle=A.titleColor,y.font=ut.string,mt=0;mt<j;++mt)y.fillText(T[mt],xt.x(t.x),t.y+ut.lineHeight/2),t.y+=ut.lineHeight+ft,mt+1===j&&(t.y+=A.titleMarginBottom-ft)}}_drawColorBox(t,y,A,O,T){const j=this,ut=j.labelColors[A],ft=j.labelPointStyles[A],{boxHeight:mt,boxWidth:xt}=T,bt=Ee(T.bodyFont),_t=ds(j,"left",T),yt=O.x(_t),vt=mt<bt.lineHeight?(bt.lineHeight-mt)/2:0,Mt=y.y+vt;if(T.usePointStyle){const y={radius:Math.min(xt,mt)/2,pointStyle:ft.pointStyle,rotation:ft.rotation,borderWidth:1},A=O.leftForLtr(yt,xt)+xt/2,j=Mt+mt/2;t.strokeStyle=T.multiKeyBackground,t.fillStyle=T.multiKeyBackground,qt(t,y,A,j),t.strokeStyle=ut.borderColor,t.fillStyle=ut.backgroundColor,qt(t,y,A,j)}else t.fillStyle=T.multiKeyBackground,t.fillRect(O.leftForLtr(yt,xt),Mt,xt,mt),t.lineWidth=1,t.strokeStyle=ut.borderColor,t.strokeRect(O.leftForLtr(yt,xt),Mt,xt,mt),t.fillStyle=ut.backgroundColor,t.fillRect(O.leftForLtr(O.xPlus(yt,1),xt-2),Mt+1,xt-2,mt-2);t.fillStyle=j.labelTextColors[A]}drawBody(t,y,A){const O=this,{body:T}=O,{bodySpacing:j,bodyAlign:ut,displayColors:ft,boxHeight:mt,boxWidth:xt}=A,bt=Ee(A.bodyFont);let _t=bt.lineHeight,yt=0;const vt=fn(A.rtl,O.x,O.width),g=function(A){y.fillText(A,vt.x(t.x+yt),t.y+_t/2),t.y+=_t+j},Mt=vt.textAlign(ut);let wt,kt,St,Pt,se,fe,_e;for(y.textAlign=ut,y.textBaseline="middle",y.font=bt.string,t.x=ds(O,Mt,A),y.fillStyle=A.bodyColor,J(O.beforeBody,g),yt=ft&&"right"!==Mt?"center"===ut?xt/2+1:xt+2:0,Pt=0,fe=T.length;Pt<fe;++Pt){for(wt=T[Pt],kt=O.labelTextColors[Pt],y.fillStyle=kt,J(wt.before,g),St=wt.lines,ft&&St.length&&(O._drawColorBox(y,t,Pt,vt,A),_t=Math.max(bt.lineHeight,mt)),se=0,_e=St.length;se<_e;++se)g(St[se]),_t=bt.lineHeight;J(wt.after,g)}yt=0,_t=bt.lineHeight,J(O.afterBody,g),t.y-=j}drawFooter(t,y,A){const O=this,T=O.footer,j=T.length;let ut,ft;if(j){const mt=fn(A.rtl,O.x,O.width);for(t.x=ds(O,A.footerAlign,A),t.y+=A.footerMarginTop,y.textAlign=mt.textAlign(A.footerAlign),y.textBaseline="middle",ut=Ee(A.footerFont),y.fillStyle=A.footerColor,y.font=ut.string,ft=0;ft<j;++ft)y.fillText(T[ft],mt.x(t.x),t.y+ut.lineHeight/2),t.y+=ut.lineHeight+A.footerSpacing}}drawBackground(t,y,A,O){const{xAlign:T,yAlign:j}=this,{x:ut,y:ft}=t,{width:mt,height:xt}=A,bt=O.cornerRadius;y.fillStyle=O.backgroundColor,y.strokeStyle=O.borderColor,y.lineWidth=O.borderWidth,y.beginPath(),y.moveTo(ut+bt,ft),"top"===j&&this.drawCaret(t,y,A,O),y.lineTo(ut+mt-bt,ft),y.quadraticCurveTo(ut+mt,ft,ut+mt,ft+bt),"center"===j&&"right"===T&&this.drawCaret(t,y,A,O),y.lineTo(ut+mt,ft+xt-bt),y.quadraticCurveTo(ut+mt,ft+xt,ut+mt-bt,ft+xt),"bottom"===j&&this.drawCaret(t,y,A,O),y.lineTo(ut+bt,ft+xt),y.quadraticCurveTo(ut,ft+xt,ut,ft+xt-bt),"center"===j&&"left"===T&&this.drawCaret(t,y,A,O),y.lineTo(ut,ft+bt),y.quadraticCurveTo(ut,ft,ut+bt,ft),y.closePath(),y.fill(),O.borderWidth>0&&y.stroke()}_updateAnimationTarget(t){const y=this,A=y._chart,O=y.$animations,T=O&&O.x,j=O&&O.y;if(T||j){const O=Ts[t.position].call(y,y._active,y._eventPosition);if(!O)return;const ut=y._size=rs(y,t),ft=Object.assign({},O,y._size),mt=cs(A,t,ft),xt=hs(t,ft,mt,A);T._to===xt.x&&j._to===xt.y||(y.xAlign=mt.xAlign,y.yAlign=mt.yAlign,y.width=ut.width,y.height=ut.height,y.caretX=O.x,y.caretY=O.y,y._resolveAnimations().update(y,xt))}}draw(t){const y=this,A=y.options.setContext(y.getContext());let O=y.opacity;if(!O)return;y._updateAnimationTarget(A);const T={width:y.width,height:y.height},j={x:y.x,y:y.y};O=Math.abs(O)<.001?0:O;const ut=Re(A.padding),ft=y.title.length||y.beforeBody.length||y.body.length||y.afterBody.length||y.footer.length;A.enabled&&ft&&(t.save(),t.globalAlpha=O,y.drawBackground(j,t,T,A),gn(t,A.textDirection),j.y+=ut.top,y.drawTitle(j,t,A),y.drawBody(j,t,A),y.drawFooter(j,t,A),pn(t,A.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,y){const A=this,O=A._active,T=t.map((({datasetIndex:t,index:y})=>{const O=A._chart.getDatasetMeta(t);if(!O)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:O.data[y],index:y}})),j=!tt(O,T),ut=A._positionChanged(T,y);(j||ut)&&(A._active=T,A._eventPosition=y,A.update(!0))}handleEvent(t,y){const A=this,O=A.options,T=A._active||[];let j=!1,ut=[];"mouseout"!==t.type&&(ut=A._chart.getElementsAtEventForMode(t,O.mode,O,y),O.reverse&&ut.reverse());const ft=A._positionChanged(ut,t);return j=y||!tt(ut,T)||ft,j&&(A._active=ut,(O.enabled||O.external)&&(A._eventPosition={x:t.x,y:t.y},A.update(!0,y))),j}_positionChanged(t,y){const A=this,O=Ts[A.options.position].call(A,t,y);return A.caretX!==O.x||A.caretY!==O.y}}gs.positioners=Ts;var Ws={id:"tooltip",_element:gs,positioners:Ts,afterInit(t,y,A){A&&(t.tooltip=new gs({_chart:t,options:A}))},beforeUpdate(t,y,A){t.tooltip&&t.tooltip.initialize(A)},reset(t,y,A){t.tooltip&&t.tooltip.initialize(A)},afterDraw(t){const y=t.tooltip,A={tooltip:y};!1!==t.notifyPlugins("beforeTooltipDraw",A)&&(y&&y.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",A))},afterEvent(t,y){if(t.tooltip){const A=y.replay;t.tooltip.handleEvent(y.event,A)&&(y.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{style:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{style:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,y)=>y.bodyFont.size,boxWidth:(t,y)=>y.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:N,title(t){if(t.length>0){const y=t[0],A=y.chart.data.labels,O=A?A.length:0;if(this&&this.options&&"dataset"===this.options.mode)return y.dataset.label||"";if(y.label)return y.label;if(O>0&&y.dataIndex<O)return A[y.dataIndex]}return""},afterTitle:N,beforeBody:N,beforeLabel:N,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let y=t.dataset.label||"";y&&(y+=": ");const A=t.formattedValue;return $(A)||(y+=A),y},labelColor(t){const y=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:y.borderColor,backgroundColor:y.backgroundColor}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const y=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:y.pointStyle,rotation:y.rotation}},afterLabel:N,afterBody:N,beforeFooter:N,footer:N,afterFooter:N}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Hs=Object.freeze({__proto__:null,Decimation:ns,Filler:ps,Legend:ms,Title:Os,Tooltip:Ws});class bs extends ji{constructor(t){super(t),this._startValue=void 0,this._valueRange=0}parse(t,y){if($(t))return null;const A=this.getLabels();return((t,y)=>null===t?null:Ht(Math.round(t),0,y))(y=isFinite(y)&&A[y]===t?y:function xs(t,y,A){const O=t.indexOf(y);return-1===O?((t,y,A)=>"string"==typeof y?t.push(y)-1:isNaN(y)?null:A)(t,y,A):O!==t.lastIndexOf(y)?A:O}(A,t,K(y,t)),A.length-1)}determineDataLimits(){const t=this,{minDefined:y,maxDefined:A}=t.getUserBounds();let{min:O,max:T}=t.getMinMax(!0);"ticks"===t.options.bounds&&(y||(O=0),A||(T=t.getLabels().length-1)),t.min=O,t.max=T}buildTicks(){const t=this,y=t.min,A=t.max,O=t.options.offset,T=[];let j=t.getLabels();j=0===y&&A===j.length-1?j:j.slice(y,A+1),t._valueRange=Math.max(j.length-(O?0:1),1),t._startValue=t.min-(O?.5:0);for(let t=y;t<=A;t++)T.push({value:t});return T}getLabelForValue(t){const y=this.getLabels();return t>=0&&t<y.length?y[t]:t}configure(){const t=this;super.configure(),t.isHorizontal()||(t._reversePixels=!t._reversePixels)}getPixelForValue(t){const y=this;return"number"!=typeof t&&(t=y.parse(t)),null===t?NaN:y.getPixelForDecimal((t-y._startValue)/y._valueRange)}getPixelForTick(t){const y=this.ticks;return t<0||t>y.length-1?null:this.getPixelForValue(y[t].value)}getValueForPixel(t){const y=this;return Math.round(y._startValue+y.getDecimalForPixel(t)*y._valueRange)}getBasePixel(){return this.bottom}}bs.id="category",bs.defaults={ticks:{callback:bs.prototype.getLabelForValue}};class _s extends ji{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,y){return $(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const t=this,{beginAtZero:y,stacked:A}=t.options,{minDefined:O,maxDefined:T}=t.getUserBounds();let{min:j,max:ut}=t;const r=t=>j=O?j:t,l=t=>ut=T?ut:t;if(y||A){const t=De(j),y=De(ut);t<0&&y<0?l(0):t>0&&y>0&&r(0)}j===ut&&(l(ut+1),y||r(j-1)),t.min=j,t.max=ut}getTickLimit(){const t=this,y=t.options.ticks;let A,{maxTicksLimit:O,stepSize:T}=y;return T?A=Math.ceil(t.max/T)-Math.floor(t.min/T)+1:(A=t.computeTickLimit(),O=O||11),O&&(A=Math.min(O,A)),A}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this,y=t.options,A=y.ticks;let O=t.getTickLimit();O=Math.max(2,O);const T=function(t,y){const A=[],{step:O,min:T,max:j,precision:ut,count:ft,maxTicks:mt}=t,xt=O||1,bt=mt-1,{min:_t,max:yt}=y,vt=!$(T),Mt=!$(j),wt=!$(ft);let kt,St,Pt,se,fe=Dt((yt-_t)/bt/xt)*xt;if(fe<1e-14&&!vt&&!Mt)return[{value:_t},{value:yt}];se=Math.ceil(yt/fe)-Math.floor(_t/fe),se>bt&&(fe=Dt(se*fe/bt/xt)*xt),$(ut)||(kt=Math.pow(10,ut),fe=Math.ceil(fe*kt)/kt),St=Math.floor(_t/fe)*fe,Pt=Math.ceil(yt/fe)*fe,vt&&Mt&&O&&Tt((j-T)/O,fe/1e3)?(se=Math.min((j-T)/fe,mt),fe=(j-T)/se,St=T,Pt=j):wt?(St=vt?T:St,Pt=Mt?j:Pt,se=ft-1,fe=(Pt-St)/se):(se=(Pt-St)/fe,se=Ot(se,Math.round(se),fe/1e3)?Math.round(se):Math.ceil(se)),kt=Math.pow(10,$(ut)?It(fe):ut),St=Math.round(St*kt)/kt,Pt=Math.round(Pt*kt)/kt;let _e=0;for(vt&&(A.push({value:T}),St<T&&_e++,Tt(Math.round((St+_e*fe)*kt)/kt/T,fe/1e3)&&_e++);_e<se;++_e)A.push({value:Math.round((St+_e*fe)*kt)/kt});return Mt?Tt(A[A.length-1].value/j,fe/1e3)?A[A.length-1].value=j:A.push({value:j}):A.push({value:Pt}),A}({maxTicks:O,min:y.min,max:y.max,precision:A.precision,step:A.stepSize,count:A.count},Fe(t,y.grace));return"ticks"===y.bounds&&Lt(T,t,"value"),y.reverse?(T.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),T}configure(){const t=this,y=t.ticks;let A=t.min,O=t.max;if(super.configure(),t.options.offset&&y.length){const t=(O-A)/Math.max(y.length-1,1)/2;A-=t,O+=t}t._startValue=A,t._endValue=O,t._valueRange=O-A}getLabelForValue(t){return Li(t,this.chart.options.locale)}}class ys extends _s{determineDataLimits(){const t=this,{min:y,max:A}=t.getMinMax(!0);t.min=X(y)?y:0,t.max=X(A)?A:1,t.handleTickRangeOptions()}computeTickLimit(){const t=this;if(t.isHorizontal())return Math.ceil(t.width/40);const y=t._resolveTickFontOptions(0);return Math.ceil(t.height/y.lineHeight)}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function vs(t){return 1==t/Math.pow(10,Math.floor(_e(t)))}ys.id="linear",ys.defaults={ticks:{callback:On.formatters.numeric}};class Ms extends ji{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,y){const A=_s.prototype.parse.apply(this,[t,y]);if(0!==A)return X(A)&&A>0?A:null;this._zero=!0}determineDataLimits(){const t=this,{min:y,max:A}=t.getMinMax(!0);t.min=X(y)?Math.max(0,y):null,t.max=X(A)?Math.max(0,A):null,t.options.beginAtZero&&(t._zero=!0),t.handleTickRangeOptions()}handleTickRangeOptions(){const t=this,{minDefined:y,maxDefined:A}=t.getUserBounds();let O=t.min,T=t.max;const s=t=>O=y?O:t,a=t=>T=A?T:t,r=(t,y)=>Math.pow(10,Math.floor(_e(t))+y);O===T&&(O<=0?(s(1),a(10)):(s(r(O,-1)),a(r(T,1)))),O<=0&&s(r(T,-1)),T<=0&&a(r(O,1)),t._zero&&t.min!==t._suggestedMin&&O===r(t.min,0)&&s(r(O,-1)),t.min=O,t.max=T}buildTicks(){const t=this,y=t.options,A=function(t,y){const A=Math.floor(_e(y.max)),O=Math.ceil(y.max/Math.pow(10,A)),T=[];let j=q(t.min,Math.pow(10,Math.floor(_e(y.min)))),ut=Math.floor(_e(j)),ft=Math.floor(j/Math.pow(10,ut)),mt=ut<0?Math.pow(10,Math.abs(ut)):1;do{T.push({value:j,major:vs(j)}),++ft,10===ft&&(ft=1,++ut,mt=ut>=0?1:mt),j=Math.round(ft*Math.pow(10,ut)*mt)/mt}while(ut<A||ut===A&&ft<O);const xt=q(t.max,j);return T.push({value:xt,major:vs(j)}),T}({min:t._userMin,max:t._userMax},t);return"ticks"===y.bounds&&Lt(A,t,"value"),y.reverse?(A.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),A}getLabelForValue(t){return void 0===t?"0":Li(t,this.chart.options.locale)}configure(){const t=this,y=t.min;super.configure(),t._startValue=_e(y),t._valueRange=_e(t.max)-_e(y)}getPixelForValue(t){const y=this;return void 0!==t&&0!==t||(t=y.min),y.getPixelForDecimal(t===y.min?0:(_e(t)-y._startValue)/y._valueRange)}getValueForPixel(t){const y=this,A=y.getDecimalForPixel(t);return Math.pow(10,y._startValue+A*y._valueRange)}}function ws(t){const y=t.ticks;if(y.display&&t.display){const t=Re(y.backdropPadding);return K(y.font&&y.font.size,yt.font.size)+t.height}return 0}function ks(t,y,A,O,T){return t===O||t===T?{start:y-A/2,end:y+A/2}:t<O||t>T?{start:y-A,end:y}:{start:y,end:y+A}}function Ss(t){return 0===t||180===t?"center":t<180?"left":"right"}function Ps(t,y,A){90===t||270===t?A.y-=y.h/2:(t>270||t<90)&&(A.y-=y.h)}function Ds(t,y,A,O){const{ctx:T}=t;if(A)T.arc(t.xCenter,t.yCenter,y,0,Mt);else{let A=t.getPointPosition(0,y);T.moveTo(A.x,A.y);for(let j=1;j<O;j++)A=t.getPointPosition(j,y),T.lineTo(A.x,A.y)}}function Cs(t){return At(t)?t:0}Ms.id="logarithmic",Ms.defaults={ticks:{callback:On.formatters.logarithmic,major:{enabled:!0}}};class As extends _s{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=ws(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}determineDataLimits(){const t=this,{min:y,max:A}=t.getMinMax(!1);t.min=X(y)&&!isNaN(y)?y:0,t.max=X(A)&&!isNaN(A)?A:0,t.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ws(this.options))}generateTickLabels(t){const y=this;_s.prototype.generateTickLabels.call(y,t),y._pointLabels=y.getLabels().map(((t,A)=>{const O=Q(y.options.pointLabels.callback,[t,A],y);return O||0===O?O:""}))}fit(){const t=this,y=t.options;y.display&&y.pointLabels.display?function(t){const y={l:0,r:t.width,t:0,b:t.height-t.paddingTop},A={};let O,T,j;const ut=[],ft=[],mt=t.getLabels().length;for(O=0;O<mt;O++){const mt=t.options.pointLabels.setContext(t.getContext(O));ft[O]=mt.padding,j=t.getPointPosition(O,t.drawingArea+ft[O]);const yt=Ee(mt.font);t.ctx.font=yt.string,xt=t.ctx,bt=yt.lineHeight,T=Y(_t=t._pointLabels[O])?{w:Yt(xt,xt.font,_t),h:_t.length*bt}:{w:xt.measureText(_t).width,h:bt},ut[O]=T;const vt=t.getIndexAngle(O),Mt=Et(vt),wt=ks(Mt,j.x,T.w,0,180),kt=ks(Mt,j.y,T.h,90,270);wt.start<y.l&&(y.l=wt.start,A.l=vt),wt.end>y.r&&(y.r=wt.end,A.r=vt),kt.start<y.t&&(y.t=kt.start,A.t=vt),kt.end>y.b&&(y.b=kt.end,A.b=vt)}var xt,bt,_t;t._setReductions(t.drawingArea,y,A),t._pointLabelItems=[];const yt=t.options,vt=ws(yt),Mt=t.getDistanceFromCenterForValue(yt.ticks.reverse?t.min:t.max);for(O=0;O<mt;O++){const y=0===O?vt/2:0,A=t.getPointPosition(O,Mt+y+ft[O]),T=Et(t.getIndexAngle(O)),j=ut[O];Ps(T,j,A);const mt=Ss(T);let xt;xt="left"===mt?A.x:"center"===mt?A.x-j.w/2:A.x-j.w;const bt=xt+j.w;t._pointLabelItems[O]={x:A.x,y:A.y,textAlign:mt,left:xt,top:A.y,right:bt,bottom:A.y+j.h}}}(t):t.setCenterPoint(0,0,0,0)}_setReductions(t,y,A){const O=this;let T=y.l/Math.sin(A.l),j=Math.max(y.r-O.width,0)/Math.sin(A.r),ut=-y.t/Math.cos(A.t),ft=-Math.max(y.b-(O.height-O.paddingTop),0)/Math.cos(A.b);T=Cs(T),j=Cs(j),ut=Cs(ut),ft=Cs(ft),O.drawingArea=Math.max(t/2,Math.min(Math.floor(t-(T+j)/2),Math.floor(t-(ut+ft)/2))),O.setCenterPoint(T,j,ut,ft)}setCenterPoint(t,y,A,O){const T=this,j=T.width-y-T.drawingArea,ut=t+T.drawingArea,ft=A+T.drawingArea,mt=T.height-T.paddingTop-O-T.drawingArea;T.xCenter=Math.floor((ut+j)/2+T.left),T.yCenter=Math.floor((ft+mt)/2+T.top+T.paddingTop)}getIndexAngle(t){return Bt(t*(Mt/this.getLabels().length)+Rt(this.options.startAngle||0))}getDistanceFromCenterForValue(t){const y=this;if($(t))return NaN;const A=y.drawingArea/(y.max-y.min);return y.options.reverse?(y.max-t)*A:(t-y.min)*A}getValueForDistanceFromCenter(t){if($(t))return NaN;const y=this,A=t/(y.drawingArea/(y.max-y.min));return y.options.reverse?y.max-A:y.min+A}getPointPosition(t,y){const A=this,O=A.getIndexAngle(t)-Pt;return{x:Math.cos(O)*y+A.xCenter,y:Math.sin(O)*y+A.yCenter,angle:O}}getPointPositionForValue(t,y){return this.getPointPosition(t,this.getDistanceFromCenterForValue(y))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:y,top:A,right:O,bottom:T}=this._pointLabelItems[t];return{left:y,top:A,right:O,bottom:T}}drawBackground(){const t=this,{backgroundColor:y,grid:{circular:A}}=t.options;if(y){const O=t.ctx;O.save(),O.beginPath(),Ds(t,t.getDistanceFromCenterForValue(t._endValue),A,t.getLabels().length),O.closePath(),O.fillStyle=y,O.fill(),O.restore()}}drawGrid(){const t=this,y=t.ctx,A=t.options,{angleLines:O,grid:T}=A,j=t.getLabels().length;let ut,ft,mt;if(A.pointLabels.display&&function(t,y){const{ctx:A,options:{pointLabels:O}}=t;for(let T=y-1;T>=0;T--){const y=O.setContext(t.getContext(T)),j=Ee(y.font),{x:ut,y:ft,textAlign:mt,left:xt,top:bt,right:_t,bottom:yt}=t._pointLabelItems[T],{backdropColor:vt}=y;if(!$(vt)){const t=Re(y.backdropPadding);A.fillStyle=vt,A.fillRect(xt-t.left,bt-t.top,_t-xt+t.width,yt-bt+t.height)}te(A,t._pointLabels[T],ut,ft+j.lineHeight/2,j,{color:y.color,textAlign:mt,textBaseline:"middle"})}}(t,j),T.display&&t.ticks.forEach(((y,A)=>{if(0!==A){ft=t.getDistanceFromCenterForValue(y.value);const O=T.setContext(t.getContext(A-1));!function(t,y,A,O){const T=t.ctx,j=y.circular,{color:ut,lineWidth:ft}=y;!j&&!O||!ut||!ft||A<0||(T.save(),T.strokeStyle=ut,T.lineWidth=ft,T.setLineDash(y.borderDash),T.lineDashOffset=y.borderDashOffset,T.beginPath(),Ds(t,A,j,O),T.closePath(),T.stroke(),T.restore())}(t,O,ft,j)}})),O.display){for(y.save(),ut=t.getLabels().length-1;ut>=0;ut--){const T=O.setContext(t.getContext(ut)),{color:j,lineWidth:xt}=T;xt&&j&&(y.lineWidth=xt,y.strokeStyle=j,y.setLineDash(T.borderDash),y.lineDashOffset=T.borderDashOffset,ft=t.getDistanceFromCenterForValue(A.ticks.reverse?t.min:t.max),mt=t.getPointPosition(ut,ft),y.beginPath(),y.moveTo(t.xCenter,t.yCenter),y.lineTo(mt.x,mt.y),y.stroke())}y.restore()}}drawLabels(){const t=this,y=t.ctx,A=t.options,O=A.ticks;if(!O.display)return;const T=t.getIndexAngle(0);let j,ut;y.save(),y.translate(t.xCenter,t.yCenter),y.rotate(T),y.textAlign="center",y.textBaseline="middle",t.ticks.forEach(((T,ft)=>{if(0===ft&&!A.reverse)return;const mt=O.setContext(t.getContext(ft)),xt=Ee(mt.font);if(j=t.getDistanceFromCenterForValue(t.ticks[ft].value),mt.showLabelBackdrop){ut=y.measureText(T.label).width,y.fillStyle=mt.backdropColor;const t=Re(mt.backdropPadding);y.fillRect(-ut/2-t.left,-j-xt.size/2-t.top,ut+t.width,xt.size+t.height)}te(y,T.label,0,-j,xt,{color:mt.color})})),y.restore()}drawTitle(){}}As.id="radialLinear",As.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPadding:2,callback:On.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5}},As.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},As.descriptors={angleLines:{_fallback:"grid"}};const Ns={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},js=Object.keys(Ns);function Ls(t,y){return t-y}function Rs(t,y){if($(y))return null;const A=t._adapter,O=t.options.time,{parser:T,round:j,isoWeekday:ut}=O;let ft=y;return"function"==typeof T&&(ft=T(ft)),X(ft)||(ft="string"==typeof T?A.parse(ft,T):A.parse(ft)),null===ft?null:(j&&(ft="week"!==j||!At(ut)&&!0!==ut?A.startOf(ft,j):A.startOf(ft,"isoWeek",ut)),+ft)}function Es(t,y,A,O){const T=js.length;for(let j=js.indexOf(t);j<T-1;++j){const t=Ns[js[j]],T=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((A-y)/(T*t.size))<=O)return js[j]}return js[T-1]}function Is(t,y,A){if(A){if(A.length){const{lo:O,hi:T}=ee(A,y);t[A[O]>=y?A[O]:A[T]]=!0}}else t[y]=!0}function Fs(t,y,A){const O=[],T={},j=y.length;let ut,ft;for(ut=0;ut<j;++ut)ft=y[ut],T[ft]=ut,O.push({value:ft,major:!1});return 0!==j&&A?function(t,y,A,O){const T=t._adapter,j=+T.startOf(y[0].value,O),ut=y[y.length-1].value;let ft,mt;for(ft=j;ft<=ut;ft=+T.add(ft,1,O))mt=A[ft],mt>=0&&(y[mt].major=!0);return y}(t,O,T,A):O}class zs extends ji{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1}init(t,y){const A=t.time||(t.time={}),O=this._adapter=new Io._date(t.adapters.date);st(A.displayFormats,O.formats()),super.init(t),this._normalized=y.normalized}parse(t,y){return void 0===t?null:Rs(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this,y=t.options,A=t._adapter,O=y.time.unit||"day";let{min:T,max:j,minDefined:ut,maxDefined:ft}=t.getUserBounds();function l(t){ut||isNaN(t.min)||(T=Math.min(T,t.min)),ft||isNaN(t.max)||(j=Math.max(j,t.max))}ut&&ft||(l(t._getLabelBounds()),"ticks"===y.bounds&&"labels"===y.ticks.source||l(t.getMinMax(!1))),T=X(T)&&!isNaN(T)?T:+A.startOf(Date.now(),O),j=X(j)&&!isNaN(j)?j:+A.endOf(Date.now(),O)+1,t.min=Math.min(T,j-1),t.max=Math.max(T+1,j)}_getLabelBounds(){const t=this.getLabelTimestamps();let y=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY;return t.length&&(y=t[0],A=t[t.length-1]),{min:y,max:A}}buildTicks(){const t=this,y=t.options,A=y.time,O=y.ticks,T="labels"===O.source?t.getLabelTimestamps():t._generate();"ticks"===y.bounds&&T.length&&(t.min=t._userMin||T[0],t.max=t._userMax||T[T.length-1]);const j=t.min,ut=oe(T,j,t.max);return t._unit=A.unit||(O.autoSkip?Es(A.minUnit,t.min,t.max,t._getLabelCapacity(j)):function(t,y,A,O,T){for(let j=js.length-1;j>=js.indexOf(A);j--){const A=js[j];if(Ns[A].common&&t._adapter.diff(T,O,A)>=y-1)return A}return js[A?js.indexOf(A):0]}(t,ut.length,A.minUnit,t.min,t.max)),t._majorUnit=O.major.enabled&&"year"!==t._unit?function(t){for(let y=js.indexOf(t)+1,A=js.length;y<A;++y)if(Ns[js[y]].common)return js[y]}(t._unit):void 0,t.initOffsets(T),y.reverse&&ut.reverse(),Fs(t,ut,t._majorUnit)}initOffsets(t){const y=this;let A,O,T=0,j=0;y.options.offset&&t.length&&(A=y.getDecimalForValue(t[0]),T=1===t.length?1-A:(y.getDecimalForValue(t[1])-A)/2,O=y.getDecimalForValue(t[t.length-1]),j=1===t.length?O:(O-y.getDecimalForValue(t[t.length-2]))/2);const ut=t.length<3?.5:.25;T=Ht(T,0,ut),j=Ht(j,0,ut),y._offsets={start:T,end:j,factor:1/(T+1+j)}}_generate(){const t=this,y=t._adapter,A=t.min,O=t.max,T=t.options,j=T.time,ut=j.unit||Es(j.minUnit,A,O,t._getLabelCapacity(A)),ft=K(j.stepSize,1),mt="week"===ut&&j.isoWeekday,xt=At(mt)||!0===mt,bt={};let _t,yt,vt=A;if(xt&&(vt=+y.startOf(vt,"isoWeek",mt)),vt=+y.startOf(vt,xt?"day":ut),y.diff(O,A,ut)>1e5*ft)throw new Error(A+" and "+O+" are too far apart with stepSize of "+ft+" "+ut);const Mt="data"===T.ticks.source&&t.getDataTimestamps();for(_t=vt,yt=0;_t<O;_t=+y.add(_t,ft,ut),yt++)Is(bt,_t,Mt);return _t!==O&&"ticks"!==T.bounds&&1!==yt||Is(bt,_t,Mt),Object.keys(bt).sort(((t,y)=>t-y)).map((t=>+t))}getLabelForValue(t){const y=this._adapter,A=this.options.time;return A.tooltipFormat?y.format(t,A.tooltipFormat):y.format(t,A.displayFormats.datetime)}_tickFormatFunction(t,y,A,O){const T=this,j=T.options,ut=j.time.displayFormats,ft=T._unit,mt=T._majorUnit,xt=ft&&ut[ft],bt=mt&&ut[mt],_t=A[y],yt=mt&&bt&&_t&&_t.major,vt=T._adapter.format(t,O||(yt?bt:xt)),Mt=j.ticks.callback;return Mt?Mt(vt,y,A):vt}generateTickLabels(t){let y,A,O;for(y=0,A=t.length;y<A;++y)O=t[y],O.label=this._tickFormatFunction(O.value,y,t)}getDecimalForValue(t){const y=this;return null===t?NaN:(t-y.min)/(y.max-y.min)}getPixelForValue(t){const y=this,A=y._offsets,O=y.getDecimalForValue(t);return y.getPixelForDecimal((A.start+O)*A.factor)}getValueForPixel(t){const y=this,A=y._offsets,O=y.getDecimalForPixel(t)/A.factor-A.end;return y.min+O*(y.max-y.min)}_getLabelSize(t){const y=this,A=y.options.ticks,O=y.ctx.measureText(t).width,T=Rt(y.isHorizontal()?A.maxRotation:A.minRotation),j=Math.cos(T),ut=Math.sin(T),ft=y._resolveTickFontOptions(0).size;return{w:O*j+ft*ut,h:O*ut+ft*j}}_getLabelCapacity(t){const y=this,A=y.options.time,O=A.displayFormats,T=O[A.unit]||O.millisecond,j=y._tickFormatFunction(t,0,Fs(y,[t],y._majorUnit),T),ut=y._getLabelSize(j),ft=Math.floor(y.isHorizontal()?y.width/ut.w:y.height/ut.h)-1;return ft>0?ft:1}getDataTimestamps(){const t=this;let y,A,O=t._cache.data||[];if(O.length)return O;const T=t.getMatchingVisibleMetas();if(t._normalized&&T.length)return t._cache.data=T[0].controller.getAllParsedValues(t);for(y=0,A=T.length;y<A;++y)O=O.concat(T[y].controller.getAllParsedValues(t));return t._cache.data=t.normalize(O)}getLabelTimestamps(){const t=this,y=t._cache.labels||[];let A,O;if(y.length)return y;const T=t.getLabels();for(A=0,O=T.length;A<O;++A)y.push(Rs(t,T[A]));return t._cache.labels=t._normalized?y:t.normalize(y)}normalize(t){return le(t.sort(Ls))}}function Vs(t,y,A){let O,T,j,ut;if(A)O=Math.floor(y),T=Math.ceil(y),j=t[O],ut=t[T];else{const A=ee(t,y);j=A.lo,ut=A.hi,O=t[j],T=t[ut]}const ft=T-O;return ft?j+(ut-j)*(y-O)/ft:j}zs.id="time",zs.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Bs extends zs{constructor(t){super(t),this._table=[],this._maxIndex=void 0}initOffsets(){const t=this,y=t._getTimestampsForTable();t._table=t.buildLookupTable(y),t._maxIndex=t._table.length-1,super.initOffsets(y)}buildLookupTable(t){const{min:y,max:A}=this;if(!t.length)return[{time:y,pos:0},{time:A,pos:1}];const O=[y];let T,j,ut;for(T=0,j=t.length;T<j;++T)ut=t[T],ut>y&&ut<A&&O.push(ut);return O.push(A),O}_getTimestampsForTable(){const t=this;let y=t._cache.all||[];if(y.length)return y;const A=t.getDataTimestamps(),O=t.getLabelTimestamps();return y=A.length&&O.length?t.normalize(A.concat(O)):A.length?A:O,y=t._cache.all=y,y}getPixelForValue(t,y){const A=this,O=A._offsets,T=A._normalized&&A._maxIndex>0&&!$(y)?y/A._maxIndex:A.getDecimalForValue(t);return A.getPixelForDecimal((O.start+T)*O.factor)}getDecimalForValue(t){return Vs(this._table,t)/this._maxIndex}getValueForPixel(t){const y=this,A=y._offsets,O=y.getDecimalForPixel(t)/A.factor-A.end;return Vs(y._table,O*this._maxIndex,!0)}}Bs.id="timeseries",Bs.defaults=zs.defaults;var Ys=Object.freeze({__proto__:null,CategoryScale:bs,LinearScale:ys,LogarithmicScale:Ms,RadialLinearScale:As,TimeScale:zs,TimeSeriesScale:Bs});return Yn.register(Zo,Ys,is,Hs),Yn.helpers={...Fn},Yn._adapters=Io,Yn.Animation=mi,Yn.Animations=bi,Yn.animator=y,Yn.controllers=jn.controllers.items,Yn.DatasetController=Ai,Yn.Element=Oi,Yn.elements=is,Yn.Interaction=Qe,Yn.layouts=ni,Yn.platforms=xi,Yn.Scale=ji,Yn.Ticks=On,Object.assign(Yn,Zo,Ys,is,Hs,xi),Yn.Chart=Yn,"undefined"!=typeof window&&(window.Chart=Yn),Yn}));