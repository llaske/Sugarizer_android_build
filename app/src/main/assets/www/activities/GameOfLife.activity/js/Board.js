function Board(t,e,i,n,o,h,l,c,a,s,d){this.showTrails=!1,this.nowY=-1,this.nowX=-1,this.onClick=function(t){var e=this,i=!1,n=!1;function dragEvent(o){if(i){var h,l;n=!0,"mousemove"===o.type?(h=o.clientX-d.getBoundingClientRect().left,l=o.clientY-d.getBoundingClientRect().top):"touchmove"===o.type&&(h=o.touches[0].clientX-d.getBoundingClientRect().left,l=o.touches[0].clientY-d.getBoundingClientRect().top);var c=Math.floor(h/(e.cellWidth+2)),a=Math.floor(l/(e.cellHeight+2));e.nowX===c&&e.nowY===a||t(c,a),e.nowX=c,e.nowY=a}}d.addEventListener("mousedown",(function(){i=!0})),d.addEventListener("touchstart",(function(){i=!0})),d.addEventListener("mouseup",(function(){i=!1,e.nowX=-1,e.nowY=-1})),d.addEventListener("touchend",(function(){i=!1,n=!1,e.nowX=-1,e.nowY=-1})),d.addEventListener("mousemove",dragEvent),d.addEventListener("touchmove",dragEvent),d.addEventListener("click",(function(i){if(n)n=!1;else{var o=i.clientX-d.getBoundingClientRect().left,h=i.clientY-d.getBoundingClientRect().top,l=Math.floor(o/(e.cellWidth+2)),c=Math.floor(h/(e.cellHeight+2));t(l,c)}}))},this.draw=function(i){canvasWidth=1e3,canvasHeight=500,d.width=canvasWidth,d.height=canvasHeight,d.style.background=e,d.style.boxShadow="5px 5px 25px 0px rgba(46, 61, 73, 0.2)",this.ctx=d.getContext("2d"),this.cellWidth=(d.width-2*i.state.gridCols)/i.state.gridCols,this.cellHeight=(d.height-2*i.state.gridRows)/i.state.gridRows,this.update(t)},this.update=function(t){var e=this,l=[i,h,o,n];t.forEach((function(t,i){var n=(e.cellHeight+s)*i;t.forEach((function(t,i){var o=(e.cellWidth+a)*i;3==t?e.showTrails?e.ctx.fillStyle=l[t]:e.ctx.fillStyle=l[0]:e.ctx.fillStyle=l[t],e.ctx.fillRect(o,n,e.cellWidth,e.cellHeight)}))}))},this.handleResize=function(t,e,i){var n=t/canvasWidth;n<1?(d.width=canvasWidth*(n-.1),d.height=canvasHeight*(n-.1)):(d.width=canvasWidth,d.height=canvasHeight),this.cellWidth=(d.width-2*i.state.gridCols)/i.state.gridCols,this.cellHeight=(d.height-2*i.state.gridRows)/i.state.gridRows,this.update(e)}}define((function(){return Board}));