enyo.kind({name:"TamTam.TonePlayer",create:function(){this.player=new Tone.Player,this.pitchShift=new Tone.PitchShift},load:function(t,e){var i=this;if(/iPad/i.test(navigator.userAgent)||/iPhone/i.test(navigator.userAgent))i.player.load(t+"?time="+(new Date).getTime(),e);else{var n=new XMLHttpRequest;n.open("GET",t+"?time="+(new Date).getTime(),!0),n.responseType="blob",n.onload=function(){var t=URL.createObjectURL(this.response);i.player.load(t,e)},n.send()}},play:function(t){this.pitchShift.pitch=t,this.pitchShift.toMaster(),this.player.connect(this.pitchShift),this.player.start()},playSound:function(t){var e=this;this.load(t,(function(){e.pitchShift.pitch=0,e.pitchShift.toMaster(),e.player.connect(e.pitchShift),e.player.start()}))},destroy:function(){this.pitchShift.disconnect(),this.pitchShift.dispose(),this.player.disconnect(),this.player.dispose()}});