var EbookReader={template:'\n\t\t<div>\n\t\t\t<div id="left" class="reader-left" v-on:click="previousPage()"></div>\n\t\t\t<div id="area" class="reader-area"></div>\n\t\t\t<div id="right" class="reader-right" v-on:click="nextPage()"></div>\n\t\t</div>',data:function(){return{rendition:null}},created:function(){var e=this;document.addEventListener("keydown",(function(t){37==t.keyCode?e.previousPage():39==t.keyCode&&e.nextPage()}))},beforeDestroy:function(){document.removeEventListener("keydown",this.handleKeyDown)},methods:{computeScreenSize:function(){var e=document.getElementById("canvas")||document.getElementById("body"),t=e.offsetHeight;return{width:e.offsetWidth-100,height:t}},render:function(e,t){this.rendition&&(this.rendition.clear(),this.rendition.destroy());var n=this.computeScreenSize();document.getElementById("left").style.height=n.height+"px",document.getElementById("right").style.height=n.height+"px",this.rendition=e.renderTo("area",n),this.rendition.display(t)},nextPage:function(){if(null!=this.rendition){var e=this,t=e.getLocation();if(null==t)return;e.rendition.next().then((function(){}),(function(){e.rendition.display(t)})),document.getElementById("right").classList.add("reader-right-sel"),setTimeout((function(){document.getElementById("right").classList.remove("reader-right-sel")}),100)}},previousPage:function(){if(null!=this.rendition){var e=this,t=e.getLocation();if(null==t)return;e.rendition.prev().then((function(){}),(function(){e.rendition.display(t)})),document.getElementById("left").classList.add("reader-left-sel"),setTimeout((function(){document.getElementById("left").classList.remove("reader-left-sel")}),100)}},goToPage:function(e){null!=this.rendition&&this.rendition.display(e)},getLocation:function(){try{return this.rendition.currentLocation().start.cfi}catch(e){return null}}}};