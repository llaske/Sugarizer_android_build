define(["sugar-web/graphics/palette"],(function(e){var t={NotePalette:function(t,n){e.Palette.call(this,t,n);var o="",a=app.notes_arr,i=a.length;if("none"==app.instrument_name)for(var r=0;r<i;r++)o+=`\n                    <div id="note_${r}" class="palette-item note-palette">${a[r]}</div>\n                `;var d=document.createElement("div");d.setAttribute("id","notePalette"),d.innerHTML=o,this.setContent([d]),this.SelectNoteEvent=document.createEvent("CustomEvent"),this.SelectNoteEvent.initCustomEvent("select-note",!0,!0,{note:0}),document.getElementById(`note_${app.freq_input_note_index}`).style.backgroundColor="darkgray";var l=this;for(r=0;r<i;r++)!function(e){document.getElementById(`note_${e}`).addEventListener("click",(function(t){app.setNote(e),l.popDown()}))}(r);function setUpForInstrument(e){o=`\n                    <div id="${e}_note_all" class="palette-item note-palette">${app.SugarL10n.get("AllNotes")}</div>\n                `;var t=0;for(var n in app.instrument_data[e].notes)o+=`\n                    <div id="${e}_note_${n}" class="palette-item note-palette" style="color: ${app.colors[t]};">${app.SugarL10n.get(n[0])+" "+n[1]}</div>\n                `,t++;for(var n in d.innerHTML=o,app.note_name="all",document.getElementById(`${e}_note_all`).style.backgroundColor="darkgray",document.getElementById(`${e}_note_all`).addEventListener("click",(function(e){window.app.drawNote(-1,0,"all"),l.popDown()})),t=0,app.instrument_data[e].notes)!function(t,n){document.getElementById(`${e}_note_${n}`).addEventListener("click",(function(o){window.app.drawNote(t,app.instrument_data[e].notes[n],n),l.popDown()}))}(t,n),t++}for(var p in document.getElementById("none")&&document.getElementById("none").addEventListener("click",(function(e){o="";for(var t=0;t<i;t++)o+=`\n                    <div id="note_${t}" class="palette-item note-palette">${app.SugarL10n.get(a[t])}</div>\n                `;d.innerHTML=o,document.getElementById(`note_${app.freq_input_note_index}`).style.backgroundColor="darkgray";for(t=0;t<i;t++)!function(e){document.getElementById(`note_${e}`).addEventListener("click",(function(t){app.setNote(e),l.popDown()}))}(t)})),app.instrument_data)!function(e){document.getElementById(`${e}_instrument`)&&document.getElementById(`${e}_instrument`).addEventListener("click",(function(t){setUpForInstrument(e)}))}(p)}};return t.NotePalette.prototype=Object.create(e.Palette.prototype,{addEventListener:{value:function(e,t,n){return this.getPalette().addEventListener(e,t,n)},enumerable:!0,configurable:!0,writable:!0}}),t}));