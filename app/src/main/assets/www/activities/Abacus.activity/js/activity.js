function runactivity(e,t,n,i,a,c,o,u,d){var s,r;!function init(){(s=document.getElementById("actualcanvas")).width=window.innerWidth,s.height=window.innerHeight-55,(r=new createjs.Stage(s)).update(),r.mouseEventsEnabled=!0,createjs.Touch.enable(r),createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",(function handleTick(){r.update()}));var i=new Game(e,r,n,c,t,o,u,a);function resizeCanvas(){"hidden"===document.getElementById("unfullscreen-button").style.visibility?(s.width=window.innerWidth,s.height=window.innerHeight-55,i.resize()):(s.width=window.innerWidth,s.height=window.innerHeight,i.resize())}setTimeout((function(){i.init()}),500),window.addEventListener("activityStop",(function(e){e.preventDefault(),i.stop()})),document.getElementById("fullscreen-button").addEventListener("click",(function(){document.getElementById("main-toolbar").style.opacity=0,document.getElementById("canvas").style.top="0px",document.getElementById("unfullscreen-button").style.visibility="visible",resizeCanvas()})),document.getElementById("unfullscreen-button").addEventListener("click",(function(){document.getElementById("main-toolbar").style.opacity=1,document.getElementById("canvas").style.top="55px",document.getElementById("unfullscreen-button").style.visibility="hidden",resizeCanvas()})),window.addEventListener("resize",resizeCanvas,!1),t.getElementById("clear-button").addEventListener("click",(function(e){i.clear()})),t.getElementById("copy-button").addEventListener("click",(function(e){i.copy()})),document.getElementById("help-button").addEventListener("click",(function(e){d.start()}))}()}define(["sugar-web/activity/activity","easeljs","tweenjs","activity/game","activity/standardabacus","activity/standardabacuscolumn","activity/abacusbead","activity/onecolumnabacus","activity/posnegcolumn"],(function(e){requirejs(["domReady!"],(function(t){requirejs(["sugar-web/env","sugar-web/datastore","fraction","activity/abacuspalette","activity/custompalette","tutorial","webL10n"],(function(n,i,a,c,o,u,d){e.setup(),n.getEnvironment((function(e,t){currentenv=t;var n="undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime?chrome.i18n.getUILanguage():navigator.language,i=t.user?t.user.language:n;window.addEventListener("localized",(function(e){e.language!=i&&setTimeout((function(){d.language.code=i}),50)}))})),e.getXOColor((function(d,s){runactivity(e,t,s,n,i,a,c,o,u)}))}))}))}));