function runactivity(e,t,n,i,o,a,c){var d,u;!function init(){(d=document.getElementById("actualcanvas")).width=window.innerWidth,d.height=window.innerHeight,(u=new createjs.Stage(d)).update(),u.mouseEventsEnabled=!0,document.getElementById("flip-count").style.color=n.stroke,document.getElementById("fliptext").style.borderBottom="5px solid #00ff1b",createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",(function handleTick(){u.update()}));var i=new Game(u,n,t,o,e,a);function resizeCanvas(){d.width=window.innerWidth,d.height=window.innerHeight-(+document.getElementById("main-toolbar").style.opacity?55:0),i.initialiseFromArray()}setTimeout((function(){i.init()}),500),window.addEventListener("resize",resizeCanvas,!1),t.getElementById("solve-button").addEventListener("click",(function(e){i.solve()})),t.getElementById("new-game-button").addEventListener("click",(function(e){i.newGame()})),document.getElementById("help-button").addEventListener("click",(function(e){c.start()})),window.addEventListener("activityStop",(function(e){e.preventDefault(),i.stop()})),document.getElementById("fullscreen-button").addEventListener("click",(function(){document.getElementById("main-toolbar").style.opacity=0,document.getElementById("canvas").style.top="0px",document.getElementById("unfullscreen-button").style.visibility="visible",resizeCanvas()})),document.getElementById("unfullscreen-button").addEventListener("click",(function(){document.getElementById("main-toolbar").style.opacity=1,document.getElementById("canvas").style.top="55px",document.getElementById("unfullscreen-button").style.visibility="hidden",resizeCanvas()}))}()}define(["sugar-web/activity/activity","l10n","easeljs","tweenjs","activity/game","activity/flipdot"],(function(e,t){requirejs(["domReady!"],(function(n){requirejs(["sugar-web/env","sugar-web/datastore","activity/sizepalette","tutorial"],(function(i,o,a,c){e.setup(),e.getXOColor((function(t,d){runactivity(e,n,d,i,o,a,c)})),i.getEnvironment((function(e,n){currentenv=n;var i="undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime?chrome.i18n.getUILanguage():navigator.language,o=n.user?n.user.language:i;t.init(o)}))}))}))}));