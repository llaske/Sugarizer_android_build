enyo.kind({name:"onyx.Slider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{value:0,lockBar:!0,tappable:!0},events:{onChange:"",onChanging:"",onAnimateFinish:""},showStripes:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},moreComponents:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"},{classes:"onyx-slider-taparea"},{name:"knob",classes:"onyx-slider-knob"}],create:function(){this.inherited(arguments),this.createComponents(this.moreComponents),this.valueChanged()},valueChanged:function(){this.value=this.clampValue(this.min,this.max,this.value);var t=this.calcPercent(this.value);this.updateKnobPosition(t),this.lockBar&&this.setProgress(this.value)},updateKnobPosition:function(t){this.$.knob.applyStyle("left",t+"%")},calcKnobPosition:function(t){return(t.clientX-this.hasNode().getBoundingClientRect().left)/this.getBounds().width*(this.max-this.min)+this.min},dragstart:function(t,n){if(n.horizontal)return n.preventDefault(),this.dragging=!0,!0},drag:function(t,n){if(this.dragging){var i=this.calcKnobPosition(n);return this.setValue(i),this.doChanging({value:this.value}),!0}},dragfinish:function(t,n){return this.dragging=!1,n.preventTap(),this.doChange({value:this.value}),!0},tap:function(t,n){if(this.tappable){var i=this.calcKnobPosition(n);return this.tapped=!0,this.animateTo(i),!0}},animateTo:function(t){this.$.animator.play({startValue:this.value,endValue:t,node:this.hasNode()})},animatorStep:function(t){return this.setValue(t.value),!0},animatorComplete:function(t){return this.tapped&&(this.tapped=!1,this.doChange({value:this.value})),this.doAnimateFinish(t),!0}});