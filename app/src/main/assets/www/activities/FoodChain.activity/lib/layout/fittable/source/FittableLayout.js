enyo.kind({name:"enyo.FittableLayout",kind:"Layout",calcFitIndex:function(){for(var t,e=0,n=this.container.children;t=n[e];e++)if(t.fit&&t.showing)return e},getFitControl:function(){var t=this.container.children,e=t[this.fitIndex];return e&&e.fit&&e.showing||(this.fitIndex=this.calcFitIndex(),e=t[this.fitIndex]),e},getLastControl:function(){for(var t=this.container.children,e=t.length-1,n=t[e];(n=t[e])&&!n.showing;)e--;return n},_reflow:function(t,e,n,i){this.container.addRemoveClass("enyo-stretch",!this.container.noStretch);var o=this.getFitControl();if(o){var a,l,r=0,u=0,s=this.container.hasNode();s&&(l=enyo.FittableLayout.calcPaddingExtents(s),r=s[e]-(l[n]+l[i]));var c=o.getBounds();a=c[n]-(l&&l[n]||0);var h=this.getLastControl();if(h){var y=enyo.FittableLayout.getComputedStyleValue(h.hasNode(),"margin",i)||0;if(h!=o){var f=h.getBounds(),d=c[n]+c[t];u=f[n]+f[t]+y-d}else u=y}var g=r-(a+u);o.applyStyle(t,g+"px")}},reflow:function(){"h"==this.orient?this._reflow("width","clientWidth","left","right"):this._reflow("height","clientHeight","top","bottom")},statics:{_ieCssToPixelValue:function(t,e){var n=e,i=t.style,o=i.left,a=t.runtimeStyle&&t.runtimeStyle.left;return a&&(t.runtimeStyle.left=t.currentStyle.left),i.left=n,n=i.pixelLeft,i.left=o,a&&(i.runtimeStyle.left=a),n},_pxMatch:/px/i,getComputedStyleValue:function(t,e,n,i){var o=i||enyo.dom.getComputedStyle(t);if(o)return parseInt(o.getPropertyValue(e+"-"+n));if(t&&t.currentStyle){var a=t.currentStyle[e+enyo.cap(n)];return a.match(this._pxMatch)||(a=this._ieCssToPixelValue(t,a)),parseInt(a)}return 0},calcBoxExtents:function(t,e){var n=enyo.dom.getComputedStyle(t);return{top:this.getComputedStyleValue(t,e,"top",n),right:this.getComputedStyleValue(t,e,"right",n),bottom:this.getComputedStyleValue(t,e,"bottom",n),left:this.getComputedStyleValue(t,e,"left",n)}},calcPaddingExtents:function(t){return this.calcBoxExtents(t,"padding")},calcMarginExtents:function(t){return this.calcBoxExtents(t,"margin")}}}),enyo.kind({name:"enyo.FittableColumnsLayout",kind:"FittableLayout",orient:"h",layoutClass:"enyo-fittable-columns-layout"}),enyo.kind({name:"enyo.FittableRowsLayout",kind:"FittableLayout",layoutClass:"enyo-fittable-rows-layout",orient:"v"});