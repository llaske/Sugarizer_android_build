enyo.kind({name:"enyo.CarouselArranger",kind:"Arranger",size:function(){var t,n=this.container.getPanels(),i=this.containerPadding=this.container.hasNode()?enyo.FittableLayout.calcPaddingExtents(this.container.node):{},r=this.containerBounds;r.height-=i.top+i.bottom,r.width-=i.left+i.right;for(var a=0,e=0;l=n[a];a++)h=enyo.FittableLayout.calcMarginExtents(l.hasNode()),l.width=l.getBounds().width,l.marginWidth=h.right+h.left,e+=(l.fit?0:l.width)+l.marginWidth,l.fit&&(t=l);if(t){var o=r.width-e;t.width=o>=0?o:t.width}var h,l;for(a=0,i.left;l=n[a];a++)l.setBounds({top:i.top,bottom:i.bottom,width:l.fit?l.width:null})},arrange:function(t,n){this.container.wrap?this.arrangeWrap(t,n):this.arrangeNoWrap(t,n)},arrangeNoWrap:function(t,n){for(var i=this.container.getPanels(),r=this.container.clamp(n),a=this.containerBounds.width,e=r,o=0;(f=i[e])&&!((o+=f.width+f.marginWidth)>a);e++);var h=a-o,l=0;if(h>0){e=r-1;for(var d=0;f=i[e];e--)if(h-(d+=f.width+f.marginWidth)<=0){l=h-d,r=e;break}}e=0;for(var s,f,g=this.containerPadding.left+l;f=i[e];e++)s=f.width+f.marginWidth,e<r?this.arrangeControl(f,{left:-s}):(this.arrangeControl(f,{left:Math.floor(g)}),g+=s)},arrangeWrap:function(t,n){for(var i,r=0,a=this.containerPadding.left;i=t[r];r++)this.arrangeControl(i,{left:a}),a+=i.width+i.marginWidth},calcArrangementDifference:function(t,n,i,r){var a=Math.abs(t%this.c$.length);return n[a].left-r[a].left},destroy:function(){for(var t,n=this.container.getPanels(),i=0;t=n[i];i++)enyo.Arranger.positionControl(t,{left:null,top:null}),t.applyStyle("top",null),t.applyStyle("bottom",null),t.applyStyle("left",null),t.applyStyle("width",null);this.inherited(arguments)}});