/*! Sortable 1.8.4 - MIT | git://github.com/SortableJS/Sortable.git */
!function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():window.Sortable=e()}((function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,o,n,i,r,a,l,c,d,h,u,f,p,g,v,m,b,w,_,D,y,C,S,T,E,x,N=[],M=!1,A=!1,X=!1,Y=[],k=!1,I=!1,B=[],R=/\s+/g,U="Sortable"+(new Date).getTime(),V=window,q=V.document,G=V.parseInt,K=V.setTimeout,Z=V.jQuery||V.Zepto,Q=V.Polymer,J={capture:!1,passive:!1},$=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),tt=!!navigator.userAgent.match(/Edge/i),et=!!navigator.userAgent.match(/firefox/i),ot=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),nt=!!navigator.userAgent.match(/iP(ad|od|hone)/i),it=tt||$?"cssFloat":"float",rt="draggable"in q.createElement("div"),at=function(){if($)return!1;var e=q.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),lt=!1,st=!1,ct=Math.abs,dt=Math.min,ht=Math.max,ut=[],P=function(e,o){var n=Dt(e),i=G(n.width)-G(n.paddingLeft)-G(n.paddingRight)-G(n.borderLeftWidth)-G(n.borderRightWidth),r=Mt(e,0,o),a=Mt(e,1,o),l=r&&Dt(r),c=a&&Dt(a),d=l&&G(l.marginLeft)+G(l.marginRight)+Lt(r).width,h=c&&G(c.marginLeft)+G(c.marginRight)+Lt(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&"none"!==l.float){var u="left"===l.float?"left":"right";return!a||"both"!==c.clear&&c.clear!==u?"horizontal":"vertical"}return r&&("block"===l.display||"flex"===l.display||"table"===l.display||"grid"===l.display||i<=d&&"none"===n[it]||a&&"none"===n[it]&&i<d+h)?"vertical":"horizontal"},O=function(e,o){if(!e||!e.getBoundingClientRect)return H();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Dt(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n||!n.getBoundingClientRect||n===q.body)return H();if(i||o)return n;i=!0}}}while(n=n.parentNode);return H()},H=function(){return $?q.documentElement:q.scrollingElement},ft=function(e,o,n){e.scrollLeft+=o,e.scrollTop+=n},vt=It((function(e,o,n,i){if(o.scroll){var r=n?n[U]:window,a=o.scrollSensitivity,l=o.scrollSpeed,u=e.clientX,f=e.clientY,p=H(),g=!1;d!==n&&(L(),c=o.scroll,h=o.scrollFn,!0===c&&(c=O(n,!0),d=c));var v=0,m=c;do{var b,w,D,y,C,S,T,E,x,A=m,X=Lt(A),Y=X.top,k=X.bottom,I=X.left,B=X.right,R=X.width,V=X.height;if(b=A.scrollWidth,w=A.scrollHeight,D=Dt(A),E=A.scrollLeft,x=A.scrollTop,T=A===p?(S=R<b&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),V<w&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(S=R<b&&("auto"===D.overflowX||"scroll"===D.overflowX),V<w&&("auto"===D.overflowY||"scroll"===D.overflowY)),y=S&&(ct(B-u)<=a&&E+R<b)-(ct(I-u)<=a&&!!E),C=T&&(ct(k-f)<=a&&x+V<w)-(ct(Y-f)<=a&&!!x),!N[v])for(var q=0;q<=v;q++)N[q]||(N[q]={});N[v].vx==y&&N[v].vy==C&&N[v].el===A||(N[v].el=A,N[v].vx=y,N[v].vy=C,clearInterval(N[v].pid),!A||0==y&&0==C||(g=!0,N[v].pid=setInterval(function(){i&&0===this.layer&&(mt.active._emulateDragOver(!0),mt.active._onTouchMove(_,!0));var o=N[this.layer].vy?N[this.layer].vy*l:0,n=N[this.layer].vx?N[this.layer].vx*l:0;"function"==typeof h&&"continue"!==h.call(r,n,o,e,_,N[this.layer].el)||ft(N[this.layer].el,n,o)}.bind({layer:v}),24))),v++}while(o.bubbleScroll&&m!==p&&(m=O(m,!1)));M=g}}),30),L=function(){N.forEach((function(e){clearInterval(e.pid)})),N=[]},W=function(e){function s(e,o){return function(n,i,r,a){var l=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==e&&(o||l))return!0;if(null==e||!1===e)return!1;if(o&&"clone"===e)return e;if("function"==typeof e)return s(e(n,i,r,a),o)(n,i,r,a);var c=(o?n:i).options.group.name;return!0===e||"string"==typeof e&&e===c||e.join&&-1<e.indexOf(c)}}var o={},n=e.group;n&&"object"==typeof n||(n={name:n}),o.name=n.name,o.checkPull=s(n.pull,!0),o.checkPut=s(n.put),o.revertClone=n.revertClone,e.group=o},F=function(o){e&&e.parentNode&&e.parentNode[U]&&e.parentNode[U]._computeIsAligned(o)},pt=function(e,o){for(var n=o;!n[U];)n=n.parentNode;return e===n},gt=function(e,o,n){for(var i=e.parentNode;i&&!i[U];)i=i.parentNode;i&&i[U][n](Bt(o,{artificialBubble:!0}))},z=function(){!at&&n&&Dt(n,"display","none")},j=function(){!at&&n&&Dt(n,"display","")};q.addEventListener("click",(function(e){if(X)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),X=!1}),!0);var zt,t=function(o){if(o=o.touches?o.touches[0]:o,e){var n=function(e,o){for(var n=0;n<Y.length;n++)if(!Pt(Y[n])){var i=Lt(Y[n]),r=Y[n][U].options.emptyInsertThreshold,a=e>=i.left-r&&e<=i.right+r,l=o>=i.top-r&&o<=i.bottom+r;if(a&&l)return Y[n]}}(o.clientX,o.clientY);n&&n[U]._onDragOver({clientX:o.clientX,clientY:o.clientY,target:n,rootEl:n})}};function mt(e,o){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=o=Bt({},o),e[U]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return P(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,o){e.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:G(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==mt.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(var i in n)!(i in o)&&(o[i]=n[i]);for(var r in W(o),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!o.forceFallback&&rt,this.nativeDraggable&&(this.options.touchStartThreshold=1),o.supportPointer?wt(e,"pointerdown",this._onTapStart):(wt(e,"mousedown",this._onTapStart),wt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(wt(e,"dragover",this),wt(e,"dragenter",this)),Y.push(this.el),o.store&&o.store.get&&this.sort(o.store.get(this)||[])}function bt(e,o,n,i){if(e){n=n||q;do{if(null!=o&&(">"===o[0]&&e.parentNode===n&&kt(e,o.substring(1))||kt(e,o))||i&&e===n)return e;if(e===n)break}while(e=(r=e).host&&r!==q&&r.host.nodeType?r.host:r.parentNode)}var r;return null}function wt(e,o,n){e.addEventListener(o,n,J)}function _t(e,o,n){e.removeEventListener(o,n,J)}function yt(e,o,n){if(e&&o)if(e.classList)e.classList[n?"add":"remove"](o);else{var i=(" "+e.className+" ").replace(R," ").replace(" "+o+" "," ");e.className=(i+(n?" "+o:"")).replace(R," ")}}function Dt(e,o,n){var i=e&&e.style;if(i){if(void 0===n)return q.defaultView&&q.defaultView.getComputedStyle?n=q.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===o?n:n[o];o in i||-1!==o.indexOf("webkit")||(o="-webkit-"+o),i[o]=n+("string"==typeof n?"":"px")}}function St(e){var o="";do{var n=Dt(e,"transform");n&&"none"!==n&&(o=n+" "+o)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(o):window.WebKitCSSMatrix?new WebKitCSSMatrix(o):window.CSSMatrix?new CSSMatrix(o):void 0}function Tt(e,o,n){if(e){var i=e.getElementsByTagName(o),r=0,a=i.length;if(n)for(;r<a;r++)n(i[r],r);return i}return[]}function Ct(e,o,n,r,a,l,c,d,h){var u,f=(e=e||o[U]).options,p="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||$||tt?(u=q.createEvent("Event")).initEvent(n,!0,!0):u=new CustomEvent(n,{bubbles:!0,cancelable:!0}),u.to=a||o,u.from=l||o,u.item=r||o,u.clone=i,u.oldIndex=c,u.newIndex=d,u.originalEvent=h,u.pullMode=g?g.lastPutMode:void 0,o&&o.dispatchEvent(u),f[p]&&f[p].call(e,u)}function Et(e,o,n,i,r,a,l,c){var d,h,u=e[U],f=u.options.onMove;return!window.CustomEvent||$||tt?(d=q.createEvent("Event")).initEvent("move",!0,!0):d=new CustomEvent("move",{bubbles:!0,cancelable:!0}),d.to=o,d.from=e,d.dragged=n,d.draggedRect=i,d.related=r||o,d.relatedRect=a||Lt(o),d.willInsertAfter=c,d.originalEvent=l,e.dispatchEvent(d),f&&(h=f.call(u,d,l)),h}function xt(e){e.draggable=!1}function Nt(){lt=!1}function Mt(o,i,r){for(var a=0,l=0,c=o.children;l<c.length;){if("none"!==c[l].style.display&&c[l]!==n&&c[l]!==e&&bt(c[l],r.draggable,o,!1)){if(a===i)return c[l];a++}l++}return null}function Pt(e){for(var o=e.lastElementChild;o&&(o===n||"none"===o.style.display);)o=o.previousElementSibling;return o||null}function Xt(o){return At(e)<At(o)?1:-1}function Yt(e){for(var o=e.tagName+e.className+e.src+e.href+e.textContent,n=o.length,i=0;n--;)i+=o.charCodeAt(n);return i.toString(36)}function At(e,o){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==i&&n++;return n}function kt(e,o){if(e)try{if(e.matches)return e.matches(o);if(e.msMatchesSelector)return e.msMatchesSelector(o);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(o)}catch(e){return!1}return!1}function It(e,o){return function(){if(!zt){var n=arguments,i=this;zt=K((function(){1===n.length?e.call(i,n[0]):e.apply(i,n),zt=void 0}),o)}}}function Bt(e,o){if(e&&o)for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n]);return e}function Ot(e){return Q&&Q.dom?Q.dom(e).cloneNode(!0):Z?Z(e).clone(!0)[0]:e.cloneNode(!0)}function Ht(e){return K(e,0)}function Rt(e){return clearTimeout(e)}function Lt(e,o,n,i){if(e.getBoundingClientRect||e===V){var r,a,l,c,d,h,u;if(u=e!==V&&e!==H()?(a=(r=e.getBoundingClientRect()).top,l=r.left,c=r.bottom,d=r.right,h=r.height,r.width):(l=a=0,c=window.innerHeight,d=window.innerWidth,h=window.innerHeight,window.innerWidth),i&&e!==V&&(n=n||e.parentNode,!$))do{if(n&&n.getBoundingClientRect&&"none"!==Dt(n,"transform")){var f=n.getBoundingClientRect();a-=f.top+G(Dt(n,"border-top-width")),l-=f.left+G(Dt(n,"border-left-width")),c=a+r.height,d=l+r.width;break}}while(n=n.parentNode);if(o&&e!==V){var p=St(n||e),g=p&&p.a,v=p&&p.d;p&&(c=(a/=v)+(h/=v),d=(l/=g)+(u/=g))}return{top:a,left:l,bottom:c,right:d,width:u,height:h}}}function Wt(e,o){for(var n=O(e,!0),i=Lt(e)[o];n;){var r=Lt(n)[o];if(!("top"===o||"left"===o?r<=i:i<=r))return n;if(n===H())break;n=O(n,!1)}return!1}function Ft(e){var o=0,n=0,i=H();if(e)do{var r=St(e),a=r.a,l=r.d;o+=e.scrollLeft*a,n+=e.scrollTop*l}while(e!==i&&(e=e.parentNode));return[o,n]}return wt(q,"dragover",t),wt(q,"mousemove",t),wt(q,"touchmove",t),mt.prototype={constructor:mt,_computeIsAligned:function(o){var i;if(n&&!at?(z(),i=q.elementFromPoint(o.clientX,o.clientY),j()):i=o.target,i=bt(i,this.options.draggable,this.el,!1),!st&&e&&e.parentNode===this.el){for(var r,a,l,c,d,h,u,f,p=this.el.children,g=0;g<p.length;g++)bt(p[g],this.options.draggable,this.el,!1)&&p[g]!==i&&(p[g].sortableMouseAligned=(r=o.clientX,a=o.clientY,l=p[g],c=this._getDirection(o,null),this.options,d=Lt(l),h="vertical"===c?d.left:d.top,u="vertical"===c?d.right:d.bottom,h<(f="vertical"===c?r:a)&&f<u));bt(i,this.options.draggable,this.el,!0)||(y=null),st=!0,K((function(){st=!1}),30)}},_getDirection:function(o,n){return"function"==typeof this.options.direction?this.options.direction.call(this,o,n,e):this.options.direction},_onTapStart:function(o){if(o.cancelable){var n,i=this,r=this.el,a=this.options,c=a.preventOnFilter,d=o.type,h=o.touches&&o.touches[0],u=(h||o).target,f=o.target.shadowRoot&&(o.path&&o.path[0]||o.composedPath&&o.composedPath()[0])||u,p=a.filter;if(function(e){ut.length=0;for(var o=e.getElementsByTagName("input"),n=o.length;n--;){var i=o[n];i.checked&&ut.push(i)}}(r),(!$||o.artificialBubble||pt(r,u))&&!e&&!(/mousedown|pointerdown/.test(d)&&0!==o.button||a.disabled||f.isContentEditable))if(u=bt(u,a.draggable,r,!1)){if(l!==u){if(n=At(u,a.draggable),"function"==typeof p){if(p.call(this,o,u,this))return Ct(i,f,"filter",u,r,r,n),void(c&&o.cancelable&&o.preventDefault())}else if(p&&(p=p.split(",").some((function(e){if(e=bt(f,e.trim(),r,!1))return Ct(i,e,"filter",u,r,r,n),!0}))))return void(c&&o.cancelable&&o.preventDefault());a.handle&&!bt(f,a.handle,r,!1)||this._prepareDragStart(o,h,u,n)}}else $&&gt(r,o,"_onTapStart")}},_handleAutoScroll:function(o,n){if(e&&this.options.scroll){var i=o.clientX,r=o.clientY,a=q.elementFromPoint(i,r),l=this;if(n||tt||$||ot){vt(o,l.options,a,n);var c=O(a,!0);!M||v&&i===m&&r===b||(v&&clearInterval(v),v=setInterval((function(){if(e){var a=O(q.elementFromPoint(i,r),!0);a!==c&&(c=a,L(),vt(o,l.options,c,n))}}),10),m=i,b=r)}else{if(!l.options.bubbleScroll||O(a,!0)===H())return void L();vt(o,l.options,O(a,!1),!1)}}},_prepareDragStart:function(n,i,c,d){var h,f=this,g=f.el,v=f.options,m=g.ownerDocument;c&&!e&&c.parentNode===g&&(r=g,o=(e=c).parentNode,a=e.nextSibling,l=c,p=v.group,u=d,w={target:e,clientX:(i||n).clientX,clientY:(i||n).clientY},this._lastX=(i||n).clientX,this._lastY=(i||n).clientY,e.style["will-change"]="all",e.style.transition="",e.style.transform="",h=function(){f._disableDelayedDragEvents(),!et&&f.nativeDraggable&&(e.draggable=!0),f._triggerDragStart(n,i),Ct(f,r,"choose",e,r,r,u),yt(e,v.chosenClass,!0)},v.ignore.split(",").forEach((function(o){Tt(e,o.trim(),xt)})),v.supportPointer?wt(m,"pointerup",f._onDrop):(wt(m,"mouseup",f._onDrop),wt(m,"touchend",f._onDrop),wt(m,"touchcancel",f._onDrop)),et&&this.nativeDraggable&&(this.options.touchStartThreshold=4,e.draggable=!0),!v.delay||this.nativeDraggable&&(tt||$)?h():(wt(m,"mouseup",f._disableDelayedDrag),wt(m,"touchend",f._disableDelayedDrag),wt(m,"touchcancel",f._disableDelayedDrag),wt(m,"mousemove",f._delayedDragTouchMoveHandler),wt(m,"touchmove",f._delayedDragTouchMoveHandler),v.supportPointer&&wt(m,"pointermove",f._delayedDragTouchMoveHandler),f._dragStartTimer=K(h,v.delay)))},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;ht(ct(o.clientX-this._lastX),ct(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){e&&xt(e),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_t(e,"mouseup",this._disableDelayedDrag),_t(e,"touchend",this._disableDelayedDrag),_t(e,"touchcancel",this._disableDelayedDrag),_t(e,"mousemove",this._delayedDragTouchMoveHandler),_t(e,"touchmove",this._delayedDragTouchMoveHandler),_t(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(o,n){n=n||("touch"==o.pointerType?o:null),!this.nativeDraggable||n?this.options.supportPointer?wt(q,"pointermove",this._onTouchMove):wt(q,n?"touchmove":"mousemove",this._onTouchMove):(wt(e,"dragend",this),wt(r,"dragstart",this._onDragStart));try{q.selection?Ht((function(){q.selection.empty()})):window.getSelection().removeAllRanges()}catch(o){}},_dragStarted:function(o,n){if(A=!1,r&&e){this.nativeDraggable&&(wt(q,"dragover",this._handleAutoScroll),wt(q,"dragover",F));var i=this.options;!o&&yt(e,i.dragClass,!1),yt(e,i.ghostClass,!0),Dt(e,"transform",""),mt.active=this,o&&this._appendGhost(),Ct(this,r,"start",e,r,r,u,void 0,n)}else this._nulling()},_emulateDragOver:function(o){if(_){if(this._lastX===_.clientX&&this._lastY===_.clientY&&!o)return;this._lastX=_.clientX,this._lastY=_.clientY,z();for(var n=q.elementFromPoint(_.clientX,_.clientY),i=n;n&&n.shadowRoot;)i=n=n.shadowRoot.elementFromPoint(_.clientX,_.clientY);if(i)do{if(i[U]&&i[U]._onDragOver({clientX:_.clientX,clientY:_.clientY,target:n,rootEl:i})&&!this.options.dragoverBubble)break;n=i}while(i=i.parentNode);e.parentNode[U]._computeIsAligned(_),j()}},_onTouchMove:function(e,o){if(w){var i=this.options,r=i.fallbackTolerance,a=i.fallbackOffset,l=e.touches?e.touches[0]:e,c=n&&St(n),d=n&&c&&c.a,h=n&&c&&c.d,u=nt&&E&&Ft(E),f=(l.clientX-w.clientX+a.x)/(d||1)+(u?u[0]-B[0]:0)/(d||1),p=(l.clientY-w.clientY+a.y)/(h||1)+(u?u[1]-B[1]:0)/(h||1),g=e.touches?"translate3d("+f+"px,"+p+"px,0)":"translate("+f+"px,"+p+"px)";if(!mt.active&&!A){if(r&&dt(ct(l.clientX-this._lastX),ct(l.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}!o&&this._handleAutoScroll(l,!0),D=!0,_=l,Dt(n,"webkitTransform",g),Dt(n,"mozTransform",g),Dt(n,"msTransform",g),Dt(n,"transform",g),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!n){var o=this.options.fallbackOnBody?q.body:r,i=Lt(e,!0,o,!nt),a=(Dt(e),this.options);if(nt){for(E=o;"static"===Dt(E,"position")&&"none"===Dt(E,"transform")&&E!==q;)E=E.parentNode;if(E!==q){var l=Lt(E,!0);i.top-=l.top,i.left-=l.left}E!==q.body&&E!==q.documentElement?(E===q&&(E=H()),i.top+=E.scrollTop,i.left+=E.scrollLeft):E=H(),B=Ft(E)}yt(n=e.cloneNode(!0),a.ghostClass,!1),yt(n,a.fallbackClass,!0),yt(n,a.dragClass,!0),Dt(n,"box-sizing","border-box"),Dt(n,"margin",0),Dt(n,"top",i.top),Dt(n,"left",i.left),Dt(n,"width",i.width),Dt(n,"height",i.height),Dt(n,"opacity","0.8"),Dt(n,"position",nt?"absolute":"fixed"),Dt(n,"zIndex","100000"),Dt(n,"pointerEvents","none"),o.appendChild(n)}},_onDragStart:function(o,n){var a=this,l=o.dataTransfer,c=a.options;(i=Ot(e)).draggable=!1,i.style["will-change"]="",this._hideClone(),yt(i,a.options.chosenClass,!1),a._cloneId=Ht((function(){a.options.removeCloneOnHide||r.insertBefore(i,e),Ct(a,r,"clone",e)})),!n&&yt(e,c.dragClass,!0),n?(X=!0,a._loopId=setInterval(a._emulateDragOver,50)):(_t(q,"mouseup",a._onDrop),_t(q,"touchend",a._onDrop),_t(q,"touchcancel",a._onDrop),l&&(l.effectAllowed="move",c.setData&&c.setData.call(a,l,e)),wt(q,"drop",a),Dt(e,"transform","translateZ(0)")),A=!0,a._dragStartId=Ht(a._dragStarted.bind(a,n,o)),wt(q,"selectstart",a),ot&&Dt(q.body,"user-select","none")},_onDragOver:function(n){var i,l,c,d=this.el,h=n.target,f=this.options,v=f.group,m=mt.active,b=p===v,w=f.sort,_=this;if(!lt&&(!$||n.rootEl||n.artificialBubble||pt(d,h))){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),D=!0,h=bt(h,f.draggable,d,!0),bt(n.target,null,e,!0)||h.animated)return z(!1);if(h!==e&&(X=!1),m&&!f.disabled&&(b?w||(c=!r.contains(e)):g===this||(this.lastPutMode=p.checkPull(this,m,e,n))&&v.checkPut(this,m,e,n))){var E=this._getDirection(n,h);if(i=Lt(e),c)return this._hideClone(),o=r,a?r.insertBefore(e,a):r.appendChild(e),z(!0);var N=Pt(d);if(N&&(vt=n,zt=E,jt=Lt(Pt(d)),Ut="vertical"===zt?vt.clientY:vt.clientX,Vt="vertical"===zt?vt.clientX:vt.clientY,qt="vertical"===zt?jt.bottom:jt.right,Gt="vertical"===zt?jt.left:jt.top,Kt="vertical"===zt?jt.right:jt.bottom,!("vertical"===zt?Kt+10<Vt||Vt<=Kt&&qt<Ut&&Gt<=Vt:qt<Ut&&Gt<Vt||Ut<=qt&&Kt+10<Vt)||N.animated)){if(h&&h!==e&&h.parentNode===d){var M,A=0,Y=h.sortableMouseAligned,B=e.parentNode!==d,R="vertical"===E?"top":"left",V=Wt(h,"top")||Wt(e,"top"),G=V?V.scrollTop:void 0;if(y!==h&&(S=null,M=Lt(h)[R],k=!1),et=h,ot=E,nt=(tt=e)===e&&x||Lt(tt),it=et===e&&x||Lt(et),rt="vertical"===ot?nt.left:nt.top,at="vertical"===ot?nt.right:nt.bottom,st="vertical"===ot?nt.width:nt.height,dt="vertical"===ot?it.left:it.top,ht="vertical"===ot?it.right:it.bottom,ut="vertical"===ot?it.width:it.height,S=(rt===dt||at===ht||rt+st/2===dt+ut/2)&&Y||B||V||f.invertSwap||"insert"===S||"swap"===S?("swap"!==S&&(I=f.invertSwap||B),A=function(o,n,i,r,a,l,c){var d=Lt(n),h="vertical"===i?o.clientY:o.clientX,u="vertical"===i?d.height:d.width,f="vertical"===i?d.top:d.left,p="vertical"===i?d.bottom:d.right,g=Lt(e),v=!1;if(!l)if(c&&T<u*r){if(!k&&(1===C?f+u*a/2<h:h<p-u*a/2)&&(k=!0),k)v=!0;else if("vertical"===i?g.top:g.left,"vertical"===i?g.bottom:g.right,1===C?h<f+T:p-T<h)return-1*C}else if(f+u*(1-r)/2<h&&h<p-u*(1-r)/2)return Xt(n);return(v=v||l)&&(h<f+u*a/2||p-u*a/2<h)?f+u/2<h?1:-1:0}(n,h,E,f.swapThreshold,null==f.invertedSwapThreshold?f.swapThreshold:f.invertedSwapThreshold,I,y===h),"swap"):(A=Xt(h),"insert"),0===A)return z(!1);x=null,C=A,l=Lt(y=h);var Z=h.nextElementSibling,Q=!1,J=Et(r,d,e,i,h,l,n,Q=1===A);if(!1!==J)return 1!==J&&-1!==J||(Q=1===J),lt=!0,K(Nt,30),b?m._hideClone():m._showClone(this),Q&&!Z?d.appendChild(e):h.parentNode.insertBefore(e,Q?Z:h),V&&ft(V,0,G-V.scrollTop),o=e.parentNode,void 0===M||I||(T=ct(M-Lt(h)[R])),j(),z(!0)}}else if(N&&d===n.target&&(h=N),h&&(l=Lt(h)),b?m._hideClone():m._showClone(this),!1!==Et(r,d,e,i,h,l,n,!!h))return d.appendChild(e),o=d,x=null,j(),z(!0);if(d.contains(e))return z(!1)}var tt,et,ot,nt,it,rt,at,st,dt,ht,ut,vt,zt,jt,Ut,Vt,qt,Gt,Kt;return $&&!n.rootEl&&gt(d,n,"_onDragOver"),!1}function z(o){return o&&(b?m._hideClone():m._showClone(_),m&&(yt(e,g?g.options.ghostClass:m.options.ghostClass,!1),yt(e,f.ghostClass,!0)),g!==_&&_!==mt.active?g=_:_===mt.active&&(g=null),i&&_._animate(i,e),h&&l&&_._animate(l,h)),(h===e&&!e.animated||h===d&&!h.animated)&&(y=null),f.dragoverBubble||n.rootEl||h===q||(_._handleAutoScroll(n),e.parentNode[U]._computeIsAligned(n)),!f.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),!0}function j(){Ct(_,r,"change",h,d,r,u,At(e,f.draggable),n)}},_animate:function(o,n){var i=this.options.animation;if(i){var r=Lt(n);if(n===e&&(x=r),1===o.nodeType&&(o=Lt(o)),o.left+o.width/2!==r.left+r.width/2||o.top+o.height/2!==r.top+r.height/2){var a=St(this.el),l=a&&a.a,c=a&&a.d;Dt(n,"transition","none"),Dt(n,"transform","translate3d("+(o.left-r.left)/(l||1)+"px,"+(o.top-r.top)/(c||1)+"px,0)"),n.offsetWidth,Dt(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Dt(n,"transform","translate3d(0,0,0)")}"number"==typeof n.animated&&clearTimeout(n.animated),n.animated=K((function(){Dt(n,"transition",""),Dt(n,"transform",""),n.animated=!1}),i)}},_offUpEvents:function(){var e=this.el.ownerDocument;_t(q,"touchmove",this._onTouchMove),_t(q,"pointermove",this._onTouchMove),_t(e,"mouseup",this._onDrop),_t(e,"touchend",this._onDrop),_t(e,"pointerup",this._onDrop),_t(e,"touchcancel",this._onDrop),_t(q,"selectstart",this)},_onDrop:function(l){var c=this.el,d=this.options;k=I=M=A=!1,clearInterval(this._loopId),clearInterval(v),L(),clearTimeout(zt),zt=void 0,clearTimeout(this._dragStartTimer),Rt(this._cloneId),Rt(this._dragStartId),_t(q,"mousemove",this._onTouchMove),this.nativeDraggable&&(_t(q,"drop",this),_t(c,"dragstart",this._onDragStart),_t(q,"dragover",this._handleAutoScroll),_t(q,"dragover",F)),ot&&Dt(q.body,"user-select",""),this._offUpEvents(),l&&(D&&(l.cancelable&&l.preventDefault(),!d.dropBubble&&l.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(r===o||g&&"clone"!==g.lastPutMode)&&i&&i.parentNode&&i.parentNode.removeChild(i),e&&(this.nativeDraggable&&_t(e,"dragend",this),xt(e),e.style["will-change"]="",yt(e,g?g.options.ghostClass:this.options.ghostClass,!1),yt(e,this.options.chosenClass,!1),Ct(this,r,"unchoose",e,o,r,u,null,l),r!==o?(0<=(f=At(e,d.draggable))&&(Ct(null,o,"add",e,o,r,u,f,l),Ct(this,r,"remove",e,o,r,u,f,l),Ct(null,o,"sort",e,o,r,u,f,l),Ct(this,r,"sort",e,o,r,u,f,l)),g&&g.save()):e.nextSibling!==a&&0<=(f=At(e,d.draggable))&&(Ct(this,r,"update",e,o,r,u,f,l),Ct(this,r,"sort",e,o,r,u,f,l)),mt.active&&(null!=f&&-1!==f||(f=u),Ct(this,r,"end",e,o,r,u,f,l),this.save()))),this._nulling()},_nulling:function(){r=e=o=n=a=i=l=c=d=N.length=v=m=b=w=_=D=f=u=y=C=x=g=p=mt.active=null,ut.forEach((function(e){e.checked=!0})),ut.length=0},handleEvent:function(o){switch(o.type){case"drop":case"dragend":this._onDrop(o);break;case"dragenter":case"dragover":e&&(this._onDragOver(o),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(o));break;case"selectstart":o.preventDefault()}},toArray:function(){for(var e,o=[],n=this.el.children,i=0,r=n.length,a=this.options;i<r;i++)bt(e=n[i],a.draggable,this.el,!1)&&o.push(e.getAttribute(a.dataIdAttr)||Yt(e));return o},sort:function(e){var o={},n=this.el;this.toArray().forEach((function(e,i){var r=n.children[i];bt(r,this.options.draggable,n,!1)&&(o[e]=r)}),this),e.forEach((function(e){o[e]&&(n.removeChild(o[e]),n.appendChild(o[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return bt(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(void 0===o)return n[e];n[e]=o,"group"===e&&W(n)},destroy:function(){var e=this.el;e[U]=null,_t(e,"mousedown",this._onTapStart),_t(e,"touchstart",this._onTapStart),_t(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_t(e,"dragover",this),_t(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),Y.splice(Y.indexOf(this.el),1),this.el=e=null},_hideClone:function(){i.cloneHidden||(Dt(i,"display","none"),i.cloneHidden=!0,i.parentNode&&this.options.removeCloneOnHide&&i.parentNode.removeChild(i))},_showClone:function(o){"clone"===o.lastPutMode?i.cloneHidden&&(r.contains(e)&&!this.options.group.revertClone?r.insertBefore(i,e):a?r.insertBefore(i,a):r.appendChild(i),this.options.group.revertClone&&this._animate(e,i),Dt(i,"display",""),i.cloneHidden=!1):this._hideClone()}},wt(q,"touchmove",(function(e){(mt.active||A)&&e.cancelable&&e.preventDefault()})),mt.utils={on:wt,off:_t,css:Dt,find:Tt,is:function(e,o){return!!bt(e,o,e,!1)},extend:Bt,throttle:It,closest:bt,toggleClass:yt,clone:Ot,index:At,nextTick:Ht,cancelNextTick:Rt,detectDirection:P,getChild:Mt},mt.create=function(e,o){return new mt(e,o)},mt.version="1.8.4",mt}));