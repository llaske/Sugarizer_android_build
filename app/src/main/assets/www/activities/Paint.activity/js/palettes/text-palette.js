define(["sugar-web/graphics/palette","mustache"],(function(t,e){var n={TextPalette:function(n,i){t.Palette.call(this,n,i),this.template='<input id="text-input" value="Paint" type="text" style="margin:10px;"><center><table><tbody>{{#rows}}<tr>{{#.}}<td><button lineHeight="{{lineHeight}}" fontFamily="{{fontFamily}}" style="height:55px; width:55px; background-size:40px !important;  background: #fff url({{ icon }}) no-repeat center; "></button></td>{{/.}}</tr>{{/rows}}</tbody></table></center><br/>';var o=document.createElement("div");o.innerHTML=e.render(this.template,{rows:[[{icon:"icons/text/arial.svg",lineHeight:"0.7",fontFamily:"Arial"},{icon:"icons/text/comic-sans.svg",lineHeight:"0.8",fontFamily:"Comic Sans MS"},{icon:"icons/text/verdana.svg",lineHeight:"0.8",fontFamily:"Verdana"}]]}),this.setContent([o]);var a=o.querySelectorAll("button"),r=this;function popDownOnButtonClick(t){for(var e=0;e<a.length;e++)a[e].style.border="0px solid #000";t.target.style.border="1px solid #f00",PaintApp.modes.Text.fontFamily=t.target.getAttribute("fontFamily"),PaintApp.modes.Text.lineHeight=t.target.getAttribute("lineHeight"),r.popDown()}for(var l=0;l<a.length;l++)a[l].addEventListener("click",popDownOnButtonClick);popDownOnButtonClick({target:a[0]})}};return n.TextPalette.prototype=Object.create(t.Palette.prototype,{addEventListener:{value:function(t,e,n){return this.getPalette().addEventListener(t,e,n)},enumerable:!0,configurable:!0,writable:!0}}),n}));