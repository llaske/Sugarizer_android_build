!function(t){"use strict";var e,i,r,n=(r=t.document.createTextNode("")).ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(r)===r?t.wrap(t):t,s=n.document,o=n.DocumentFragment||blank,a=n.SVGElement||blank,c=n.SVGSVGElement||blank,h=n.SVGElementInstance||blank,l=n.HTMLElement||n.Element,p=n.PointerEvent||n.MSPointerEvent,d=Math.hypot||function(t,e){return Math.sqrt(t*t+e*e)},u={},g=[],m=[],v=[],f=!1,x={},y={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:s,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,axis:"xy",edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},E={interaction:null,i:null,x:0,y:0,scroll:function(){var t=E.interaction.target.options[E.interaction.prepared.name].autoScroll,e=t.container||getWindow(E.interaction.element),i=(new Date).getTime(),r=(i-E.prevTime)/1e3,n=t.speed*r;n>=1&&(isWindow(e)?e.scrollBy(E.x*n,E.y*n):e&&(e.scrollLeft+=E.x*n,e.scrollTop+=E.y*n),E.prevTime=i),E.isScrolling&&(_(E.i),E.i=k(E.scroll))},edgeMove:function(t){for(var e,i,r=!1,n=0;n<v.length;n++)if((e=v[n]).interacting()&&checkAutoScroll(e.target,e.prepared.name)){i=e.target,r=!0;break}if(r){var s,o,a,c,h=i.options[e.prepared.name].autoScroll,l=h.container||getWindow(e.element);if(isWindow(l))c=t.clientX<E.margin,s=t.clientY<E.margin,o=t.clientX>l.innerWidth-E.margin,a=t.clientY>l.innerHeight-E.margin;else{var p=getElementRect(l);c=t.clientX<p.left+E.margin,s=t.clientY<p.top+E.margin,o=t.clientX>p.right-E.margin,a=t.clientY>p.bottom-E.margin}E.x=o?1:c?-1:0,E.y=a?1:s?-1:0,E.isScrolling||(E.margin=h.margin,E.speed=h.speed,E.start(e))}},isScrolling:!1,prevTime:0,start:function(t){E.isScrolling=!0,_(E.i),E.interaction=t,E.prevTime=(new Date).getTime(),E.i=k(E.scroll)},stop:function(){E.isScrolling=!1,_(E.i)}},b="ontouchstart"in n||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||n.DocumentTouch&&s instanceof n.DocumentTouch,S=!!p,w=b||S?20:10,D=1,z=0,T=1/0,C=s.all&&!n.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},O={drag:!0,resize:!0,gesture:!0},I="onmousewheel"in s?"mousewheel":"wheel",A=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],P={},M="Opera"==navigator.appName&&b&&navigator.userAgent.match("Presto"),X=/iP(hone|od|ad)/.test(navigator.platform)&&/OS [1-7][^\d]/.test(navigator.appVersion),Y="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",k=t.requestAnimationFrame,_=t.cancelAnimationFrame,R=function(){var t="attachEvent"in n&&!("addEventListener"in n),e=t?"attachEvent":"addEventListener",i=t?"detachEvent":"removeEventListener",r=t?"on":"",s=[],o=[],a=[];function preventDef(){this.returnValue=!1}function stopProp(){this.cancelBubble=!0}function stopImmProp(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}return{add:function add(i,n,c,h){var l=indexOf(s,i),p=o[l];if(p||(p={events:{},typeCount:0},l=s.push(i)-1,o.push(p),a.push(t?{supplied:[],wrapped:[],useCount:[]}:null)),p.events[n]||(p.events[n]=[],p.typeCount++),!contains(p.events[n],c)){var d;if(t){var u=a[l],g=indexOf(u.supplied,c),m=u.wrapped[g]||function(t){t.immediatePropagationStopped||(t.target=t.srcElement,t.currentTarget=i,t.preventDefault=t.preventDefault||preventDef,t.stopPropagation=t.stopPropagation||stopProp,t.stopImmediatePropagation=t.stopImmediatePropagation||stopImmProp,/mouse|click/.test(t.type)&&(t.pageX=t.clientX+getWindow(i).document.documentElement.scrollLeft,t.pageY=t.clientY+getWindow(i).document.documentElement.scrollTop),c(t))};d=i[e](r+n,m,Boolean(h)),-1===g?(u.supplied.push(c),u.wrapped.push(m),u.useCount.push(1)):u.useCount[g]++}else d=i[e](n,c,h||!1);return p.events[n].push(c),d}},remove:function remove(e,n,c,h){var l,p,d,u=indexOf(s,e),g=o[u],m=c;if(g&&g.events)if(t&&(d=indexOf((p=a[u]).supplied,c),m=p.wrapped[d]),"all"!==n){if(g.events[n]){var v=g.events[n].length;if("all"===c)for(l=0;l<v;l++)remove(e,n,g.events[n][l],Boolean(h));else for(l=0;l<v;l++)if(g.events[n][l]===c){e[i](r+n,m,h||!1),g.events[n].splice(l,1),t&&p&&(p.useCount[d]--,0===p.useCount[d]&&(p.supplied.splice(d,1),p.wrapped.splice(d,1),p.useCount.splice(d,1)));break}g.events[n]&&0===g.events[n].length&&(g.events[n]=null,g.typeCount--)}g.typeCount||(o.splice(u),s.splice(u),a.splice(u))}else for(n in g.events)g.events.hasOwnProperty(n)&&remove(e,n,"all")},useAttachEvent:t,_elements:s,_targets:o,_attachedListeners:a}}();function blank(){}function isElement(t){if(!t||"object"!=typeof t)return!1;var e=getWindow(t)||n;return/object|function/.test(typeof e.Element)?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName}function isWindow(t){return!(!t||!t.Window)&&t instanceof t.Window}function isDocFrag(t){return!!t&&t instanceof o}function isArray(t){return isObject(t)&&void 0!==typeof t.length&&isFunction(t.splice)}function isObject(t){return!!t&&"object"==typeof t}function isFunction(t){return"function"==typeof t}function isNumber(t){return"number"==typeof t}function isBool(t){return"boolean"==typeof t}function isString(t){return"string"==typeof t}function trySelector(t){return!!isString(t)&&(s.querySelector(t),!0)}function extend(t,e){for(var i in e)t[i]=e[i];return t}function copyCoords(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function setEventDeltas(t,e,i){t.page.x=i.page.x-e.page.x,t.page.y=i.page.y-e.page.y,t.client.x=i.client.x-e.client.x,t.client.y=i.client.y-e.client.y,t.timeStamp=(new Date).getTime()-e.timeStamp;var r=Math.max(t.timeStamp/1e3,.001);t.page.speed=d(t.page.x,t.page.y)/r,t.page.vx=t.page.x/r,t.page.vy=t.page.y/r,t.client.speed=d(t.client.x,t.page.y)/r,t.client.vx=t.client.x/r,t.client.vy=t.client.y/r}function getXY(t,e,i){return t=t||"page",(i=i||{}).x=e[t+"X"],i.y=e[t+"Y"],i}function getPageXY(t,e,i){return e=e||{},t instanceof InteractEvent?/inertiastart/.test(t.type)?(extend(e,(i=i||t.interaction).inertiaStatus.upCoords.page),e.x+=i.inertiaStatus.sx,e.y+=i.inertiaStatus.sy):(e.x=t.pageX,e.y=t.pageY):M?(getXY("screen",t,e),e.x+=n.scrollX,e.y+=n.scrollY):getXY("page",t,e),e}function getClientXY(t,e,i){return e=e||{},t instanceof InteractEvent?/inertiastart/.test(t.type)?(extend(e,i.inertiaStatus.upCoords.client),e.x+=i.inertiaStatus.sx,e.y+=i.inertiaStatus.sy):(e.x=t.clientX,e.y=t.clientY):getXY(M?"screen":"client",t,e),e}function getPointerId(t){return isNumber(t.pointerId)?t.pointerId:t.identifier}function getActualElement(t){return t instanceof h?t.correspondingUseElement:t}function getWindow(t){if(isWindow(t))return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}function getElementRect(t){var e=X?{x:0,y:0}:function getScrollXY(t){return{x:(t=t||n).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}(getWindow(t)),i=t instanceof a?t.getBoundingClientRect():t.getClientRects()[0];return i&&{left:i.left+e.x,right:i.right+e.x,top:i.top+e.y,bottom:i.bottom+e.y,width:i.width||i.right-i.left,height:i.heigh||i.bottom-i.top}}function getTouchPair(t){var e=[];return isArray(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function touchAverage(t){var e=getTouchPair(t);return{pageX:(e[0].pageX+e[1].pageX)/2,pageY:(e[0].pageY+e[1].pageY)/2,clientX:(e[0].clientX+e[1].clientX)/2,clientY:(e[0].clientY+e[1].clientY)/2}}function touchBBox(t){if(t.length||t.touches&&t.touches.length>1){var e=getTouchPair(t),i=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY);return{x:i,y:r,left:i,top:r,width:Math.max(e[0].pageX,e[1].pageX)-i,height:Math.max(e[0].pageY,e[1].pageY)-r}}}function touchDistance(t,e){var i=(e=e||y.deltaSource)+"X",r=e+"Y",n=getTouchPair(t),s=n[0][i]-n[1][i],o=n[0][r]-n[1][r];return d(s,o)}function touchAngle(t,e,i){var r=(i=i||y.deltaSource)+"X",n=i+"Y",s=getTouchPair(t),o=s[0][r]-s[1][r],a=s[0][n]-s[1][n],c=180*Math.atan(a/o)/Math.PI;if(isNumber(e)){var h=(c-e)%360;h>315?c-=360+c/360|0:h>135?c-=180+c/360|0:h<-315?c+=360+c/360|0:h<-135&&(c+=180+c/360|0)}return c}function getOriginXY(t,e){var i=t?t.options.origin:y.origin;return"parent"===i?i=parentElement(e):"self"===i?i=t.getRect(e):trySelector(i)&&(i=closest(e,i)||{x:0,y:0}),isFunction(i)&&(i=i(t&&e)),isElement(i)&&(i=getElementRect(i)),i.x="x"in i?i.x:i.left,i.y="y"in i?i.y:i.top,i}function _getQBezierValue(t,e,i,r){var n=1-t;return n*n*e+2*n*t*i+t*t*r}function easeOutQuad(t,e,i,r){return-i*(t/=r)*(t-2)+e}function nodeContains(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function closest(t,e){for(var i=parentElement(t);isElement(i);){if(matchesSelector(i,e))return i;i=parentElement(i)}return null}function parentElement(t){var e=t.parentNode;if(isDocFrag(e)){for(;(e=e.host)&&isDocFrag(e););return e}return e}function inContext(t,e){return t._context===e.ownerDocument||nodeContains(t._context,e)}function testIgnore(t,e,i){var r=t.options.ignoreFrom;return!(!r||!isElement(i))&&(isString(r)?matchesUpTo(i,r,e):!!isElement(r)&&nodeContains(r,i))}function testAllow(t,e,i){var r=t.options.allowFrom;return!r||!!isElement(i)&&(isString(r)?matchesUpTo(i,r,e):!!isElement(r)&&nodeContains(r,i))}function checkAxis(t,e){if(!e)return!1;var i=e.options.drag.axis;return"xy"===t||"xy"===i||i===t}function checkSnap(t,e){var i=t.options;return/^resize/.test(e)&&(e="resize"),i[e].snap&&i[e].snap.enabled}function checkRestrict(t,e){var i=t.options;return/^resize/.test(e)&&(e="resize"),i[e].restrict&&i[e].restrict.enabled}function checkAutoScroll(t,e){var i=t.options;return/^resize/.test(e)&&(e="resize"),i[e].autoScroll&&i[e].autoScroll.enabled}function withinInteractionLimit(t,e,i){for(var r=t.options,n=r[i.name].max,s=r[i.name].maxPerElement,o=0,a=0,c=0,h=0,l=v.length;h<l;h++){var p=v[h],d=p.prepared.name;if(p.interacting()){if(++o>=T)return!1;if(p.target===t){if((a+=d===i.name|0)>=n)return!1;if(p.element===e&&(c++,d!==i.name||c>=s))return!1}}}return T>0}function Interaction(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},isFunction(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var t=this;this.boundInertiaFrame=function(){return t.inertiaFrame()},this.boundSmoothEndFrame=function(){return t.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,v.push(this)}function getInteractionFromPointer(t,e,i){var r,n=0,s=v.length,o=/mouse/i.test(t.pointerType||e)||4===t.pointerType,a=getPointerId(t);if(/down|start/i.test(e))for(n=0;n<s;n++){var c=i;if((r=v[n]).inertiaStatus.active&&r.target.options[r.prepared.name].inertia.allowResume&&r.mouse===o)for(;c;){if(c===r.element)return r.pointers[0]&&r.removePointer(r.pointers[0]),r.addPointer(t),r;c=parentElement(c)}}if(o||!b&&!S){for(n=0;n<s;n++)if(v[n].mouse&&!v[n].inertiaStatus.active)return v[n];for(n=0;n<s;n++)if(v[n].mouse&&(!/down/.test(e)||!v[n].inertiaStatus.active))return r;return(r=new Interaction).mouse=!0,r}for(n=0;n<s;n++)if(contains(v[n].pointerIds,a))return v[n];if(/up|end|out/i.test(e))return null;for(n=0;n<s;n++)if((!(r=v[n]).prepared.name||r.target.options.gesture.enabled)&&!r.interacting()&&(o||!r.mouse))return r.addPointer(t),r;return new Interaction}function doOnInteractions(t){return function(e){var i,r,n=getActualElement(e.path?e.path[0]:e.target),s=getActualElement(e.currentTarget);if(b&&/touch/.test(e.type))for(z=(new Date).getTime(),r=0;r<e.changedTouches.length;r++){var o=e.changedTouches[r];(i=getInteractionFromPointer(o,e.type,n))&&(i._updateEventTargets(n,s),i[t](o,e,n,s))}else{if(!S&&/mouse/.test(e.type)){for(r=0;r<v.length;r++)if(!v[r].mouse&&v[r].pointerIsDown)return;if((new Date).getTime()-z<500)return}if(!(i=getInteractionFromPointer(e,e.type,n)))return;i._updateEventTargets(n,s),i[t](e,e,n,s)}}}function InteractEvent(t,e,i,r,n,s){var o,a,c=t.target,h=t.snapStatus,l=t.restrictStatus,p=t.pointers,u=(c&&c.options||y).deltaSource,g=u+"X",m=u+"Y",v=c?c.options:y,f=getOriginXY(c,n),x="start"===r,E="end"===r,b=x?t.startCoords:t.curCoords;n=n||t.element,a=extend({},b.page),o=extend({},b.client),a.x-=f.x,a.y-=f.y,o.x-=f.x,o.y-=f.y;var S=v[i].snap&&v[i].snap.relativePoints;!checkSnap(c,i)||x&&S&&S.length||(this.snap={range:h.range,locked:h.locked,x:h.snappedX,y:h.snappedY,realX:h.realX,realY:h.realY,dx:h.dx,dy:h.dy},h.locked&&(a.x+=h.dx,a.y+=h.dy,o.x+=h.dx,o.y+=h.dy)),!checkRestrict(c,i)||x&&v[i].restrict.elementRect||!l.restricted||(a.x+=l.dx,a.y+=l.dy,o.x+=l.dx,o.y+=l.dy,this.restrict={dx:l.dx,dy:l.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=o.x,this.clientY=o.y,this.x0=t.startCoords.page.x,this.y0=t.startCoords.page.y,this.clientX0=t.startCoords.client.x,this.clientY0=t.startCoords.client.y,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.target=n,this.t0=t.downTimes[0],this.type=i+(r||""),this.interaction=t,this.interactable=c;var w=t.inertiaStatus;if(w.active&&(this.detail="inertia"),s&&(this.relatedTarget=s),E?"client"===u?(this.dx=o.x-t.startCoords.client.x,this.dy=o.y-t.startCoords.client.y):(this.dx=a.x-t.startCoords.page.x,this.dy=a.y-t.startCoords.page.y):x?(this.dx=0,this.dy=0):"inertiastart"===r?(this.dx=t.prevEvent.dx,this.dy=t.prevEvent.dy):"client"===u?(this.dx=o.x-t.prevEvent.clientX,this.dy=o.y-t.prevEvent.clientY):(this.dx=a.x-t.prevEvent.pageX,this.dy=a.y-t.prevEvent.pageY),t.prevEvent&&"inertia"===t.prevEvent.detail&&!w.active&&v[i].inertia&&v[i].inertia.zeroResumeDelta&&(w.resumeDx+=this.dx,w.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===i&&t.resizeAxes?v.resize.square?("y"===t.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=t.resizeAxes,"x"===t.resizeAxes?this.dy=0:"y"===t.resizeAxes&&(this.dx=0)):"gesture"===i&&(this.touches=[p[0],p[1]],x?(this.distance=touchDistance(p,u),this.box=touchBBox(p),this.scale=1,this.ds=0,this.angle=touchAngle(p,void 0,u),this.da=0):E||e instanceof InteractEvent?(this.distance=t.prevEvent.distance,this.box=t.prevEvent.box,this.scale=t.prevEvent.scale,this.ds=this.scale-1,this.angle=t.prevEvent.angle,this.da=this.angle-t.gesture.startAngle):(this.distance=touchDistance(p,u),this.box=touchBBox(p),this.scale=this.distance/t.gesture.startDistance,this.angle=touchAngle(p,t.gesture.prevAngle,u),this.ds=this.scale-t.gesture.prevScale,this.da=this.angle-t.gesture.prevAngle)),x)this.timeStamp=t.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===r)this.timeStamp=t.prevEvent.timeStamp,this.dt=t.prevEvent.dt,this.duration=t.prevEvent.duration,this.speed=t.prevEvent.speed,this.velocityX=t.prevEvent.velocityX,this.velocityY=t.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-t.prevEvent.timeStamp,this.duration=this.timeStamp-t.downTimes[0],e instanceof InteractEvent){var D=this[g]-t.prevEvent[g],z=this[m]-t.prevEvent[m],T=this.dt/1e3;this.speed=d(D,z)/T,this.velocityX=D/T,this.velocityY=z/T}else this.speed=t.pointerDelta[u].speed,this.velocityX=t.pointerDelta[u].vx,this.velocityY=t.pointerDelta[u].vy;if((E||"inertiastart"===r)&&t.prevEvent.speed>600&&this.timeStamp-t.prevEvent.timeStamp<150){var C=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;C<0&&(C+=360);var O=112.5<=C&&C<247.5,I=202.5<=C&&C<337.5,A=!O&&(292.5<=C||C<67.5),P=!I&&22.5<=C&&C<157.5;this.swipe={up:I,down:P,left:O,right:A,angle:C,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}}function preventOriginalDefault(){this.originalEvent.preventDefault()}function getActionCursor(t){var e="";if("drag"===t.name&&(e=C.drag),"resize"===t.name)if(t.axis)e=C[t.name+t.axis];else if(t.edges){for(var i="resize",r=["top","bottom","left","right"],n=0;n<4;n++)t.edges[r[n]]&&(i+=r[n]);e=C[i]}return e}function checkResizeEdge(t,e,i,r,n,s){if(!e)return!1;if(!0===e){var o=isNumber(s.width)?s.width:s.right-s.left,a=isNumber(s.height)?s.height:s.bottom-s.top;if(o<0&&("left"===t?t="right":"right"===t&&(t="left")),a<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return i.x<(o>=0?s.left:s.right)+w;if("top"===t)return i.y<(a>=0?s.top:s.bottom)+w;if("right"===t)return i.x>(o>=0?s.right:s.left)-w;if("bottom"===t)return i.y>(a>=0?s.bottom:s.top)-w}return!!isElement(r)&&(isElement(e)?e===r:matchesUpTo(r,e,n))}function defaultActionChecker(t,e,i){var r,n=this.getRect(i),s=!1,o=null,a=null,c=extend({},e.curCoords.page),h=this.options;if(!n)return null;if(O.resize&&h.resize.enabled){var l=h.resize;if(r={left:!1,right:!1,top:!1,bottom:!1},isObject(l.edges)){for(var p in r)r[p]=checkResizeEdge(p,l.edges[p],c,e._eventTarget,i,n);r.left=r.left&&!r.right,r.top=r.top&&!r.bottom,s=r.left||r.right||r.top||r.bottom}else{var d="y"!==h.resize.axis&&c.x>n.right-w,u="x"!==h.resize.axis&&c.y>n.bottom-w;s=d||u,a=(d?"x":"")+(u?"y":"")}}return o=s?"resize":O.drag&&h.drag.enabled?"drag":null,O.gesture&&e.pointerIds.length>=2&&!e.dragging&&!e.resizing&&(o="gesture"),o?{name:o,axis:a,edges:r}:null}function validateAction(t,e){if(!isObject(t))return null;var i=t.name,r=e.options;return("resize"===i&&r.resize.enabled||"drag"===i&&r.drag.enabled||"gesture"===i&&r.gesture.enabled)&&O[i]?("resize"!==i&&"resizeyx"!==i||(i="resizexy"),t):null}Interaction.prototype={getPageXY:function(t,e){return getPageXY(t,e,this)},getClientXY:function(t,e){return getClientXY(t,e,this)},setEventXY:function(t,e){return function setEventXY(t,e,i){e||(e=i.pointerIds.length>1?touchAverage(i.pointers):i.pointers[0]),getPageXY(e,u,i),t.page.x=u.x,t.page.y=u.y,getClientXY(e,u,i),t.client.x=u.x,t.client.y=u.y,t.timeStamp=(new Date).getTime()}(t,e,this)},pointerOver:function(t,i,r){if(!this.prepared.name&&this.mouse){var n=[],s=[],o=this.element;this.addPointer(t),!this.target||!testIgnore(this.target,this.element,r)&&testAllow(this.target,this.element,r)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var a=m.get(r),c=a&&!testIgnore(a,r,r)&&testAllow(a,r,r)&&validateAction(a.getAction(t,this,r),a);c&&!withinInteractionLimit(a,r,c)&&(c=null),c?(this.target=a,this.element=r,this.matches=[],this.matchElements=[]):(m.forEachSelector((function pushCurMatches(t,e){t&&inContext(t,r)&&!testIgnore(t,r,r)&&testAllow(t,r,r)&&matchesSelector(r,e)&&(n.push(t),s.push(r))})),this.validateSelector(t,n,s)?(this.matches=n,this.matchElements=s,this.pointerHover(t,i,this.matches,this.matchElements),R.add(r,p?e.move:"mousemove",F.pointerHover)):this.target&&(nodeContains(o,r)?(this.pointerHover(t,i,this.matches,this.matchElements),R.add(this.element,p?e.move:"mousemove",F.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(t,e,i,r,n,s){var o,a=this.target;!this.prepared.name&&this.mouse?(this.setEventXY(this.curCoords,t),n?o=this.validateSelector(t,n,s):a&&(o=validateAction(a.getAction(this.pointers[0],this,this.element),this.target)),a&&a.options.styleCursor&&(a._doc.documentElement.style.cursor=o?getActionCursor(o):"")):this.prepared.name&&this.checkAndPreventDefault(e,a,this.element)},pointerOut:function(t,i,r){this.prepared.name||(m.get(r)||R.remove(r,p?e.move:"mousemove",F.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(t,e,r,n){var s,o=this,a=R.useAttachEvent?extend({},e):e,c=r,h=this.addPointer(t);if(this.holdTimers[h]=setTimeout((function(){o.pointerHold(R.useAttachEvent?a:t,a,r,n)}),y._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;isElement(c);){if(c===this.element&&validateAction(this.target.getAction(t,this,this.element),this.target).name===this.prepared.name)return _(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(t,e,r,"down");c=parentElement(c)}if(this.interacting())this.collectEventTargets(t,e,r,"down");else{for(this.setEventXY(this.curCoords,t);isElement(c)&&!s;)this.matches=[],this.matchElements=[],m.forEachSelector(pushMatches),s=this.validateSelector(t,this.matches,this.matchElements),c=parentElement(c);if(s)return this.prepared.name=s.name,this.prepared.axis=s.axis,this.prepared.edges=s.edges,this.collectEventTargets(t,e,r,"down"),this.pointerDown(t,e,r,n,s);this.downTimes[h]=(new Date).getTime(),this.downTargets[h]=r,this.downEvent=e,extend(this.downPointer,t),copyCoords(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,this.collectEventTargets(t,e,r,"down")}function pushMatches(t,e,n){var s=i?n.querySelectorAll(e):void 0;inContext(t,c)&&!testIgnore(t,c,r)&&testAllow(t,c,r)&&matchesSelector(c,e,s)&&(o.matches.push(t),o.matchElements.push(c))}},pointerDown:function(t,e,i,r,n){if(n||this.inertiaStatus.active||!this.pointerWasMoved||!this.prepared.name){this.pointerIsDown=!0;var s,o=this.addPointer(t);if(this.pointerIds.length<2&&!this.target||!this.prepared.name){var a=m.get(r);a&&!testIgnore(a,r,i)&&testAllow(a,r,i)&&(s=validateAction(n||a.getAction(t,this,r),a))&&withinInteractionLimit(a,r,s)&&(this.target=a,this.element=r)}var c=this.target,h=c&&c.options;if(c&&!this.interacting()){if(s=s||validateAction(n||c.getAction(t,this,r),c,this.element),this.setEventXY(this.startCoords),!s)return;h.styleCursor&&(c._doc.documentElement.style.cursor=getActionCursor(s)),this.resizeAxes="resize"===s.name?s.axis:null,"gesture"===s&&this.pointerIds.length<2&&(s=null),this.prepared.name=s.name,this.prepared.axis=s.axis,this.prepared.edges=s.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[o]=(new Date).getTime(),this.downTargets[o]=i,this.downEvent=e,extend(this.downPointer,t),this.setEventXY(this.prevCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(e,c,this.element)}else this.inertiaStatus.active&&r===this.element&&validateAction(c.getAction(t,this,this.element),c).name===this.prepared.name&&(_(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(e,c,this.element))}else this.checkAndPreventDefault(e,this.target,this.element)},setModifications:function(t,e){var i=this.target,r=!0,n=checkSnap(i,this.prepared.name)&&(!i.options[this.prepared.name].snap.endOnly||e),s=checkRestrict(i,this.prepared.name)&&(!i.options[this.prepared.name].restrict.endOnly||e);return n?this.setSnapping(t):this.snapStatus.locked=!1,s?this.setRestriction(t):this.restrictStatus.restricted=!1,n&&this.snapStatus.locked&&!this.snapStatus.changed?r=s&&this.restrictStatus.restricted&&this.restrictStatus.changed:s&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(r=!1),r},setStartOffsets:function(t,e,i){var r,n,s=e.getRect(i),o=getOriginXY(e,i),a=e.options[this.prepared.name].snap,c=e.options[this.prepared.name].restrict;s?(this.startOffset.left=this.startCoords.page.x-s.left,this.startOffset.top=this.startCoords.page.y-s.top,this.startOffset.right=s.right-this.startCoords.page.x,this.startOffset.bottom=s.bottom-this.startCoords.page.y,r="width"in s?s.width:s.right-s.left,n="height"in s?s.height:s.bottom-s.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var h=a&&"startCoords"===a.offset?{x:this.startCoords.page.x-o.x,y:this.startCoords.page.y-o.y}:a&&a.offset||{x:0,y:0};if(s&&a&&a.relativePoints&&a.relativePoints.length)for(var l=0;l<a.relativePoints.length;l++)this.snapOffsets.push({x:this.startOffset.left-r*a.relativePoints[l].x+h.x,y:this.startOffset.top-n*a.relativePoints[l].y+h.y});else this.snapOffsets.push(h);s&&c.elementRect?(this.restrictOffset.left=this.startOffset.left-r*c.elementRect.left,this.restrictOffset.top=this.startOffset.top-n*c.elementRect.top,this.restrictOffset.right=this.startOffset.right-r*(1-c.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-n*(1-c.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(t,e,i){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===t.name?2:1)||(-1===indexOf(v,this)&&v.push(this),this.prepared.name=t.name,this.prepared.axis=t.axis,this.prepared.edges=t.edges,this.target=e,this.element=i,this.setStartOffsets(t.name,e,i),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(t,e,r,n,s){this.recordPointer(t),this.setEventXY(this.curCoords,t instanceof InteractEvent?this.inertiaStatus.startEvent:void 0);var o,a,c=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,h=this.mouse?0:indexOf(this.pointerIds,getPointerId(t));if(this.pointerIsDown&&!this.pointerWasMoved&&(o=this.curCoords.client.x-this.startCoords.client.x,a=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=d(o,a)>D),c||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[h]),this.collectEventTargets(t,e,r,"move")),this.pointerIsDown)if(c&&this.pointerWasMoved&&!s)this.checkAndPreventDefault(e,this.target,this.element);else if(setEventDeltas(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||t instanceof InteractEvent&&/inertiastart/.test(t.type))){if(!this.interacting()&&(setEventDeltas(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var l=Math.abs(o),p=Math.abs(a),u=this.target.options.drag.axis,g=l>p?"x":l<p?"y":"xy";if("xy"!==g&&"xy"!==u&&u!==g){this.prepared.name=null;for(var v=r;isElement(v);){var f=m.get(v);if(f&&f!==this.target&&!f.options.drag.manualStart&&"drag"===f.getAction(this.downPointer,this,v).name&&checkAxis(g,f)){this.prepared.name="drag",this.target=f,this.element=v;break}v=parentElement(v)}if(!this.prepared.name){var getDraggable=function(t,e,n){var s=i?n.querySelectorAll(e):void 0;if(t!==this.target)return inContext(t,r)&&!t.options.drag.manualStart&&!testIgnore(t,v,r)&&testAllow(t,v,r)&&matchesSelector(v,e,s)&&"drag"===t.getAction(this.downPointer,this,v).name&&checkAxis(g,t)&&withinInteractionLimit(t,v,"drag")?t:void 0};for(v=r;isElement(v);){var x=m.forEachSelector(getDraggable);if(x){this.prepared.name="drag",this.target=x,this.element=v;break}v=parentElement(v)}}}}var y=!!this.prepared.name&&!this.interacting();if(y&&(this.target.options[this.prepared.name].manualStart||!withinInteractionLimit(this.target,this.element,this.prepared)))return void this.stop();if(this.prepared.name&&this.target)y&&this.start(this.prepared,this.target,this.element),(this.setModifications(this.curCoords.page,s)||y)&&(this.prevEvent=this[this.prepared.name+"Move"](e)),this.checkAndPreventDefault(e,this.target,this.element)}copyCoords(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&E.edgeMove(e)}},dragStart:function(t){var e=new InteractEvent(this,t,"drag","start",this.element);this.dragging=!0,this.target.fire(e),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var i=this.getDropEvents(t,e);return i.activate&&this.fireActiveDrops(i.activate),e},dragMove:function(t){var e=this.target,i=new InteractEvent(this,t,"drag","move",this.element),r=this.element,n=this.getDrop(i,r);this.dropTarget=n.dropzone,this.dropElement=n.element;var s=this.getDropEvents(t,i);return e.fire(i),s.leave&&this.prevDropTarget.fire(s.leave),s.enter&&this.dropTarget.fire(s.enter),s.move&&this.dropTarget.fire(s.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,i},resizeStart:function(t){var e=new InteractEvent(this,t,"resize","start",this.element);if(this.prepared.edges){var i=this.target.getRect(this.element);if(this.target.options.resize.square){var r=extend({},this.prepared.edges);r.top=r.top||r.left&&!r.bottom,r.left=r.left||r.top&&!r.right,r.bottom=r.bottom||r.right&&!r.top,r.right=r.right||r.bottom&&!r.left,this.prepared._squareEdges=r}else this.prepared._squareEdges=null;this.resizeRects={start:i,current:extend({},i),restricted:extend({},i),previous:extend({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.rect=this.resizeRects.restricted,e.deltaRect=this.resizeRects.delta}return this.target.fire(e),this.resizing=!0,e},resizeMove:function(t){var e=new InteractEvent(this,t,"resize","move",this.element),i=this.prepared.edges,r=this.target.options.resize.invert,n="reposition"===r||"negate"===r;if(i){var s,o=e.dx,a=e.dy,c=this.resizeRects.start,h=this.resizeRects.current,l=this.resizeRects.restricted,p=this.resizeRects.delta,d=extend(this.resizeRects.previous,l);if(this.target.options.resize.square){var u=i;i=this.prepared._squareEdges,u.left&&u.bottom||u.right&&u.top?a=-o:u.left||u.right?a=o:(u.top||u.bottom)&&(o=a)}if(i.top&&(h.top+=a),i.bottom&&(h.bottom+=a),i.left&&(h.left+=o),i.right&&(h.right+=o),n){if(extend(l,h),"reposition"===r)l.top>l.bottom&&(s=l.top,l.top=l.bottom,l.bottom=s),l.left>l.right&&(s=l.left,l.left=l.right,l.right=s)}else l.top=Math.min(h.top,c.bottom),l.bottom=Math.max(h.bottom,c.top),l.left=Math.min(h.left,c.right),l.right=Math.max(h.right,c.left);for(var g in l.width=l.right-l.left,l.height=l.bottom-l.top,l)p[g]=l[g]-d[g];e.edges=this.prepared.edges,e.rect=l,e.deltaRect=p}return this.target.fire(e),e},gestureStart:function(t){var e=new InteractEvent(this,t,"gesture","start",this.element);return e.ds=0,this.gesture.startDistance=this.gesture.prevDistance=e.distance,this.gesture.startAngle=this.gesture.prevAngle=e.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(e),e},gestureMove:function(t){return this.pointerIds.length?((e=new InteractEvent(this,t,"gesture","move",this.element)).ds=e.scale-this.gesture.scale,this.target.fire(e),this.gesture.prevAngle=e.angle,this.gesture.prevDistance=e.distance,e.scale===1/0||null===e.scale||void 0===e.scale||isNaN(e.scale)||(this.gesture.scale=e.scale),e):this.prevEvent;var e},pointerHold:function(t,e,i){this.collectEventTargets(t,e,i,"hold")},pointerUp:function(t,e,i,r){var n=this.mouse?0:indexOf(this.pointerIds,getPointerId(t));clearTimeout(this.holdTimers[n]),this.collectEventTargets(t,e,i,"up"),this.collectEventTargets(t,e,i,"tap"),this.pointerEnd(t,e,i,r),this.removePointer(t)},pointerCancel:function(t,e,i,r){var n=this.mouse?0:indexOf(this.pointerIds,getPointerId(t));clearTimeout(this.holdTimers[n]),this.collectEventTargets(t,e,i,"cancel"),this.pointerEnd(t,e,i,r),this.removePointer(t)},ie8Dblclick:function(t,e,i){this.prevTap&&e.clientX===this.prevTap.clientX&&e.clientY===this.prevTap.clientY&&i===this.prevTap.target&&(this.downTargets[0]=i,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(t,e,i,"tap"))},pointerEnd:function(t,e,i,r){var n,s=this.target,o=s&&s.options,a=o&&this.prepared.name&&o[this.prepared.name].inertia,c=this.inertiaStatus;if(this.interacting()){if(c.active)return;var h,l,p,d=(new Date).getTime(),u=!1,g=checkSnap(s,this.prepared.name)&&o[this.prepared.name].snap.endOnly,m=checkRestrict(s,this.prepared.name)&&o[this.prepared.name].restrict.endOnly,v=0,f=0;if(h=this.dragging?"x"===o.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===o.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,p=(l=a&&a.enabled&&"gesture"!==this.prepared.name&&e!==c.startEvent)&&d-this.curCoords.timeStamp<50&&h>a.minSpeed&&h>a.endSpeed,l&&!p&&(g||m)){var x={};x.snap=x.restrict=x,g&&(this.setSnapping(this.curCoords.page,x),x.locked&&(v+=x.dx,f+=x.dy)),m&&(this.setRestriction(this.curCoords.page,x),x.restricted&&(v+=x.dx,f+=x.dy)),(v||f)&&(u=!0)}if(p||u){if(copyCoords(c.upCoords,this.curCoords),this.pointers[0]=c.startEvent=new InteractEvent(this,e,this.prepared.name,"inertiastart",this.element),c.t0=d,s.fire(c.startEvent),p){c.vx0=this.pointerDelta.client.vx,c.vy0=this.pointerDelta.client.vy,c.v0=h,this.calcInertia(c);var y,E=extend({},this.curCoords.page),b=getOriginXY(s,this.element);if(E.x=E.x+c.xe-b.x,E.y=E.y+c.ye-b.y,(y={useStatusXY:!0,x:E.x,y:E.y,dx:0,dy:0,snap:null}).snap=y,v=f=0,g){var S=this.setSnapping(this.curCoords.page,y);S.locked&&(v+=S.dx,f+=S.dy)}if(m){var w=this.setRestriction(this.curCoords.page,y);w.restricted&&(v+=w.dx,f+=w.dy)}c.modifiedXe+=v,c.modifiedYe+=f,c.i=k(this.boundInertiaFrame)}else c.smoothEnd=!0,c.xe=v,c.ye=f,c.sx=c.sy=0,c.i=k(this.boundSmoothEndFrame);return void(c.active=!0)}(g||m)&&this.pointerMove(t,e,i,r,!0)}if(this.dragging){n=new InteractEvent(this,e,"drag","end",this.element);var D=this.element,z=this.getDrop(n,D);this.dropTarget=z.dropzone,this.dropElement=z.element;var T=this.getDropEvents(e,n);T.leave&&this.prevDropTarget.fire(T.leave),T.enter&&this.dropTarget.fire(T.enter),T.drop&&this.dropTarget.fire(T.drop),T.deactivate&&this.fireActiveDrops(T.deactivate),s.fire(n)}else this.resizing?(n=new InteractEvent(this,e,"resize","end",this.element),s.fire(n)):this.gesturing&&(n=new InteractEvent(this,e,"gesture","end",this.element),s.fire(n));this.stop(e)},collectDrops:function(t){var e,i=[],r=[];for(t=t||this.element,e=0;e<m.length;e++)if(m[e].options.drop.enabled){var n=m[e],s=n.options.drop.accept;if(!(isElement(s)&&s!==t||isString(s)&&!matchesSelector(t,s)))for(var o=n.selector?n._context.querySelectorAll(n.selector):[n._element],a=0,c=o.length;a<c;a++){var h=o[a];h!==t&&(i.push(n),r.push(h))}}return{dropzones:i,elements:r}},fireActiveDrops:function(t){var e,i,r,n;for(e=0;e<this.activeDrops.dropzones.length;e++)i=this.activeDrops.dropzones[e],(r=this.activeDrops.elements[e])!==n&&(t.target=r,i.fire(t)),n=r},setActiveDrops:function(t){var e=this.collectDrops(t,!0);this.activeDrops.dropzones=e.dropzones,this.activeDrops.elements=e.elements,this.activeDrops.rects=[];for(var i=0;i<this.activeDrops.dropzones.length;i++)this.activeDrops.rects[i]=this.activeDrops.dropzones[i].getRect(this.activeDrops.elements[i])},getDrop:function(t,e){var i=[];f&&this.setActiveDrops(e);for(var r=0;r<this.activeDrops.dropzones.length;r++){var n=this.activeDrops.dropzones[r],s=this.activeDrops.elements[r],o=this.activeDrops.rects[r];i.push(n.dropCheck(this.pointers[0],this.target,e,s,o)?s:null)}var h=function indexOfDeepestElement(t){var e,i,r,n,s,o=t[0],h=o?0:-1,p=[],d=[];for(n=1;n<t.length;n++)if((e=t[n])&&e!==o)if(o){if(e.parentNode!==e.ownerDocument)if(o.parentNode!==e.ownerDocument){if(!p.length)for(i=o;i.parentNode&&i.parentNode!==i.ownerDocument;)p.unshift(i),i=i.parentNode;if(o instanceof l&&e instanceof a&&!(e instanceof c)){if(e===o.parentNode)continue;i=e.ownerSVGElement}else i=e;for(d=[];i.parentNode!==i.ownerDocument;)d.unshift(i),i=i.parentNode;for(s=0;d[s]&&d[s]===p[s];)s++;var u=[d[s-1],d[s],p[s]];for(r=u[0].lastChild;r;){if(r===u[1]){o=e,h=n,p=[];break}if(r===u[2])break;r=r.previousSibling}}else o=e,h=n}else o=e,h=n;return h}(i);return{dropzone:this.activeDrops.dropzones[h]||null,element:this.activeDrops.elements[h]||null}},getDropEvents:function(t,e){var i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(i.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragleave"},e.dragLeave=this.prevDropElement,e.prevDropzone=this.prevDropTarget),this.dropTarget&&(i.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragenter"},e.dragEnter=this.dropElement,e.dropzone=this.dropTarget)),"dragend"===e.type&&this.dropTarget&&(i.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"drop"}),"dragstart"===e.type&&(i.activate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropactivate"}),"dragend"===e.type&&(i.deactivate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropdeactivate"}),"dragmove"===e.type&&this.dropTarget&&(i.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,dragmove:e,timeStamp:e.timeStamp,type:"dropmove"},e.dropzone=this.dropTarget),i},currentAction:function(){return(this.dragging?"drag":this.resizing&&"resize")||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target&&!this.target.selector&&(this.target=this.element=null),this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(t){if(this.interacting()){E.stop(),this.matches=[],this.matchElements=[];var e=this.target;e.options.styleCursor&&(e._doc.documentElement.style.cursor=""),t&&isFunction(t.preventDefault)&&this.checkAndPreventDefault(t,e,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null),this.clearTargets()}this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var i=0;i<this.pointers.length;i++)-1===indexOf(this.pointerIds,getPointerId(this.pointers[i]))&&this.pointers.splice(i,1);v.length>1&&v.splice(indexOf(v,this),1)},inertiaFrame:function(){var t=this.inertiaStatus,e=this.target.options[this.prepared.name].inertia.resistance,i=(new Date).getTime()/1e3-t.t0;if(i<t.te){var r=1-(Math.exp(-e*i)-t.lambda_v0)/t.one_ve_v0;if(t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*r,t.sy=t.ye*r;else{var n=function getQuadraticCurvePoint(t,e,i,r,n,s,o){return{x:_getQBezierValue(o,t,i,n),y:_getQBezierValue(o,e,r,s)}}(0,0,t.xe,t.ye,t.modifiedXe,t.modifiedYe,r);t.sx=n.x,t.sy=n.y}this.pointerMove(t.startEvent,t.startEvent),t.i=k(this.boundInertiaFrame)}else t.sx=t.modifiedXe,t.sy=t.modifiedYe,this.pointerMove(t.startEvent,t.startEvent),t.active=!1,this.pointerEnd(t.startEvent,t.startEvent)},smoothEndFrame:function(){var t=this.inertiaStatus,e=(new Date).getTime()-t.t0,i=this.target.options[this.prepared.name].inertia.smoothEndDuration;e<i?(t.sx=easeOutQuad(e,0,t.xe,i),t.sy=easeOutQuad(e,0,t.ye,i),this.pointerMove(t.startEvent,t.startEvent),t.i=k(this.boundSmoothEndFrame)):(t.sx=t.xe,t.sy=t.ye,this.pointerMove(t.startEvent,t.startEvent),t.active=!1,t.smoothEnd=!1,this.pointerEnd(t.startEvent,t.startEvent))},addPointer:function(t){var e=getPointerId(t),i=this.mouse?0:indexOf(this.pointerIds,e);return-1===i&&(i=this.pointerIds.length),this.pointerIds[i]=e,this.pointers[i]=t,i},removePointer:function(t){var e=getPointerId(t),i=this.mouse?0:indexOf(this.pointerIds,e);-1!==i&&(this.interacting()||this.pointers.splice(i,1),this.pointerIds.splice(i,1),this.downTargets.splice(i,1),this.downTimes.splice(i,1),this.holdTimers.splice(i,1))},recordPointer:function(t){if(!this.inertiaStatus.active){var e=this.mouse?0:indexOf(this.pointerIds,getPointerId(t));-1!==e&&(this.pointers[e]=t)}},collectEventTargets:function(t,e,r,n){var s=this.mouse?0:indexOf(this.pointerIds,getPointerId(t));if("tap"!==n||!this.pointerWasMoved&&this.downTargets[s]&&this.downTargets[s]===r){for(var o=[],a=[],c=r;c;)interact.isSet(c)&&interact(c)._iEvents[n]&&(o.push(interact(c)),a.push(c)),m.forEachSelector(collectSelectors),c=parentElement(c);(o.length||"tap"===n)&&this.firePointers(t,e,r,o,a,n)}function collectSelectors(t,e,s){var h=i?s.querySelectorAll(e):void 0;t._iEvents[n]&&isElement(c)&&inContext(t,c)&&!testIgnore(t,c,r)&&testAllow(t,c,r)&&matchesSelector(c,e,h)&&(o.push(t),a.push(c))}},firePointers:function(t,e,i,r,n,s){var o,a,c,h=this.mouse?0:indexOf(getPointerId(t)),l={};for("doubletap"===s?l=t:(extend(l,e),e!==t&&extend(l,t),l.preventDefault=preventOriginalDefault,l.stopPropagation=InteractEvent.prototype.stopPropagation,l.stopImmediatePropagation=InteractEvent.prototype.stopImmediatePropagation,l.interaction=this,l.timeStamp=(new Date).getTime(),l.originalEvent=e,l.type=s,l.pointerId=getPointerId(t),l.pointerType=this.mouse?"mouse":S?isString(t.pointerType)?t.pointerType:[,,"touch","pen","mouse"][t.pointerType]:"touch"),"tap"===s&&(l.dt=l.timeStamp-this.downTimes[h],a=l.timeStamp-this.tapTime,c=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===l.target&&a<500),l.double=c,this.tapTime=l.timeStamp),o=0;o<r.length&&(l.currentTarget=n[o],l.interactable=r[o],r[o].fire(l),!(l.immediatePropagationStopped||l.propagationStopped&&n[o+1]!==l.currentTarget));o++);if(c){var p={};extend(p,l),p.dt=a,p.type="doubletap",this.collectEventTargets(p,e,i,"doubletap"),this.prevTap=p}else"tap"===s&&(this.prevTap=l)},validateSelector:function(t,e,i){for(var r=0,n=e.length;r<n;r++){var s=e[r],o=i[r],a=validateAction(s.getAction(t,this,o),s);if(a&&withinInteractionLimit(s,o,a))return this.target=s,this.element=o,a}},setSnapping:function(t,e){var i,r,n,s=this.target.options[this.prepared.name].snap,o=[];if((e=e||this.snapStatus).useStatusXY)r={x:e.x,y:e.y};else{var a=getOriginXY(this.target,this.element);(r=extend({},t)).x-=a.x,r.y-=a.y}e.realX=r.x,e.realY=r.y,r.x=r.x-this.inertiaStatus.resumeDx,r.y=r.y-this.inertiaStatus.resumeDy;for(var c=s.targets?s.targets.length:0,h=0;h<this.snapOffsets.length;h++){var l={x:r.x-this.snapOffsets[h].x,y:r.y-this.snapOffsets[h].y};for(n=0;n<c;n++)(i=isFunction(s.targets[n])?s.targets[n](l.x,l.y,this):s.targets[n])&&o.push({x:isNumber(i.x)?i.x+this.snapOffsets[h].x:l.x,y:isNumber(i.y)?i.y+this.snapOffsets[h].y:l.y,range:isNumber(i.range)?i.range:s.range})}var p,u={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(n=0,c=o.length;n<c;n++){var g=(i=o[n]).range,m=i.x-r.x,v=i.y-r.y,f=d(m,v),x=f<=g;g===1/0&&u.inRange&&u.range!==1/0&&(x=!1),u.target&&!(x?u.inRange&&g!==1/0?f/g<u.distance/u.range:g===1/0&&u.range!==1/0||f<u.distance:!u.inRange&&f<u.distance)||(g===1/0&&(x=!0),u.target=i,u.distance=f,u.range=g,u.inRange=x,u.dx=m,u.dy=v,e.range=g)}return u.target?(p=e.snappedX!==u.target.x||e.snappedY!==u.target.y,e.snappedX=u.target.x,e.snappedY=u.target.y):(p=!0,e.snappedX=NaN,e.snappedY=NaN),e.dx=u.dx,e.dy=u.dy,e.changed=p||u.inRange&&!e.locked,e.locked=u.inRange,e},setRestriction:function(t,e){var i,r,n,s,o=this.target,a=o&&o.options[this.prepared.name].restrict,c=a&&a.restriction;return c?(i=i=(e=e||this.restrictStatus).useStatusXY?{x:e.x,y:e.y}:extend({},t),e.snap&&e.snap.locked&&(i.x+=e.snap.dx||0,i.y+=e.snap.dy||0),i.x-=this.inertiaStatus.resumeDx,i.y-=this.inertiaStatus.resumeDy,e.dx=0,e.dy=0,e.restricted=!1,isString(c)&&!(c="parent"===c?parentElement(this.element):"self"===c?o.getRect(this.element):closest(this.element,c))||(isFunction(c)&&(c=c(i.x,i.y,this.element)),isElement(c)&&(c=getElementRect(c)),r=c,c?"x"in c&&"y"in c?(n=Math.max(Math.min(r.x+r.width-this.restrictOffset.right,i.x),r.x+this.restrictOffset.left),s=Math.max(Math.min(r.y+r.height-this.restrictOffset.bottom,i.y),r.y+this.restrictOffset.top)):(n=Math.max(Math.min(r.right-this.restrictOffset.right,i.x),r.left+this.restrictOffset.left),s=Math.max(Math.min(r.bottom-this.restrictOffset.bottom,i.y),r.top+this.restrictOffset.top)):(n=i.x,s=i.y),e.dx=n-i.x,e.dy=s-i.y,e.changed=e.restrictedX!==n||e.restrictedY!==s,e.restricted=!(!e.dx&&!e.dy),e.restrictedX=n,e.restrictedY=s),e):e},checkAndPreventDefault:function(t,e,i){if(e=e||this.target){var r=e.options,n=r.preventDefault;if("auto"!==n||!i||/^input$|^textarea$/i.test(i.nodeName))"always"!==n||t.preventDefault();else{if(/down|start/i.test(t.type)&&"drag"===this.prepared.name&&"xy"!==r.drag.axis)return;if(r[this.prepared.name]&&r[this.prepared.name].manualStart&&!this.interacting())return;t.preventDefault()}}},calcInertia:function(t){var e=this.target.options[this.prepared.name].inertia,i=e.resistance,r=-Math.log(e.endSpeed/t.v0)/i;t.x0=this.prevEvent.pageX,t.y0=this.prevEvent.pageY,t.t0=t.startEvent.timeStamp/1e3,t.sx=t.sy=0,t.modifiedXe=t.xe=(t.vx0-r)/i,t.modifiedYe=t.ye=(t.vy0-r)/i,t.te=r,t.lambda_v0=i/t.v0,t.one_ve_v0=1-e.endSpeed/t.v0},_updateEventTargets:function(t,e){this._eventTarget=t,this._curEventTarget=e}},InteractEvent.prototype={preventDefault:blank,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var F={},N=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer"],B=0,j=N.length;B<j;B++){var W=N[B];F[W]=doOnInteractions(W)}function delegateListener(t,e){var i={},r=x[t.type],n=getActualElement(t.path?t.path[0]:t.target),s=n;for(var o in e=!!e,t)i[o]=t[o];for(i.originalEvent=t,i.preventDefault=preventOriginalDefault;isElement(s);){for(var a=0;a<r.selectors.length;a++){var c=r.selectors[a],h=r.contexts[a];if(matchesSelector(s,c)&&nodeContains(h,n)&&nodeContains(h,s)){var l=r.listeners[a];i.currentTarget=s;for(var p=0;p<l.length;p++)l[p][1]===e&&l[p][0](i)}}s=parentElement(s)}}function delegateUseCapture(t){return delegateListener.call(this,t,!0)}function interact(t,e){return m.get(t,e)||new Interactable(t,e)}function Interactable(t,i){var r;if(this._element=t,this._iEvents=this._iEvents||{},trySelector(t)){this.selector=t;var s=i&&i.context;r=s?getWindow(s):n,s&&(r.Node?s instanceof r.Node:isElement(s)||s===r.document)&&(this._context=s)}else r=getWindow(t),isElement(t)&&(p?(R.add(this._element,e.down,F.pointerDown),R.add(this._element,e.move,F.pointerHover)):(R.add(this._element,"mousedown",F.pointerDown),R.add(this._element,"mousemove",F.pointerHover),R.add(this._element,"touchstart",F.pointerDown),R.add(this._element,"touchmove",F.pointerHover)));this._doc=r.document,contains(g,this._doc)||listenToDocument(this._doc),m.push(this),this.set(i)}function warnOnce(t,e){var i=!1;return function(){return i||(n.console.warn(e),i=!0),t.apply(this,arguments)}}function endAllInteractions(t){for(var e=0;e<v.length;e++)v[e].pointerEnd(t,t)}function listenToDocument(t){if(!contains(g,t)){var i=t.defaultView||t.parentWindow;for(var r in x)R.add(t,r,delegateListener),R.add(t,r,delegateUseCapture,!0);p?(e=p===i.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},R.add(t,e.down,F.selectorDown),R.add(t,e.move,F.pointerMove),R.add(t,e.over,F.pointerOver),R.add(t,e.out,F.pointerOut),R.add(t,e.up,F.pointerUp),R.add(t,e.cancel,F.pointerCancel),R.add(t,e.move,E.edgeMove)):(R.add(t,"mousedown",F.selectorDown),R.add(t,"mousemove",F.pointerMove),R.add(t,"mouseup",F.pointerUp),R.add(t,"mouseover",F.pointerOver),R.add(t,"mouseout",F.pointerOut),R.add(t,"touchstart",F.selectorDown),R.add(t,"touchmove",F.pointerMove),R.add(t,"touchend",F.pointerUp),R.add(t,"touchcancel",F.pointerCancel),R.add(t,"mousemove",E.edgeMove),R.add(t,"touchmove",E.edgeMove)),R.add(i,"blur",endAllInteractions);try{if(i.frameElement){var n=i.frameElement.ownerDocument,s=n.defaultView;R.add(n,"mouseup",F.pointerEnd),R.add(n,"touchend",F.pointerEnd),R.add(n,"touchcancel",F.pointerEnd),R.add(n,"pointerup",F.pointerEnd),R.add(n,"MSPointerUp",F.pointerEnd),R.add(s,"blur",endAllInteractions)}}catch(t){interact.windowParentError=t}R.useAttachEvent&&(R.add(t,"selectstart",(function(t){var e=v[0];e.currentAction()&&e.checkAndPreventDefault(t)})),R.add(t,"dblclick",doOnInteractions("ie8Dblclick"))),g.push(t)}}function indexOf(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}function contains(t,e){return-1!==indexOf(t,e)}function matchesSelector(e,r,s){return i?i(e,r,s):(n!==t&&(r=r.replace(/\/deep\//g," ")),e[Y](r))}function matchesUpTo(t,e,i){for(;isElement(t);){if(matchesSelector(t,e))return!0;if((t=parentElement(t))===i)return matchesSelector(t,e)}return!1}m.indexOfElement=function indexOfElement(t,e){e=e||s;for(var i=0;i<this.length;i++){var r=this[i];if(r.selector===t&&r._context===e||!r.selector&&r._element===t)return i}return-1},m.get=function interactableGet(t,e){return this[this.indexOfElement(t,e&&e.context)]},m.forEachSelector=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.selector){var r=t(i,i.selector,i._context,e,this);if(void 0!==r)return r}}},Interactable.prototype={setOnEvents:function(t,e){return"drop"===t?(isFunction(e.ondrop)&&(this.ondrop=e.ondrop),isFunction(e.ondropactivate)&&(this.ondropactivate=e.ondropactivate),isFunction(e.ondropdeactivate)&&(this.ondropdeactivate=e.ondropdeactivate),isFunction(e.ondragenter)&&(this.ondragenter=e.ondragenter),isFunction(e.ondragleave)&&(this.ondragleave=e.ondragleave),isFunction(e.ondropmove)&&(this.ondropmove=e.ondropmove)):(t="on"+t,isFunction(e.onstart)&&(this[t+"start"]=e.onstart),isFunction(e.onmove)&&(this[t+"move"]=e.onmove),isFunction(e.onend)&&(this[t+"end"]=e.onend),isFunction(e.oninertiastart)&&(this[t+"inertiastart"]=e.oninertiastart)),this},draggable:function(t){return isObject(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.drag.axis=t.axis:null===t.axis&&delete this.options.drag.axis,this):isBool(t)?(this.options.drag.enabled=t,this):this.options.drag},setPerAction:function(t,e){for(var i in e)i in y[t]&&(isObject(e[i])?(this.options[t][i]=extend(this.options[t][i]||{},e[i]),isObject(y.perAction[i])&&"enabled"in y.perAction[i]&&(this.options[t][i].enabled=!1!==e[i].enabled)):isBool(e[i])&&isObject(y.perAction[i])?this.options[t][i].enabled=e[i]:void 0!==e[i]&&(this.options[t][i]=e[i]))},dropzone:function(t){return isObject(t)?(this.options.drop.enabled=!1!==t.enabled,this.setOnEvents("drop",t),this.accept(t.accept),/^(pointer|center)$/.test(t.overlap)?this.options.drop.overlap=t.overlap:isNumber(t.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),this):isBool(t)?(this.options.drop.enabled=t,this):this.options.drop},dropCheck:function(t,e,i,r,n){var s=!1;if(!(n=n||this.getRect(r)))return!!this.options.dropChecker&&this.options.dropChecker(t,s,this,r,e,i);var o=this.options.drop.overlap;if("pointer"===o){var a,c,h=getPageXY(t),l=getOriginXY(e,i);h.x+=l.x,h.y+=l.y,a=h.x>n.left&&h.x<n.right,c=h.y>n.top&&h.y<n.bottom,s=a&&c}var p=e.getRect(i);if("center"===o){var d=p.left+p.width/2,u=p.top+p.height/2;s=d>=n.left&&d<=n.right&&u>=n.top&&u<=n.bottom}isNumber(o)&&(s=Math.max(0,Math.min(n.right,p.right)-Math.max(n.left,p.left))*Math.max(0,Math.min(n.bottom,p.bottom)-Math.max(n.top,p.top))/(p.width*p.height)>=o);return this.options.dropChecker&&(s=this.options.dropChecker(t,s,this,r,e,i)),s},dropChecker:function(t){return isFunction(t)?(this.options.dropChecker=t,this):null===t?(delete this.options.getRect,this):this.options.dropChecker},accept:function(t){return isElement(t)||trySelector(t)?(this.options.drop.accept=t,this):null===t?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(t){return isObject(t)?(this.options.resize.enabled=!1!==t.enabled,this.setPerAction("resize",t),this.setOnEvents("resize",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.resize.axis=t.axis:null===t.axis&&(this.options.resize.axis=y.resize.axis),isBool(t.square)&&(this.options.resize.square=t.square),this):isBool(t)?(this.options.resize.enabled=t,this):this.options.resize},squareResize:function(t){return isBool(t)?(this.options.resize.square=t,this):null===t?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(t){return isObject(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):isBool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},autoScroll:function(t){return isObject(t)?t=extend({actions:["drag","resize"]},t):isBool(t)&&(t={actions:["drag","resize"],enabled:t}),this.setOptions("autoScroll",t)},snap:function(t){var e=this.setOptions("snap",t);return e===this?this:e.drag},setOptions:function(t,e){var i,r=e&&isArray(e.actions)?e.actions:["drag"];if(isObject(e)||isBool(e)){for(i=0;i<r.length;i++){var n=/resize/.test(r[i])?"resize":r[i];if(isObject(this.options[n])){var s=this.options[n][t];isObject(e)?(extend(s,e),s.enabled=!1!==e.enabled,"snap"===t&&("grid"===s.mode?s.targets=[interact.createSnapGrid(extend({offset:s.gridOffset||{x:0,y:0}},s.grid||{}))]:"anchor"===s.mode?s.targets=s.anchors:"path"===s.mode&&(s.targets=s.paths),"elementOrigin"in e&&(s.relativePoints=[e.elementOrigin]))):isBool(e)&&(s.enabled=e)}}return this}var o={},a=["drag","resize","gesture"];for(i=0;i<a.length;i++)t in y[a[i]]&&(o[a[i]]=this.options[a[i]][t]);return o},inertia:function(t){var e=this.setOptions("inertia",t);return e===this?this:e.drag},getAction:function(t,e,i){var r=this.defaultActionChecker(t,e,i);return this.options.actionChecker?this.options.actionChecker(t,r,this,i,e):r},defaultActionChecker:defaultActionChecker,actionChecker:function(t){return isFunction(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function rectCheck(t){return t=t||this._element,this.selector&&!isElement(t)&&(t=this._context.querySelector(this.selector)),getElementRect(t)},rectChecker:function(t){return isFunction(t)?(this.getRect=t,this):null===t?(delete this.options.getRect,this):this.getRect},styleCursor:function(t){return isBool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):isBool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault},origin:function(t){return trySelector(t)||isObject(t)?(this.options.origin=t,this):this.options.origin},deltaSource:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},restrict:function(t){if(!isObject(t))return this.setOptions("restrict",t);for(var e,i=["drag","resize","gesture"],r=0;r<i.length;r++){var n=i[r];if(n in t){var s=extend({actions:[n],restriction:t[n]},t);e=this.setOptions("restrict",s)}}return e},context:function(){return this._context},_context:s,ignoreFrom:function(t){return trySelector(t)||isElement(t)?(this.options.ignoreFrom=t,this):this.options.ignoreFrom},allowFrom:function(t){return trySelector(t)||isElement(t)?(this.options.allowFrom=t,this):this.options.allowFrom},element:function(){return this._element},fire:function(t){if(!t||!t.type||!contains(A,t.type))return this;var e,i,r,n="on"+t.type;if(t.type in this._iEvents)for(i=0,r=(e=this._iEvents[t.type]).length;i<r&&!t.immediatePropagationStopped;i++)e[i].name,e[i](t);if(isFunction(this[n])&&(this[n].name,this[n](t)),t.type in P&&(e=P[t.type]))for(i=0,r=e.length;i<r&&!t.immediatePropagationStopped;i++)e[i].name,e[i](t);return this},on:function(t,e,i){var r;if(isString(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),isArray(t)){for(r=0;r<t.length;r++)this.on(t[r],e,i);return this}if(isObject(t)){for(var n in t)this.on(n,t[n],e);return this}if("wheel"===t&&(t=I),i=!!i,contains(A,t))t in this._iEvents?this._iEvents[t].push(e):this._iEvents[t]=[e];else if(this.selector){if(!x[t])for(x[t]={selectors:[],contexts:[],listeners:[]},r=0;r<g.length;r++)R.add(g[r],t,delegateListener),R.add(g[r],t,delegateUseCapture,!0);var s,o=x[t];for(s=o.selectors.length-1;s>=0&&(o.selectors[s]!==this.selector||o.contexts[s]!==this._context);s--);-1===s&&(s=o.selectors.length,o.selectors.push(this.selector),o.contexts.push(this._context),o.listeners.push([])),o.listeners[s].push([e,i])}else R.add(this._element,t,e,i);return this},off:function(t,e,i){var r;if(isString(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),isArray(t)){for(r=0;r<t.length;r++)this.off(t[r],e,i);return this}if(isObject(t)){for(var n in t)this.off(n,t[n],e);return this}var s,o=-1;if(i=!!i,"wheel"===t&&(t=I),contains(A,t))(s=this._iEvents[t])&&-1!==(o=indexOf(s,e))&&this._iEvents[t].splice(o,1);else if(this.selector){var a=x[t],c=!1;if(!a)return this;for(o=a.selectors.length-1;o>=0;o--)if(a.selectors[o]===this.selector&&a.contexts[o]===this._context){var h=a.listeners[o];for(r=h.length-1;r>=0;r--){var l=h[r][0],p=h[r][1];if(l===e&&p===i){h.splice(r,1),h.length||(a.selectors.splice(o,1),a.contexts.splice(o,1),a.listeners.splice(o,1),R.remove(this._context,t,delegateListener),R.remove(this._context,t,delegateUseCapture,!0),a.selectors.length||(x[t]=null)),c=!0;break}}if(c)break}}else R.remove(this._element,t,e,i);return this},set:function(t){isObject(t)||(t={}),this.options=extend({},y.base);var e,i=["drag","drop","resize","gesture"],r=["draggable","dropzone","resizable","gesturable"],n=extend(extend({},y.perAction),t[s]||{});for(e=0;e<i.length;e++){var s=i[e];this.options[s]=extend({},y[s]),this.setPerAction(s,n),this[r[e]](t[s])}var o=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker"];for(e=0,j=o.length;e<j;e++){var a=o[e];this.options[a]=y.base[a],a in t&&this[a](t[a])}return this},unset:function(){if(R.remove(this,"all"),isString(this.selector))for(var t in x)for(var e=x[t],i=0;i<e.selectors.length;i++){e.selectors[i]===this.selector&&e.contexts[i]===this._context&&(e.selectors.splice(i,1),e.contexts.splice(i,1),e.listeners.splice(i,1),e.selectors.length||(x[t]=null)),R.remove(this._context,t,delegateListener),R.remove(this._context,t,delegateUseCapture,!0);break}else R.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),m.splice(indexOf(m,this),1),interact}},Interactable.prototype.snap=warnOnce(Interactable.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),Interactable.prototype.restrict=warnOnce(Interactable.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),Interactable.prototype.inertia=warnOnce(Interactable.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),Interactable.prototype.autoScroll=warnOnce(Interactable.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),interact.isSet=function(t,e){return-1!==m.indexOfElement(t,e&&e.context)},interact.on=function(t,e,i){if(isString(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),isArray(t)){for(var r=0;r<t.length;r++)interact.on(t[r],e,i);return interact}if(isObject(t)){for(var n in t)interact.on(n,t[n],e);return interact}return contains(A,t)?P[t]?P[t].push(e):P[t]=[e]:R.add(s,t,e,i),interact},interact.off=function(t,e,i){if(isString(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),isArray(t)){for(var r=0;r<t.length;r++)interact.off(t[r],e,i);return interact}if(isObject(t)){for(var n in t)interact.off(n,t[n],e);return interact}var o;contains(A,t)?t in P&&-1!==(o=indexOf(P[t],e))&&P[t].splice(o,1):R.remove(s,t,e,i);return interact},interact.enableDragging=warnOnce((function(t){return null!=t?(O.drag=t,interact):O.drag}),"interact.enableDragging is deprecated and will soon be removed."),interact.enableResizing=warnOnce((function(t){return null!=t?(O.resize=t,interact):O.resize}),"interact.enableResizing is deprecated and will soon be removed."),interact.enableGesturing=warnOnce((function(t){return null!=t?(O.gesture=t,interact):O.gesture}),"interact.enableGesturing is deprecated and will soon be removed."),interact.eventTypes=A,interact.debug=function(){var t=v[0]||new Interaction;return{interactions:v,target:t.target,dragging:t.dragging,resizing:t.resizing,gesturing:t.gesturing,prepared:t.prepared,matches:t.matches,matchElements:t.matchElements,prevCoords:t.prevCoords,startCoords:t.startCoords,pointerIds:t.pointerIds,pointers:t.pointers,addPointer:F.addPointer,removePointer:F.removePointer,recordPointer:F.recordPointer,snap:t.snapStatus,restrict:t.restrictStatus,inertia:t.inertiaStatus,downTime:t.downTimes[0],downEvent:t.downEvent,downPointer:t.downPointer,prevEvent:t.prevEvent,Interactable:Interactable,interactables:m,pointerIsDown:t.pointerIsDown,defaultOptions:y,defaultActionChecker:defaultActionChecker,actionCursors:C,dragMove:F.dragMove,resizeMove:F.resizeMove,gestureMove:F.gestureMove,pointerUp:F.pointerUp,pointerDown:F.pointerDown,pointerMove:F.pointerMove,pointerHover:F.pointerHover,events:R,globalEvents:P,delegatedEvents:x}},interact.getTouchAverage=touchAverage,interact.getTouchBBox=touchBBox,interact.getTouchDistance=touchDistance,interact.getTouchAngle=touchAngle,interact.getElementRect=getElementRect,interact.matchesSelector=matchesSelector,interact.closest=closest,interact.margin=function(t){return isNumber(t)?(w=t,interact):w},interact.supportsTouch=function(){return b},interact.supportsPointerEvent=function(){return S},interact.stop=function(t){for(var e=v.length-1;e>0;e--)v[e].stop(t);return interact},interact.dynamicDrop=function(t){return isBool(t)?(f=t,interact):f},interact.pointerMoveTolerance=function(t){return isNumber(t)?(D=t,this):D},interact.maxInteractions=function(t){return isNumber(t)?(T=t,this):T},interact.createSnapGrid=function(t){return function(e,i){var r=0,n=0;isObject(t.offset)&&(r=t.offset.x,n=t.offset.y);var s=Math.round((e-r)/t.x),o=Math.round((i-n)/t.y);return{x:s*t.x+r,y:o*t.y+n,range:t.range}}},listenToDocument(s),Y in Element.prototype&&isFunction(Element.prototype[Y])||(i=function(t,e,i){for(var r=0,n=(i=i||t.parentNode.querySelectorAll(e)).length;r<n;r++)if(i[r]===t)return!0;return!1}),function(){for(var e=0,i=["ms","moz","webkit","o"],r=0;r<i.length&&!t.requestAnimationFrame;++r)k=t[i[r]+"RequestAnimationFrame"],_=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"];k||(k=function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),n=setTimeout((function(){t(i+r)}),r);return e=i+r,n}),_||(_=function(t){clearTimeout(t)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=interact),exports.interact=interact):"function"==typeof define&&define.amd?define("interact",(function(){return interact})):t.interact=interact}(window);