var CategoryForm={props:["strokeColor","fillColor","dataSetHandler","puzzles","categoryToBeEdited","view","l10n"],template:'\n    <div id="category-form-screen"\n      v-bind:style="{backgroundColor: strokeColor}"\n    >\n      <div class="category-form-header">\n        <div class="category-form-bar"\n        >\n          <div class="category-form-bar-block"\n            v-bind:style="{backgroundColor: fillColor}"\n          >\n            <div>{{category.title}}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class="category-form-main"\n      >\n        <div class="category-form-panel-primary"\n        >\n          <form @submit.prevent="onConfirm">\n    \t\t\t\t<div>\n    \t\t\t\t\t<label for="title">{{l10n.stringTitle}}</label>\n    \t\t\t\t\t<input type="text" name="title" v-model="category.title" required>\n    \t\t\t\t</div>\n    \t\t\t\t<div class="buttons-row">\n    \t\t\t\t\t<button type="submit" v-bind:disabled="!isValid">\n    \t\t\t\t\t\t<img src="icons/dialog-ok.svg">\n    \t\t\t\t\t\t<span>{{l10n.stringConfirm}}</span>\n    \t\t\t\t\t</button>\n    \t\t\t\t\t<button type="button" @click="$emit(\'go-to-dataset-list\')">\n    \t\t\t\t\t\t<img src="icons/dialog-cancel.svg">\n    \t\t\t\t\t\t<span>{{l10n.stringCancel}}</span>\n    \t\t\t\t\t</button>\n    \t\t\t\t</div>\n    \t\t\t</form>\n        </div>\n      </div>\n      <div class="category-form-footer">\n        <div class="pagination">\n        </div>\n        <div class="footer-actions">\n        </div>\n      </div>\n    </div>\n  ',data:function(){return{actionButtons:{width:30,width:30},category:{title:""}}},created:function(){window.addEventListener("resize",this.resize)},destroyed:function(){window.removeEventListener("resize",this.resize)},mounted:function(){let t=this;t.categoryToBeEdited?t.category.title=t.categoryToBeEdited:t.category.title=t.l10n.stringNewTitle,t.resize(),document.getElementById("spinner").style.visibility="hidden"},computed:{isValid:function(){let t=this,e=t.category.title;if(""===e||e===t.l10n.stringNewTitle||e===t.categoryToBeEdited)return!1;let n=-1;return t.categoryToBeEdited||(n=t.dataSetHandler.dataSet.findIndex(t=>t.name===e)),-1===n}},methods:{resize:function(){let t=document.getElementById("main-toolbar"),e=0!=t.offsetHeight?t.offsetHeight+3:3,n=window.innerHeight-e;window.innerWidth;document.querySelector("#category-form-screen").style.height=n+"px";let i=document.querySelector(".category-form-footer");this.$set(this.actionButtons,"width",.95*i.offsetHeight),this.$set(this.actionButtons,"height",.95*i.offsetHeight)},onConfirm:function(){let t=this;t.categoryToBeEdited?t.dataSetHandler.editCategory(t.categoryToBeEdited,t.category.title):t.dataSetHandler.addNewCategory(t.category.title),t.$emit("change-category",{index:t.category.title}),t.$emit("go-to-dataset-list")}}};